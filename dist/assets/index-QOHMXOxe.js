function _mergeNamespaces(Ae,r){for(var Se=0;Se<r.length;Se++){const Ee=r[Se];if(typeof Ee!="string"&&!Array.isArray(Ee)){for(const Fe in Ee)if(Fe!=="default"&&!(Fe in Ae)){const Be=Object.getOwnPropertyDescriptor(Ee,Fe);Be&&Object.defineProperty(Ae,Fe,Be.get?Be:{enumerable:!0,get:()=>Ee[Fe]})}}}return Object.freeze(Object.defineProperty(Ae,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const Fe of document.querySelectorAll('link[rel="modulepreload"]'))Ee(Fe);new MutationObserver(Fe=>{for(const Be of Fe)if(Be.type==="childList")for(const Ve of Be.addedNodes)Ve.tagName==="LINK"&&Ve.rel==="modulepreload"&&Ee(Ve)}).observe(document,{childList:!0,subtree:!0});function Se(Fe){const Be={};return Fe.integrity&&(Be.integrity=Fe.integrity),Fe.referrerPolicy&&(Be.referrerPolicy=Fe.referrerPolicy),Fe.crossOrigin==="use-credentials"?Be.credentials="include":Fe.crossOrigin==="anonymous"?Be.credentials="omit":Be.credentials="same-origin",Be}function Ee(Fe){if(Fe.ep)return;Fe.ep=!0;const Be=Se(Fe);fetch(Fe.href,Be)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(Ae){return Ae&&Ae.__esModule&&Object.prototype.hasOwnProperty.call(Ae,"default")?Ae.default:Ae}function getAugmentedNamespace(Ae){if(Object.prototype.hasOwnProperty.call(Ae,"__esModule"))return Ae;var r=Ae.default;if(typeof r=="function"){var Se=function Ee(){var Fe=!1;try{Fe=this instanceof Ee}catch{}return Fe?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};Se.prototype=r.prototype}else Se={};return Object.defineProperty(Se,"__esModule",{value:!0}),Object.keys(Ae).forEach(function(Ee){var Fe=Object.getOwnPropertyDescriptor(Ae,Ee);Object.defineProperty(Se,Ee,Fe.get?Fe:{enumerable:!0,get:function(){return Ae[Ee]}})}),Se}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReact_production_min;function requireReact_production_min(){if(hasRequiredReact_production_min)return react_production_min;hasRequiredReact_production_min=1;var Ae=Symbol.for("react.element"),r=Symbol.for("react.portal"),Se=Symbol.for("react.fragment"),Ee=Symbol.for("react.strict_mode"),Fe=Symbol.for("react.profiler"),Be=Symbol.for("react.provider"),Ve=Symbol.for("react.context"),_e=Symbol.for("react.forward_ref"),ze=Symbol.for("react.suspense"),xe=Symbol.for("react.memo"),Ie=Symbol.for("react.lazy"),Re=Symbol.iterator;function e(We){return We===null||typeof We!="object"?null:(We=Re&&We[Re]||We["@@iterator"],typeof We=="function"?We:null)}var t={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Te=Object.assign,Ye={};function en(We,$e,on){this.props=We,this.context=$e,this.refs=Ye,this.updater=on||t}en.prototype.isReactComponent={},en.prototype.setState=function(We,$e){if(typeof We!="object"&&typeof We!="function"&&We!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,We,$e,"setState")},en.prototype.forceUpdate=function(We){this.updater.enqueueForceUpdate(this,We,"forceUpdate")};function je(){}je.prototype=en.prototype;function nn(We,$e,on){this.props=We,this.context=$e,this.refs=Ye,this.updater=on||t}var Ge=nn.prototype=new je;Ge.constructor=nn,Te(Ge,en.prototype),Ge.isPureReactComponent=!0;var Oe=Array.isArray,Ce=Object.prototype.hasOwnProperty,St={current:null},rn={key:!0,ref:!0,__self:!0,__source:!0};function un(We,$e,on){var Je,an={},Ke=null,sn=null;if($e!=null)for(Je in $e.ref!==void 0&&(sn=$e.ref),$e.key!==void 0&&(Ke=""+$e.key),$e)Ce.call($e,Je)&&!rn.hasOwnProperty(Je)&&(an[Je]=$e[Je]);var gn=arguments.length-2;if(gn===1)an.children=on;else if(1<gn){for(var mn=Array(gn),yn=0;yn<gn;yn++)mn[yn]=arguments[yn+2];an.children=mn}if(We&&We.defaultProps)for(Je in gn=We.defaultProps,gn)an[Je]===void 0&&(an[Je]=gn[Je]);return{$$typeof:Ae,type:We,key:Ke,ref:sn,props:an,_owner:St.current}}function Qe(We,$e){return{$$typeof:Ae,type:We.type,key:$e,ref:We.ref,props:We.props,_owner:We._owner}}function hn(We){return typeof We=="object"&&We!==null&&We.$$typeof===Ae}function He(We){var $e={"=":"=0",":":"=2"};return"$"+We.replace(/[=:]/g,function(on){return $e[on]})}var pn=/\/+/g;function Xe(We,$e){return typeof We=="object"&&We!==null&&We.key!=null?He(""+We.key):$e.toString(36)}function fn(We,$e,on,Je,an){var Ke=typeof We;(Ke==="undefined"||Ke==="boolean")&&(We=null);var sn=!1;if(We===null)sn=!0;else switch(Ke){case"string":case"number":sn=!0;break;case"object":switch(We.$$typeof){case Ae:case r:sn=!0}}if(sn)return sn=We,an=an(sn),We=Je===""?"."+Xe(sn,0):Je,Oe(an)?(on="",We!=null&&(on=We.replace(pn,"$&/")+"/"),fn(an,$e,on,"",function(yn){return yn})):an!=null&&(hn(an)&&(an=Qe(an,on+(!an.key||sn&&sn.key===an.key?"":(""+an.key).replace(pn,"$&/")+"/")+We)),$e.push(an)),1;if(sn=0,Je=Je===""?".":Je+":",Oe(We))for(var gn=0;gn<We.length;gn++){Ke=We[gn];var mn=Je+Xe(Ke,gn);sn+=fn(Ke,$e,on,mn,an)}else if(mn=e(We),typeof mn=="function")for(We=mn.call(We),gn=0;!(Ke=We.next()).done;)Ke=Ke.value,mn=Je+Xe(Ke,gn++),sn+=fn(Ke,$e,on,mn,an);else if(Ke==="object")throw $e=String(We),Error("Objects are not valid as a React child (found: "+($e==="[object Object]"?"object with keys {"+Object.keys(We).join(", ")+"}":$e)+"). If you meant to render a collection of children, use an array instead.");return sn}function dn(We,$e,on){if(We==null)return We;var Je=[],an=0;return fn(We,Je,"","",function(Ke){return $e.call(on,Ke,an++)}),Je}function qe(We){if(We._status===-1){var $e=We._result;$e=$e(),$e.then(function(on){(We._status===0||We._status===-1)&&(We._status=1,We._result=on)},function(on){(We._status===0||We._status===-1)&&(We._status=2,We._result=on)}),We._status===-1&&(We._status=0,We._result=$e)}if(We._status===1)return We._result.default;throw We._result}var tn={current:null},Me={transition:null},De={ReactCurrentDispatcher:tn,ReactCurrentBatchConfig:Me,ReactCurrentOwner:St};function Ue(){throw Error("act(...) is not supported in production builds of React.")}return react_production_min.Children={map:dn,forEach:function(We,$e,on){dn(We,function(){$e.apply(this,arguments)},on)},count:function(We){var $e=0;return dn(We,function(){$e++}),$e},toArray:function(We){return dn(We,function($e){return $e})||[]},only:function(We){if(!hn(We))throw Error("React.Children.only expected to receive a single React element child.");return We}},react_production_min.Component=en,react_production_min.Fragment=Se,react_production_min.Profiler=Fe,react_production_min.PureComponent=nn,react_production_min.StrictMode=Ee,react_production_min.Suspense=ze,react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=De,react_production_min.act=Ue,react_production_min.cloneElement=function(We,$e,on){if(We==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+We+".");var Je=Te({},We.props),an=We.key,Ke=We.ref,sn=We._owner;if($e!=null){if($e.ref!==void 0&&(Ke=$e.ref,sn=St.current),$e.key!==void 0&&(an=""+$e.key),We.type&&We.type.defaultProps)var gn=We.type.defaultProps;for(mn in $e)Ce.call($e,mn)&&!rn.hasOwnProperty(mn)&&(Je[mn]=$e[mn]===void 0&&gn!==void 0?gn[mn]:$e[mn])}var mn=arguments.length-2;if(mn===1)Je.children=on;else if(1<mn){gn=Array(mn);for(var yn=0;yn<mn;yn++)gn[yn]=arguments[yn+2];Je.children=gn}return{$$typeof:Ae,type:We.type,key:an,ref:Ke,props:Je,_owner:sn}},react_production_min.createContext=function(We){return We={$$typeof:Ve,_currentValue:We,_currentValue2:We,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},We.Provider={$$typeof:Be,_context:We},We.Consumer=We},react_production_min.createElement=un,react_production_min.createFactory=function(We){var $e=un.bind(null,We);return $e.type=We,$e},react_production_min.createRef=function(){return{current:null}},react_production_min.forwardRef=function(We){return{$$typeof:_e,render:We}},react_production_min.isValidElement=hn,react_production_min.lazy=function(We){return{$$typeof:Ie,_payload:{_status:-1,_result:We},_init:qe}},react_production_min.memo=function(We,$e){return{$$typeof:xe,type:We,compare:$e===void 0?null:$e}},react_production_min.startTransition=function(We){var $e=Me.transition;Me.transition={};try{We()}finally{Me.transition=$e}},react_production_min.unstable_act=Ue,react_production_min.useCallback=function(We,$e){return tn.current.useCallback(We,$e)},react_production_min.useContext=function(We){return tn.current.useContext(We)},react_production_min.useDebugValue=function(){},react_production_min.useDeferredValue=function(We){return tn.current.useDeferredValue(We)},react_production_min.useEffect=function(We,$e){return tn.current.useEffect(We,$e)},react_production_min.useId=function(){return tn.current.useId()},react_production_min.useImperativeHandle=function(We,$e,on){return tn.current.useImperativeHandle(We,$e,on)},react_production_min.useInsertionEffect=function(We,$e){return tn.current.useInsertionEffect(We,$e)},react_production_min.useLayoutEffect=function(We,$e){return tn.current.useLayoutEffect(We,$e)},react_production_min.useMemo=function(We,$e){return tn.current.useMemo(We,$e)},react_production_min.useReducer=function(We,$e,on){return tn.current.useReducer(We,$e,on)},react_production_min.useRef=function(We){return tn.current.useRef(We)},react_production_min.useState=function(We){return tn.current.useState(We)},react_production_min.useSyncExternalStore=function(We,$e,on){return tn.current.useSyncExternalStore(We,$e,on)},react_production_min.useTransition=function(){return tn.current.useTransition()},react_production_min.version="18.3.1",react_production_min}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production_min()),react.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production_min;function requireReactJsxRuntime_production_min(){if(hasRequiredReactJsxRuntime_production_min)return reactJsxRuntime_production_min;hasRequiredReactJsxRuntime_production_min=1;var Ae=requireReact(),r=Symbol.for("react.element"),Se=Symbol.for("react.fragment"),Ee=Object.prototype.hasOwnProperty,Fe=Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Be={key:!0,ref:!0,__self:!0,__source:!0};function Ve(_e,ze,xe){var Ie,Re={},e=null,t=null;xe!==void 0&&(e=""+xe),ze.key!==void 0&&(e=""+ze.key),ze.ref!==void 0&&(t=ze.ref);for(Ie in ze)Ee.call(ze,Ie)&&!Be.hasOwnProperty(Ie)&&(Re[Ie]=ze[Ie]);if(_e&&_e.defaultProps)for(Ie in ze=_e.defaultProps,ze)Re[Ie]===void 0&&(Re[Ie]=ze[Ie]);return{$$typeof:r,type:_e,key:e,ref:t,props:Re,_owner:Fe.current}}return reactJsxRuntime_production_min.Fragment=Se,reactJsxRuntime_production_min.jsx=Ve,reactJsxRuntime_production_min.jsxs=Ve,reactJsxRuntime_production_min}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production_min()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),reactExports=requireReact();const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);var client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production_min;function requireScheduler_production_min(){return hasRequiredScheduler_production_min||(hasRequiredScheduler_production_min=1,function(Ae){function r(Me,De){var Ue=Me.length;Me.push(De);e:for(;0<Ue;){var We=Ue-1>>>1,$e=Me[We];if(0<Fe($e,De))Me[We]=De,Me[Ue]=$e,Ue=We;else break e}}function Se(Me){return Me.length===0?null:Me[0]}function Ee(Me){if(Me.length===0)return null;var De=Me[0],Ue=Me.pop();if(Ue!==De){Me[0]=Ue;e:for(var We=0,$e=Me.length,on=$e>>>1;We<on;){var Je=2*(We+1)-1,an=Me[Je],Ke=Je+1,sn=Me[Ke];if(0>Fe(an,Ue))Ke<$e&&0>Fe(sn,an)?(Me[We]=sn,Me[Ke]=Ue,We=Ke):(Me[We]=an,Me[Je]=Ue,We=Je);else if(Ke<$e&&0>Fe(sn,Ue))Me[We]=sn,Me[Ke]=Ue,We=Ke;else break e}}return De}function Fe(Me,De){var Ue=Me.sortIndex-De.sortIndex;return Ue!==0?Ue:Me.id-De.id}if(typeof performance=="object"&&typeof performance.now=="function"){var Be=performance;Ae.unstable_now=function(){return Be.now()}}else{var Ve=Date,_e=Ve.now();Ae.unstable_now=function(){return Ve.now()-_e}}var ze=[],xe=[],Ie=1,Re=null,e=3,t=!1,Te=!1,Ye=!1,en=typeof setTimeout=="function"?setTimeout:null,je=typeof clearTimeout=="function"?clearTimeout:null,nn=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Ge(Me){for(var De=Se(xe);De!==null;){if(De.callback===null)Ee(xe);else if(De.startTime<=Me)Ee(xe),De.sortIndex=De.expirationTime,r(ze,De);else break;De=Se(xe)}}function Oe(Me){if(Ye=!1,Ge(Me),!Te)if(Se(ze)!==null)Te=!0,qe(Ce);else{var De=Se(xe);De!==null&&tn(Oe,De.startTime-Me)}}function Ce(Me,De){Te=!1,Ye&&(Ye=!1,je(un),un=-1),t=!0;var Ue=e;try{for(Ge(De),Re=Se(ze);Re!==null&&(!(Re.expirationTime>De)||Me&&!He());){var We=Re.callback;if(typeof We=="function"){Re.callback=null,e=Re.priorityLevel;var $e=We(Re.expirationTime<=De);De=Ae.unstable_now(),typeof $e=="function"?Re.callback=$e:Re===Se(ze)&&Ee(ze),Ge(De)}else Ee(ze);Re=Se(ze)}if(Re!==null)var on=!0;else{var Je=Se(xe);Je!==null&&tn(Oe,Je.startTime-De),on=!1}return on}finally{Re=null,e=Ue,t=!1}}var St=!1,rn=null,un=-1,Qe=5,hn=-1;function He(){return!(Ae.unstable_now()-hn<Qe)}function pn(){if(rn!==null){var Me=Ae.unstable_now();hn=Me;var De=!0;try{De=rn(!0,Me)}finally{De?Xe():(St=!1,rn=null)}}else St=!1}var Xe;if(typeof nn=="function")Xe=function(){nn(pn)};else if(typeof MessageChannel<"u"){var fn=new MessageChannel,dn=fn.port2;fn.port1.onmessage=pn,Xe=function(){dn.postMessage(null)}}else Xe=function(){en(pn,0)};function qe(Me){rn=Me,St||(St=!0,Xe())}function tn(Me,De){un=en(function(){Me(Ae.unstable_now())},De)}Ae.unstable_IdlePriority=5,Ae.unstable_ImmediatePriority=1,Ae.unstable_LowPriority=4,Ae.unstable_NormalPriority=3,Ae.unstable_Profiling=null,Ae.unstable_UserBlockingPriority=2,Ae.unstable_cancelCallback=function(Me){Me.callback=null},Ae.unstable_continueExecution=function(){Te||t||(Te=!0,qe(Ce))},Ae.unstable_forceFrameRate=function(Me){0>Me||125<Me?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Qe=0<Me?Math.floor(1e3/Me):5},Ae.unstable_getCurrentPriorityLevel=function(){return e},Ae.unstable_getFirstCallbackNode=function(){return Se(ze)},Ae.unstable_next=function(Me){switch(e){case 1:case 2:case 3:var De=3;break;default:De=e}var Ue=e;e=De;try{return Me()}finally{e=Ue}},Ae.unstable_pauseExecution=function(){},Ae.unstable_requestPaint=function(){},Ae.unstable_runWithPriority=function(Me,De){switch(Me){case 1:case 2:case 3:case 4:case 5:break;default:Me=3}var Ue=e;e=Me;try{return De()}finally{e=Ue}},Ae.unstable_scheduleCallback=function(Me,De,Ue){var We=Ae.unstable_now();switch(typeof Ue=="object"&&Ue!==null?(Ue=Ue.delay,Ue=typeof Ue=="number"&&0<Ue?We+Ue:We):Ue=We,Me){case 1:var $e=-1;break;case 2:$e=250;break;case 5:$e=1073741823;break;case 4:$e=1e4;break;default:$e=5e3}return $e=Ue+$e,Me={id:Ie++,callback:De,priorityLevel:Me,startTime:Ue,expirationTime:$e,sortIndex:-1},Ue>We?(Me.sortIndex=Ue,r(xe,Me),Se(ze)===null&&Me===Se(xe)&&(Ye?(je(un),un=-1):Ye=!0,tn(Oe,Ue-We))):(Me.sortIndex=$e,r(ze,Me),Te||t||(Te=!0,qe(Ce))),Me},Ae.unstable_shouldYield=He,Ae.unstable_wrapCallback=function(Me){var De=e;return function(){var Ue=e;e=De;try{return Me.apply(this,arguments)}finally{e=Ue}}}}(scheduler_production_min)),scheduler_production_min}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production_min()),scheduler.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDom_production_min;function requireReactDom_production_min(){if(hasRequiredReactDom_production_min)return reactDom_production_min;hasRequiredReactDom_production_min=1;var Ae=requireReact(),r=requireScheduler();function Se(ke){for(var Pe="https://reactjs.org/docs/error-decoder.html?invariant="+ke,cn=1;cn<arguments.length;cn++)Pe+="&args[]="+encodeURIComponent(arguments[cn]);return"Minified React error #"+ke+"; visit "+Pe+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ee=new Set,Fe={};function Be(ke,Pe){Ve(ke,Pe),Ve(ke+"Capture",Pe)}function Ve(ke,Pe){for(Fe[ke]=Pe,ke=0;ke<Pe.length;ke++)Ee.add(Pe[ke])}var _e=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ze=Object.prototype.hasOwnProperty,xe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ie={},Re={};function e(ke){return ze.call(Re,ke)?!0:ze.call(Ie,ke)?!1:xe.test(ke)?Re[ke]=!0:(Ie[ke]=!0,!1)}function t(ke,Pe,cn,vn){if(cn!==null&&cn.type===0)return!1;switch(typeof Pe){case"function":case"symbol":return!0;case"boolean":return vn?!1:cn!==null?!cn.acceptsBooleans:(ke=ke.toLowerCase().slice(0,5),ke!=="data-"&&ke!=="aria-");default:return!1}}function Te(ke,Pe,cn,vn){if(Pe===null||typeof Pe>"u"||t(ke,Pe,cn,vn))return!0;if(vn)return!1;if(cn!==null)switch(cn.type){case 3:return!Pe;case 4:return Pe===!1;case 5:return isNaN(Pe);case 6:return isNaN(Pe)||1>Pe}return!1}function Ye(ke,Pe,cn,vn,Ln,zn,Zn){this.acceptsBooleans=Pe===2||Pe===3||Pe===4,this.attributeName=vn,this.attributeNamespace=Ln,this.mustUseProperty=cn,this.propertyName=ke,this.type=Pe,this.sanitizeURL=zn,this.removeEmptyString=Zn}var en={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(ke){en[ke]=new Ye(ke,0,!1,ke,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(ke){var Pe=ke[0];en[Pe]=new Ye(Pe,1,!1,ke[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(ke){en[ke]=new Ye(ke,2,!1,ke.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(ke){en[ke]=new Ye(ke,2,!1,ke,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(ke){en[ke]=new Ye(ke,3,!1,ke.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(ke){en[ke]=new Ye(ke,3,!0,ke,null,!1,!1)}),["capture","download"].forEach(function(ke){en[ke]=new Ye(ke,4,!1,ke,null,!1,!1)}),["cols","rows","size","span"].forEach(function(ke){en[ke]=new Ye(ke,6,!1,ke,null,!1,!1)}),["rowSpan","start"].forEach(function(ke){en[ke]=new Ye(ke,5,!1,ke.toLowerCase(),null,!1,!1)});var je=/[\-:]([a-z])/g;function nn(ke){return ke[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(ke){var Pe=ke.replace(je,nn);en[Pe]=new Ye(Pe,1,!1,ke,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(ke){var Pe=ke.replace(je,nn);en[Pe]=new Ye(Pe,1,!1,ke,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(ke){var Pe=ke.replace(je,nn);en[Pe]=new Ye(Pe,1,!1,ke,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(ke){en[ke]=new Ye(ke,1,!1,ke.toLowerCase(),null,!1,!1)}),en.xlinkHref=new Ye("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(ke){en[ke]=new Ye(ke,1,!1,ke.toLowerCase(),null,!0,!0)});function Ge(ke,Pe,cn,vn){var Ln=en.hasOwnProperty(Pe)?en[Pe]:null;(Ln!==null?Ln.type!==0:vn||!(2<Pe.length)||Pe[0]!=="o"&&Pe[0]!=="O"||Pe[1]!=="n"&&Pe[1]!=="N")&&(Te(Pe,cn,Ln,vn)&&(cn=null),vn||Ln===null?e(Pe)&&(cn===null?ke.removeAttribute(Pe):ke.setAttribute(Pe,""+cn)):Ln.mustUseProperty?ke[Ln.propertyName]=cn===null?Ln.type===3?!1:"":cn:(Pe=Ln.attributeName,vn=Ln.attributeNamespace,cn===null?ke.removeAttribute(Pe):(Ln=Ln.type,cn=Ln===3||Ln===4&&cn===!0?"":""+cn,vn?ke.setAttributeNS(vn,Pe,cn):ke.setAttribute(Pe,cn))))}var Oe=Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ce=Symbol.for("react.element"),St=Symbol.for("react.portal"),rn=Symbol.for("react.fragment"),un=Symbol.for("react.strict_mode"),Qe=Symbol.for("react.profiler"),hn=Symbol.for("react.provider"),He=Symbol.for("react.context"),pn=Symbol.for("react.forward_ref"),Xe=Symbol.for("react.suspense"),fn=Symbol.for("react.suspense_list"),dn=Symbol.for("react.memo"),qe=Symbol.for("react.lazy"),tn=Symbol.for("react.offscreen"),Me=Symbol.iterator;function De(ke){return ke===null||typeof ke!="object"?null:(ke=Me&&ke[Me]||ke["@@iterator"],typeof ke=="function"?ke:null)}var Ue=Object.assign,We;function $e(ke){if(We===void 0)try{throw Error()}catch(cn){var Pe=cn.stack.trim().match(/\n( *(at )?)/);We=Pe&&Pe[1]||""}return`
`+We+ke}var on=!1;function Je(ke,Pe){if(!ke||on)return"";on=!0;var cn=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(Pe)if(Pe=function(){throw Error()},Object.defineProperty(Pe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Pe,[])}catch(Di){var vn=Di}Reflect.construct(ke,[],Pe)}else{try{Pe.call()}catch(Di){vn=Di}ke.call(Pe.prototype)}else{try{throw Error()}catch(Di){vn=Di}ke()}}catch(Di){if(Di&&vn&&typeof Di.stack=="string"){for(var Ln=Di.stack.split(`
`),zn=vn.stack.split(`
`),Zn=Ln.length-1,fi=zn.length-1;1<=Zn&&0<=fi&&Ln[Zn]!==zn[fi];)fi--;for(;1<=Zn&&0<=fi;Zn--,fi--)if(Ln[Zn]!==zn[fi]){if(Zn!==1||fi!==1)do if(Zn--,fi--,0>fi||Ln[Zn]!==zn[fi]){var bi=`
`+Ln[Zn].replace(" at new "," at ");return ke.displayName&&bi.includes("<anonymous>")&&(bi=bi.replace("<anonymous>",ke.displayName)),bi}while(1<=Zn&&0<=fi);break}}}finally{on=!1,Error.prepareStackTrace=cn}return(ke=ke?ke.displayName||ke.name:"")?$e(ke):""}function an(ke){switch(ke.tag){case 5:return $e(ke.type);case 16:return $e("Lazy");case 13:return $e("Suspense");case 19:return $e("SuspenseList");case 0:case 2:case 15:return ke=Je(ke.type,!1),ke;case 11:return ke=Je(ke.type.render,!1),ke;case 1:return ke=Je(ke.type,!0),ke;default:return""}}function Ke(ke){if(ke==null)return null;if(typeof ke=="function")return ke.displayName||ke.name||null;if(typeof ke=="string")return ke;switch(ke){case rn:return"Fragment";case St:return"Portal";case Qe:return"Profiler";case un:return"StrictMode";case Xe:return"Suspense";case fn:return"SuspenseList"}if(typeof ke=="object")switch(ke.$$typeof){case He:return(ke.displayName||"Context")+".Consumer";case hn:return(ke._context.displayName||"Context")+".Provider";case pn:var Pe=ke.render;return ke=ke.displayName,ke||(ke=Pe.displayName||Pe.name||"",ke=ke!==""?"ForwardRef("+ke+")":"ForwardRef"),ke;case dn:return Pe=ke.displayName||null,Pe!==null?Pe:Ke(ke.type)||"Memo";case qe:Pe=ke._payload,ke=ke._init;try{return Ke(ke(Pe))}catch{}}return null}function sn(ke){var Pe=ke.type;switch(ke.tag){case 24:return"Cache";case 9:return(Pe.displayName||"Context")+".Consumer";case 10:return(Pe._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return ke=Pe.render,ke=ke.displayName||ke.name||"",Pe.displayName||(ke!==""?"ForwardRef("+ke+")":"ForwardRef");case 7:return"Fragment";case 5:return Pe;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ke(Pe);case 8:return Pe===un?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof Pe=="function")return Pe.displayName||Pe.name||null;if(typeof Pe=="string")return Pe}return null}function gn(ke){switch(typeof ke){case"boolean":case"number":case"string":case"undefined":return ke;case"object":return ke;default:return""}}function mn(ke){var Pe=ke.type;return(ke=ke.nodeName)&&ke.toLowerCase()==="input"&&(Pe==="checkbox"||Pe==="radio")}function yn(ke){var Pe=mn(ke)?"checked":"value",cn=Object.getOwnPropertyDescriptor(ke.constructor.prototype,Pe),vn=""+ke[Pe];if(!ke.hasOwnProperty(Pe)&&typeof cn<"u"&&typeof cn.get=="function"&&typeof cn.set=="function"){var Ln=cn.get,zn=cn.set;return Object.defineProperty(ke,Pe,{configurable:!0,get:function(){return Ln.call(this)},set:function(Zn){vn=""+Zn,zn.call(this,Zn)}}),Object.defineProperty(ke,Pe,{enumerable:cn.enumerable}),{getValue:function(){return vn},setValue:function(Zn){vn=""+Zn},stopTracking:function(){ke._valueTracker=null,delete ke[Pe]}}}}function Sn(ke){ke._valueTracker||(ke._valueTracker=yn(ke))}function _n(ke){if(!ke)return!1;var Pe=ke._valueTracker;if(!Pe)return!0;var cn=Pe.getValue(),vn="";return ke&&(vn=mn(ke)?ke.checked?"true":"false":ke.value),ke=vn,ke!==cn?(Pe.setValue(ke),!0):!1}function wn(ke){if(ke=ke||(typeof document<"u"?document:void 0),typeof ke>"u")return null;try{return ke.activeElement||ke.body}catch{return ke.body}}function Nn(ke,Pe){var cn=Pe.checked;return Ue({},Pe,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:cn??ke._wrapperState.initialChecked})}function Tn(ke,Pe){var cn=Pe.defaultValue==null?"":Pe.defaultValue,vn=Pe.checked!=null?Pe.checked:Pe.defaultChecked;cn=gn(Pe.value!=null?Pe.value:cn),ke._wrapperState={initialChecked:vn,initialValue:cn,controlled:Pe.type==="checkbox"||Pe.type==="radio"?Pe.checked!=null:Pe.value!=null}}function Cn(ke,Pe){Pe=Pe.checked,Pe!=null&&Ge(ke,"checked",Pe,!1)}function In(ke,Pe){Cn(ke,Pe);var cn=gn(Pe.value),vn=Pe.type;if(cn!=null)vn==="number"?(cn===0&&ke.value===""||ke.value!=cn)&&(ke.value=""+cn):ke.value!==""+cn&&(ke.value=""+cn);else if(vn==="submit"||vn==="reset"){ke.removeAttribute("value");return}Pe.hasOwnProperty("value")?bn(ke,Pe.type,cn):Pe.hasOwnProperty("defaultValue")&&bn(ke,Pe.type,gn(Pe.defaultValue)),Pe.checked==null&&Pe.defaultChecked!=null&&(ke.defaultChecked=!!Pe.defaultChecked)}function Rn(ke,Pe,cn){if(Pe.hasOwnProperty("value")||Pe.hasOwnProperty("defaultValue")){var vn=Pe.type;if(!(vn!=="submit"&&vn!=="reset"||Pe.value!==void 0&&Pe.value!==null))return;Pe=""+ke._wrapperState.initialValue,cn||Pe===ke.value||(ke.value=Pe),ke.defaultValue=Pe}cn=ke.name,cn!==""&&(ke.name=""),ke.defaultChecked=!!ke._wrapperState.initialChecked,cn!==""&&(ke.name=cn)}function bn(ke,Pe,cn){(Pe!=="number"||wn(ke.ownerDocument)!==ke)&&(cn==null?ke.defaultValue=""+ke._wrapperState.initialValue:ke.defaultValue!==""+cn&&(ke.defaultValue=""+cn))}var kn=Array.isArray;function En(ke,Pe,cn,vn){if(ke=ke.options,Pe){Pe={};for(var Ln=0;Ln<cn.length;Ln++)Pe["$"+cn[Ln]]=!0;for(cn=0;cn<ke.length;cn++)Ln=Pe.hasOwnProperty("$"+ke[cn].value),ke[cn].selected!==Ln&&(ke[cn].selected=Ln),Ln&&vn&&(ke[cn].defaultSelected=!0)}else{for(cn=""+gn(cn),Pe=null,Ln=0;Ln<ke.length;Ln++){if(ke[Ln].value===cn){ke[Ln].selected=!0,vn&&(ke[Ln].defaultSelected=!0);return}Pe!==null||ke[Ln].disabled||(Pe=ke[Ln])}Pe!==null&&(Pe.selected=!0)}}function On(ke,Pe){if(Pe.dangerouslySetInnerHTML!=null)throw Error(Se(91));return Ue({},Pe,{value:void 0,defaultValue:void 0,children:""+ke._wrapperState.initialValue})}function Mn(ke,Pe){var cn=Pe.value;if(cn==null){if(cn=Pe.children,Pe=Pe.defaultValue,cn!=null){if(Pe!=null)throw Error(Se(92));if(kn(cn)){if(1<cn.length)throw Error(Se(93));cn=cn[0]}Pe=cn}Pe==null&&(Pe=""),cn=Pe}ke._wrapperState={initialValue:gn(cn)}}function Bn(ke,Pe){var cn=gn(Pe.value),vn=gn(Pe.defaultValue);cn!=null&&(cn=""+cn,cn!==ke.value&&(ke.value=cn),Pe.defaultValue==null&&ke.defaultValue!==cn&&(ke.defaultValue=cn)),vn!=null&&(ke.defaultValue=""+vn)}function Hn(ke){var Pe=ke.textContent;Pe===ke._wrapperState.initialValue&&Pe!==""&&Pe!==null&&(ke.value=Pe)}function $n(ke){switch(ke){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Un(ke,Pe){return ke==null||ke==="http://www.w3.org/1999/xhtml"?$n(Pe):ke==="http://www.w3.org/2000/svg"&&Pe==="foreignObject"?"http://www.w3.org/1999/xhtml":ke}var qn,jn=function(ke){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(Pe,cn,vn,Ln){MSApp.execUnsafeLocalFunction(function(){return ke(Pe,cn,vn,Ln)})}:ke}(function(ke,Pe){if(ke.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in ke)ke.innerHTML=Pe;else{for(qn=qn||document.createElement("div"),qn.innerHTML="<svg>"+Pe.valueOf().toString()+"</svg>",Pe=qn.firstChild;ke.firstChild;)ke.removeChild(ke.firstChild);for(;Pe.firstChild;)ke.appendChild(Pe.firstChild)}});function Xn(ke,Pe){if(Pe){var cn=ke.firstChild;if(cn&&cn===ke.lastChild&&cn.nodeType===3){cn.nodeValue=Pe;return}}ke.textContent=Pe}var Gn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ri=["Webkit","ms","Moz","O"];Object.keys(Gn).forEach(function(ke){ri.forEach(function(Pe){Pe=Pe+ke.charAt(0).toUpperCase()+ke.substring(1),Gn[Pe]=Gn[ke]})});function ui(ke,Pe,cn){return Pe==null||typeof Pe=="boolean"||Pe===""?"":cn||typeof Pe!="number"||Pe===0||Gn.hasOwnProperty(ke)&&Gn[ke]?(""+Pe).trim():Pe+"px"}function ti(ke,Pe){ke=ke.style;for(var cn in Pe)if(Pe.hasOwnProperty(cn)){var vn=cn.indexOf("--")===0,Ln=ui(cn,Pe[cn],vn);cn==="float"&&(cn="cssFloat"),vn?ke.setProperty(cn,Ln):ke[cn]=Ln}}var Yn=Ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qn(ke,Pe){if(Pe){if(Yn[ke]&&(Pe.children!=null||Pe.dangerouslySetInnerHTML!=null))throw Error(Se(137,ke));if(Pe.dangerouslySetInnerHTML!=null){if(Pe.children!=null)throw Error(Se(60));if(typeof Pe.dangerouslySetInnerHTML!="object"||!("__html"in Pe.dangerouslySetInnerHTML))throw Error(Se(61))}if(Pe.style!=null&&typeof Pe.style!="object")throw Error(Se(62))}}function ci(ke,Pe){if(ke.indexOf("-")===-1)return typeof Pe.is=="string";switch(ke){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pi=null;function ki(ke){return ke=ke.target||ke.srcElement||window,ke.correspondingUseElement&&(ke=ke.correspondingUseElement),ke.nodeType===3?ke.parentNode:ke}var hi=null,si=null,ai=null;function li(ke){if(ke=cc(ke)){if(typeof hi!="function")throw Error(Se(280));var Pe=ke.stateNode;Pe&&(Pe=Mc(Pe),hi(ke.stateNode,ke.type,Pe))}}function Ei(ke){si?ai?ai.push(ke):ai=[ke]:si=ke}function $i(){if(si){var ke=si,Pe=ai;if(ai=si=null,li(ke),Pe)for(ke=0;ke<Pe.length;ke++)li(Pe[ke])}}function Qi(ke,Pe){return ke(Pe)}function fr(){}var ar=!1;function Ii(ke,Pe,cn){if(ar)return ke(Pe,cn);ar=!0;try{return Qi(ke,Pe,cn)}finally{ar=!1,(si!==null||ai!==null)&&(fr(),$i())}}function vi(ke,Pe){var cn=ke.stateNode;if(cn===null)return null;var vn=Mc(cn);if(vn===null)return null;cn=vn[Pe];e:switch(Pe){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(vn=!vn.disabled)||(ke=ke.type,vn=!(ke==="button"||ke==="input"||ke==="select"||ke==="textarea")),ke=!vn;break e;default:ke=!1}if(ke)return null;if(cn&&typeof cn!="function")throw Error(Se(231,Pe,typeof cn));return cn}var rr=!1;if(_e)try{var dr={};Object.defineProperty(dr,"passive",{get:function(){rr=!0}}),window.addEventListener("test",dr,dr),window.removeEventListener("test",dr,dr)}catch{rr=!1}function Xi(ke,Pe,cn,vn,Ln,zn,Zn,fi,bi){var Di=Array.prototype.slice.call(arguments,3);try{Pe.apply(cn,Di)}catch(ir){this.onError(ir)}}var Gi=!1,Yi=null,Nr=!1,ha=null,sr={onError:function(ke){Gi=!0,Yi=ke}};function xr(ke,Pe,cn,vn,Ln,zn,Zn,fi,bi){Gi=!1,Yi=null,Xi.apply(sr,arguments)}function Zi(ke,Pe,cn,vn,Ln,zn,Zn,fi,bi){if(xr.apply(this,arguments),Gi){if(Gi){var Di=Yi;Gi=!1,Yi=null}else throw Error(Se(198));Nr||(Nr=!0,ha=Di)}}function Ar(ke){var Pe=ke,cn=ke;if(ke.alternate)for(;Pe.return;)Pe=Pe.return;else{ke=Pe;do Pe=ke,(Pe.flags&4098)!==0&&(cn=Pe.return),ke=Pe.return;while(ke)}return Pe.tag===3?cn:null}function Hr(ke){if(ke.tag===13){var Pe=ke.memoizedState;if(Pe===null&&(ke=ke.alternate,ke!==null&&(Pe=ke.memoizedState)),Pe!==null)return Pe.dehydrated}return null}function Xr(ke){if(Ar(ke)!==ke)throw Error(Se(188))}function kr(ke){var Pe=ke.alternate;if(!Pe){if(Pe=Ar(ke),Pe===null)throw Error(Se(188));return Pe!==ke?null:ke}for(var cn=ke,vn=Pe;;){var Ln=cn.return;if(Ln===null)break;var zn=Ln.alternate;if(zn===null){if(vn=Ln.return,vn!==null){cn=vn;continue}break}if(Ln.child===zn.child){for(zn=Ln.child;zn;){if(zn===cn)return Xr(Ln),ke;if(zn===vn)return Xr(Ln),Pe;zn=zn.sibling}throw Error(Se(188))}if(cn.return!==vn.return)cn=Ln,vn=zn;else{for(var Zn=!1,fi=Ln.child;fi;){if(fi===cn){Zn=!0,cn=Ln,vn=zn;break}if(fi===vn){Zn=!0,vn=Ln,cn=zn;break}fi=fi.sibling}if(!Zn){for(fi=zn.child;fi;){if(fi===cn){Zn=!0,cn=zn,vn=Ln;break}if(fi===vn){Zn=!0,vn=zn,cn=Ln;break}fi=fi.sibling}if(!Zn)throw Error(Se(189))}}if(cn.alternate!==vn)throw Error(Se(190))}if(cn.tag!==3)throw Error(Se(188));return cn.stateNode.current===cn?ke:Pe}function da(ke){return ke=kr(ke),ke!==null?Mi(ke):null}function Mi(ke){if(ke.tag===5||ke.tag===6)return ke;for(ke=ke.child;ke!==null;){var Pe=Mi(ke);if(Pe!==null)return Pe;ke=ke.sibling}return null}var Ri=r.unstable_scheduleCallback,Ui=r.unstable_cancelCallback,Bi=r.unstable_shouldYield,Ji=r.unstable_requestPaint,or=r.unstable_now,ur=r.unstable_getCurrentPriorityLevel,Li=r.unstable_ImmediatePriority,Er=r.unstable_UserBlockingPriority,br=r.unstable_NormalPriority,$r=r.unstable_LowPriority,_r=r.unstable_IdlePriority,Fr=null,Ir=null;function cr(ke){if(Ir&&typeof Ir.onCommitFiberRoot=="function")try{Ir.onCommitFiberRoot(Fr,ke,void 0,(ke.current.flags&128)===128)}catch{}}var yr=Math.clz32?Math.clz32:Gr,er=Math.log,Dr=Math.LN2;function Gr(ke){return ke>>>=0,ke===0?32:31-(er(ke)/Dr|0)|0}var Ea=64,Tr=4194304;function Rr(ke){switch(ke&-ke){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return ke&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return ke&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return ke}}function Zr(ke,Pe){var cn=ke.pendingLanes;if(cn===0)return 0;var vn=0,Ln=ke.suspendedLanes,zn=ke.pingedLanes,Zn=cn&268435455;if(Zn!==0){var fi=Zn&~Ln;fi!==0?vn=Rr(fi):(zn&=Zn,zn!==0&&(vn=Rr(zn)))}else Zn=cn&~Ln,Zn!==0?vn=Rr(Zn):zn!==0&&(vn=Rr(zn));if(vn===0)return 0;if(Pe!==0&&Pe!==vn&&(Pe&Ln)===0&&(Ln=vn&-vn,zn=Pe&-Pe,Ln>=zn||Ln===16&&(zn&4194240)!==0))return Pe;if((vn&4)!==0&&(vn|=cn&16),Pe=ke.entangledLanes,Pe!==0)for(ke=ke.entanglements,Pe&=vn;0<Pe;)cn=31-yr(Pe),Ln=1<<cn,vn|=ke[cn],Pe&=~Ln;return vn}function ma(ke,Pe){switch(ke){case 1:case 2:case 4:return Pe+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return Pe+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sa(ke,Pe){for(var cn=ke.suspendedLanes,vn=ke.pingedLanes,Ln=ke.expirationTimes,zn=ke.pendingLanes;0<zn;){var Zn=31-yr(zn),fi=1<<Zn,bi=Ln[Zn];bi===-1?((fi&cn)===0||(fi&vn)!==0)&&(Ln[Zn]=ma(fi,Pe)):bi<=Pe&&(ke.expiredLanes|=fi),zn&=~fi}}function ys(ke){return ke=ke.pendingLanes&-1073741825,ke!==0?ke:ke&1073741824?1073741824:0}function zo(){var ke=Ea;return Ea<<=1,(Ea&4194240)===0&&(Ea=64),ke}function Eo(ke){for(var Pe=[],cn=0;31>cn;cn++)Pe.push(ke);return Pe}function no(ke,Pe,cn){ke.pendingLanes|=Pe,Pe!==536870912&&(ke.suspendedLanes=0,ke.pingedLanes=0),ke=ke.eventTimes,Pe=31-yr(Pe),ke[Pe]=cn}function Cl(ke,Pe){var cn=ke.pendingLanes&~Pe;ke.pendingLanes=Pe,ke.suspendedLanes=0,ke.pingedLanes=0,ke.expiredLanes&=Pe,ke.mutableReadLanes&=Pe,ke.entangledLanes&=Pe,Pe=ke.entanglements;var vn=ke.eventTimes;for(ke=ke.expirationTimes;0<cn;){var Ln=31-yr(cn),zn=1<<Ln;Pe[Ln]=0,vn[Ln]=-1,ke[Ln]=-1,cn&=~zn}}function _o(ke,Pe){var cn=ke.entangledLanes|=Pe;for(ke=ke.entanglements;cn;){var vn=31-yr(cn),Ln=1<<vn;Ln&Pe|ke[vn]&Pe&&(ke[vn]|=Pe),cn&=~Ln}}var ca=0;function Io(ke){return ke&=-ke,1<ke?4<ke?(ke&268435455)!==0?16:536870912:4:1}var ul,To,Po,Ps,xo,io=!1,$s=[],Fa=null,ws=null,vs=null,Wr=new Map,bo=new Map,Fs=[],Rs="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yo(ke,Pe){switch(ke){case"focusin":case"focusout":Fa=null;break;case"dragenter":case"dragleave":ws=null;break;case"mouseover":case"mouseout":vs=null;break;case"pointerover":case"pointerout":Wr.delete(Pe.pointerId);break;case"gotpointercapture":case"lostpointercapture":bo.delete(Pe.pointerId)}}function ro(ke,Pe,cn,vn,Ln,zn){return ke===null||ke.nativeEvent!==zn?(ke={blockedOn:Pe,domEventName:cn,eventSystemFlags:vn,nativeEvent:zn,targetContainers:[Ln]},Pe!==null&&(Pe=cc(Pe),Pe!==null&&To(Pe)),ke):(ke.eventSystemFlags|=vn,Pe=ke.targetContainers,Ln!==null&&Pe.indexOf(Ln)===-1&&Pe.push(Ln),ke)}function Hs(ke,Pe,cn,vn,Ln){switch(Pe){case"focusin":return Fa=ro(Fa,ke,Pe,cn,vn,Ln),!0;case"dragenter":return ws=ro(ws,ke,Pe,cn,vn,Ln),!0;case"mouseover":return vs=ro(vs,ke,Pe,cn,vn,Ln),!0;case"pointerover":var zn=Ln.pointerId;return Wr.set(zn,ro(Wr.get(zn)||null,ke,Pe,cn,vn,Ln)),!0;case"gotpointercapture":return zn=Ln.pointerId,bo.set(zn,ro(bo.get(zn)||null,ke,Pe,cn,vn,Ln)),!0}return!1}function Fo(ke){var Pe=bl(ke.target);if(Pe!==null){var cn=Ar(Pe);if(cn!==null){if(Pe=cn.tag,Pe===13){if(Pe=Hr(cn),Pe!==null){ke.blockedOn=Pe,xo(ke.priority,function(){Po(cn)});return}}else if(Pe===3&&cn.stateNode.current.memoizedState.isDehydrated){ke.blockedOn=cn.tag===3?cn.stateNode.containerInfo:null;return}}}ke.blockedOn=null}function zs(ke){if(ke.blockedOn!==null)return!1;for(var Pe=ke.targetContainers;0<Pe.length;){var cn=Qr(ke.domEventName,ke.eventSystemFlags,Pe[0],ke.nativeEvent);if(cn===null){cn=ke.nativeEvent;var vn=new cn.constructor(cn.type,cn);pi=vn,cn.target.dispatchEvent(vn),pi=null}else return Pe=cc(cn),Pe!==null&&To(Pe),ke.blockedOn=cn,!1;Pe.shift()}return!0}function Ai(ke,Pe,cn){zs(ke)&&cn.delete(Pe)}function Ze(){io=!1,Fa!==null&&zs(Fa)&&(Fa=null),ws!==null&&zs(ws)&&(ws=null),vs!==null&&zs(vs)&&(vs=null),Wr.forEach(Ai),bo.forEach(Ai)}function Pn(ke,Pe){ke.blockedOn===Pe&&(ke.blockedOn=null,io||(io=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ze)))}function gi(ke){function Pe(Ln){return Pn(Ln,ke)}if(0<$s.length){Pn($s[0],ke);for(var cn=1;cn<$s.length;cn++){var vn=$s[cn];vn.blockedOn===ke&&(vn.blockedOn=null)}}for(Fa!==null&&Pn(Fa,ke),ws!==null&&Pn(ws,ke),vs!==null&&Pn(vs,ke),Wr.forEach(Pe),bo.forEach(Pe),cn=0;cn<Fs.length;cn++)vn=Fs[cn],vn.blockedOn===ke&&(vn.blockedOn=null);for(;0<Fs.length&&(cn=Fs[0],cn.blockedOn===null);)Fo(cn),cn.blockedOn===null&&Fs.shift()}var _i=Oe.ReactCurrentBatchConfig,Hi=!0;function pr(ke,Pe,cn,vn){var Ln=ca,zn=_i.transition;_i.transition=null;try{ca=1,vr(ke,Pe,cn,vn)}finally{ca=Ln,_i.transition=zn}}function gr(ke,Pe,cn,vn){var Ln=ca,zn=_i.transition;_i.transition=null;try{ca=4,vr(ke,Pe,cn,vn)}finally{ca=Ln,_i.transition=zn}}function vr(ke,Pe,cn,vn){if(Hi){var Ln=Qr(ke,Pe,cn,vn);if(Ln===null)Oc(ke,Pe,vn,jr,cn),yo(ke,vn);else if(Hs(Ln,ke,Pe,cn,vn))vn.stopPropagation();else if(yo(ke,vn),Pe&4&&-1<Rs.indexOf(ke)){for(;Ln!==null;){var zn=cc(Ln);if(zn!==null&&ul(zn),zn=Qr(ke,Pe,cn,vn),zn===null&&Oc(ke,Pe,vn,jr,cn),zn===Ln)break;Ln=zn}Ln!==null&&vn.stopPropagation()}else Oc(ke,Pe,vn,null,cn)}}var jr=null;function Qr(ke,Pe,cn,vn){if(jr=null,ke=ki(vn),ke=bl(ke),ke!==null)if(Pe=Ar(ke),Pe===null)ke=null;else if(cn=Pe.tag,cn===13){if(ke=Hr(Pe),ke!==null)return ke;ke=null}else if(cn===3){if(Pe.stateNode.current.memoizedState.isDehydrated)return Pe.tag===3?Pe.stateNode.containerInfo:null;ke=null}else Pe!==ke&&(ke=null);return jr=ke,null}function fa(ke){switch(ke){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ur()){case Li:return 1;case Er:return 4;case br:case $r:return 16;case _r:return 536870912;default:return 16}default:return 16}}var ra=null,la=null,oa=null;function Kr(){if(oa)return oa;var ke,Pe=la,cn=Pe.length,vn,Ln="value"in ra?ra.value:ra.textContent,zn=Ln.length;for(ke=0;ke<cn&&Pe[ke]===Ln[ke];ke++);var Zn=cn-ke;for(vn=1;vn<=Zn&&Pe[cn-vn]===Ln[zn-vn];vn++);return oa=Ln.slice(ke,1<vn?1-vn:void 0)}function xa(ke){var Pe=ke.keyCode;return"charCode"in ke?(ke=ke.charCode,ke===0&&Pe===13&&(ke=13)):ke=Pe,ke===10&&(ke=13),32<=ke||ke===13?ke:0}function Lr(){return!0}function na(){return!1}function pa(ke){function Pe(cn,vn,Ln,zn,Zn){this._reactName=cn,this._targetInst=Ln,this.type=vn,this.nativeEvent=zn,this.target=Zn,this.currentTarget=null;for(var fi in ke)ke.hasOwnProperty(fi)&&(cn=ke[fi],this[fi]=cn?cn(zn):zn[fi]);return this.isDefaultPrevented=(zn.defaultPrevented!=null?zn.defaultPrevented:zn.returnValue===!1)?Lr:na,this.isPropagationStopped=na,this}return Ue(Pe.prototype,{preventDefault:function(){this.defaultPrevented=!0;var cn=this.nativeEvent;cn&&(cn.preventDefault?cn.preventDefault():typeof cn.returnValue!="unknown"&&(cn.returnValue=!1),this.isDefaultPrevented=Lr)},stopPropagation:function(){var cn=this.nativeEvent;cn&&(cn.stopPropagation?cn.stopPropagation():typeof cn.cancelBubble!="unknown"&&(cn.cancelBubble=!0),this.isPropagationStopped=Lr)},persist:function(){},isPersistent:Lr}),Pe}var Vr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(ke){return ke.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ss=pa(Vr),is=Ue({},Vr,{view:0,detail:0}),Ba=pa(is),qs,Ws,ao,Xs=Ue({},is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sr,button:0,buttons:0,relatedTarget:function(ke){return ke.relatedTarget===void 0?ke.fromElement===ke.srcElement?ke.toElement:ke.fromElement:ke.relatedTarget},movementX:function(ke){return"movementX"in ke?ke.movementX:(ke!==ao&&(ao&&ke.type==="mousemove"?(qs=ke.screenX-ao.screenX,Ws=ke.screenY-ao.screenY):Ws=qs=0,ao=ke),qs)},movementY:function(ke){return"movementY"in ke?ke.movementY:Ws}}),ql=pa(Xs),Xc=Ue({},Xs,{dataTransfer:0}),p0=pa(Xc),Wl=Ue({},is,{relatedTarget:0}),qo=pa(Wl),Cc=Ue({},Vr,{animationName:0,elapsedTime:0,pseudoElement:0}),hl=pa(Cc),kc=Ue({},Vr,{clipboardData:function(ke){return"clipboardData"in ke?ke.clipboardData:window.clipboardData}}),Fn=pa(kc),Kn=Ue({},Vr,{data:0}),di=pa(Kn),mi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ti={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tr(ke){var Pe=this.nativeEvent;return Pe.getModifierState?Pe.getModifierState(ke):(ke=zi[ke])?!!Pe[ke]:!1}function Sr(){return tr}var zr=Ue({},is,{key:function(ke){if(ke.key){var Pe=mi[ke.key]||ke.key;if(Pe!=="Unidentified")return Pe}return ke.type==="keypress"?(ke=xa(ke),ke===13?"Enter":String.fromCharCode(ke)):ke.type==="keydown"||ke.type==="keyup"?Ti[ke.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sr,charCode:function(ke){return ke.type==="keypress"?xa(ke):0},keyCode:function(ke){return ke.type==="keydown"||ke.type==="keyup"?ke.keyCode:0},which:function(ke){return ke.type==="keypress"?xa(ke):ke.type==="keydown"||ke.type==="keyup"?ke.keyCode:0}}),aa=pa(zr),ia=Ue({},Xs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ua=pa(ia),ja=Ue({},is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sr}),za=pa(ja),Va=Ue({},Vr,{propertyName:0,elapsedTime:0,pseudoElement:0}),hs=pa(Va),rs=Ue({},Xs,{deltaX:function(ke){return"deltaX"in ke?ke.deltaX:"wheelDeltaX"in ke?-ke.wheelDeltaX:0},deltaY:function(ke){return"deltaY"in ke?ke.deltaY:"wheelDeltaY"in ke?-ke.wheelDeltaY:"wheelDelta"in ke?-ke.wheelDelta:0},deltaZ:0,deltaMode:0}),wo=pa(rs),Gs=[9,13,27,32],so=_e&&"CompositionEvent"in window,dl=null;_e&&"documentMode"in document&&(dl=document.documentMode);var Ec=_e&&"TextEvent"in window&&!dl,Xl=_e&&(!so||dl&&8<dl&&11>=dl),kl=" ",Gl=!1;function Vl(ke,Pe){switch(ke){case"keyup":return Gs.indexOf(Pe.keyCode)!==-1;case"keydown":return Pe.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function El(ke){return ke=ke.detail,typeof ke=="object"&&"data"in ke?ke.data:null}var qa=!1;function Kl(ke,Pe){switch(ke){case"compositionend":return El(Pe);case"keypress":return Pe.which!==32?null:(Gl=!0,kl);case"textInput":return ke=Pe.data,ke===kl&&Gl?null:ke;default:return null}}function Yl(ke,Pe){if(qa)return ke==="compositionend"||!so&&Vl(ke,Pe)?(ke=Kr(),oa=la=ra=null,qa=!1,ke):null;switch(ke){case"paste":return null;case"keypress":if(!(Pe.ctrlKey||Pe.altKey||Pe.metaKey)||Pe.ctrlKey&&Pe.altKey){if(Pe.char&&1<Pe.char.length)return Pe.char;if(Pe.which)return String.fromCharCode(Pe.which)}return null;case"compositionend":return Xl&&Pe.locale!=="ko"?null:Pe.data;default:return null}}var Jl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zl(ke){var Pe=ke&&ke.nodeName&&ke.nodeName.toLowerCase();return Pe==="input"?!!Jl[ke.type]:Pe==="textarea"}function Ss(ke,Pe,cn,vn){Ei(vn),Pe=Yc(Pe,"onChange"),0<Pe.length&&(cn=new ss("onChange","change",null,cn,vn),ke.push({event:cn,listeners:Pe}))}var _l=null,Wo=null;function Gc(ke){Fc(ke,0)}function As(ke){var Pe=Ml(ke);if(_n(Pe))return ke}function Ql(ke,Pe){if(ke==="change")return Pe}var _c=!1;if(_e){var tc;if(_e){var Ro="oninput"in document;if(!Ro){var pl=document.createElement("div");pl.setAttribute("oninput","return;"),Ro=typeof pl.oninput=="function"}tc=Ro}else tc=!1;_c=tc&&(!document.documentMode||9<document.documentMode)}function Cs(){_l&&(_l.detachEvent("onpropertychange",ds),Wo=_l=null)}function ds(ke){if(ke.propertyName==="value"&&As(Wo)){var Pe=[];Ss(Pe,Wo,ke,ki(ke)),Ii(Gc,Pe)}}function gl(ke,Pe,cn){ke==="focusin"?(Cs(),_l=Pe,Wo=cn,_l.attachEvent("onpropertychange",ds)):ke==="focusout"&&Cs()}function Xo(ke){if(ke==="selectionchange"||ke==="keyup"||ke==="keydown")return As(Wo)}function Go(ke,Pe){if(ke==="click")return As(Pe)}function nc(ke,Pe){if(ke==="input"||ke==="change")return As(Pe)}function Vo(ke,Pe){return ke===Pe&&(ke!==0||1/ke===1/Pe)||ke!==ke&&Pe!==Pe}var wa=typeof Object.is=="function"?Object.is:Vo;function Ko(ke,Pe){if(wa(ke,Pe))return!0;if(typeof ke!="object"||ke===null||typeof Pe!="object"||Pe===null)return!1;var cn=Object.keys(ke),vn=Object.keys(Pe);if(cn.length!==vn.length)return!1;for(vn=0;vn<cn.length;vn++){var Ln=cn[vn];if(!ze.call(Pe,Ln)||!wa(ke[Ln],Pe[Ln]))return!1}return!0}function fs(ke){for(;ke&&ke.firstChild;)ke=ke.firstChild;return ke}function Vs(ke,Pe){var cn=fs(ke);ke=0;for(var vn;cn;){if(cn.nodeType===3){if(vn=ke+cn.textContent.length,ke<=Pe&&vn>=Pe)return{node:cn,offset:Pe-ke};ke=vn}e:{for(;cn;){if(cn.nextSibling){cn=cn.nextSibling;break e}cn=cn.parentNode}cn=void 0}cn=fs(cn)}}function Il(ke,Pe){return ke&&Pe?ke===Pe?!0:ke&&ke.nodeType===3?!1:Pe&&Pe.nodeType===3?Il(ke,Pe.parentNode):"contains"in ke?ke.contains(Pe):ke.compareDocumentPosition?!!(ke.compareDocumentPosition(Pe)&16):!1:!1}function Ic(){for(var ke=window,Pe=wn();Pe instanceof ke.HTMLIFrameElement;){try{var cn=typeof Pe.contentWindow.location.href=="string"}catch{cn=!1}if(cn)ke=Pe.contentWindow;else break;Pe=wn(ke.document)}return Pe}function Tl(ke){var Pe=ke&&ke.nodeName&&ke.nodeName.toLowerCase();return Pe&&(Pe==="input"&&(ke.type==="text"||ke.type==="search"||ke.type==="tel"||ke.type==="url"||ke.type==="password")||Pe==="textarea"||ke.contentEditable==="true")}function Pl(ke){var Pe=Ic(),cn=ke.focusedElem,vn=ke.selectionRange;if(Pe!==cn&&cn&&cn.ownerDocument&&Il(cn.ownerDocument.documentElement,cn)){if(vn!==null&&Tl(cn)){if(Pe=vn.start,ke=vn.end,ke===void 0&&(ke=Pe),"selectionStart"in cn)cn.selectionStart=Pe,cn.selectionEnd=Math.min(ke,cn.value.length);else if(ke=(Pe=cn.ownerDocument||document)&&Pe.defaultView||window,ke.getSelection){ke=ke.getSelection();var Ln=cn.textContent.length,zn=Math.min(vn.start,Ln);vn=vn.end===void 0?zn:Math.min(vn.end,Ln),!ke.extend&&zn>vn&&(Ln=vn,vn=zn,zn=Ln),Ln=Vs(cn,zn);var Zn=Vs(cn,vn);Ln&&Zn&&(ke.rangeCount!==1||ke.anchorNode!==Ln.node||ke.anchorOffset!==Ln.offset||ke.focusNode!==Zn.node||ke.focusOffset!==Zn.offset)&&(Pe=Pe.createRange(),Pe.setStart(Ln.node,Ln.offset),ke.removeAllRanges(),zn>vn?(ke.addRange(Pe),ke.extend(Zn.node,Zn.offset)):(Pe.setEnd(Zn.node,Zn.offset),ke.addRange(Pe)))}}for(Pe=[],ke=cn;ke=ke.parentNode;)ke.nodeType===1&&Pe.push({element:ke,left:ke.scrollLeft,top:ke.scrollTop});for(typeof cn.focus=="function"&&cn.focus(),cn=0;cn<Pe.length;cn++)ke=Pe[cn],ke.element.scrollLeft=ke.left,ke.element.scrollTop=ke.top}}var Fl=_e&&"documentMode"in document&&11>=document.documentMode,Ks=null,Yo=null,Oo=null,Jo=!1;function Zo(ke,Pe,cn){var vn=cn.window===cn?cn.document:cn.nodeType===9?cn:cn.ownerDocument;Jo||Ks==null||Ks!==wn(vn)||(vn=Ks,"selectionStart"in vn&&Tl(vn)?vn={start:vn.selectionStart,end:vn.selectionEnd}:(vn=(vn.ownerDocument&&vn.ownerDocument.defaultView||window).getSelection(),vn={anchorNode:vn.anchorNode,anchorOffset:vn.anchorOffset,focusNode:vn.focusNode,focusOffset:vn.focusOffset}),Oo&&Ko(Oo,vn)||(Oo=vn,vn=Yc(Yo,"onSelect"),0<vn.length&&(Pe=new ss("onSelect","select",null,Pe,cn),ke.push({event:Pe,listeners:vn}),Pe.target=Ks)))}function ml(ke,Pe){var cn={};return cn[ke.toLowerCase()]=Pe.toLowerCase(),cn["Webkit"+ke]="webkit"+Pe,cn["Moz"+ke]="moz"+Pe,cn}var os={animationend:ml("Animation","AnimationEnd"),animationiteration:ml("Animation","AnimationIteration"),animationstart:ml("Animation","AnimationStart"),transitionend:ml("Transition","TransitionEnd")},Os={},Na={};_e&&(Na=document.createElement("div").style,"AnimationEvent"in window||(delete os.animationend.animation,delete os.animationiteration.animation,delete os.animationstart.animation),"TransitionEvent"in window||delete os.transitionend.transition);function Ia(ke){if(Os[ke])return Os[ke];if(!os[ke])return ke;var Pe=os[ke],cn;for(cn in Pe)if(Pe.hasOwnProperty(cn)&&cn in Na)return Os[ke]=Pe[cn];return ke}var Wa=Ia("animationend"),Ka=Ia("animationiteration"),No=Ia("animationstart"),ic=Ia("transitionend"),Rl=new Map,Tc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lo(ke,Pe){Rl.set(ke,Pe),Be(Pe,[ke])}for(var rc=0;rc<Tc.length;rc++){var ks=Tc[rc],oo=ks.toLowerCase(),Vc=ks[0].toUpperCase()+ks.slice(1);Lo(oo,"on"+Vc)}Lo(Wa,"onAnimationEnd"),Lo(Ka,"onAnimationIteration"),Lo(No,"onAnimationStart"),Lo("dblclick","onDoubleClick"),Lo("focusin","onFocus"),Lo("focusout","onBlur"),Lo(ic,"onTransitionEnd"),Ve("onMouseEnter",["mouseout","mouseover"]),Ve("onMouseLeave",["mouseout","mouseover"]),Ve("onPointerEnter",["pointerout","pointerover"]),Ve("onPointerLeave",["pointerout","pointerover"]),Be("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Be("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Be("onBeforeInput",["compositionend","keypress","textInput","paste"]),Be("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Be("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Be("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),R0=new Set("cancel close invalid load scroll toggle".split(" ").concat(xl));function Pc(ke,Pe,cn){var vn=ke.type||"unknown-event";ke.currentTarget=cn,Zi(vn,Pe,void 0,ke),ke.currentTarget=null}function Fc(ke,Pe){Pe=(Pe&4)!==0;for(var cn=0;cn<ke.length;cn++){var vn=ke[cn],Ln=vn.event;vn=vn.listeners;e:{var zn=void 0;if(Pe)for(var Zn=vn.length-1;0<=Zn;Zn--){var fi=vn[Zn],bi=fi.instance,Di=fi.currentTarget;if(fi=fi.listener,bi!==zn&&Ln.isPropagationStopped())break e;Pc(Ln,fi,Di),zn=bi}else for(Zn=0;Zn<vn.length;Zn++){if(fi=vn[Zn],bi=fi.instance,Di=fi.currentTarget,fi=fi.listener,bi!==zn&&Ln.isPropagationStopped())break e;Pc(Ln,fi,Di),zn=bi}}}if(Nr)throw ke=ha,Nr=!1,ha=null,ke}function La(ke,Pe){var cn=Pe[Ls];cn===void 0&&(cn=Pe[Ls]=new Set);var vn=ke+"__bubble";cn.has(vn)||(Rc(Pe,ke,2,!1),cn.add(vn))}function Kc(ke,Pe,cn){var vn=0;Pe&&(vn|=4),Rc(cn,ke,vn,Pe)}var ac="_reactListening"+Math.random().toString(36).slice(2);function Ol(ke){if(!ke[ac]){ke[ac]=!0,Ee.forEach(function(cn){cn!=="selectionchange"&&(R0.has(cn)||Kc(cn,!1,ke),Kc(cn,!0,ke))});var Pe=ke.nodeType===9?ke:ke.ownerDocument;Pe===null||Pe[ac]||(Pe[ac]=!0,Kc("selectionchange",!1,Pe))}}function Rc(ke,Pe,cn,vn){switch(fa(Pe)){case 1:var Ln=pr;break;case 4:Ln=gr;break;default:Ln=vr}cn=Ln.bind(null,Pe,cn,ke),Ln=void 0,!rr||Pe!=="touchstart"&&Pe!=="touchmove"&&Pe!=="wheel"||(Ln=!0),vn?Ln!==void 0?ke.addEventListener(Pe,cn,{capture:!0,passive:Ln}):ke.addEventListener(Pe,cn,!0):Ln!==void 0?ke.addEventListener(Pe,cn,{passive:Ln}):ke.addEventListener(Pe,cn,!1)}function Oc(ke,Pe,cn,vn,Ln){var zn=vn;if((Pe&1)===0&&(Pe&2)===0&&vn!==null)e:for(;;){if(vn===null)return;var Zn=vn.tag;if(Zn===3||Zn===4){var fi=vn.stateNode.containerInfo;if(fi===Ln||fi.nodeType===8&&fi.parentNode===Ln)break;if(Zn===4)for(Zn=vn.return;Zn!==null;){var bi=Zn.tag;if((bi===3||bi===4)&&(bi=Zn.stateNode.containerInfo,bi===Ln||bi.nodeType===8&&bi.parentNode===Ln))return;Zn=Zn.return}for(;fi!==null;){if(Zn=bl(fi),Zn===null)return;if(bi=Zn.tag,bi===5||bi===6){vn=zn=Zn;continue e}fi=fi.parentNode}}vn=vn.return}Ii(function(){var Di=zn,ir=ki(cn),lr=[];e:{var nr=Rl.get(ke);if(nr!==void 0){var Pr=ss,Mr=ke;switch(ke){case"keypress":if(xa(cn)===0)break e;case"keydown":case"keyup":Pr=aa;break;case"focusin":Mr="focus",Pr=qo;break;case"focusout":Mr="blur",Pr=qo;break;case"beforeblur":case"afterblur":Pr=qo;break;case"click":if(cn.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Pr=ql;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Pr=p0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Pr=za;break;case Wa:case Ka:case No:Pr=hl;break;case ic:Pr=hs;break;case"scroll":Pr=Ba;break;case"wheel":Pr=wo;break;case"copy":case"cut":case"paste":Pr=Fn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Pr=ua}var Br=(Pe&4)!==0,ns=!Br&&ke==="scroll",Oi=Br?nr!==null?nr+"Capture":null:nr;Br=[];for(var Si=Di,Ni;Si!==null;){Ni=Si;var hr=Ni.stateNode;if(Ni.tag===5&&hr!==null&&(Ni=hr,Oi!==null&&(hr=vi(Si,Oi),hr!=null&&Br.push(Nc(Si,hr,Ni)))),ns)break;Si=Si.return}0<Br.length&&(nr=new Pr(nr,Mr,null,cn,ir),lr.push({event:nr,listeners:Br}))}}if((Pe&7)===0){e:{if(nr=ke==="mouseover"||ke==="pointerover",Pr=ke==="mouseout"||ke==="pointerout",nr&&cn!==pi&&(Mr=cn.relatedTarget||cn.fromElement)&&(bl(Mr)||Mr[ps]))break e;if((Pr||nr)&&(nr=ir.window===ir?ir:(nr=ir.ownerDocument)?nr.defaultView||nr.parentWindow:window,Pr?(Mr=cn.relatedTarget||cn.toElement,Pr=Di,Mr=Mr?bl(Mr):null,Mr!==null&&(ns=Ar(Mr),Mr!==ns||Mr.tag!==5&&Mr.tag!==6)&&(Mr=null)):(Pr=null,Mr=Di),Pr!==Mr)){if(Br=ql,hr="onMouseLeave",Oi="onMouseEnter",Si="mouse",(ke==="pointerout"||ke==="pointerover")&&(Br=ua,hr="onPointerLeave",Oi="onPointerEnter",Si="pointer"),ns=Pr==null?nr:Ml(Pr),Ni=Mr==null?nr:Ml(Mr),nr=new Br(hr,Si+"leave",Pr,cn,ir),nr.target=ns,nr.relatedTarget=Ni,hr=null,bl(ir)===Di&&(Br=new Br(Oi,Si+"enter",Mr,cn,ir),Br.target=Ni,Br.relatedTarget=ns,hr=Br),ns=hr,Pr&&Mr)t:{for(Br=Pr,Oi=Mr,Si=0,Ni=Br;Ni;Ni=Nl(Ni))Si++;for(Ni=0,hr=Oi;hr;hr=Nl(hr))Ni++;for(;0<Si-Ni;)Br=Nl(Br),Si--;for(;0<Ni-Si;)Oi=Nl(Oi),Ni--;for(;Si--;){if(Br===Oi||Oi!==null&&Br===Oi.alternate)break t;Br=Nl(Br),Oi=Nl(Oi)}Br=null}else Br=null;Pr!==null&&O0(lr,nr,Pr,Br,!1),Mr!==null&&ns!==null&&O0(lr,ns,Mr,Br,!0)}}e:{if(nr=Di?Ml(Di):window,Pr=nr.nodeName&&nr.nodeName.toLowerCase(),Pr==="select"||Pr==="input"&&nr.type==="file")var Ur=Ql;else if(Zl(nr))if(_c)Ur=nc;else{Ur=Xo;var Yr=gl}else(Pr=nr.nodeName)&&Pr.toLowerCase()==="input"&&(nr.type==="checkbox"||nr.type==="radio")&&(Ur=Go);if(Ur&&(Ur=Ur(ke,Di))){Ss(lr,Ur,cn,ir);break e}Yr&&Yr(ke,nr,Di),ke==="focusout"&&(Yr=nr._wrapperState)&&Yr.controlled&&nr.type==="number"&&bn(nr,"number",nr.value)}switch(Yr=Di?Ml(Di):window,ke){case"focusin":(Zl(Yr)||Yr.contentEditable==="true")&&(Ks=Yr,Yo=Di,Oo=null);break;case"focusout":Oo=Yo=Ks=null;break;case"mousedown":Jo=!0;break;case"contextmenu":case"mouseup":case"dragend":Jo=!1,Zo(lr,cn,ir);break;case"selectionchange":if(Fl)break;case"keydown":case"keyup":Zo(lr,cn,ir)}var Jr;if(so)e:{switch(ke){case"compositionstart":var ta="onCompositionStart";break e;case"compositionend":ta="onCompositionEnd";break e;case"compositionupdate":ta="onCompositionUpdate";break e}ta=void 0}else qa?Vl(ke,cn)&&(ta="onCompositionEnd"):ke==="keydown"&&cn.keyCode===229&&(ta="onCompositionStart");ta&&(Xl&&cn.locale!=="ko"&&(qa||ta!=="onCompositionStart"?ta==="onCompositionEnd"&&qa&&(Jr=Kr()):(ra=ir,la="value"in ra?ra.value:ra.textContent,qa=!0)),Yr=Yc(Di,ta),0<Yr.length&&(ta=new di(ta,ke,null,cn,ir),lr.push({event:ta,listeners:Yr}),Jr?ta.data=Jr:(Jr=El(cn),Jr!==null&&(ta.data=Jr)))),(Jr=Ec?Kl(ke,cn):Yl(ke,cn))&&(Di=Yc(Di,"onBeforeInput"),0<Di.length&&(ir=new di("onBeforeInput","beforeinput",null,cn,ir),lr.push({event:ir,listeners:Di}),ir.data=Jr))}Fc(lr,Pe)})}function Nc(ke,Pe,cn){return{instance:ke,listener:Pe,currentTarget:cn}}function Yc(ke,Pe){for(var cn=Pe+"Capture",vn=[];ke!==null;){var Ln=ke,zn=Ln.stateNode;Ln.tag===5&&zn!==null&&(Ln=zn,zn=vi(ke,cn),zn!=null&&vn.unshift(Nc(ke,zn,Ln)),zn=vi(ke,Pe),zn!=null&&vn.push(Nc(ke,zn,Ln))),ke=ke.return}return vn}function Nl(ke){if(ke===null)return null;do ke=ke.return;while(ke&&ke.tag!==5);return ke||null}function O0(ke,Pe,cn,vn,Ln){for(var zn=Pe._reactName,Zn=[];cn!==null&&cn!==vn;){var fi=cn,bi=fi.alternate,Di=fi.stateNode;if(bi!==null&&bi===vn)break;fi.tag===5&&Di!==null&&(fi=Di,Ln?(bi=vi(cn,zn),bi!=null&&Zn.unshift(Nc(cn,bi,fi))):Ln||(bi=vi(cn,zn),bi!=null&&Zn.push(Nc(cn,bi,fi)))),cn=cn.return}Zn.length!==0&&ke.push({event:Pe,listeners:Zn})}var du=/\r\n?/g,fu=/\u0000|\uFFFD/g;function N0(ke){return(typeof ke=="string"?ke:""+ke).replace(du,`
`).replace(fu,"")}function Jc(ke,Pe,cn){if(Pe=N0(Pe),N0(ke)!==Pe&&cn)throw Error(Se(425))}function sc(){}var Lc=null,Ll=null;function g0(ke,Pe){return ke==="textarea"||ke==="noscript"||typeof Pe.children=="string"||typeof Pe.children=="number"||typeof Pe.dangerouslySetInnerHTML=="object"&&Pe.dangerouslySetInnerHTML!==null&&Pe.dangerouslySetInnerHTML.__html!=null}var m0=typeof setTimeout=="function"?setTimeout:void 0,L0=typeof clearTimeout=="function"?clearTimeout:void 0,M0=typeof Promise=="function"?Promise:void 0,pu=typeof queueMicrotask=="function"?queueMicrotask:typeof M0<"u"?function(ke){return M0.resolve(null).then(ke).catch(gu)}:m0;function gu(ke){setTimeout(function(){throw ke})}function x0(ke,Pe){var cn=Pe,vn=0;do{var Ln=cn.nextSibling;if(ke.removeChild(cn),Ln&&Ln.nodeType===8)if(cn=Ln.data,cn==="/$"){if(vn===0){ke.removeChild(Ln),gi(Pe);return}vn--}else cn!=="$"&&cn!=="$?"&&cn!=="$!"||vn++;cn=Ln}while(cn);gi(Pe)}function Es(ke){for(;ke!=null;ke=ke.nextSibling){var Pe=ke.nodeType;if(Pe===1||Pe===3)break;if(Pe===8){if(Pe=ke.data,Pe==="$"||Pe==="$!"||Pe==="$?")break;if(Pe==="/$")return null}}return ke}function lo(ke){ke=ke.previousSibling;for(var Pe=0;ke;){if(ke.nodeType===8){var cn=ke.data;if(cn==="$"||cn==="$!"||cn==="$?"){if(Pe===0)return ke;Pe--}else cn==="/$"&&Pe++}ke=ke.previousSibling}return null}var Ns=Math.random().toString(36).slice(2),Mo="__reactFiber$"+Ns,oc="__reactProps$"+Ns,ps="__reactContainer$"+Ns,Ls="__reactEvents$"+Ns,mu="__reactListeners$"+Ns,xu="__reactHandles$"+Ns;function bl(ke){var Pe=ke[Mo];if(Pe)return Pe;for(var cn=ke.parentNode;cn;){if(Pe=cn[ps]||cn[Mo]){if(cn=Pe.alternate,Pe.child!==null||cn!==null&&cn.child!==null)for(ke=lo(ke);ke!==null;){if(cn=ke[Mo])return cn;ke=lo(ke)}return Pe}ke=cn,cn=ke.parentNode}return null}function cc(ke){return ke=ke[Mo]||ke[ps],!ke||ke.tag!==5&&ke.tag!==6&&ke.tag!==13&&ke.tag!==3?null:ke}function Ml(ke){if(ke.tag===5||ke.tag===6)return ke.stateNode;throw Error(Se(33))}function Mc(ke){return ke[oc]||null}var b0=[],Qo=-1;function vo(ke){return{current:ke}}function Ta(ke){0>Qo||(ke.current=b0[Qo],b0[Qo]=null,Qo--)}function Ra(ke,Pe){Qo++,b0[Qo]=ke.current,ke.current=Pe}var yl={},ls=vo(yl),Ms=vo(!1),Dl=yl;function uc(ke,Pe){var cn=ke.type.contextTypes;if(!cn)return yl;var vn=ke.stateNode;if(vn&&vn.__reactInternalMemoizedUnmaskedChildContext===Pe)return vn.__reactInternalMemoizedMaskedChildContext;var Ln={},zn;for(zn in cn)Ln[zn]=Pe[zn];return vn&&(ke=ke.stateNode,ke.__reactInternalMemoizedUnmaskedChildContext=Pe,ke.__reactInternalMemoizedMaskedChildContext=Ln),Ln}function Ds(ke){return ke=ke.childContextTypes,ke!=null}function Zc(){Ta(Ms),Ta(ls)}function D0(ke,Pe,cn){if(ls.current!==yl)throw Error(Se(168));Ra(ls,Pe),Ra(Ms,cn)}function y0(ke,Pe,cn){var vn=ke.stateNode;if(Pe=Pe.childContextTypes,typeof vn.getChildContext!="function")return cn;vn=vn.getChildContext();for(var Ln in vn)if(!(Ln in Pe))throw Error(Se(108,sn(ke)||"Unknown",Ln));return Ue({},cn,vn)}function Bl(ke){return ke=(ke=ke.stateNode)&&ke.__reactInternalMemoizedMergedChildContext||yl,Dl=ls.current,Ra(ls,ke),Ra(Ms,Ms.current),!0}function B0(ke,Pe,cn){var vn=ke.stateNode;if(!vn)throw Error(Se(169));cn?(ke=y0(ke,Pe,Dl),vn.__reactInternalMemoizedMergedChildContext=ke,Ta(Ms),Ta(ls),Ra(ls,ke)):Ta(Ms),Ra(Ms,cn)}var el=null,Dc=!1,xn=!1;function An(ke){el===null?el=[ke]:el.push(ke)}function Dn(ke){Dc=!0,An(ke)}function Wn(){if(!xn&&el!==null){xn=!0;var ke=0,Pe=ca;try{var cn=el;for(ca=1;ke<cn.length;ke++){var vn=cn[ke];do vn=vn(!0);while(vn!==null)}el=null,Dc=!1}catch(Ln){throw el!==null&&(el=el.slice(ke+1)),Ri(Li,Wn),Ln}finally{ca=Pe,xn=!1}}return null}var Vn=[],Jn=0,ei=null,ni=0,ii=[],oi=0,xi=null,Pi=1,Fi="";function Ci(ke,Pe){Vn[Jn++]=ni,Vn[Jn++]=ei,ei=ke,ni=Pe}function Ki(ke,Pe,cn){ii[oi++]=Pi,ii[oi++]=Fi,ii[oi++]=xi,xi=ke;var vn=Pi;ke=Fi;var Ln=32-yr(vn)-1;vn&=~(1<<Ln),cn+=1;var zn=32-yr(Pe)+Ln;if(30<zn){var Zn=Ln-Ln%5;zn=(vn&(1<<Zn)-1).toString(32),vn>>=Zn,Ln-=Zn,Pi=1<<32-yr(Pe)+Ln|cn<<Ln|vn,Fi=zn+ke}else Pi=1<<zn|cn<<Ln|vn,Fi=ke}function ji(ke){ke.return!==null&&(Ci(ke,1),Ki(ke,1,0))}function yi(ke){for(;ke===ei;)ei=Vn[--Jn],Vn[Jn]=null,ni=Vn[--Jn],Vn[Jn]=null;for(;ke===xi;)xi=ii[--oi],ii[oi]=null,Fi=ii[--oi],ii[oi]=null,Pi=ii[--oi],ii[oi]=null}var wi=null,Wi=null,qi=!1,Vi=null;function Cr(ke,Pe){var cn=Ho(5,null,null,0);cn.elementType="DELETED",cn.stateNode=Pe,cn.return=ke,Pe=ke.deletions,Pe===null?(ke.deletions=[cn],ke.flags|=16):Pe.push(cn)}function mr(ke,Pe){switch(ke.tag){case 5:var cn=ke.type;return Pe=Pe.nodeType!==1||cn.toLowerCase()!==Pe.nodeName.toLowerCase()?null:Pe,Pe!==null?(ke.stateNode=Pe,wi=ke,Wi=Es(Pe.firstChild),!0):!1;case 6:return Pe=ke.pendingProps===""||Pe.nodeType!==3?null:Pe,Pe!==null?(ke.stateNode=Pe,wi=ke,Wi=null,!0):!1;case 13:return Pe=Pe.nodeType!==8?null:Pe,Pe!==null?(cn=xi!==null?{id:Pi,overflow:Fi}:null,ke.memoizedState={dehydrated:Pe,treeContext:cn,retryLane:1073741824},cn=Ho(18,null,null,0),cn.stateNode=Pe,cn.return=ke,ke.child=cn,wi=ke,Wi=null,!0):!1;default:return!1}}function qr(ke){return(ke.mode&1)!==0&&(ke.flags&128)===0}function wr(ke){if(qi){var Pe=Wi;if(Pe){var cn=Pe;if(!mr(ke,Pe)){if(qr(ke))throw Error(Se(418));Pe=Es(cn.nextSibling);var vn=wi;Pe&&mr(ke,Pe)?Cr(vn,cn):(ke.flags=ke.flags&-4097|2,qi=!1,wi=ke)}}else{if(qr(ke))throw Error(Se(418));ke.flags=ke.flags&-4097|2,qi=!1,wi=ke}}}function ba(ke){for(ke=ke.return;ke!==null&&ke.tag!==5&&ke.tag!==3&&ke.tag!==13;)ke=ke.return;wi=ke}function ya(ke){if(ke!==wi)return!1;if(!qi)return ba(ke),qi=!0,!1;var Pe;if((Pe=ke.tag!==3)&&!(Pe=ke.tag!==5)&&(Pe=ke.type,Pe=Pe!=="head"&&Pe!=="body"&&!g0(ke.type,ke.memoizedProps)),Pe&&(Pe=Wi)){if(qr(ke))throw ga(),Error(Se(418));for(;Pe;)Cr(ke,Pe),Pe=Es(Pe.nextSibling)}if(ba(ke),ke.tag===13){if(ke=ke.memoizedState,ke=ke!==null?ke.dehydrated:null,!ke)throw Error(Se(317));e:{for(ke=ke.nextSibling,Pe=0;ke;){if(ke.nodeType===8){var cn=ke.data;if(cn==="/$"){if(Pe===0){Wi=Es(ke.nextSibling);break e}Pe--}else cn!=="$"&&cn!=="$!"&&cn!=="$?"||Pe++}ke=ke.nextSibling}Wi=null}}else Wi=wi?Es(ke.stateNode.nextSibling):null;return!0}function ga(){for(var ke=Wi;ke;)ke=Es(ke.nextSibling)}function sa(){Wi=wi=null,qi=!1}function Pa(ke){Vi===null?Vi=[ke]:Vi.push(ke)}var Oa=Oe.ReactCurrentBatchConfig;function ea(ke,Pe,cn){if(ke=cn.ref,ke!==null&&typeof ke!="function"&&typeof ke!="object"){if(cn._owner){if(cn=cn._owner,cn){if(cn.tag!==1)throw Error(Se(309));var vn=cn.stateNode}if(!vn)throw Error(Se(147,ke));var Ln=vn,zn=""+ke;return Pe!==null&&Pe.ref!==null&&typeof Pe.ref=="function"&&Pe.ref._stringRef===zn?Pe.ref:(Pe=function(Zn){var fi=Ln.refs;Zn===null?delete fi[zn]:fi[zn]=Zn},Pe._stringRef=zn,Pe)}if(typeof ke!="string")throw Error(Se(284));if(!cn._owner)throw Error(Se(290,ke))}return ke}function Ua(ke,Pe){throw ke=Object.prototype.toString.call(Pe),Error(Se(31,ke==="[object Object]"?"object with keys {"+Object.keys(Pe).join(", ")+"}":ke))}function _s(ke){var Pe=ke._init;return Pe(ke._payload)}function Xa(ke){function Pe(Oi,Si){if(ke){var Ni=Oi.deletions;Ni===null?(Oi.deletions=[Si],Oi.flags|=16):Ni.push(Si)}}function cn(Oi,Si){if(!ke)return null;for(;Si!==null;)Pe(Oi,Si),Si=Si.sibling;return null}function vn(Oi,Si){for(Oi=new Map;Si!==null;)Si.key!==null?Oi.set(Si.key,Si):Oi.set(Si.index,Si),Si=Si.sibling;return Oi}function Ln(Oi,Si){return Oi=Sc(Oi,Si),Oi.index=0,Oi.sibling=null,Oi}function zn(Oi,Si,Ni){return Oi.index=Ni,ke?(Ni=Oi.alternate,Ni!==null?(Ni=Ni.index,Ni<Si?(Oi.flags|=2,Si):Ni):(Oi.flags|=2,Si)):(Oi.flags|=1048576,Si)}function Zn(Oi){return ke&&Oi.alternate===null&&(Oi.flags|=2),Oi}function fi(Oi,Si,Ni,hr){return Si===null||Si.tag!==6?(Si=Xu(Ni,Oi.mode,hr),Si.return=Oi,Si):(Si=Ln(Si,Ni),Si.return=Oi,Si)}function bi(Oi,Si,Ni,hr){var Ur=Ni.type;return Ur===rn?ir(Oi,Si,Ni.props.children,hr,Ni.key):Si!==null&&(Si.elementType===Ur||typeof Ur=="object"&&Ur!==null&&Ur.$$typeof===qe&&_s(Ur)===Si.type)?(hr=Ln(Si,Ni.props),hr.ref=ea(Oi,Si,Ni),hr.return=Oi,hr):(hr=ru(Ni.type,Ni.key,Ni.props,null,Oi.mode,hr),hr.ref=ea(Oi,Si,Ni),hr.return=Oi,hr)}function Di(Oi,Si,Ni,hr){return Si===null||Si.tag!==4||Si.stateNode.containerInfo!==Ni.containerInfo||Si.stateNode.implementation!==Ni.implementation?(Si=Gu(Ni,Oi.mode,hr),Si.return=Oi,Si):(Si=Ln(Si,Ni.children||[]),Si.return=Oi,Si)}function ir(Oi,Si,Ni,hr,Ur){return Si===null||Si.tag!==7?(Si=Wc(Ni,Oi.mode,hr,Ur),Si.return=Oi,Si):(Si=Ln(Si,Ni),Si.return=Oi,Si)}function lr(Oi,Si,Ni){if(typeof Si=="string"&&Si!==""||typeof Si=="number")return Si=Xu(""+Si,Oi.mode,Ni),Si.return=Oi,Si;if(typeof Si=="object"&&Si!==null){switch(Si.$$typeof){case Ce:return Ni=ru(Si.type,Si.key,Si.props,null,Oi.mode,Ni),Ni.ref=ea(Oi,null,Si),Ni.return=Oi,Ni;case St:return Si=Gu(Si,Oi.mode,Ni),Si.return=Oi,Si;case qe:var hr=Si._init;return lr(Oi,hr(Si._payload),Ni)}if(kn(Si)||De(Si))return Si=Wc(Si,Oi.mode,Ni,null),Si.return=Oi,Si;Ua(Oi,Si)}return null}function nr(Oi,Si,Ni,hr){var Ur=Si!==null?Si.key:null;if(typeof Ni=="string"&&Ni!==""||typeof Ni=="number")return Ur!==null?null:fi(Oi,Si,""+Ni,hr);if(typeof Ni=="object"&&Ni!==null){switch(Ni.$$typeof){case Ce:return Ni.key===Ur?bi(Oi,Si,Ni,hr):null;case St:return Ni.key===Ur?Di(Oi,Si,Ni,hr):null;case qe:return Ur=Ni._init,nr(Oi,Si,Ur(Ni._payload),hr)}if(kn(Ni)||De(Ni))return Ur!==null?null:ir(Oi,Si,Ni,hr,null);Ua(Oi,Ni)}return null}function Pr(Oi,Si,Ni,hr,Ur){if(typeof hr=="string"&&hr!==""||typeof hr=="number")return Oi=Oi.get(Ni)||null,fi(Si,Oi,""+hr,Ur);if(typeof hr=="object"&&hr!==null){switch(hr.$$typeof){case Ce:return Oi=Oi.get(hr.key===null?Ni:hr.key)||null,bi(Si,Oi,hr,Ur);case St:return Oi=Oi.get(hr.key===null?Ni:hr.key)||null,Di(Si,Oi,hr,Ur);case qe:var Yr=hr._init;return Pr(Oi,Si,Ni,Yr(hr._payload),Ur)}if(kn(hr)||De(hr))return Oi=Oi.get(Ni)||null,ir(Si,Oi,hr,Ur,null);Ua(Si,hr)}return null}function Mr(Oi,Si,Ni,hr){for(var Ur=null,Yr=null,Jr=Si,ta=Si=0,bs=null;Jr!==null&&ta<Ni.length;ta++){Jr.index>ta?(bs=Jr,Jr=null):bs=Jr.sibling;var ka=nr(Oi,Jr,Ni[ta],hr);if(ka===null){Jr===null&&(Jr=bs);break}ke&&Jr&&ka.alternate===null&&Pe(Oi,Jr),Si=zn(ka,Si,ta),Yr===null?Ur=ka:Yr.sibling=ka,Yr=ka,Jr=bs}if(ta===Ni.length)return cn(Oi,Jr),qi&&Ci(Oi,ta),Ur;if(Jr===null){for(;ta<Ni.length;ta++)Jr=lr(Oi,Ni[ta],hr),Jr!==null&&(Si=zn(Jr,Si,ta),Yr===null?Ur=Jr:Yr.sibling=Jr,Yr=Jr);return qi&&Ci(Oi,ta),Ur}for(Jr=vn(Oi,Jr);ta<Ni.length;ta++)bs=Pr(Jr,Oi,ta,Ni[ta],hr),bs!==null&&(ke&&bs.alternate!==null&&Jr.delete(bs.key===null?ta:bs.key),Si=zn(bs,Si,ta),Yr===null?Ur=bs:Yr.sibling=bs,Yr=bs);return ke&&Jr.forEach(function(Ac){return Pe(Oi,Ac)}),qi&&Ci(Oi,ta),Ur}function Br(Oi,Si,Ni,hr){var Ur=De(Ni);if(typeof Ur!="function")throw Error(Se(150));if(Ni=Ur.call(Ni),Ni==null)throw Error(Se(151));for(var Yr=Ur=null,Jr=Si,ta=Si=0,bs=null,ka=Ni.next();Jr!==null&&!ka.done;ta++,ka=Ni.next()){Jr.index>ta?(bs=Jr,Jr=null):bs=Jr.sibling;var Ac=nr(Oi,Jr,ka.value,hr);if(Ac===null){Jr===null&&(Jr=bs);break}ke&&Jr&&Ac.alternate===null&&Pe(Oi,Jr),Si=zn(Ac,Si,ta),Yr===null?Ur=Ac:Yr.sibling=Ac,Yr=Ac,Jr=bs}if(ka.done)return cn(Oi,Jr),qi&&Ci(Oi,ta),Ur;if(Jr===null){for(;!ka.done;ta++,ka=Ni.next())ka=lr(Oi,ka.value,hr),ka!==null&&(Si=zn(ka,Si,ta),Yr===null?Ur=ka:Yr.sibling=ka,Yr=ka);return qi&&Ci(Oi,ta),Ur}for(Jr=vn(Oi,Jr);!ka.done;ta++,ka=Ni.next())ka=Pr(Jr,Oi,ta,ka.value,hr),ka!==null&&(ke&&ka.alternate!==null&&Jr.delete(ka.key===null?ta:ka.key),Si=zn(ka,Si,ta),Yr===null?Ur=ka:Yr.sibling=ka,Yr=ka);return ke&&Jr.forEach(function(Od){return Pe(Oi,Od)}),qi&&Ci(Oi,ta),Ur}function ns(Oi,Si,Ni,hr){if(typeof Ni=="object"&&Ni!==null&&Ni.type===rn&&Ni.key===null&&(Ni=Ni.props.children),typeof Ni=="object"&&Ni!==null){switch(Ni.$$typeof){case Ce:e:{for(var Ur=Ni.key,Yr=Si;Yr!==null;){if(Yr.key===Ur){if(Ur=Ni.type,Ur===rn){if(Yr.tag===7){cn(Oi,Yr.sibling),Si=Ln(Yr,Ni.props.children),Si.return=Oi,Oi=Si;break e}}else if(Yr.elementType===Ur||typeof Ur=="object"&&Ur!==null&&Ur.$$typeof===qe&&_s(Ur)===Yr.type){cn(Oi,Yr.sibling),Si=Ln(Yr,Ni.props),Si.ref=ea(Oi,Yr,Ni),Si.return=Oi,Oi=Si;break e}cn(Oi,Yr);break}else Pe(Oi,Yr);Yr=Yr.sibling}Ni.type===rn?(Si=Wc(Ni.props.children,Oi.mode,hr,Ni.key),Si.return=Oi,Oi=Si):(hr=ru(Ni.type,Ni.key,Ni.props,null,Oi.mode,hr),hr.ref=ea(Oi,Si,Ni),hr.return=Oi,Oi=hr)}return Zn(Oi);case St:e:{for(Yr=Ni.key;Si!==null;){if(Si.key===Yr)if(Si.tag===4&&Si.stateNode.containerInfo===Ni.containerInfo&&Si.stateNode.implementation===Ni.implementation){cn(Oi,Si.sibling),Si=Ln(Si,Ni.children||[]),Si.return=Oi,Oi=Si;break e}else{cn(Oi,Si);break}else Pe(Oi,Si);Si=Si.sibling}Si=Gu(Ni,Oi.mode,hr),Si.return=Oi,Oi=Si}return Zn(Oi);case qe:return Yr=Ni._init,ns(Oi,Si,Yr(Ni._payload),hr)}if(kn(Ni))return Mr(Oi,Si,Ni,hr);if(De(Ni))return Br(Oi,Si,Ni,hr);Ua(Oi,Ni)}return typeof Ni=="string"&&Ni!==""||typeof Ni=="number"?(Ni=""+Ni,Si!==null&&Si.tag===6?(cn(Oi,Si.sibling),Si=Ln(Si,Ni),Si.return=Oi,Oi=Si):(cn(Oi,Si),Si=Xu(Ni,Oi.mode,hr),Si.return=Oi,Oi=Si),Zn(Oi)):cn(Oi,Si)}return ns}var Qa=Xa(!0),Aa=Xa(!1),gs=vo(null),ms=null,$a=null,es=null;function cs(){es=$a=ms=null}function Bs(ke){var Pe=gs.current;Ta(gs),ke._currentValue=Pe}function co(ke,Pe,cn){for(;ke!==null;){var vn=ke.alternate;if((ke.childLanes&Pe)!==Pe?(ke.childLanes|=Pe,vn!==null&&(vn.childLanes|=Pe)):vn!==null&&(vn.childLanes&Pe)!==Pe&&(vn.childLanes|=Pe),ke===cn)break;ke=ke.return}}function Ha(ke,Pe){ms=ke,es=$a=null,ke=ke.dependencies,ke!==null&&ke.firstContext!==null&&((ke.lanes&Pe)!==0&&(po=!0),ke.firstContext=null)}function Ya(ke){var Pe=ke._currentValue;if(es!==ke)if(ke={context:ke,memoizedValue:Pe,next:null},$a===null){if(ms===null)throw Error(Se(308));$a=ke,ms.dependencies={lanes:0,firstContext:ke}}else $a=$a.next=ke;return Pe}var Ys=null;function wl(ke){Ys===null?Ys=[ke]:Ys.push(ke)}function tl(ke,Pe,cn,vn){var Ln=Pe.interleaved;return Ln===null?(cn.next=cn,wl(Pe)):(cn.next=Ln.next,Ln.next=cn),Pe.interleaved=cn,Ca(ke,vn)}function Ca(ke,Pe){ke.lanes|=Pe;var cn=ke.alternate;for(cn!==null&&(cn.lanes|=Pe),cn=ke,ke=ke.return;ke!==null;)ke.childLanes|=Pe,cn=ke.alternate,cn!==null&&(cn.childLanes|=Pe),cn=ke,ke=ke.return;return cn.tag===3?cn.stateNode:null}var Do=!1;function Qc(ke){ke.updateQueue={baseState:ke.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function w0(ke,Pe){ke=ke.updateQueue,Pe.updateQueue===ke&&(Pe.updateQueue={baseState:ke.baseState,firstBaseUpdate:ke.firstBaseUpdate,lastBaseUpdate:ke.lastBaseUpdate,shared:ke.shared,effects:ke.effects})}function uo(ke,Pe){return{eventTime:ke,lane:Pe,tag:0,payload:null,callback:null,next:null}}function ho(ke,Pe,cn){var vn=ke.updateQueue;if(vn===null)return null;if(vn=vn.shared,(va&2)!==0){var Ln=vn.pending;return Ln===null?Pe.next=Pe:(Pe.next=Ln.next,Ln.next=Pe),vn.pending=Pe,Ca(ke,cn)}return Ln=vn.interleaved,Ln===null?(Pe.next=Pe,wl(vn)):(Pe.next=Ln.next,Ln.next=Pe),vn.interleaved=Pe,Ca(ke,cn)}function jl(ke,Pe,cn){if(Pe=Pe.updateQueue,Pe!==null&&(Pe=Pe.shared,(cn&4194240)!==0)){var vn=Pe.lanes;vn&=ke.pendingLanes,cn|=vn,Pe.lanes=cn,_o(ke,cn)}}function fo(ke,Pe){var cn=ke.updateQueue,vn=ke.alternate;if(vn!==null&&(vn=vn.updateQueue,cn===vn)){var Ln=null,zn=null;if(cn=cn.firstBaseUpdate,cn!==null){do{var Zn={eventTime:cn.eventTime,lane:cn.lane,tag:cn.tag,payload:cn.payload,callback:cn.callback,next:null};zn===null?Ln=zn=Zn:zn=zn.next=Zn,cn=cn.next}while(cn!==null);zn===null?Ln=zn=Pe:zn=zn.next=Pe}else Ln=zn=Pe;cn={baseState:vn.baseState,firstBaseUpdate:Ln,lastBaseUpdate:zn,shared:vn.shared,effects:vn.effects},ke.updateQueue=cn;return}ke=cn.lastBaseUpdate,ke===null?cn.firstBaseUpdate=Pe:ke.next=Pe,cn.lastBaseUpdate=Pe}function nl(ke,Pe,cn,vn){var Ln=ke.updateQueue;Do=!1;var zn=Ln.firstBaseUpdate,Zn=Ln.lastBaseUpdate,fi=Ln.shared.pending;if(fi!==null){Ln.shared.pending=null;var bi=fi,Di=bi.next;bi.next=null,Zn===null?zn=Di:Zn.next=Di,Zn=bi;var ir=ke.alternate;ir!==null&&(ir=ir.updateQueue,fi=ir.lastBaseUpdate,fi!==Zn&&(fi===null?ir.firstBaseUpdate=Di:fi.next=Di,ir.lastBaseUpdate=bi))}if(zn!==null){var lr=Ln.baseState;Zn=0,ir=Di=bi=null,fi=zn;do{var nr=fi.lane,Pr=fi.eventTime;if((vn&nr)===nr){ir!==null&&(ir=ir.next={eventTime:Pr,lane:0,tag:fi.tag,payload:fi.payload,callback:fi.callback,next:null});e:{var Mr=ke,Br=fi;switch(nr=Pe,Pr=cn,Br.tag){case 1:if(Mr=Br.payload,typeof Mr=="function"){lr=Mr.call(Pr,lr,nr);break e}lr=Mr;break e;case 3:Mr.flags=Mr.flags&-65537|128;case 0:if(Mr=Br.payload,nr=typeof Mr=="function"?Mr.call(Pr,lr,nr):Mr,nr==null)break e;lr=Ue({},lr,nr);break e;case 2:Do=!0}}fi.callback!==null&&fi.lane!==0&&(ke.flags|=64,nr=Ln.effects,nr===null?Ln.effects=[fi]:nr.push(fi))}else Pr={eventTime:Pr,lane:nr,tag:fi.tag,payload:fi.payload,callback:fi.callback,next:null},ir===null?(Di=ir=Pr,bi=lr):ir=ir.next=Pr,Zn|=nr;if(fi=fi.next,fi===null){if(fi=Ln.shared.pending,fi===null)break;nr=fi,fi=nr.next,nr.next=null,Ln.lastBaseUpdate=nr,Ln.shared.pending=null}}while(!0);if(ir===null&&(bi=lr),Ln.baseState=bi,Ln.firstBaseUpdate=Di,Ln.lastBaseUpdate=ir,Pe=Ln.shared.interleaved,Pe!==null){Ln=Pe;do Zn|=Ln.lane,Ln=Ln.next;while(Ln!==Pe)}else zn===null&&(Ln.shared.lanes=0);$c|=Zn,ke.lanes=Zn,ke.memoizedState=lr}}function Ul(ke,Pe,cn){if(ke=Pe.effects,Pe.effects=null,ke!==null)for(Pe=0;Pe<ke.length;Pe++){var vn=ke[Pe],Ln=vn.callback;if(Ln!==null){if(vn.callback=null,vn=cn,typeof Ln!="function")throw Error(Se(191,Ln));Ln.call(vn)}}}var hc={},Js=vo(hc),dc=vo(hc),vl=vo(hc);function il(ke){if(ke===hc)throw Error(Se(174));return ke}function fc(ke,Pe){switch(Ra(vl,Pe),Ra(dc,ke),Ra(Js,hc),ke=Pe.nodeType,ke){case 9:case 11:Pe=(Pe=Pe.documentElement)?Pe.namespaceURI:Un(null,"");break;default:ke=ke===8?Pe.parentNode:Pe,Pe=ke.namespaceURI||null,ke=ke.tagName,Pe=Un(Pe,ke)}Ta(Js),Ra(Js,Pe)}function Bo(){Ta(Js),Ta(dc),Ta(vl)}function j0(ke){il(vl.current);var Pe=il(Js.current),cn=Un(Pe,ke.type);Pe!==cn&&(Ra(dc,ke),Ra(Js,cn))}function v0(ke){dc.current===ke&&(Ta(Js),Ta(dc))}var Ma=vo(0);function So(ke){for(var Pe=ke;Pe!==null;){if(Pe.tag===13){var cn=Pe.memoizedState;if(cn!==null&&(cn=cn.dehydrated,cn===null||cn.data==="$?"||cn.data==="$!"))return Pe}else if(Pe.tag===19&&Pe.memoizedProps.revealOrder!==void 0){if((Pe.flags&128)!==0)return Pe}else if(Pe.child!==null){Pe.child.return=Pe,Pe=Pe.child;continue}if(Pe===ke)break;for(;Pe.sibling===null;){if(Pe.return===null||Pe.return===ke)return null;Pe=Pe.return}Pe.sibling.return=Pe.return,Pe=Pe.sibling}return null}var S0=[];function A0(){for(var ke=0;ke<S0.length;ke++)S0[ke]._workInProgressVersionPrimary=null;S0.length=0}var e0=Oe.ReactCurrentDispatcher,t0=Oe.ReactCurrentBatchConfig,jo=0,Da=null,Ja=null,Ga=null,pc=!1,rl=!1,gc=0,bu=0;function ts(){throw Error(Se(321))}function n0(ke,Pe){if(Pe===null)return!1;for(var cn=0;cn<Pe.length&&cn<ke.length;cn++)if(!wa(ke[cn],Pe[cn]))return!1;return!0}function Bc(ke,Pe,cn,vn,Ln,zn){if(jo=zn,Da=Pe,Pe.memoizedState=null,Pe.updateQueue=null,Pe.lanes=0,e0.current=ke===null||ke.memoizedState===null?rd:ad,ke=cn(vn,Ln),rl){zn=0;do{if(rl=!1,gc=0,25<=zn)throw Error(Se(301));zn+=1,Ga=Ja=null,Pe.updateQueue=null,e0.current=sd,ke=cn(vn,Ln)}while(rl)}if(e0.current=q0,Pe=Ja!==null&&Ja.next!==null,jo=0,Ga=Ja=Da=null,pc=!1,Pe)throw Error(Se(300));return ke}function Uo(){var ke=gc!==0;return gc=0,ke}function Ao(){var ke={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ga===null?Da.memoizedState=Ga=ke:Ga=Ga.next=ke,Ga}function Zs(){if(Ja===null){var ke=Da.alternate;ke=ke!==null?ke.memoizedState:null}else ke=Ja.next;var Pe=Ga===null?Da.memoizedState:Ga.next;if(Pe!==null)Ga=Pe,Ja=ke;else{if(ke===null)throw Error(Se(310));Ja=ke,ke={memoizedState:Ja.memoizedState,baseState:Ja.baseState,baseQueue:Ja.baseQueue,queue:Ja.queue,next:null},Ga===null?Da.memoizedState=Ga=ke:Ga=Ga.next=ke}return Ga}function jc(ke,Pe){return typeof Pe=="function"?Pe(ke):Pe}function i0(ke){var Pe=Zs(),cn=Pe.queue;if(cn===null)throw Error(Se(311));cn.lastRenderedReducer=ke;var vn=Ja,Ln=vn.baseQueue,zn=cn.pending;if(zn!==null){if(Ln!==null){var Zn=Ln.next;Ln.next=zn.next,zn.next=Zn}vn.baseQueue=Ln=zn,cn.pending=null}if(Ln!==null){zn=Ln.next,vn=vn.baseState;var fi=Zn=null,bi=null,Di=zn;do{var ir=Di.lane;if((jo&ir)===ir)bi!==null&&(bi=bi.next={lane:0,action:Di.action,hasEagerState:Di.hasEagerState,eagerState:Di.eagerState,next:null}),vn=Di.hasEagerState?Di.eagerState:ke(vn,Di.action);else{var lr={lane:ir,action:Di.action,hasEagerState:Di.hasEagerState,eagerState:Di.eagerState,next:null};bi===null?(fi=bi=lr,Zn=vn):bi=bi.next=lr,Da.lanes|=ir,$c|=ir}Di=Di.next}while(Di!==null&&Di!==zn);bi===null?Zn=vn:bi.next=fi,wa(vn,Pe.memoizedState)||(po=!0),Pe.memoizedState=vn,Pe.baseState=Zn,Pe.baseQueue=bi,cn.lastRenderedState=vn}if(ke=cn.interleaved,ke!==null){Ln=ke;do zn=Ln.lane,Da.lanes|=zn,$c|=zn,Ln=Ln.next;while(Ln!==ke)}else Ln===null&&(cn.lanes=0);return[Pe.memoizedState,cn.dispatch]}function Sl(ke){var Pe=Zs(),cn=Pe.queue;if(cn===null)throw Error(Se(311));cn.lastRenderedReducer=ke;var vn=cn.dispatch,Ln=cn.pending,zn=Pe.memoizedState;if(Ln!==null){cn.pending=null;var Zn=Ln=Ln.next;do zn=ke(zn,Zn.action),Zn=Zn.next;while(Zn!==Ln);wa(zn,Pe.memoizedState)||(po=!0),Pe.memoizedState=zn,Pe.baseQueue===null&&(Pe.baseState=zn),cn.lastRenderedState=zn}return[zn,vn]}function U0(){}function C0(ke,Pe){var cn=Da,vn=Zs(),Ln=Pe(),zn=!wa(vn.memoizedState,Ln);if(zn&&(vn.memoizedState=Ln,po=!0),vn=vn.queue,s0(H0.bind(null,cn,vn,ke),[ke]),vn.getSnapshot!==Pe||zn||Ga!==null&&Ga.memoizedState.tag&1){if(cn.flags|=2048,Qs(9,k0.bind(null,cn,vn,Ln,Pe),void 0,null),xs===null)throw Error(Se(349));(jo&30)!==0||$0(cn,Pe,Ln)}return Ln}function $0(ke,Pe,cn){ke.flags|=16384,ke={getSnapshot:Pe,value:cn},Pe=Da.updateQueue,Pe===null?(Pe={lastEffect:null,stores:null},Da.updateQueue=Pe,Pe.stores=[ke]):(cn=Pe.stores,cn===null?Pe.stores=[ke]:cn.push(ke))}function k0(ke,Pe,cn,vn){Pe.value=cn,Pe.getSnapshot=vn,mc(Pe)&&r0(ke)}function H0(ke,Pe,cn){return cn(function(){mc(Pe)&&r0(ke)})}function mc(ke){var Pe=ke.getSnapshot;ke=ke.value;try{var cn=Pe();return!wa(ke,cn)}catch{return!0}}function r0(ke){var Pe=Ca(ke,1);Pe!==null&&cl(Pe,ke,1,-1)}function Uc(ke){var Pe=Ao();return typeof ke=="function"&&(ke=ke()),Pe.memoizedState=Pe.baseState=ke,ke={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jc,lastRenderedState:ke},Pe.queue=ke,ke=ke.dispatch=id.bind(null,Da,ke),[Pe.memoizedState,ke]}function Qs(ke,Pe,cn,vn){return ke={tag:ke,create:Pe,destroy:cn,deps:vn,next:null},Pe=Da.updateQueue,Pe===null?(Pe={lastEffect:null,stores:null},Da.updateQueue=Pe,Pe.lastEffect=ke.next=ke):(cn=Pe.lastEffect,cn===null?Pe.lastEffect=ke.next=ke:(vn=cn.next,cn.next=ke,ke.next=vn,Pe.lastEffect=ke)),ke}function al(){return Zs().memoizedState}function Co(ke,Pe,cn,vn){var Ln=Ao();Da.flags|=ke,Ln.memoizedState=Qs(1|Pe,cn,void 0,vn===void 0?null:vn)}function $l(ke,Pe,cn,vn){var Ln=Zs();vn=vn===void 0?null:vn;var zn=void 0;if(Ja!==null){var Zn=Ja.memoizedState;if(zn=Zn.destroy,vn!==null&&n0(vn,Zn.deps)){Ln.memoizedState=Qs(Pe,cn,zn,vn);return}}Da.flags|=ke,Ln.memoizedState=Qs(1|Pe,cn,zn,vn)}function a0(ke,Pe){return Co(8390656,8,ke,Pe)}function s0(ke,Pe){return $l(2048,8,ke,Pe)}function z0(ke,Pe){return $l(4,2,ke,Pe)}function o0(ke,Pe){return $l(4,4,ke,Pe)}function l0(ke,Pe){if(typeof Pe=="function")return ke=ke(),Pe(ke),function(){Pe(null)};if(Pe!=null)return ke=ke(),Pe.current=ke,function(){Pe.current=null}}function Zu(ke,Pe,cn){return cn=cn!=null?cn.concat([ke]):null,$l(4,4,l0.bind(null,Pe,ke),cn)}function yu(){}function Qu(ke,Pe){var cn=Zs();Pe=Pe===void 0?null:Pe;var vn=cn.memoizedState;return vn!==null&&Pe!==null&&n0(Pe,vn[1])?vn[0]:(cn.memoizedState=[ke,Pe],ke)}function eh(ke,Pe){var cn=Zs();Pe=Pe===void 0?null:Pe;var vn=cn.memoizedState;return vn!==null&&Pe!==null&&n0(Pe,vn[1])?vn[0]:(ke=ke(),cn.memoizedState=[ke,Pe],ke)}function th(ke,Pe,cn){return(jo&21)===0?(ke.baseState&&(ke.baseState=!1,po=!0),ke.memoizedState=cn):(wa(cn,Pe)||(cn=zo(),Da.lanes|=cn,$c|=cn,ke.baseState=!0),Pe)}function ed(ke,Pe){var cn=ca;ca=cn!==0&&4>cn?cn:4,ke(!0);var vn=t0.transition;t0.transition={};try{ke(!1),Pe()}finally{ca=cn,t0.transition=vn}}function nh(){return Zs().memoizedState}function nd(ke,Pe,cn){var vn=wc(ke);if(cn={lane:vn,action:cn,hasEagerState:!1,eagerState:null,next:null},ih(ke))rh(Pe,cn);else if(cn=tl(ke,Pe,cn,vn),cn!==null){var Ln=to();cl(cn,ke,vn,Ln),ah(cn,Pe,vn)}}function id(ke,Pe,cn){var vn=wc(ke),Ln={lane:vn,action:cn,hasEagerState:!1,eagerState:null,next:null};if(ih(ke))rh(Pe,Ln);else{var zn=ke.alternate;if(ke.lanes===0&&(zn===null||zn.lanes===0)&&(zn=Pe.lastRenderedReducer,zn!==null))try{var Zn=Pe.lastRenderedState,fi=zn(Zn,cn);if(Ln.hasEagerState=!0,Ln.eagerState=fi,wa(fi,Zn)){var bi=Pe.interleaved;bi===null?(Ln.next=Ln,wl(Pe)):(Ln.next=bi.next,bi.next=Ln),Pe.interleaved=Ln;return}}catch{}finally{}cn=tl(ke,Pe,Ln,vn),cn!==null&&(Ln=to(),cl(cn,ke,vn,Ln),ah(cn,Pe,vn))}}function ih(ke){var Pe=ke.alternate;return ke===Da||Pe!==null&&Pe===Da}function rh(ke,Pe){rl=pc=!0;var cn=ke.pending;cn===null?Pe.next=Pe:(Pe.next=cn.next,cn.next=Pe),ke.pending=Pe}function ah(ke,Pe,cn){if((cn&4194240)!==0){var vn=Pe.lanes;vn&=ke.pendingLanes,cn|=vn,Pe.lanes=cn,_o(ke,cn)}}var q0={readContext:Ya,useCallback:ts,useContext:ts,useEffect:ts,useImperativeHandle:ts,useInsertionEffect:ts,useLayoutEffect:ts,useMemo:ts,useReducer:ts,useRef:ts,useState:ts,useDebugValue:ts,useDeferredValue:ts,useTransition:ts,useMutableSource:ts,useSyncExternalStore:ts,useId:ts,unstable_isNewReconciler:!1},rd={readContext:Ya,useCallback:function(ke,Pe){return Ao().memoizedState=[ke,Pe===void 0?null:Pe],ke},useContext:Ya,useEffect:a0,useImperativeHandle:function(ke,Pe,cn){return cn=cn!=null?cn.concat([ke]):null,Co(4194308,4,l0.bind(null,Pe,ke),cn)},useLayoutEffect:function(ke,Pe){return Co(4194308,4,ke,Pe)},useInsertionEffect:function(ke,Pe){return Co(4,2,ke,Pe)},useMemo:function(ke,Pe){var cn=Ao();return Pe=Pe===void 0?null:Pe,ke=ke(),cn.memoizedState=[ke,Pe],ke},useReducer:function(ke,Pe,cn){var vn=Ao();return Pe=cn!==void 0?cn(Pe):Pe,vn.memoizedState=vn.baseState=Pe,ke={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ke,lastRenderedState:Pe},vn.queue=ke,ke=ke.dispatch=nd.bind(null,Da,ke),[vn.memoizedState,ke]},useRef:function(ke){var Pe=Ao();return ke={current:ke},Pe.memoizedState=ke},useState:Uc,useDebugValue:yu,useDeferredValue:function(ke){return Ao().memoizedState=ke},useTransition:function(){var ke=Uc(!1),Pe=ke[0];return ke=ed.bind(null,ke[1]),Ao().memoizedState=ke,[Pe,ke]},useMutableSource:function(){},useSyncExternalStore:function(ke,Pe,cn){var vn=Da,Ln=Ao();if(qi){if(cn===void 0)throw Error(Se(407));cn=cn()}else{if(cn=Pe(),xs===null)throw Error(Se(349));(jo&30)!==0||$0(vn,Pe,cn)}Ln.memoizedState=cn;var zn={value:cn,getSnapshot:Pe};return Ln.queue=zn,a0(H0.bind(null,vn,zn,ke),[ke]),vn.flags|=2048,Qs(9,k0.bind(null,vn,zn,cn,Pe),void 0,null),cn},useId:function(){var ke=Ao(),Pe=xs.identifierPrefix;if(qi){var cn=Fi,vn=Pi;cn=(vn&~(1<<32-yr(vn)-1)).toString(32)+cn,Pe=":"+Pe+"R"+cn,cn=gc++,0<cn&&(Pe+="H"+cn.toString(32)),Pe+=":"}else cn=bu++,Pe=":"+Pe+"r"+cn.toString(32)+":";return ke.memoizedState=Pe},unstable_isNewReconciler:!1},ad={readContext:Ya,useCallback:Qu,useContext:Ya,useEffect:s0,useImperativeHandle:Zu,useInsertionEffect:z0,useLayoutEffect:o0,useMemo:eh,useReducer:i0,useRef:al,useState:function(){return i0(jc)},useDebugValue:yu,useDeferredValue:function(ke){var Pe=Zs();return th(Pe,Ja.memoizedState,ke)},useTransition:function(){var ke=i0(jc)[0],Pe=Zs().memoizedState;return[ke,Pe]},useMutableSource:U0,useSyncExternalStore:C0,useId:nh,unstable_isNewReconciler:!1},sd={readContext:Ya,useCallback:Qu,useContext:Ya,useEffect:s0,useImperativeHandle:Zu,useInsertionEffect:z0,useLayoutEffect:o0,useMemo:eh,useReducer:Sl,useRef:al,useState:function(){return Sl(jc)},useDebugValue:yu,useDeferredValue:function(ke){var Pe=Zs();return Ja===null?Pe.memoizedState=ke:th(Pe,Ja.memoizedState,ke)},useTransition:function(){var ke=Sl(jc)[0],Pe=Zs().memoizedState;return[ke,Pe]},useMutableSource:U0,useSyncExternalStore:C0,useId:nh,unstable_isNewReconciler:!1};function sl(ke,Pe){if(ke&&ke.defaultProps){Pe=Ue({},Pe),ke=ke.defaultProps;for(var cn in ke)Pe[cn]===void 0&&(Pe[cn]=ke[cn]);return Pe}return Pe}function wu(ke,Pe,cn,vn){Pe=ke.memoizedState,cn=cn(vn,Pe),cn=cn==null?Pe:Ue({},Pe,cn),ke.memoizedState=cn,ke.lanes===0&&(ke.updateQueue.baseState=cn)}var W0={isMounted:function(ke){return(ke=ke._reactInternals)?Ar(ke)===ke:!1},enqueueSetState:function(ke,Pe,cn){ke=ke._reactInternals;var vn=to(),Ln=wc(ke),zn=uo(vn,Ln);zn.payload=Pe,cn!=null&&(zn.callback=cn),Pe=ho(ke,zn,Ln),Pe!==null&&(cl(Pe,ke,Ln,vn),jl(Pe,ke,Ln))},enqueueReplaceState:function(ke,Pe,cn){ke=ke._reactInternals;var vn=to(),Ln=wc(ke),zn=uo(vn,Ln);zn.tag=1,zn.payload=Pe,cn!=null&&(zn.callback=cn),Pe=ho(ke,zn,Ln),Pe!==null&&(cl(Pe,ke,Ln,vn),jl(Pe,ke,Ln))},enqueueForceUpdate:function(ke,Pe){ke=ke._reactInternals;var cn=to(),vn=wc(ke),Ln=uo(cn,vn);Ln.tag=2,Pe!=null&&(Ln.callback=Pe),Pe=ho(ke,Ln,vn),Pe!==null&&(cl(Pe,ke,vn,cn),jl(Pe,ke,vn))}};function sh(ke,Pe,cn,vn,Ln,zn,Zn){return ke=ke.stateNode,typeof ke.shouldComponentUpdate=="function"?ke.shouldComponentUpdate(vn,zn,Zn):Pe.prototype&&Pe.prototype.isPureReactComponent?!Ko(cn,vn)||!Ko(Ln,zn):!0}function oh(ke,Pe,cn){var vn=!1,Ln=yl,zn=Pe.contextType;return typeof zn=="object"&&zn!==null?zn=Ya(zn):(Ln=Ds(Pe)?Dl:ls.current,vn=Pe.contextTypes,zn=(vn=vn!=null)?uc(ke,Ln):yl),Pe=new Pe(cn,zn),ke.memoizedState=Pe.state!==null&&Pe.state!==void 0?Pe.state:null,Pe.updater=W0,ke.stateNode=Pe,Pe._reactInternals=ke,vn&&(ke=ke.stateNode,ke.__reactInternalMemoizedUnmaskedChildContext=Ln,ke.__reactInternalMemoizedMaskedChildContext=zn),Pe}function lh(ke,Pe,cn,vn){ke=Pe.state,typeof Pe.componentWillReceiveProps=="function"&&Pe.componentWillReceiveProps(cn,vn),typeof Pe.UNSAFE_componentWillReceiveProps=="function"&&Pe.UNSAFE_componentWillReceiveProps(cn,vn),Pe.state!==ke&&W0.enqueueReplaceState(Pe,Pe.state,null)}function vu(ke,Pe,cn,vn){var Ln=ke.stateNode;Ln.props=cn,Ln.state=ke.memoizedState,Ln.refs={},Qc(ke);var zn=Pe.contextType;typeof zn=="object"&&zn!==null?Ln.context=Ya(zn):(zn=Ds(Pe)?Dl:ls.current,Ln.context=uc(ke,zn)),Ln.state=ke.memoizedState,zn=Pe.getDerivedStateFromProps,typeof zn=="function"&&(wu(ke,Pe,zn,cn),Ln.state=ke.memoizedState),typeof Pe.getDerivedStateFromProps=="function"||typeof Ln.getSnapshotBeforeUpdate=="function"||typeof Ln.UNSAFE_componentWillMount!="function"&&typeof Ln.componentWillMount!="function"||(Pe=Ln.state,typeof Ln.componentWillMount=="function"&&Ln.componentWillMount(),typeof Ln.UNSAFE_componentWillMount=="function"&&Ln.UNSAFE_componentWillMount(),Pe!==Ln.state&&W0.enqueueReplaceState(Ln,Ln.state,null),nl(ke,cn,Ln,vn),Ln.state=ke.memoizedState),typeof Ln.componentDidMount=="function"&&(ke.flags|=4194308)}function c0(ke,Pe){try{var cn="",vn=Pe;do cn+=an(vn),vn=vn.return;while(vn);var Ln=cn}catch(zn){Ln=`
Error generating stack: `+zn.message+`
`+zn.stack}return{value:ke,source:Pe,stack:Ln,digest:null}}function Su(ke,Pe,cn){return{value:ke,source:null,stack:cn??null,digest:Pe??null}}function Au(ke,Pe){try{console.error(Pe.value)}catch(cn){setTimeout(function(){throw cn})}}var od=typeof WeakMap=="function"?WeakMap:Map;function ch(ke,Pe,cn){cn=uo(-1,cn),cn.tag=3,cn.payload={element:null};var vn=Pe.value;return cn.callback=function(){Z0||(Z0=!0,Bu=vn),Au(ke,Pe)},cn}function uh(ke,Pe,cn){cn=uo(-1,cn),cn.tag=3;var vn=ke.type.getDerivedStateFromError;if(typeof vn=="function"){var Ln=Pe.value;cn.payload=function(){return vn(Ln)},cn.callback=function(){Au(ke,Pe)}}var zn=ke.stateNode;return zn!==null&&typeof zn.componentDidCatch=="function"&&(cn.callback=function(){Au(ke,Pe),typeof vn!="function"&&(bc===null?bc=new Set([this]):bc.add(this));var Zn=Pe.stack;this.componentDidCatch(Pe.value,{componentStack:Zn!==null?Zn:""})}),cn}function hh(ke,Pe,cn){var vn=ke.pingCache;if(vn===null){vn=ke.pingCache=new od;var Ln=new Set;vn.set(Pe,Ln)}else Ln=vn.get(Pe),Ln===void 0&&(Ln=new Set,vn.set(Pe,Ln));Ln.has(cn)||(Ln.add(cn),ke=Sd.bind(null,ke,Pe,cn),Pe.then(ke,ke))}function dh(ke){do{var Pe;if((Pe=ke.tag===13)&&(Pe=ke.memoizedState,Pe=Pe!==null?Pe.dehydrated!==null:!0),Pe)return ke;ke=ke.return}while(ke!==null);return null}function fh(ke,Pe,cn,vn,Ln){return(ke.mode&1)===0?(ke===Pe?ke.flags|=65536:(ke.flags|=128,cn.flags|=131072,cn.flags&=-52805,cn.tag===1&&(cn.alternate===null?cn.tag=17:(Pe=uo(-1,1),Pe.tag=2,ho(cn,Pe,1))),cn.lanes|=1),ke):(ke.flags|=65536,ke.lanes=Ln,ke)}var ld=Oe.ReactCurrentOwner,po=!1;function eo(ke,Pe,cn,vn){Pe.child=ke===null?Aa(Pe,null,cn,vn):Qa(Pe,ke.child,cn,vn)}function ph(ke,Pe,cn,vn,Ln){cn=cn.render;var zn=Pe.ref;return Ha(Pe,Ln),vn=Bc(ke,Pe,cn,vn,zn,Ln),cn=Uo(),ke!==null&&!po?(Pe.updateQueue=ke.updateQueue,Pe.flags&=-2053,ke.lanes&=~Ln,Hl(ke,Pe,Ln)):(qi&&cn&&ji(Pe),Pe.flags|=1,eo(ke,Pe,vn,Ln),Pe.child)}function gh(ke,Pe,cn,vn,Ln){if(ke===null){var zn=cn.type;return typeof zn=="function"&&!Wu(zn)&&zn.defaultProps===void 0&&cn.compare===null&&cn.defaultProps===void 0?(Pe.tag=15,Pe.type=zn,mh(ke,Pe,zn,vn,Ln)):(ke=ru(cn.type,null,vn,Pe,Pe.mode,Ln),ke.ref=Pe.ref,ke.return=Pe,Pe.child=ke)}if(zn=ke.child,(ke.lanes&Ln)===0){var Zn=zn.memoizedProps;if(cn=cn.compare,cn=cn!==null?cn:Ko,cn(Zn,vn)&&ke.ref===Pe.ref)return Hl(ke,Pe,Ln)}return Pe.flags|=1,ke=Sc(zn,vn),ke.ref=Pe.ref,ke.return=Pe,Pe.child=ke}function mh(ke,Pe,cn,vn,Ln){if(ke!==null){var zn=ke.memoizedProps;if(Ko(zn,vn)&&ke.ref===Pe.ref)if(po=!1,Pe.pendingProps=vn=zn,(ke.lanes&Ln)!==0)(ke.flags&131072)!==0&&(po=!0);else return Pe.lanes=ke.lanes,Hl(ke,Pe,Ln)}return Cu(ke,Pe,cn,vn,Ln)}function xh(ke,Pe,cn){var vn=Pe.pendingProps,Ln=vn.children,zn=ke!==null?ke.memoizedState:null;if(vn.mode==="hidden")if((Pe.mode&1)===0)Pe.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ra(h0,ko),ko|=cn;else{if((cn&1073741824)===0)return ke=zn!==null?zn.baseLanes|cn:cn,Pe.lanes=Pe.childLanes=1073741824,Pe.memoizedState={baseLanes:ke,cachePool:null,transitions:null},Pe.updateQueue=null,Ra(h0,ko),ko|=ke,null;Pe.memoizedState={baseLanes:0,cachePool:null,transitions:null},vn=zn!==null?zn.baseLanes:cn,Ra(h0,ko),ko|=vn}else zn!==null?(vn=zn.baseLanes|cn,Pe.memoizedState=null):vn=cn,Ra(h0,ko),ko|=vn;return eo(ke,Pe,Ln,cn),Pe.child}function bh(ke,Pe){var cn=Pe.ref;(ke===null&&cn!==null||ke!==null&&ke.ref!==cn)&&(Pe.flags|=512,Pe.flags|=2097152)}function Cu(ke,Pe,cn,vn,Ln){var zn=Ds(cn)?Dl:ls.current;return zn=uc(Pe,zn),Ha(Pe,Ln),cn=Bc(ke,Pe,cn,vn,zn,Ln),vn=Uo(),ke!==null&&!po?(Pe.updateQueue=ke.updateQueue,Pe.flags&=-2053,ke.lanes&=~Ln,Hl(ke,Pe,Ln)):(qi&&vn&&ji(Pe),Pe.flags|=1,eo(ke,Pe,cn,Ln),Pe.child)}function yh(ke,Pe,cn,vn,Ln){if(Ds(cn)){var zn=!0;Bl(Pe)}else zn=!1;if(Ha(Pe,Ln),Pe.stateNode===null)G0(ke,Pe),oh(Pe,cn,vn),vu(Pe,cn,vn,Ln),vn=!0;else if(ke===null){var Zn=Pe.stateNode,fi=Pe.memoizedProps;Zn.props=fi;var bi=Zn.context,Di=cn.contextType;typeof Di=="object"&&Di!==null?Di=Ya(Di):(Di=Ds(cn)?Dl:ls.current,Di=uc(Pe,Di));var ir=cn.getDerivedStateFromProps,lr=typeof ir=="function"||typeof Zn.getSnapshotBeforeUpdate=="function";lr||typeof Zn.UNSAFE_componentWillReceiveProps!="function"&&typeof Zn.componentWillReceiveProps!="function"||(fi!==vn||bi!==Di)&&lh(Pe,Zn,vn,Di),Do=!1;var nr=Pe.memoizedState;Zn.state=nr,nl(Pe,vn,Zn,Ln),bi=Pe.memoizedState,fi!==vn||nr!==bi||Ms.current||Do?(typeof ir=="function"&&(wu(Pe,cn,ir,vn),bi=Pe.memoizedState),(fi=Do||sh(Pe,cn,fi,vn,nr,bi,Di))?(lr||typeof Zn.UNSAFE_componentWillMount!="function"&&typeof Zn.componentWillMount!="function"||(typeof Zn.componentWillMount=="function"&&Zn.componentWillMount(),typeof Zn.UNSAFE_componentWillMount=="function"&&Zn.UNSAFE_componentWillMount()),typeof Zn.componentDidMount=="function"&&(Pe.flags|=4194308)):(typeof Zn.componentDidMount=="function"&&(Pe.flags|=4194308),Pe.memoizedProps=vn,Pe.memoizedState=bi),Zn.props=vn,Zn.state=bi,Zn.context=Di,vn=fi):(typeof Zn.componentDidMount=="function"&&(Pe.flags|=4194308),vn=!1)}else{Zn=Pe.stateNode,w0(ke,Pe),fi=Pe.memoizedProps,Di=Pe.type===Pe.elementType?fi:sl(Pe.type,fi),Zn.props=Di,lr=Pe.pendingProps,nr=Zn.context,bi=cn.contextType,typeof bi=="object"&&bi!==null?bi=Ya(bi):(bi=Ds(cn)?Dl:ls.current,bi=uc(Pe,bi));var Pr=cn.getDerivedStateFromProps;(ir=typeof Pr=="function"||typeof Zn.getSnapshotBeforeUpdate=="function")||typeof Zn.UNSAFE_componentWillReceiveProps!="function"&&typeof Zn.componentWillReceiveProps!="function"||(fi!==lr||nr!==bi)&&lh(Pe,Zn,vn,bi),Do=!1,nr=Pe.memoizedState,Zn.state=nr,nl(Pe,vn,Zn,Ln);var Mr=Pe.memoizedState;fi!==lr||nr!==Mr||Ms.current||Do?(typeof Pr=="function"&&(wu(Pe,cn,Pr,vn),Mr=Pe.memoizedState),(Di=Do||sh(Pe,cn,Di,vn,nr,Mr,bi)||!1)?(ir||typeof Zn.UNSAFE_componentWillUpdate!="function"&&typeof Zn.componentWillUpdate!="function"||(typeof Zn.componentWillUpdate=="function"&&Zn.componentWillUpdate(vn,Mr,bi),typeof Zn.UNSAFE_componentWillUpdate=="function"&&Zn.UNSAFE_componentWillUpdate(vn,Mr,bi)),typeof Zn.componentDidUpdate=="function"&&(Pe.flags|=4),typeof Zn.getSnapshotBeforeUpdate=="function"&&(Pe.flags|=1024)):(typeof Zn.componentDidUpdate!="function"||fi===ke.memoizedProps&&nr===ke.memoizedState||(Pe.flags|=4),typeof Zn.getSnapshotBeforeUpdate!="function"||fi===ke.memoizedProps&&nr===ke.memoizedState||(Pe.flags|=1024),Pe.memoizedProps=vn,Pe.memoizedState=Mr),Zn.props=vn,Zn.state=Mr,Zn.context=bi,vn=Di):(typeof Zn.componentDidUpdate!="function"||fi===ke.memoizedProps&&nr===ke.memoizedState||(Pe.flags|=4),typeof Zn.getSnapshotBeforeUpdate!="function"||fi===ke.memoizedProps&&nr===ke.memoizedState||(Pe.flags|=1024),vn=!1)}return ku(ke,Pe,cn,vn,zn,Ln)}function ku(ke,Pe,cn,vn,Ln,zn){bh(ke,Pe);var Zn=(Pe.flags&128)!==0;if(!vn&&!Zn)return Ln&&B0(Pe,cn,!1),Hl(ke,Pe,zn);vn=Pe.stateNode,ld.current=Pe;var fi=Zn&&typeof cn.getDerivedStateFromError!="function"?null:vn.render();return Pe.flags|=1,ke!==null&&Zn?(Pe.child=Qa(Pe,ke.child,null,zn),Pe.child=Qa(Pe,null,fi,zn)):eo(ke,Pe,fi,zn),Pe.memoizedState=vn.state,Ln&&B0(Pe,cn,!0),Pe.child}function wh(ke){var Pe=ke.stateNode;Pe.pendingContext?D0(ke,Pe.pendingContext,Pe.pendingContext!==Pe.context):Pe.context&&D0(ke,Pe.context,!1),fc(ke,Pe.containerInfo)}function vh(ke,Pe,cn,vn,Ln){return sa(),Pa(Ln),Pe.flags|=256,eo(ke,Pe,cn,vn),Pe.child}var Eu={dehydrated:null,treeContext:null,retryLane:0};function _u(ke){return{baseLanes:ke,cachePool:null,transitions:null}}function Sh(ke,Pe,cn){var vn=Pe.pendingProps,Ln=Ma.current,zn=!1,Zn=(Pe.flags&128)!==0,fi;if((fi=Zn)||(fi=ke!==null&&ke.memoizedState===null?!1:(Ln&2)!==0),fi?(zn=!0,Pe.flags&=-129):(ke===null||ke.memoizedState!==null)&&(Ln|=1),Ra(Ma,Ln&1),ke===null)return wr(Pe),ke=Pe.memoizedState,ke!==null&&(ke=ke.dehydrated,ke!==null)?((Pe.mode&1)===0?Pe.lanes=1:ke.data==="$!"?Pe.lanes=8:Pe.lanes=1073741824,null):(Zn=vn.children,ke=vn.fallback,zn?(vn=Pe.mode,zn=Pe.child,Zn={mode:"hidden",children:Zn},(vn&1)===0&&zn!==null?(zn.childLanes=0,zn.pendingProps=Zn):zn=au(Zn,vn,0,null),ke=Wc(ke,vn,cn,null),zn.return=Pe,ke.return=Pe,zn.sibling=ke,Pe.child=zn,Pe.child.memoizedState=_u(cn),Pe.memoizedState=Eu,ke):Iu(Pe,Zn));if(Ln=ke.memoizedState,Ln!==null&&(fi=Ln.dehydrated,fi!==null))return cd(ke,Pe,Zn,vn,fi,Ln,cn);if(zn){zn=vn.fallback,Zn=Pe.mode,Ln=ke.child,fi=Ln.sibling;var bi={mode:"hidden",children:vn.children};return(Zn&1)===0&&Pe.child!==Ln?(vn=Pe.child,vn.childLanes=0,vn.pendingProps=bi,Pe.deletions=null):(vn=Sc(Ln,bi),vn.subtreeFlags=Ln.subtreeFlags&14680064),fi!==null?zn=Sc(fi,zn):(zn=Wc(zn,Zn,cn,null),zn.flags|=2),zn.return=Pe,vn.return=Pe,vn.sibling=zn,Pe.child=vn,vn=zn,zn=Pe.child,Zn=ke.child.memoizedState,Zn=Zn===null?_u(cn):{baseLanes:Zn.baseLanes|cn,cachePool:null,transitions:Zn.transitions},zn.memoizedState=Zn,zn.childLanes=ke.childLanes&~cn,Pe.memoizedState=Eu,vn}return zn=ke.child,ke=zn.sibling,vn=Sc(zn,{mode:"visible",children:vn.children}),(Pe.mode&1)===0&&(vn.lanes=cn),vn.return=Pe,vn.sibling=null,ke!==null&&(cn=Pe.deletions,cn===null?(Pe.deletions=[ke],Pe.flags|=16):cn.push(ke)),Pe.child=vn,Pe.memoizedState=null,vn}function Iu(ke,Pe){return Pe=au({mode:"visible",children:Pe},ke.mode,0,null),Pe.return=ke,ke.child=Pe}function X0(ke,Pe,cn,vn){return vn!==null&&Pa(vn),Qa(Pe,ke.child,null,cn),ke=Iu(Pe,Pe.pendingProps.children),ke.flags|=2,Pe.memoizedState=null,ke}function cd(ke,Pe,cn,vn,Ln,zn,Zn){if(cn)return Pe.flags&256?(Pe.flags&=-257,vn=Su(Error(Se(422))),X0(ke,Pe,Zn,vn)):Pe.memoizedState!==null?(Pe.child=ke.child,Pe.flags|=128,null):(zn=vn.fallback,Ln=Pe.mode,vn=au({mode:"visible",children:vn.children},Ln,0,null),zn=Wc(zn,Ln,Zn,null),zn.flags|=2,vn.return=Pe,zn.return=Pe,vn.sibling=zn,Pe.child=vn,(Pe.mode&1)!==0&&Qa(Pe,ke.child,null,Zn),Pe.child.memoizedState=_u(Zn),Pe.memoizedState=Eu,zn);if((Pe.mode&1)===0)return X0(ke,Pe,Zn,null);if(Ln.data==="$!"){if(vn=Ln.nextSibling&&Ln.nextSibling.dataset,vn)var fi=vn.dgst;return vn=fi,zn=Error(Se(419)),vn=Su(zn,vn,void 0),X0(ke,Pe,Zn,vn)}if(fi=(Zn&ke.childLanes)!==0,po||fi){if(vn=xs,vn!==null){switch(Zn&-Zn){case 4:Ln=2;break;case 16:Ln=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Ln=32;break;case 536870912:Ln=268435456;break;default:Ln=0}Ln=(Ln&(vn.suspendedLanes|Zn))!==0?0:Ln,Ln!==0&&Ln!==zn.retryLane&&(zn.retryLane=Ln,Ca(ke,Ln),cl(vn,ke,Ln,-1))}return qu(),vn=Su(Error(Se(421))),X0(ke,Pe,Zn,vn)}return Ln.data==="$?"?(Pe.flags|=128,Pe.child=ke.child,Pe=Ad.bind(null,ke),Ln._reactRetry=Pe,null):(ke=zn.treeContext,Wi=Es(Ln.nextSibling),wi=Pe,qi=!0,Vi=null,ke!==null&&(ii[oi++]=Pi,ii[oi++]=Fi,ii[oi++]=xi,Pi=ke.id,Fi=ke.overflow,xi=Pe),Pe=Iu(Pe,vn.children),Pe.flags|=4096,Pe)}function Ah(ke,Pe,cn){ke.lanes|=Pe;var vn=ke.alternate;vn!==null&&(vn.lanes|=Pe),co(ke.return,Pe,cn)}function Tu(ke,Pe,cn,vn,Ln){var zn=ke.memoizedState;zn===null?ke.memoizedState={isBackwards:Pe,rendering:null,renderingStartTime:0,last:vn,tail:cn,tailMode:Ln}:(zn.isBackwards=Pe,zn.rendering=null,zn.renderingStartTime=0,zn.last=vn,zn.tail=cn,zn.tailMode=Ln)}function Ch(ke,Pe,cn){var vn=Pe.pendingProps,Ln=vn.revealOrder,zn=vn.tail;if(eo(ke,Pe,vn.children,cn),vn=Ma.current,(vn&2)!==0)vn=vn&1|2,Pe.flags|=128;else{if(ke!==null&&(ke.flags&128)!==0)e:for(ke=Pe.child;ke!==null;){if(ke.tag===13)ke.memoizedState!==null&&Ah(ke,cn,Pe);else if(ke.tag===19)Ah(ke,cn,Pe);else if(ke.child!==null){ke.child.return=ke,ke=ke.child;continue}if(ke===Pe)break e;for(;ke.sibling===null;){if(ke.return===null||ke.return===Pe)break e;ke=ke.return}ke.sibling.return=ke.return,ke=ke.sibling}vn&=1}if(Ra(Ma,vn),(Pe.mode&1)===0)Pe.memoizedState=null;else switch(Ln){case"forwards":for(cn=Pe.child,Ln=null;cn!==null;)ke=cn.alternate,ke!==null&&So(ke)===null&&(Ln=cn),cn=cn.sibling;cn=Ln,cn===null?(Ln=Pe.child,Pe.child=null):(Ln=cn.sibling,cn.sibling=null),Tu(Pe,!1,Ln,cn,zn);break;case"backwards":for(cn=null,Ln=Pe.child,Pe.child=null;Ln!==null;){if(ke=Ln.alternate,ke!==null&&So(ke)===null){Pe.child=Ln;break}ke=Ln.sibling,Ln.sibling=cn,cn=Ln,Ln=ke}Tu(Pe,!0,cn,null,zn);break;case"together":Tu(Pe,!1,null,null,void 0);break;default:Pe.memoizedState=null}return Pe.child}function G0(ke,Pe){(Pe.mode&1)===0&&ke!==null&&(ke.alternate=null,Pe.alternate=null,Pe.flags|=2)}function Hl(ke,Pe,cn){if(ke!==null&&(Pe.dependencies=ke.dependencies),$c|=Pe.lanes,(cn&Pe.childLanes)===0)return null;if(ke!==null&&Pe.child!==ke.child)throw Error(Se(153));if(Pe.child!==null){for(ke=Pe.child,cn=Sc(ke,ke.pendingProps),Pe.child=cn,cn.return=Pe;ke.sibling!==null;)ke=ke.sibling,cn=cn.sibling=Sc(ke,ke.pendingProps),cn.return=Pe;cn.sibling=null}return Pe.child}function ud(ke,Pe,cn){switch(Pe.tag){case 3:wh(Pe),sa();break;case 5:j0(Pe);break;case 1:Ds(Pe.type)&&Bl(Pe);break;case 4:fc(Pe,Pe.stateNode.containerInfo);break;case 10:var vn=Pe.type._context,Ln=Pe.memoizedProps.value;Ra(gs,vn._currentValue),vn._currentValue=Ln;break;case 13:if(vn=Pe.memoizedState,vn!==null)return vn.dehydrated!==null?(Ra(Ma,Ma.current&1),Pe.flags|=128,null):(cn&Pe.child.childLanes)!==0?Sh(ke,Pe,cn):(Ra(Ma,Ma.current&1),ke=Hl(ke,Pe,cn),ke!==null?ke.sibling:null);Ra(Ma,Ma.current&1);break;case 19:if(vn=(cn&Pe.childLanes)!==0,(ke.flags&128)!==0){if(vn)return Ch(ke,Pe,cn);Pe.flags|=128}if(Ln=Pe.memoizedState,Ln!==null&&(Ln.rendering=null,Ln.tail=null,Ln.lastEffect=null),Ra(Ma,Ma.current),vn)break;return null;case 22:case 23:return Pe.lanes=0,xh(ke,Pe,cn)}return Hl(ke,Pe,cn)}var kh,Pu,Eh,_h;kh=function(ke,Pe){for(var cn=Pe.child;cn!==null;){if(cn.tag===5||cn.tag===6)ke.appendChild(cn.stateNode);else if(cn.tag!==4&&cn.child!==null){cn.child.return=cn,cn=cn.child;continue}if(cn===Pe)break;for(;cn.sibling===null;){if(cn.return===null||cn.return===Pe)return;cn=cn.return}cn.sibling.return=cn.return,cn=cn.sibling}},Pu=function(){},Eh=function(ke,Pe,cn,vn){var Ln=ke.memoizedProps;if(Ln!==vn){ke=Pe.stateNode,il(Js.current);var zn=null;switch(cn){case"input":Ln=Nn(ke,Ln),vn=Nn(ke,vn),zn=[];break;case"select":Ln=Ue({},Ln,{value:void 0}),vn=Ue({},vn,{value:void 0}),zn=[];break;case"textarea":Ln=On(ke,Ln),vn=On(ke,vn),zn=[];break;default:typeof Ln.onClick!="function"&&typeof vn.onClick=="function"&&(ke.onclick=sc)}Qn(cn,vn);var Zn;cn=null;for(Di in Ln)if(!vn.hasOwnProperty(Di)&&Ln.hasOwnProperty(Di)&&Ln[Di]!=null)if(Di==="style"){var fi=Ln[Di];for(Zn in fi)fi.hasOwnProperty(Zn)&&(cn||(cn={}),cn[Zn]="")}else Di!=="dangerouslySetInnerHTML"&&Di!=="children"&&Di!=="suppressContentEditableWarning"&&Di!=="suppressHydrationWarning"&&Di!=="autoFocus"&&(Fe.hasOwnProperty(Di)?zn||(zn=[]):(zn=zn||[]).push(Di,null));for(Di in vn){var bi=vn[Di];if(fi=Ln?.[Di],vn.hasOwnProperty(Di)&&bi!==fi&&(bi!=null||fi!=null))if(Di==="style")if(fi){for(Zn in fi)!fi.hasOwnProperty(Zn)||bi&&bi.hasOwnProperty(Zn)||(cn||(cn={}),cn[Zn]="");for(Zn in bi)bi.hasOwnProperty(Zn)&&fi[Zn]!==bi[Zn]&&(cn||(cn={}),cn[Zn]=bi[Zn])}else cn||(zn||(zn=[]),zn.push(Di,cn)),cn=bi;else Di==="dangerouslySetInnerHTML"?(bi=bi?bi.__html:void 0,fi=fi?fi.__html:void 0,bi!=null&&fi!==bi&&(zn=zn||[]).push(Di,bi)):Di==="children"?typeof bi!="string"&&typeof bi!="number"||(zn=zn||[]).push(Di,""+bi):Di!=="suppressContentEditableWarning"&&Di!=="suppressHydrationWarning"&&(Fe.hasOwnProperty(Di)?(bi!=null&&Di==="onScroll"&&La("scroll",ke),zn||fi===bi||(zn=[])):(zn=zn||[]).push(Di,bi))}cn&&(zn=zn||[]).push("style",cn);var Di=zn;(Pe.updateQueue=Di)&&(Pe.flags|=4)}},_h=function(ke,Pe,cn,vn){cn!==vn&&(Pe.flags|=4)};function E0(ke,Pe){if(!qi)switch(ke.tailMode){case"hidden":Pe=ke.tail;for(var cn=null;Pe!==null;)Pe.alternate!==null&&(cn=Pe),Pe=Pe.sibling;cn===null?ke.tail=null:cn.sibling=null;break;case"collapsed":cn=ke.tail;for(var vn=null;cn!==null;)cn.alternate!==null&&(vn=cn),cn=cn.sibling;vn===null?Pe||ke.tail===null?ke.tail=null:ke.tail.sibling=null:vn.sibling=null}}function js(ke){var Pe=ke.alternate!==null&&ke.alternate.child===ke.child,cn=0,vn=0;if(Pe)for(var Ln=ke.child;Ln!==null;)cn|=Ln.lanes|Ln.childLanes,vn|=Ln.subtreeFlags&14680064,vn|=Ln.flags&14680064,Ln.return=ke,Ln=Ln.sibling;else for(Ln=ke.child;Ln!==null;)cn|=Ln.lanes|Ln.childLanes,vn|=Ln.subtreeFlags,vn|=Ln.flags,Ln.return=ke,Ln=Ln.sibling;return ke.subtreeFlags|=vn,ke.childLanes=cn,Pe}function hd(ke,Pe,cn){var vn=Pe.pendingProps;switch(yi(Pe),Pe.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return js(Pe),null;case 1:return Ds(Pe.type)&&Zc(),js(Pe),null;case 3:return vn=Pe.stateNode,Bo(),Ta(Ms),Ta(ls),A0(),vn.pendingContext&&(vn.context=vn.pendingContext,vn.pendingContext=null),(ke===null||ke.child===null)&&(ya(Pe)?Pe.flags|=4:ke===null||ke.memoizedState.isDehydrated&&(Pe.flags&256)===0||(Pe.flags|=1024,Vi!==null&&($u(Vi),Vi=null))),Pu(ke,Pe),js(Pe),null;case 5:v0(Pe);var Ln=il(vl.current);if(cn=Pe.type,ke!==null&&Pe.stateNode!=null)Eh(ke,Pe,cn,vn,Ln),ke.ref!==Pe.ref&&(Pe.flags|=512,Pe.flags|=2097152);else{if(!vn){if(Pe.stateNode===null)throw Error(Se(166));return js(Pe),null}if(ke=il(Js.current),ya(Pe)){vn=Pe.stateNode,cn=Pe.type;var zn=Pe.memoizedProps;switch(vn[Mo]=Pe,vn[oc]=zn,ke=(Pe.mode&1)!==0,cn){case"dialog":La("cancel",vn),La("close",vn);break;case"iframe":case"object":case"embed":La("load",vn);break;case"video":case"audio":for(Ln=0;Ln<xl.length;Ln++)La(xl[Ln],vn);break;case"source":La("error",vn);break;case"img":case"image":case"link":La("error",vn),La("load",vn);break;case"details":La("toggle",vn);break;case"input":Tn(vn,zn),La("invalid",vn);break;case"select":vn._wrapperState={wasMultiple:!!zn.multiple},La("invalid",vn);break;case"textarea":Mn(vn,zn),La("invalid",vn)}Qn(cn,zn),Ln=null;for(var Zn in zn)if(zn.hasOwnProperty(Zn)){var fi=zn[Zn];Zn==="children"?typeof fi=="string"?vn.textContent!==fi&&(zn.suppressHydrationWarning!==!0&&Jc(vn.textContent,fi,ke),Ln=["children",fi]):typeof fi=="number"&&vn.textContent!==""+fi&&(zn.suppressHydrationWarning!==!0&&Jc(vn.textContent,fi,ke),Ln=["children",""+fi]):Fe.hasOwnProperty(Zn)&&fi!=null&&Zn==="onScroll"&&La("scroll",vn)}switch(cn){case"input":Sn(vn),Rn(vn,zn,!0);break;case"textarea":Sn(vn),Hn(vn);break;case"select":case"option":break;default:typeof zn.onClick=="function"&&(vn.onclick=sc)}vn=Ln,Pe.updateQueue=vn,vn!==null&&(Pe.flags|=4)}else{Zn=Ln.nodeType===9?Ln:Ln.ownerDocument,ke==="http://www.w3.org/1999/xhtml"&&(ke=$n(cn)),ke==="http://www.w3.org/1999/xhtml"?cn==="script"?(ke=Zn.createElement("div"),ke.innerHTML="<script><\/script>",ke=ke.removeChild(ke.firstChild)):typeof vn.is=="string"?ke=Zn.createElement(cn,{is:vn.is}):(ke=Zn.createElement(cn),cn==="select"&&(Zn=ke,vn.multiple?Zn.multiple=!0:vn.size&&(Zn.size=vn.size))):ke=Zn.createElementNS(ke,cn),ke[Mo]=Pe,ke[oc]=vn,kh(ke,Pe,!1,!1),Pe.stateNode=ke;e:{switch(Zn=ci(cn,vn),cn){case"dialog":La("cancel",ke),La("close",ke),Ln=vn;break;case"iframe":case"object":case"embed":La("load",ke),Ln=vn;break;case"video":case"audio":for(Ln=0;Ln<xl.length;Ln++)La(xl[Ln],ke);Ln=vn;break;case"source":La("error",ke),Ln=vn;break;case"img":case"image":case"link":La("error",ke),La("load",ke),Ln=vn;break;case"details":La("toggle",ke),Ln=vn;break;case"input":Tn(ke,vn),Ln=Nn(ke,vn),La("invalid",ke);break;case"option":Ln=vn;break;case"select":ke._wrapperState={wasMultiple:!!vn.multiple},Ln=Ue({},vn,{value:void 0}),La("invalid",ke);break;case"textarea":Mn(ke,vn),Ln=On(ke,vn),La("invalid",ke);break;default:Ln=vn}Qn(cn,Ln),fi=Ln;for(zn in fi)if(fi.hasOwnProperty(zn)){var bi=fi[zn];zn==="style"?ti(ke,bi):zn==="dangerouslySetInnerHTML"?(bi=bi?bi.__html:void 0,bi!=null&&jn(ke,bi)):zn==="children"?typeof bi=="string"?(cn!=="textarea"||bi!=="")&&Xn(ke,bi):typeof bi=="number"&&Xn(ke,""+bi):zn!=="suppressContentEditableWarning"&&zn!=="suppressHydrationWarning"&&zn!=="autoFocus"&&(Fe.hasOwnProperty(zn)?bi!=null&&zn==="onScroll"&&La("scroll",ke):bi!=null&&Ge(ke,zn,bi,Zn))}switch(cn){case"input":Sn(ke),Rn(ke,vn,!1);break;case"textarea":Sn(ke),Hn(ke);break;case"option":vn.value!=null&&ke.setAttribute("value",""+gn(vn.value));break;case"select":ke.multiple=!!vn.multiple,zn=vn.value,zn!=null?En(ke,!!vn.multiple,zn,!1):vn.defaultValue!=null&&En(ke,!!vn.multiple,vn.defaultValue,!0);break;default:typeof Ln.onClick=="function"&&(ke.onclick=sc)}switch(cn){case"button":case"input":case"select":case"textarea":vn=!!vn.autoFocus;break e;case"img":vn=!0;break e;default:vn=!1}}vn&&(Pe.flags|=4)}Pe.ref!==null&&(Pe.flags|=512,Pe.flags|=2097152)}return js(Pe),null;case 6:if(ke&&Pe.stateNode!=null)_h(ke,Pe,ke.memoizedProps,vn);else{if(typeof vn!="string"&&Pe.stateNode===null)throw Error(Se(166));if(cn=il(vl.current),il(Js.current),ya(Pe)){if(vn=Pe.stateNode,cn=Pe.memoizedProps,vn[Mo]=Pe,(zn=vn.nodeValue!==cn)&&(ke=wi,ke!==null))switch(ke.tag){case 3:Jc(vn.nodeValue,cn,(ke.mode&1)!==0);break;case 5:ke.memoizedProps.suppressHydrationWarning!==!0&&Jc(vn.nodeValue,cn,(ke.mode&1)!==0)}zn&&(Pe.flags|=4)}else vn=(cn.nodeType===9?cn:cn.ownerDocument).createTextNode(vn),vn[Mo]=Pe,Pe.stateNode=vn}return js(Pe),null;case 13:if(Ta(Ma),vn=Pe.memoizedState,ke===null||ke.memoizedState!==null&&ke.memoizedState.dehydrated!==null){if(qi&&Wi!==null&&(Pe.mode&1)!==0&&(Pe.flags&128)===0)ga(),sa(),Pe.flags|=98560,zn=!1;else if(zn=ya(Pe),vn!==null&&vn.dehydrated!==null){if(ke===null){if(!zn)throw Error(Se(318));if(zn=Pe.memoizedState,zn=zn!==null?zn.dehydrated:null,!zn)throw Error(Se(317));zn[Mo]=Pe}else sa(),(Pe.flags&128)===0&&(Pe.memoizedState=null),Pe.flags|=4;js(Pe),zn=!1}else Vi!==null&&($u(Vi),Vi=null),zn=!0;if(!zn)return Pe.flags&65536?Pe:null}return(Pe.flags&128)!==0?(Pe.lanes=cn,Pe):(vn=vn!==null,vn!==(ke!==null&&ke.memoizedState!==null)&&vn&&(Pe.child.flags|=8192,(Pe.mode&1)!==0&&(ke===null||(Ma.current&1)!==0?us===0&&(us=3):qu())),Pe.updateQueue!==null&&(Pe.flags|=4),js(Pe),null);case 4:return Bo(),Pu(ke,Pe),ke===null&&Ol(Pe.stateNode.containerInfo),js(Pe),null;case 10:return Bs(Pe.type._context),js(Pe),null;case 17:return Ds(Pe.type)&&Zc(),js(Pe),null;case 19:if(Ta(Ma),zn=Pe.memoizedState,zn===null)return js(Pe),null;if(vn=(Pe.flags&128)!==0,Zn=zn.rendering,Zn===null)if(vn)E0(zn,!1);else{if(us!==0||ke!==null&&(ke.flags&128)!==0)for(ke=Pe.child;ke!==null;){if(Zn=So(ke),Zn!==null){for(Pe.flags|=128,E0(zn,!1),vn=Zn.updateQueue,vn!==null&&(Pe.updateQueue=vn,Pe.flags|=4),Pe.subtreeFlags=0,vn=cn,cn=Pe.child;cn!==null;)zn=cn,ke=vn,zn.flags&=14680066,Zn=zn.alternate,Zn===null?(zn.childLanes=0,zn.lanes=ke,zn.child=null,zn.subtreeFlags=0,zn.memoizedProps=null,zn.memoizedState=null,zn.updateQueue=null,zn.dependencies=null,zn.stateNode=null):(zn.childLanes=Zn.childLanes,zn.lanes=Zn.lanes,zn.child=Zn.child,zn.subtreeFlags=0,zn.deletions=null,zn.memoizedProps=Zn.memoizedProps,zn.memoizedState=Zn.memoizedState,zn.updateQueue=Zn.updateQueue,zn.type=Zn.type,ke=Zn.dependencies,zn.dependencies=ke===null?null:{lanes:ke.lanes,firstContext:ke.firstContext}),cn=cn.sibling;return Ra(Ma,Ma.current&1|2),Pe.child}ke=ke.sibling}zn.tail!==null&&or()>d0&&(Pe.flags|=128,vn=!0,E0(zn,!1),Pe.lanes=4194304)}else{if(!vn)if(ke=So(Zn),ke!==null){if(Pe.flags|=128,vn=!0,cn=ke.updateQueue,cn!==null&&(Pe.updateQueue=cn,Pe.flags|=4),E0(zn,!0),zn.tail===null&&zn.tailMode==="hidden"&&!Zn.alternate&&!qi)return js(Pe),null}else 2*or()-zn.renderingStartTime>d0&&cn!==1073741824&&(Pe.flags|=128,vn=!0,E0(zn,!1),Pe.lanes=4194304);zn.isBackwards?(Zn.sibling=Pe.child,Pe.child=Zn):(cn=zn.last,cn!==null?cn.sibling=Zn:Pe.child=Zn,zn.last=Zn)}return zn.tail!==null?(Pe=zn.tail,zn.rendering=Pe,zn.tail=Pe.sibling,zn.renderingStartTime=or(),Pe.sibling=null,cn=Ma.current,Ra(Ma,vn?cn&1|2:cn&1),Pe):(js(Pe),null);case 22:case 23:return zu(),vn=Pe.memoizedState!==null,ke!==null&&ke.memoizedState!==null!==vn&&(Pe.flags|=8192),vn&&(Pe.mode&1)!==0?(ko&1073741824)!==0&&(js(Pe),Pe.subtreeFlags&6&&(Pe.flags|=8192)):js(Pe),null;case 24:return null;case 25:return null}throw Error(Se(156,Pe.tag))}function dd(ke,Pe){switch(yi(Pe),Pe.tag){case 1:return Ds(Pe.type)&&Zc(),ke=Pe.flags,ke&65536?(Pe.flags=ke&-65537|128,Pe):null;case 3:return Bo(),Ta(Ms),Ta(ls),A0(),ke=Pe.flags,(ke&65536)!==0&&(ke&128)===0?(Pe.flags=ke&-65537|128,Pe):null;case 5:return v0(Pe),null;case 13:if(Ta(Ma),ke=Pe.memoizedState,ke!==null&&ke.dehydrated!==null){if(Pe.alternate===null)throw Error(Se(340));sa()}return ke=Pe.flags,ke&65536?(Pe.flags=ke&-65537|128,Pe):null;case 19:return Ta(Ma),null;case 4:return Bo(),null;case 10:return Bs(Pe.type._context),null;case 22:case 23:return zu(),null;case 24:return null;default:return null}}var V0=!1,Us=!1,pd=typeof WeakSet=="function"?WeakSet:Set,Or=null;function u0(ke,Pe){var cn=ke.ref;if(cn!==null)if(typeof cn=="function")try{cn(null)}catch(vn){Za(ke,Pe,vn)}else cn.current=null}function Fu(ke,Pe,cn){try{cn()}catch(vn){Za(ke,Pe,vn)}}var Ih=!1;function gd(ke,Pe){if(Lc=Hi,ke=Ic(),Tl(ke)){if("selectionStart"in ke)var cn={start:ke.selectionStart,end:ke.selectionEnd};else e:{cn=(cn=ke.ownerDocument)&&cn.defaultView||window;var vn=cn.getSelection&&cn.getSelection();if(vn&&vn.rangeCount!==0){cn=vn.anchorNode;var Ln=vn.anchorOffset,zn=vn.focusNode;vn=vn.focusOffset;try{cn.nodeType,zn.nodeType}catch{cn=null;break e}var Zn=0,fi=-1,bi=-1,Di=0,ir=0,lr=ke,nr=null;t:for(;;){for(var Pr;lr!==cn||Ln!==0&&lr.nodeType!==3||(fi=Zn+Ln),lr!==zn||vn!==0&&lr.nodeType!==3||(bi=Zn+vn),lr.nodeType===3&&(Zn+=lr.nodeValue.length),(Pr=lr.firstChild)!==null;)nr=lr,lr=Pr;for(;;){if(lr===ke)break t;if(nr===cn&&++Di===Ln&&(fi=Zn),nr===zn&&++ir===vn&&(bi=Zn),(Pr=lr.nextSibling)!==null)break;lr=nr,nr=lr.parentNode}lr=Pr}cn=fi===-1||bi===-1?null:{start:fi,end:bi}}else cn=null}cn=cn||{start:0,end:0}}else cn=null;for(Ll={focusedElem:ke,selectionRange:cn},Hi=!1,Or=Pe;Or!==null;)if(Pe=Or,ke=Pe.child,(Pe.subtreeFlags&1028)!==0&&ke!==null)ke.return=Pe,Or=ke;else for(;Or!==null;){Pe=Or;try{var Mr=Pe.alternate;if((Pe.flags&1024)!==0)switch(Pe.tag){case 0:case 11:case 15:break;case 1:if(Mr!==null){var Br=Mr.memoizedProps,ns=Mr.memoizedState,Oi=Pe.stateNode,Si=Oi.getSnapshotBeforeUpdate(Pe.elementType===Pe.type?Br:sl(Pe.type,Br),ns);Oi.__reactInternalSnapshotBeforeUpdate=Si}break;case 3:var Ni=Pe.stateNode.containerInfo;Ni.nodeType===1?Ni.textContent="":Ni.nodeType===9&&Ni.documentElement&&Ni.removeChild(Ni.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Se(163))}}catch(hr){Za(Pe,Pe.return,hr)}if(ke=Pe.sibling,ke!==null){ke.return=Pe.return,Or=ke;break}Or=Pe.return}return Mr=Ih,Ih=!1,Mr}function _0(ke,Pe,cn){var vn=Pe.updateQueue;if(vn=vn!==null?vn.lastEffect:null,vn!==null){var Ln=vn=vn.next;do{if((Ln.tag&ke)===ke){var zn=Ln.destroy;Ln.destroy=void 0,zn!==void 0&&Fu(Pe,cn,zn)}Ln=Ln.next}while(Ln!==vn)}}function K0(ke,Pe){if(Pe=Pe.updateQueue,Pe=Pe!==null?Pe.lastEffect:null,Pe!==null){var cn=Pe=Pe.next;do{if((cn.tag&ke)===ke){var vn=cn.create;cn.destroy=vn()}cn=cn.next}while(cn!==Pe)}}function Ru(ke){var Pe=ke.ref;if(Pe!==null){var cn=ke.stateNode;switch(ke.tag){case 5:ke=cn;break;default:ke=cn}typeof Pe=="function"?Pe(ke):Pe.current=ke}}function Th(ke){var Pe=ke.alternate;Pe!==null&&(ke.alternate=null,Th(Pe)),ke.child=null,ke.deletions=null,ke.sibling=null,ke.tag===5&&(Pe=ke.stateNode,Pe!==null&&(delete Pe[Mo],delete Pe[oc],delete Pe[Ls],delete Pe[mu],delete Pe[xu])),ke.stateNode=null,ke.return=null,ke.dependencies=null,ke.memoizedProps=null,ke.memoizedState=null,ke.pendingProps=null,ke.stateNode=null,ke.updateQueue=null}function Ph(ke){return ke.tag===5||ke.tag===3||ke.tag===4}function Fh(ke){e:for(;;){for(;ke.sibling===null;){if(ke.return===null||Ph(ke.return))return null;ke=ke.return}for(ke.sibling.return=ke.return,ke=ke.sibling;ke.tag!==5&&ke.tag!==6&&ke.tag!==18;){if(ke.flags&2||ke.child===null||ke.tag===4)continue e;ke.child.return=ke,ke=ke.child}if(!(ke.flags&2))return ke.stateNode}}function Ou(ke,Pe,cn){var vn=ke.tag;if(vn===5||vn===6)ke=ke.stateNode,Pe?cn.nodeType===8?cn.parentNode.insertBefore(ke,Pe):cn.insertBefore(ke,Pe):(cn.nodeType===8?(Pe=cn.parentNode,Pe.insertBefore(ke,cn)):(Pe=cn,Pe.appendChild(ke)),cn=cn._reactRootContainer,cn!=null||Pe.onclick!==null||(Pe.onclick=sc));else if(vn!==4&&(ke=ke.child,ke!==null))for(Ou(ke,Pe,cn),ke=ke.sibling;ke!==null;)Ou(ke,Pe,cn),ke=ke.sibling}function Nu(ke,Pe,cn){var vn=ke.tag;if(vn===5||vn===6)ke=ke.stateNode,Pe?cn.insertBefore(ke,Pe):cn.appendChild(ke);else if(vn!==4&&(ke=ke.child,ke!==null))for(Nu(ke,Pe,cn),ke=ke.sibling;ke!==null;)Nu(ke,Pe,cn),ke=ke.sibling}var Is=null,ol=!1;function xc(ke,Pe,cn){for(cn=cn.child;cn!==null;)Rh(ke,Pe,cn),cn=cn.sibling}function Rh(ke,Pe,cn){if(Ir&&typeof Ir.onCommitFiberUnmount=="function")try{Ir.onCommitFiberUnmount(Fr,cn)}catch{}switch(cn.tag){case 5:Us||u0(cn,Pe);case 6:var vn=Is,Ln=ol;Is=null,xc(ke,Pe,cn),Is=vn,ol=Ln,Is!==null&&(ol?(ke=Is,cn=cn.stateNode,ke.nodeType===8?ke.parentNode.removeChild(cn):ke.removeChild(cn)):Is.removeChild(cn.stateNode));break;case 18:Is!==null&&(ol?(ke=Is,cn=cn.stateNode,ke.nodeType===8?x0(ke.parentNode,cn):ke.nodeType===1&&x0(ke,cn),gi(ke)):x0(Is,cn.stateNode));break;case 4:vn=Is,Ln=ol,Is=cn.stateNode.containerInfo,ol=!0,xc(ke,Pe,cn),Is=vn,ol=Ln;break;case 0:case 11:case 14:case 15:if(!Us&&(vn=cn.updateQueue,vn!==null&&(vn=vn.lastEffect,vn!==null))){Ln=vn=vn.next;do{var zn=Ln,Zn=zn.destroy;zn=zn.tag,Zn!==void 0&&((zn&2)!==0||(zn&4)!==0)&&Fu(cn,Pe,Zn),Ln=Ln.next}while(Ln!==vn)}xc(ke,Pe,cn);break;case 1:if(!Us&&(u0(cn,Pe),vn=cn.stateNode,typeof vn.componentWillUnmount=="function"))try{vn.props=cn.memoizedProps,vn.state=cn.memoizedState,vn.componentWillUnmount()}catch(fi){Za(cn,Pe,fi)}xc(ke,Pe,cn);break;case 21:xc(ke,Pe,cn);break;case 22:cn.mode&1?(Us=(vn=Us)||cn.memoizedState!==null,xc(ke,Pe,cn),Us=vn):xc(ke,Pe,cn);break;default:xc(ke,Pe,cn)}}function Oh(ke){var Pe=ke.updateQueue;if(Pe!==null){ke.updateQueue=null;var cn=ke.stateNode;cn===null&&(cn=ke.stateNode=new pd),Pe.forEach(function(vn){var Ln=Cd.bind(null,ke,vn);cn.has(vn)||(cn.add(vn),vn.then(Ln,Ln))})}}function ll(ke,Pe){var cn=Pe.deletions;if(cn!==null)for(var vn=0;vn<cn.length;vn++){var Ln=cn[vn];try{var zn=ke,Zn=Pe,fi=Zn;e:for(;fi!==null;){switch(fi.tag){case 5:Is=fi.stateNode,ol=!1;break e;case 3:Is=fi.stateNode.containerInfo,ol=!0;break e;case 4:Is=fi.stateNode.containerInfo,ol=!0;break e}fi=fi.return}if(Is===null)throw Error(Se(160));Rh(zn,Zn,Ln),Is=null,ol=!1;var bi=Ln.alternate;bi!==null&&(bi.return=null),Ln.return=null}catch(Di){Za(Ln,Pe,Di)}}if(Pe.subtreeFlags&12854)for(Pe=Pe.child;Pe!==null;)Nh(Pe,ke),Pe=Pe.sibling}function Nh(ke,Pe){var cn=ke.alternate,vn=ke.flags;switch(ke.tag){case 0:case 11:case 14:case 15:if(ll(Pe,ke),Al(ke),vn&4){try{_0(3,ke,ke.return),K0(3,ke)}catch(Br){Za(ke,ke.return,Br)}try{_0(5,ke,ke.return)}catch(Br){Za(ke,ke.return,Br)}}break;case 1:ll(Pe,ke),Al(ke),vn&512&&cn!==null&&u0(cn,cn.return);break;case 5:if(ll(Pe,ke),Al(ke),vn&512&&cn!==null&&u0(cn,cn.return),ke.flags&32){var Ln=ke.stateNode;try{Xn(Ln,"")}catch(Br){Za(ke,ke.return,Br)}}if(vn&4&&(Ln=ke.stateNode,Ln!=null)){var zn=ke.memoizedProps,Zn=cn!==null?cn.memoizedProps:zn,fi=ke.type,bi=ke.updateQueue;if(ke.updateQueue=null,bi!==null)try{fi==="input"&&zn.type==="radio"&&zn.name!=null&&Cn(Ln,zn),ci(fi,Zn);var Di=ci(fi,zn);for(Zn=0;Zn<bi.length;Zn+=2){var ir=bi[Zn],lr=bi[Zn+1];ir==="style"?ti(Ln,lr):ir==="dangerouslySetInnerHTML"?jn(Ln,lr):ir==="children"?Xn(Ln,lr):Ge(Ln,ir,lr,Di)}switch(fi){case"input":In(Ln,zn);break;case"textarea":Bn(Ln,zn);break;case"select":var nr=Ln._wrapperState.wasMultiple;Ln._wrapperState.wasMultiple=!!zn.multiple;var Pr=zn.value;Pr!=null?En(Ln,!!zn.multiple,Pr,!1):nr!==!!zn.multiple&&(zn.defaultValue!=null?En(Ln,!!zn.multiple,zn.defaultValue,!0):En(Ln,!!zn.multiple,zn.multiple?[]:"",!1))}Ln[oc]=zn}catch(Br){Za(ke,ke.return,Br)}}break;case 6:if(ll(Pe,ke),Al(ke),vn&4){if(ke.stateNode===null)throw Error(Se(162));Ln=ke.stateNode,zn=ke.memoizedProps;try{Ln.nodeValue=zn}catch(Br){Za(ke,ke.return,Br)}}break;case 3:if(ll(Pe,ke),Al(ke),vn&4&&cn!==null&&cn.memoizedState.isDehydrated)try{gi(Pe.containerInfo)}catch(Br){Za(ke,ke.return,Br)}break;case 4:ll(Pe,ke),Al(ke);break;case 13:ll(Pe,ke),Al(ke),Ln=ke.child,Ln.flags&8192&&(zn=Ln.memoizedState!==null,Ln.stateNode.isHidden=zn,!zn||Ln.alternate!==null&&Ln.alternate.memoizedState!==null||(Du=or())),vn&4&&Oh(ke);break;case 22:if(ir=cn!==null&&cn.memoizedState!==null,ke.mode&1?(Us=(Di=Us)||ir,ll(Pe,ke),Us=Di):ll(Pe,ke),Al(ke),vn&8192){if(Di=ke.memoizedState!==null,(ke.stateNode.isHidden=Di)&&!ir&&(ke.mode&1)!==0)for(Or=ke,ir=ke.child;ir!==null;){for(lr=Or=ir;Or!==null;){switch(nr=Or,Pr=nr.child,nr.tag){case 0:case 11:case 14:case 15:_0(4,nr,nr.return);break;case 1:u0(nr,nr.return);var Mr=nr.stateNode;if(typeof Mr.componentWillUnmount=="function"){vn=nr,cn=nr.return;try{Pe=vn,Mr.props=Pe.memoizedProps,Mr.state=Pe.memoizedState,Mr.componentWillUnmount()}catch(Br){Za(vn,cn,Br)}}break;case 5:u0(nr,nr.return);break;case 22:if(nr.memoizedState!==null){Dh(lr);continue}}Pr!==null?(Pr.return=nr,Or=Pr):Dh(lr)}ir=ir.sibling}e:for(ir=null,lr=ke;;){if(lr.tag===5){if(ir===null){ir=lr;try{Ln=lr.stateNode,Di?(zn=Ln.style,typeof zn.setProperty=="function"?zn.setProperty("display","none","important"):zn.display="none"):(fi=lr.stateNode,bi=lr.memoizedProps.style,Zn=bi!=null&&bi.hasOwnProperty("display")?bi.display:null,fi.style.display=ui("display",Zn))}catch(Br){Za(ke,ke.return,Br)}}}else if(lr.tag===6){if(ir===null)try{lr.stateNode.nodeValue=Di?"":lr.memoizedProps}catch(Br){Za(ke,ke.return,Br)}}else if((lr.tag!==22&&lr.tag!==23||lr.memoizedState===null||lr===ke)&&lr.child!==null){lr.child.return=lr,lr=lr.child;continue}if(lr===ke)break e;for(;lr.sibling===null;){if(lr.return===null||lr.return===ke)break e;ir===lr&&(ir=null),lr=lr.return}ir===lr&&(ir=null),lr.sibling.return=lr.return,lr=lr.sibling}}break;case 19:ll(Pe,ke),Al(ke),vn&4&&Oh(ke);break;case 21:break;default:ll(Pe,ke),Al(ke)}}function Al(ke){var Pe=ke.flags;if(Pe&2){try{e:{for(var cn=ke.return;cn!==null;){if(Ph(cn)){var vn=cn;break e}cn=cn.return}throw Error(Se(160))}switch(vn.tag){case 5:var Ln=vn.stateNode;vn.flags&32&&(Xn(Ln,""),vn.flags&=-33);var zn=Fh(ke);Nu(ke,zn,Ln);break;case 3:case 4:var Zn=vn.stateNode.containerInfo,fi=Fh(ke);Ou(ke,fi,Zn);break;default:throw Error(Se(161))}}catch(bi){Za(ke,ke.return,bi)}ke.flags&=-3}Pe&4096&&(ke.flags&=-4097)}function md(ke,Pe,cn){Or=ke,Lh(ke)}function Lh(ke,Pe,cn){for(var vn=(ke.mode&1)!==0;Or!==null;){var Ln=Or,zn=Ln.child;if(Ln.tag===22&&vn){var Zn=Ln.memoizedState!==null||V0;if(!Zn){var fi=Ln.alternate,bi=fi!==null&&fi.memoizedState!==null||Us;fi=V0;var Di=Us;if(V0=Zn,(Us=bi)&&!Di)for(Or=Ln;Or!==null;)Zn=Or,bi=Zn.child,Zn.tag===22&&Zn.memoizedState!==null?Bh(Ln):bi!==null?(bi.return=Zn,Or=bi):Bh(Ln);for(;zn!==null;)Or=zn,Lh(zn),zn=zn.sibling;Or=Ln,V0=fi,Us=Di}Mh(ke)}else(Ln.subtreeFlags&8772)!==0&&zn!==null?(zn.return=Ln,Or=zn):Mh(ke)}}function Mh(ke){for(;Or!==null;){var Pe=Or;if((Pe.flags&8772)!==0){var cn=Pe.alternate;try{if((Pe.flags&8772)!==0)switch(Pe.tag){case 0:case 11:case 15:Us||K0(5,Pe);break;case 1:var vn=Pe.stateNode;if(Pe.flags&4&&!Us)if(cn===null)vn.componentDidMount();else{var Ln=Pe.elementType===Pe.type?cn.memoizedProps:sl(Pe.type,cn.memoizedProps);vn.componentDidUpdate(Ln,cn.memoizedState,vn.__reactInternalSnapshotBeforeUpdate)}var zn=Pe.updateQueue;zn!==null&&Ul(Pe,zn,vn);break;case 3:var Zn=Pe.updateQueue;if(Zn!==null){if(cn=null,Pe.child!==null)switch(Pe.child.tag){case 5:cn=Pe.child.stateNode;break;case 1:cn=Pe.child.stateNode}Ul(Pe,Zn,cn)}break;case 5:var fi=Pe.stateNode;if(cn===null&&Pe.flags&4){cn=fi;var bi=Pe.memoizedProps;switch(Pe.type){case"button":case"input":case"select":case"textarea":bi.autoFocus&&cn.focus();break;case"img":bi.src&&(cn.src=bi.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(Pe.memoizedState===null){var Di=Pe.alternate;if(Di!==null){var ir=Di.memoizedState;if(ir!==null){var lr=ir.dehydrated;lr!==null&&gi(lr)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Se(163))}Us||Pe.flags&512&&Ru(Pe)}catch(nr){Za(Pe,Pe.return,nr)}}if(Pe===ke){Or=null;break}if(cn=Pe.sibling,cn!==null){cn.return=Pe.return,Or=cn;break}Or=Pe.return}}function Dh(ke){for(;Or!==null;){var Pe=Or;if(Pe===ke){Or=null;break}var cn=Pe.sibling;if(cn!==null){cn.return=Pe.return,Or=cn;break}Or=Pe.return}}function Bh(ke){for(;Or!==null;){var Pe=Or;try{switch(Pe.tag){case 0:case 11:case 15:var cn=Pe.return;try{K0(4,Pe)}catch(bi){Za(Pe,cn,bi)}break;case 1:var vn=Pe.stateNode;if(typeof vn.componentDidMount=="function"){var Ln=Pe.return;try{vn.componentDidMount()}catch(bi){Za(Pe,Ln,bi)}}var zn=Pe.return;try{Ru(Pe)}catch(bi){Za(Pe,zn,bi)}break;case 5:var Zn=Pe.return;try{Ru(Pe)}catch(bi){Za(Pe,Zn,bi)}}}catch(bi){Za(Pe,Pe.return,bi)}if(Pe===ke){Or=null;break}var fi=Pe.sibling;if(fi!==null){fi.return=Pe.return,Or=fi;break}Or=Pe.return}}var xd=Math.ceil,Y0=Oe.ReactCurrentDispatcher,Lu=Oe.ReactCurrentOwner,$o=Oe.ReactCurrentBatchConfig,va=0,xs=null,as=null,Ts=0,ko=0,h0=vo(0),us=0,I0=null,$c=0,J0=0,Mu=0,T0=null,go=null,Du=0,d0=1/0,zl=null,Z0=!1,Bu=null,bc=null,Q0=!1,yc=null,eu=0,P0=0,ju=null,tu=-1,nu=0;function to(){return(va&6)!==0?or():tu!==-1?tu:tu=or()}function wc(ke){return(ke.mode&1)===0?1:(va&2)!==0&&Ts!==0?Ts&-Ts:Oa.transition!==null?(nu===0&&(nu=zo()),nu):(ke=ca,ke!==0||(ke=window.event,ke=ke===void 0?16:fa(ke.type)),ke)}function cl(ke,Pe,cn,vn){if(50<P0)throw P0=0,ju=null,Error(Se(185));no(ke,cn,vn),((va&2)===0||ke!==xs)&&(ke===xs&&((va&2)===0&&(J0|=cn),us===4&&vc(ke,Ts)),mo(ke,vn),cn===1&&va===0&&(Pe.mode&1)===0&&(d0=or()+500,Dc&&Wn()))}function mo(ke,Pe){var cn=ke.callbackNode;Sa(ke,Pe);var vn=Zr(ke,ke===xs?Ts:0);if(vn===0)cn!==null&&Ui(cn),ke.callbackNode=null,ke.callbackPriority=0;else if(Pe=vn&-vn,ke.callbackPriority!==Pe){if(cn!=null&&Ui(cn),Pe===1)ke.tag===0?Dn(Uh.bind(null,ke)):An(Uh.bind(null,ke)),pu(function(){(va&6)===0&&Wn()}),cn=null;else{switch(Io(vn)){case 1:cn=Li;break;case 4:cn=Er;break;case 16:cn=br;break;case 536870912:cn=_r;break;default:cn=br}cn=Vh(cn,jh.bind(null,ke))}ke.callbackPriority=Pe,ke.callbackNode=cn}}function jh(ke,Pe){if(tu=-1,nu=0,(va&6)!==0)throw Error(Se(327));var cn=ke.callbackNode;if(f0()&&ke.callbackNode!==cn)return null;var vn=Zr(ke,ke===xs?Ts:0);if(vn===0)return null;if((vn&30)!==0||(vn&ke.expiredLanes)!==0||Pe)Pe=iu(ke,vn);else{Pe=vn;var Ln=va;va|=2;var zn=Hh();(xs!==ke||Ts!==Pe)&&(zl=null,d0=or()+500,zc(ke,Pe));do try{wd();break}catch(fi){$h(ke,fi)}while(!0);cs(),Y0.current=zn,va=Ln,as!==null?Pe=0:(xs=null,Ts=0,Pe=us)}if(Pe!==0){if(Pe===2&&(Ln=ys(ke),Ln!==0&&(vn=Ln,Pe=Uu(ke,Ln))),Pe===1)throw cn=I0,zc(ke,0),vc(ke,vn),mo(ke,or()),cn;if(Pe===6)vc(ke,vn);else{if(Ln=ke.current.alternate,(vn&30)===0&&!bd(Ln)&&(Pe=iu(ke,vn),Pe===2&&(zn=ys(ke),zn!==0&&(vn=zn,Pe=Uu(ke,zn))),Pe===1))throw cn=I0,zc(ke,0),vc(ke,vn),mo(ke,or()),cn;switch(ke.finishedWork=Ln,ke.finishedLanes=vn,Pe){case 0:case 1:throw Error(Se(345));case 2:qc(ke,go,zl);break;case 3:if(vc(ke,vn),(vn&130023424)===vn&&(Pe=Du+500-or(),10<Pe)){if(Zr(ke,0)!==0)break;if(Ln=ke.suspendedLanes,(Ln&vn)!==vn){to(),ke.pingedLanes|=ke.suspendedLanes&Ln;break}ke.timeoutHandle=m0(qc.bind(null,ke,go,zl),Pe);break}qc(ke,go,zl);break;case 4:if(vc(ke,vn),(vn&4194240)===vn)break;for(Pe=ke.eventTimes,Ln=-1;0<vn;){var Zn=31-yr(vn);zn=1<<Zn,Zn=Pe[Zn],Zn>Ln&&(Ln=Zn),vn&=~zn}if(vn=Ln,vn=or()-vn,vn=(120>vn?120:480>vn?480:1080>vn?1080:1920>vn?1920:3e3>vn?3e3:4320>vn?4320:1960*xd(vn/1960))-vn,10<vn){ke.timeoutHandle=m0(qc.bind(null,ke,go,zl),vn);break}qc(ke,go,zl);break;case 5:qc(ke,go,zl);break;default:throw Error(Se(329))}}}return mo(ke,or()),ke.callbackNode===cn?jh.bind(null,ke):null}function Uu(ke,Pe){var cn=T0;return ke.current.memoizedState.isDehydrated&&(zc(ke,Pe).flags|=256),ke=iu(ke,Pe),ke!==2&&(Pe=go,go=cn,Pe!==null&&$u(Pe)),ke}function $u(ke){go===null?go=ke:go.push.apply(go,ke)}function bd(ke){for(var Pe=ke;;){if(Pe.flags&16384){var cn=Pe.updateQueue;if(cn!==null&&(cn=cn.stores,cn!==null))for(var vn=0;vn<cn.length;vn++){var Ln=cn[vn],zn=Ln.getSnapshot;Ln=Ln.value;try{if(!wa(zn(),Ln))return!1}catch{return!1}}}if(cn=Pe.child,Pe.subtreeFlags&16384&&cn!==null)cn.return=Pe,Pe=cn;else{if(Pe===ke)break;for(;Pe.sibling===null;){if(Pe.return===null||Pe.return===ke)return!0;Pe=Pe.return}Pe.sibling.return=Pe.return,Pe=Pe.sibling}}return!0}function vc(ke,Pe){for(Pe&=~Mu,Pe&=~J0,ke.suspendedLanes|=Pe,ke.pingedLanes&=~Pe,ke=ke.expirationTimes;0<Pe;){var cn=31-yr(Pe),vn=1<<cn;ke[cn]=-1,Pe&=~vn}}function Uh(ke){if((va&6)!==0)throw Error(Se(327));f0();var Pe=Zr(ke,0);if((Pe&1)===0)return mo(ke,or()),null;var cn=iu(ke,Pe);if(ke.tag!==0&&cn===2){var vn=ys(ke);vn!==0&&(Pe=vn,cn=Uu(ke,vn))}if(cn===1)throw cn=I0,zc(ke,0),vc(ke,Pe),mo(ke,or()),cn;if(cn===6)throw Error(Se(345));return ke.finishedWork=ke.current.alternate,ke.finishedLanes=Pe,qc(ke,go,zl),mo(ke,or()),null}function Hu(ke,Pe){var cn=va;va|=1;try{return ke(Pe)}finally{va=cn,va===0&&(d0=or()+500,Dc&&Wn())}}function Hc(ke){yc!==null&&yc.tag===0&&(va&6)===0&&f0();var Pe=va;va|=1;var cn=$o.transition,vn=ca;try{if($o.transition=null,ca=1,ke)return ke()}finally{ca=vn,$o.transition=cn,va=Pe,(va&6)===0&&Wn()}}function zu(){ko=h0.current,Ta(h0)}function zc(ke,Pe){ke.finishedWork=null,ke.finishedLanes=0;var cn=ke.timeoutHandle;if(cn!==-1&&(ke.timeoutHandle=-1,L0(cn)),as!==null)for(cn=as.return;cn!==null;){var vn=cn;switch(yi(vn),vn.tag){case 1:vn=vn.type.childContextTypes,vn!=null&&Zc();break;case 3:Bo(),Ta(Ms),Ta(ls),A0();break;case 5:v0(vn);break;case 4:Bo();break;case 13:Ta(Ma);break;case 19:Ta(Ma);break;case 10:Bs(vn.type._context);break;case 22:case 23:zu()}cn=cn.return}if(xs=ke,as=ke=Sc(ke.current,null),Ts=ko=Pe,us=0,I0=null,Mu=J0=$c=0,go=T0=null,Ys!==null){for(Pe=0;Pe<Ys.length;Pe++)if(cn=Ys[Pe],vn=cn.interleaved,vn!==null){cn.interleaved=null;var Ln=vn.next,zn=cn.pending;if(zn!==null){var Zn=zn.next;zn.next=Ln,vn.next=Zn}cn.pending=vn}Ys=null}return ke}function $h(ke,Pe){do{var cn=as;try{if(cs(),e0.current=q0,pc){for(var vn=Da.memoizedState;vn!==null;){var Ln=vn.queue;Ln!==null&&(Ln.pending=null),vn=vn.next}pc=!1}if(jo=0,Ga=Ja=Da=null,rl=!1,gc=0,Lu.current=null,cn===null||cn.return===null){us=1,I0=Pe,as=null;break}e:{var zn=ke,Zn=cn.return,fi=cn,bi=Pe;if(Pe=Ts,fi.flags|=32768,bi!==null&&typeof bi=="object"&&typeof bi.then=="function"){var Di=bi,ir=fi,lr=ir.tag;if((ir.mode&1)===0&&(lr===0||lr===11||lr===15)){var nr=ir.alternate;nr?(ir.updateQueue=nr.updateQueue,ir.memoizedState=nr.memoizedState,ir.lanes=nr.lanes):(ir.updateQueue=null,ir.memoizedState=null)}var Pr=dh(Zn);if(Pr!==null){Pr.flags&=-257,fh(Pr,Zn,fi,zn,Pe),Pr.mode&1&&hh(zn,Di,Pe),Pe=Pr,bi=Di;var Mr=Pe.updateQueue;if(Mr===null){var Br=new Set;Br.add(bi),Pe.updateQueue=Br}else Mr.add(bi);break e}else{if((Pe&1)===0){hh(zn,Di,Pe),qu();break e}bi=Error(Se(426))}}else if(qi&&fi.mode&1){var ns=dh(Zn);if(ns!==null){(ns.flags&65536)===0&&(ns.flags|=256),fh(ns,Zn,fi,zn,Pe),Pa(c0(bi,fi));break e}}zn=bi=c0(bi,fi),us!==4&&(us=2),T0===null?T0=[zn]:T0.push(zn),zn=Zn;do{switch(zn.tag){case 3:zn.flags|=65536,Pe&=-Pe,zn.lanes|=Pe;var Oi=ch(zn,bi,Pe);fo(zn,Oi);break e;case 1:fi=bi;var Si=zn.type,Ni=zn.stateNode;if((zn.flags&128)===0&&(typeof Si.getDerivedStateFromError=="function"||Ni!==null&&typeof Ni.componentDidCatch=="function"&&(bc===null||!bc.has(Ni)))){zn.flags|=65536,Pe&=-Pe,zn.lanes|=Pe;var hr=uh(zn,fi,Pe);fo(zn,hr);break e}}zn=zn.return}while(zn!==null)}qh(cn)}catch(Ur){Pe=Ur,as===cn&&cn!==null&&(as=cn=cn.return);continue}break}while(!0)}function Hh(){var ke=Y0.current;return Y0.current=q0,ke===null?q0:ke}function qu(){(us===0||us===3||us===2)&&(us=4),xs===null||($c&268435455)===0&&(J0&268435455)===0||vc(xs,Ts)}function iu(ke,Pe){var cn=va;va|=2;var vn=Hh();(xs!==ke||Ts!==Pe)&&(zl=null,zc(ke,Pe));do try{yd();break}catch(Ln){$h(ke,Ln)}while(!0);if(cs(),va=cn,Y0.current=vn,as!==null)throw Error(Se(261));return xs=null,Ts=0,us}function yd(){for(;as!==null;)zh(as)}function wd(){for(;as!==null&&!Bi();)zh(as)}function zh(ke){var Pe=Gh(ke.alternate,ke,ko);ke.memoizedProps=ke.pendingProps,Pe===null?qh(ke):as=Pe,Lu.current=null}function qh(ke){var Pe=ke;do{var cn=Pe.alternate;if(ke=Pe.return,(Pe.flags&32768)===0){if(cn=hd(cn,Pe,ko),cn!==null){as=cn;return}}else{if(cn=dd(cn,Pe),cn!==null){cn.flags&=32767,as=cn;return}if(ke!==null)ke.flags|=32768,ke.subtreeFlags=0,ke.deletions=null;else{us=6,as=null;return}}if(Pe=Pe.sibling,Pe!==null){as=Pe;return}as=Pe=ke}while(Pe!==null);us===0&&(us=5)}function qc(ke,Pe,cn){var vn=ca,Ln=$o.transition;try{$o.transition=null,ca=1,vd(ke,Pe,cn,vn)}finally{$o.transition=Ln,ca=vn}return null}function vd(ke,Pe,cn,vn){do f0();while(yc!==null);if((va&6)!==0)throw Error(Se(327));cn=ke.finishedWork;var Ln=ke.finishedLanes;if(cn===null)return null;if(ke.finishedWork=null,ke.finishedLanes=0,cn===ke.current)throw Error(Se(177));ke.callbackNode=null,ke.callbackPriority=0;var zn=cn.lanes|cn.childLanes;if(Cl(ke,zn),ke===xs&&(as=xs=null,Ts=0),(cn.subtreeFlags&2064)===0&&(cn.flags&2064)===0||Q0||(Q0=!0,Vh(br,function(){return f0(),null})),zn=(cn.flags&15990)!==0,(cn.subtreeFlags&15990)!==0||zn){zn=$o.transition,$o.transition=null;var Zn=ca;ca=1;var fi=va;va|=4,Lu.current=null,gd(ke,cn),Nh(cn,ke),Pl(Ll),Hi=!!Lc,Ll=Lc=null,ke.current=cn,md(cn),Ji(),va=fi,ca=Zn,$o.transition=zn}else ke.current=cn;if(Q0&&(Q0=!1,yc=ke,eu=Ln),zn=ke.pendingLanes,zn===0&&(bc=null),cr(cn.stateNode),mo(ke,or()),Pe!==null)for(vn=ke.onRecoverableError,cn=0;cn<Pe.length;cn++)Ln=Pe[cn],vn(Ln.value,{componentStack:Ln.stack,digest:Ln.digest});if(Z0)throw Z0=!1,ke=Bu,Bu=null,ke;return(eu&1)!==0&&ke.tag!==0&&f0(),zn=ke.pendingLanes,(zn&1)!==0?ke===ju?P0++:(P0=0,ju=ke):P0=0,Wn(),null}function f0(){if(yc!==null){var ke=Io(eu),Pe=$o.transition,cn=ca;try{if($o.transition=null,ca=16>ke?16:ke,yc===null)var vn=!1;else{if(ke=yc,yc=null,eu=0,(va&6)!==0)throw Error(Se(331));var Ln=va;for(va|=4,Or=ke.current;Or!==null;){var zn=Or,Zn=zn.child;if((Or.flags&16)!==0){var fi=zn.deletions;if(fi!==null){for(var bi=0;bi<fi.length;bi++){var Di=fi[bi];for(Or=Di;Or!==null;){var ir=Or;switch(ir.tag){case 0:case 11:case 15:_0(8,ir,zn)}var lr=ir.child;if(lr!==null)lr.return=ir,Or=lr;else for(;Or!==null;){ir=Or;var nr=ir.sibling,Pr=ir.return;if(Th(ir),ir===Di){Or=null;break}if(nr!==null){nr.return=Pr,Or=nr;break}Or=Pr}}}var Mr=zn.alternate;if(Mr!==null){var Br=Mr.child;if(Br!==null){Mr.child=null;do{var ns=Br.sibling;Br.sibling=null,Br=ns}while(Br!==null)}}Or=zn}}if((zn.subtreeFlags&2064)!==0&&Zn!==null)Zn.return=zn,Or=Zn;else e:for(;Or!==null;){if(zn=Or,(zn.flags&2048)!==0)switch(zn.tag){case 0:case 11:case 15:_0(9,zn,zn.return)}var Oi=zn.sibling;if(Oi!==null){Oi.return=zn.return,Or=Oi;break e}Or=zn.return}}var Si=ke.current;for(Or=Si;Or!==null;){Zn=Or;var Ni=Zn.child;if((Zn.subtreeFlags&2064)!==0&&Ni!==null)Ni.return=Zn,Or=Ni;else e:for(Zn=Si;Or!==null;){if(fi=Or,(fi.flags&2048)!==0)try{switch(fi.tag){case 0:case 11:case 15:K0(9,fi)}}catch(Ur){Za(fi,fi.return,Ur)}if(fi===Zn){Or=null;break e}var hr=fi.sibling;if(hr!==null){hr.return=fi.return,Or=hr;break e}Or=fi.return}}if(va=Ln,Wn(),Ir&&typeof Ir.onPostCommitFiberRoot=="function")try{Ir.onPostCommitFiberRoot(Fr,ke)}catch{}vn=!0}return vn}finally{ca=cn,$o.transition=Pe}}return!1}function Wh(ke,Pe,cn){Pe=c0(cn,Pe),Pe=ch(ke,Pe,1),ke=ho(ke,Pe,1),Pe=to(),ke!==null&&(no(ke,1,Pe),mo(ke,Pe))}function Za(ke,Pe,cn){if(ke.tag===3)Wh(ke,ke,cn);else for(;Pe!==null;){if(Pe.tag===3){Wh(Pe,ke,cn);break}else if(Pe.tag===1){var vn=Pe.stateNode;if(typeof Pe.type.getDerivedStateFromError=="function"||typeof vn.componentDidCatch=="function"&&(bc===null||!bc.has(vn))){ke=c0(cn,ke),ke=uh(Pe,ke,1),Pe=ho(Pe,ke,1),ke=to(),Pe!==null&&(no(Pe,1,ke),mo(Pe,ke));break}}Pe=Pe.return}}function Sd(ke,Pe,cn){var vn=ke.pingCache;vn!==null&&vn.delete(Pe),Pe=to(),ke.pingedLanes|=ke.suspendedLanes&cn,xs===ke&&(Ts&cn)===cn&&(us===4||us===3&&(Ts&130023424)===Ts&&500>or()-Du?zc(ke,0):Mu|=cn),mo(ke,Pe)}function Xh(ke,Pe){Pe===0&&((ke.mode&1)===0?Pe=1:(Pe=Tr,Tr<<=1,(Tr&130023424)===0&&(Tr=4194304)));var cn=to();ke=Ca(ke,Pe),ke!==null&&(no(ke,Pe,cn),mo(ke,cn))}function Ad(ke){var Pe=ke.memoizedState,cn=0;Pe!==null&&(cn=Pe.retryLane),Xh(ke,cn)}function Cd(ke,Pe){var cn=0;switch(ke.tag){case 13:var vn=ke.stateNode,Ln=ke.memoizedState;Ln!==null&&(cn=Ln.retryLane);break;case 19:vn=ke.stateNode;break;default:throw Error(Se(314))}vn!==null&&vn.delete(Pe),Xh(ke,cn)}var Gh;Gh=function(ke,Pe,cn){if(ke!==null)if(ke.memoizedProps!==Pe.pendingProps||Ms.current)po=!0;else{if((ke.lanes&cn)===0&&(Pe.flags&128)===0)return po=!1,ud(ke,Pe,cn);po=(ke.flags&131072)!==0}else po=!1,qi&&(Pe.flags&1048576)!==0&&Ki(Pe,ni,Pe.index);switch(Pe.lanes=0,Pe.tag){case 2:var vn=Pe.type;G0(ke,Pe),ke=Pe.pendingProps;var Ln=uc(Pe,ls.current);Ha(Pe,cn),Ln=Bc(null,Pe,vn,ke,Ln,cn);var zn=Uo();return Pe.flags|=1,typeof Ln=="object"&&Ln!==null&&typeof Ln.render=="function"&&Ln.$$typeof===void 0?(Pe.tag=1,Pe.memoizedState=null,Pe.updateQueue=null,Ds(vn)?(zn=!0,Bl(Pe)):zn=!1,Pe.memoizedState=Ln.state!==null&&Ln.state!==void 0?Ln.state:null,Qc(Pe),Ln.updater=W0,Pe.stateNode=Ln,Ln._reactInternals=Pe,vu(Pe,vn,ke,cn),Pe=ku(null,Pe,vn,!0,zn,cn)):(Pe.tag=0,qi&&zn&&ji(Pe),eo(null,Pe,Ln,cn),Pe=Pe.child),Pe;case 16:vn=Pe.elementType;e:{switch(G0(ke,Pe),ke=Pe.pendingProps,Ln=vn._init,vn=Ln(vn._payload),Pe.type=vn,Ln=Pe.tag=Ed(vn),ke=sl(vn,ke),Ln){case 0:Pe=Cu(null,Pe,vn,ke,cn);break e;case 1:Pe=yh(null,Pe,vn,ke,cn);break e;case 11:Pe=ph(null,Pe,vn,ke,cn);break e;case 14:Pe=gh(null,Pe,vn,sl(vn.type,ke),cn);break e}throw Error(Se(306,vn,""))}return Pe;case 0:return vn=Pe.type,Ln=Pe.pendingProps,Ln=Pe.elementType===vn?Ln:sl(vn,Ln),Cu(ke,Pe,vn,Ln,cn);case 1:return vn=Pe.type,Ln=Pe.pendingProps,Ln=Pe.elementType===vn?Ln:sl(vn,Ln),yh(ke,Pe,vn,Ln,cn);case 3:e:{if(wh(Pe),ke===null)throw Error(Se(387));vn=Pe.pendingProps,zn=Pe.memoizedState,Ln=zn.element,w0(ke,Pe),nl(Pe,vn,null,cn);var Zn=Pe.memoizedState;if(vn=Zn.element,zn.isDehydrated)if(zn={element:vn,isDehydrated:!1,cache:Zn.cache,pendingSuspenseBoundaries:Zn.pendingSuspenseBoundaries,transitions:Zn.transitions},Pe.updateQueue.baseState=zn,Pe.memoizedState=zn,Pe.flags&256){Ln=c0(Error(Se(423)),Pe),Pe=vh(ke,Pe,vn,cn,Ln);break e}else if(vn!==Ln){Ln=c0(Error(Se(424)),Pe),Pe=vh(ke,Pe,vn,cn,Ln);break e}else for(Wi=Es(Pe.stateNode.containerInfo.firstChild),wi=Pe,qi=!0,Vi=null,cn=Aa(Pe,null,vn,cn),Pe.child=cn;cn;)cn.flags=cn.flags&-3|4096,cn=cn.sibling;else{if(sa(),vn===Ln){Pe=Hl(ke,Pe,cn);break e}eo(ke,Pe,vn,cn)}Pe=Pe.child}return Pe;case 5:return j0(Pe),ke===null&&wr(Pe),vn=Pe.type,Ln=Pe.pendingProps,zn=ke!==null?ke.memoizedProps:null,Zn=Ln.children,g0(vn,Ln)?Zn=null:zn!==null&&g0(vn,zn)&&(Pe.flags|=32),bh(ke,Pe),eo(ke,Pe,Zn,cn),Pe.child;case 6:return ke===null&&wr(Pe),null;case 13:return Sh(ke,Pe,cn);case 4:return fc(Pe,Pe.stateNode.containerInfo),vn=Pe.pendingProps,ke===null?Pe.child=Qa(Pe,null,vn,cn):eo(ke,Pe,vn,cn),Pe.child;case 11:return vn=Pe.type,Ln=Pe.pendingProps,Ln=Pe.elementType===vn?Ln:sl(vn,Ln),ph(ke,Pe,vn,Ln,cn);case 7:return eo(ke,Pe,Pe.pendingProps,cn),Pe.child;case 8:return eo(ke,Pe,Pe.pendingProps.children,cn),Pe.child;case 12:return eo(ke,Pe,Pe.pendingProps.children,cn),Pe.child;case 10:e:{if(vn=Pe.type._context,Ln=Pe.pendingProps,zn=Pe.memoizedProps,Zn=Ln.value,Ra(gs,vn._currentValue),vn._currentValue=Zn,zn!==null)if(wa(zn.value,Zn)){if(zn.children===Ln.children&&!Ms.current){Pe=Hl(ke,Pe,cn);break e}}else for(zn=Pe.child,zn!==null&&(zn.return=Pe);zn!==null;){var fi=zn.dependencies;if(fi!==null){Zn=zn.child;for(var bi=fi.firstContext;bi!==null;){if(bi.context===vn){if(zn.tag===1){bi=uo(-1,cn&-cn),bi.tag=2;var Di=zn.updateQueue;if(Di!==null){Di=Di.shared;var ir=Di.pending;ir===null?bi.next=bi:(bi.next=ir.next,ir.next=bi),Di.pending=bi}}zn.lanes|=cn,bi=zn.alternate,bi!==null&&(bi.lanes|=cn),co(zn.return,cn,Pe),fi.lanes|=cn;break}bi=bi.next}}else if(zn.tag===10)Zn=zn.type===Pe.type?null:zn.child;else if(zn.tag===18){if(Zn=zn.return,Zn===null)throw Error(Se(341));Zn.lanes|=cn,fi=Zn.alternate,fi!==null&&(fi.lanes|=cn),co(Zn,cn,Pe),Zn=zn.sibling}else Zn=zn.child;if(Zn!==null)Zn.return=zn;else for(Zn=zn;Zn!==null;){if(Zn===Pe){Zn=null;break}if(zn=Zn.sibling,zn!==null){zn.return=Zn.return,Zn=zn;break}Zn=Zn.return}zn=Zn}eo(ke,Pe,Ln.children,cn),Pe=Pe.child}return Pe;case 9:return Ln=Pe.type,vn=Pe.pendingProps.children,Ha(Pe,cn),Ln=Ya(Ln),vn=vn(Ln),Pe.flags|=1,eo(ke,Pe,vn,cn),Pe.child;case 14:return vn=Pe.type,Ln=sl(vn,Pe.pendingProps),Ln=sl(vn.type,Ln),gh(ke,Pe,vn,Ln,cn);case 15:return mh(ke,Pe,Pe.type,Pe.pendingProps,cn);case 17:return vn=Pe.type,Ln=Pe.pendingProps,Ln=Pe.elementType===vn?Ln:sl(vn,Ln),G0(ke,Pe),Pe.tag=1,Ds(vn)?(ke=!0,Bl(Pe)):ke=!1,Ha(Pe,cn),oh(Pe,vn,Ln),vu(Pe,vn,Ln,cn),ku(null,Pe,vn,!0,ke,cn);case 19:return Ch(ke,Pe,cn);case 22:return xh(ke,Pe,cn)}throw Error(Se(156,Pe.tag))};function Vh(ke,Pe){return Ri(ke,Pe)}function kd(ke,Pe,cn,vn){this.tag=ke,this.key=cn,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=Pe,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=vn,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ho(ke,Pe,cn,vn){return new kd(ke,Pe,cn,vn)}function Wu(ke){return ke=ke.prototype,!(!ke||!ke.isReactComponent)}function Ed(ke){if(typeof ke=="function")return Wu(ke)?1:0;if(ke!=null){if(ke=ke.$$typeof,ke===pn)return 11;if(ke===dn)return 14}return 2}function Sc(ke,Pe){var cn=ke.alternate;return cn===null?(cn=Ho(ke.tag,Pe,ke.key,ke.mode),cn.elementType=ke.elementType,cn.type=ke.type,cn.stateNode=ke.stateNode,cn.alternate=ke,ke.alternate=cn):(cn.pendingProps=Pe,cn.type=ke.type,cn.flags=0,cn.subtreeFlags=0,cn.deletions=null),cn.flags=ke.flags&14680064,cn.childLanes=ke.childLanes,cn.lanes=ke.lanes,cn.child=ke.child,cn.memoizedProps=ke.memoizedProps,cn.memoizedState=ke.memoizedState,cn.updateQueue=ke.updateQueue,Pe=ke.dependencies,cn.dependencies=Pe===null?null:{lanes:Pe.lanes,firstContext:Pe.firstContext},cn.sibling=ke.sibling,cn.index=ke.index,cn.ref=ke.ref,cn}function ru(ke,Pe,cn,vn,Ln,zn){var Zn=2;if(vn=ke,typeof ke=="function")Wu(ke)&&(Zn=1);else if(typeof ke=="string")Zn=5;else e:switch(ke){case rn:return Wc(cn.children,Ln,zn,Pe);case un:Zn=8,Ln|=8;break;case Qe:return ke=Ho(12,cn,Pe,Ln|2),ke.elementType=Qe,ke.lanes=zn,ke;case Xe:return ke=Ho(13,cn,Pe,Ln),ke.elementType=Xe,ke.lanes=zn,ke;case fn:return ke=Ho(19,cn,Pe,Ln),ke.elementType=fn,ke.lanes=zn,ke;case tn:return au(cn,Ln,zn,Pe);default:if(typeof ke=="object"&&ke!==null)switch(ke.$$typeof){case hn:Zn=10;break e;case He:Zn=9;break e;case pn:Zn=11;break e;case dn:Zn=14;break e;case qe:Zn=16,vn=null;break e}throw Error(Se(130,ke==null?ke:typeof ke,""))}return Pe=Ho(Zn,cn,Pe,Ln),Pe.elementType=ke,Pe.type=vn,Pe.lanes=zn,Pe}function Wc(ke,Pe,cn,vn){return ke=Ho(7,ke,vn,Pe),ke.lanes=cn,ke}function au(ke,Pe,cn,vn){return ke=Ho(22,ke,vn,Pe),ke.elementType=tn,ke.lanes=cn,ke.stateNode={isHidden:!1},ke}function Xu(ke,Pe,cn){return ke=Ho(6,ke,null,Pe),ke.lanes=cn,ke}function Gu(ke,Pe,cn){return Pe=Ho(4,ke.children!==null?ke.children:[],ke.key,Pe),Pe.lanes=cn,Pe.stateNode={containerInfo:ke.containerInfo,pendingChildren:null,implementation:ke.implementation},Pe}function _d(ke,Pe,cn,vn,Ln){this.tag=Pe,this.containerInfo=ke,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Eo(0),this.expirationTimes=Eo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Eo(0),this.identifierPrefix=vn,this.onRecoverableError=Ln,this.mutableSourceEagerHydrationData=null}function Vu(ke,Pe,cn,vn,Ln,zn,Zn,fi,bi){return ke=new _d(ke,Pe,cn,fi,bi),Pe===1?(Pe=1,zn===!0&&(Pe|=8)):Pe=0,zn=Ho(3,null,null,Pe),ke.current=zn,zn.stateNode=ke,zn.memoizedState={element:vn,isDehydrated:cn,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qc(zn),ke}function Id(ke,Pe,cn){var vn=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:St,key:vn==null?null:""+vn,children:ke,containerInfo:Pe,implementation:cn}}function Kh(ke){if(!ke)return yl;ke=ke._reactInternals;e:{if(Ar(ke)!==ke||ke.tag!==1)throw Error(Se(170));var Pe=ke;do{switch(Pe.tag){case 3:Pe=Pe.stateNode.context;break e;case 1:if(Ds(Pe.type)){Pe=Pe.stateNode.__reactInternalMemoizedMergedChildContext;break e}}Pe=Pe.return}while(Pe!==null);throw Error(Se(171))}if(ke.tag===1){var cn=ke.type;if(Ds(cn))return y0(ke,cn,Pe)}return Pe}function Yh(ke,Pe,cn,vn,Ln,zn,Zn,fi,bi){return ke=Vu(cn,vn,!0,ke,Ln,zn,Zn,fi,bi),ke.context=Kh(null),cn=ke.current,vn=to(),Ln=wc(cn),zn=uo(vn,Ln),zn.callback=Pe??null,ho(cn,zn,Ln),ke.current.lanes=Ln,no(ke,Ln,vn),mo(ke,vn),ke}function su(ke,Pe,cn,vn){var Ln=Pe.current,zn=to(),Zn=wc(Ln);return cn=Kh(cn),Pe.context===null?Pe.context=cn:Pe.pendingContext=cn,Pe=uo(zn,Zn),Pe.payload={element:ke},vn=vn===void 0?null:vn,vn!==null&&(Pe.callback=vn),ke=ho(Ln,Pe,Zn),ke!==null&&(cl(ke,Ln,Zn,zn),jl(ke,Ln,Zn)),Zn}function ou(ke){if(ke=ke.current,!ke.child)return null;switch(ke.child.tag){case 5:return ke.child.stateNode;default:return ke.child.stateNode}}function Jh(ke,Pe){if(ke=ke.memoizedState,ke!==null&&ke.dehydrated!==null){var cn=ke.retryLane;ke.retryLane=cn!==0&&cn<Pe?cn:Pe}}function Ku(ke,Pe){Jh(ke,Pe),(ke=ke.alternate)&&Jh(ke,Pe)}function Td(){return null}var Zh=typeof reportError=="function"?reportError:function(ke){console.error(ke)};function Yu(ke){this._internalRoot=ke}lu.prototype.render=Yu.prototype.render=function(ke){var Pe=this._internalRoot;if(Pe===null)throw Error(Se(409));su(ke,Pe,null,null)},lu.prototype.unmount=Yu.prototype.unmount=function(){var ke=this._internalRoot;if(ke!==null){this._internalRoot=null;var Pe=ke.containerInfo;Hc(function(){su(null,ke,null,null)}),Pe[ps]=null}};function lu(ke){this._internalRoot=ke}lu.prototype.unstable_scheduleHydration=function(ke){if(ke){var Pe=Ps();ke={blockedOn:null,target:ke,priority:Pe};for(var cn=0;cn<Fs.length&&Pe!==0&&Pe<Fs[cn].priority;cn++);Fs.splice(cn,0,ke),cn===0&&Fo(ke)}};function Ju(ke){return!(!ke||ke.nodeType!==1&&ke.nodeType!==9&&ke.nodeType!==11)}function cu(ke){return!(!ke||ke.nodeType!==1&&ke.nodeType!==9&&ke.nodeType!==11&&(ke.nodeType!==8||ke.nodeValue!==" react-mount-point-unstable "))}function Qh(){}function Pd(ke,Pe,cn,vn,Ln){if(Ln){if(typeof vn=="function"){var zn=vn;vn=function(){var Di=ou(Zn);zn.call(Di)}}var Zn=Yh(Pe,vn,ke,0,null,!1,!1,"",Qh);return ke._reactRootContainer=Zn,ke[ps]=Zn.current,Ol(ke.nodeType===8?ke.parentNode:ke),Hc(),Zn}for(;Ln=ke.lastChild;)ke.removeChild(Ln);if(typeof vn=="function"){var fi=vn;vn=function(){var Di=ou(bi);fi.call(Di)}}var bi=Vu(ke,0,!1,null,null,!1,!1,"",Qh);return ke._reactRootContainer=bi,ke[ps]=bi.current,Ol(ke.nodeType===8?ke.parentNode:ke),Hc(function(){su(Pe,bi,cn,vn)}),bi}function uu(ke,Pe,cn,vn,Ln){var zn=cn._reactRootContainer;if(zn){var Zn=zn;if(typeof Ln=="function"){var fi=Ln;Ln=function(){var bi=ou(Zn);fi.call(bi)}}su(Pe,Zn,ke,Ln)}else Zn=Pd(cn,Pe,ke,Ln,vn);return ou(Zn)}ul=function(ke){switch(ke.tag){case 3:var Pe=ke.stateNode;if(Pe.current.memoizedState.isDehydrated){var cn=Rr(Pe.pendingLanes);cn!==0&&(_o(Pe,cn|1),mo(Pe,or()),(va&6)===0&&(d0=or()+500,Wn()))}break;case 13:Hc(function(){var vn=Ca(ke,1);if(vn!==null){var Ln=to();cl(vn,ke,1,Ln)}}),Ku(ke,1)}},To=function(ke){if(ke.tag===13){var Pe=Ca(ke,134217728);if(Pe!==null){var cn=to();cl(Pe,ke,134217728,cn)}Ku(ke,134217728)}},Po=function(ke){if(ke.tag===13){var Pe=wc(ke),cn=Ca(ke,Pe);if(cn!==null){var vn=to();cl(cn,ke,Pe,vn)}Ku(ke,Pe)}},Ps=function(){return ca},xo=function(ke,Pe){var cn=ca;try{return ca=ke,Pe()}finally{ca=cn}},hi=function(ke,Pe,cn){switch(Pe){case"input":if(In(ke,cn),Pe=cn.name,cn.type==="radio"&&Pe!=null){for(cn=ke;cn.parentNode;)cn=cn.parentNode;for(cn=cn.querySelectorAll("input[name="+JSON.stringify(""+Pe)+'][type="radio"]'),Pe=0;Pe<cn.length;Pe++){var vn=cn[Pe];if(vn!==ke&&vn.form===ke.form){var Ln=Mc(vn);if(!Ln)throw Error(Se(90));_n(vn),In(vn,Ln)}}}break;case"textarea":Bn(ke,cn);break;case"select":Pe=cn.value,Pe!=null&&En(ke,!!cn.multiple,Pe,!1)}},Qi=Hu,fr=Hc;var Fd={usingClientEntryPoint:!1,Events:[cc,Ml,Mc,Ei,$i,Hu]},F0={findFiberByHostInstance:bl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Rd={bundleType:F0.bundleType,version:F0.version,rendererPackageName:F0.rendererPackageName,rendererConfig:F0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Oe.ReactCurrentDispatcher,findHostInstanceByFiber:function(ke){return ke=da(ke),ke===null?null:ke.stateNode},findFiberByHostInstance:F0.findFiberByHostInstance||Td,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hu.isDisabled&&hu.supportsFiber)try{Fr=hu.inject(Rd),Ir=hu}catch{}}return reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fd,reactDom_production_min.createPortal=function(ke,Pe){var cn=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ju(Pe))throw Error(Se(200));return Id(ke,Pe,null,cn)},reactDom_production_min.createRoot=function(ke,Pe){if(!Ju(ke))throw Error(Se(299));var cn=!1,vn="",Ln=Zh;return Pe!=null&&(Pe.unstable_strictMode===!0&&(cn=!0),Pe.identifierPrefix!==void 0&&(vn=Pe.identifierPrefix),Pe.onRecoverableError!==void 0&&(Ln=Pe.onRecoverableError)),Pe=Vu(ke,1,!1,null,null,cn,!1,vn,Ln),ke[ps]=Pe.current,Ol(ke.nodeType===8?ke.parentNode:ke),new Yu(Pe)},reactDom_production_min.findDOMNode=function(ke){if(ke==null)return null;if(ke.nodeType===1)return ke;var Pe=ke._reactInternals;if(Pe===void 0)throw typeof ke.render=="function"?Error(Se(188)):(ke=Object.keys(ke).join(","),Error(Se(268,ke)));return ke=da(Pe),ke=ke===null?null:ke.stateNode,ke},reactDom_production_min.flushSync=function(ke){return Hc(ke)},reactDom_production_min.hydrate=function(ke,Pe,cn){if(!cu(Pe))throw Error(Se(200));return uu(null,ke,Pe,!0,cn)},reactDom_production_min.hydrateRoot=function(ke,Pe,cn){if(!Ju(ke))throw Error(Se(405));var vn=cn!=null&&cn.hydratedSources||null,Ln=!1,zn="",Zn=Zh;if(cn!=null&&(cn.unstable_strictMode===!0&&(Ln=!0),cn.identifierPrefix!==void 0&&(zn=cn.identifierPrefix),cn.onRecoverableError!==void 0&&(Zn=cn.onRecoverableError)),Pe=Yh(Pe,null,ke,1,cn??null,Ln,!1,zn,Zn),ke[ps]=Pe.current,Ol(ke),vn)for(ke=0;ke<vn.length;ke++)cn=vn[ke],Ln=cn._getVersion,Ln=Ln(cn._source),Pe.mutableSourceEagerHydrationData==null?Pe.mutableSourceEagerHydrationData=[cn,Ln]:Pe.mutableSourceEagerHydrationData.push(cn,Ln);return new lu(Pe)},reactDom_production_min.render=function(ke,Pe,cn){if(!cu(Pe))throw Error(Se(200));return uu(null,ke,Pe,!1,cn)},reactDom_production_min.unmountComponentAtNode=function(ke){if(!cu(ke))throw Error(Se(40));return ke._reactRootContainer?(Hc(function(){uu(null,null,ke,!1,function(){ke._reactRootContainer=null,ke[ps]=null})}),!0):!1},reactDom_production_min.unstable_batchedUpdates=Hu,reactDom_production_min.unstable_renderSubtreeIntoContainer=function(ke,Pe,cn,vn){if(!cu(cn))throw Error(Se(200));if(ke==null||ke._reactInternals===void 0)throw Error(Se(38));return uu(ke,Pe,cn,!1,vn)},reactDom_production_min.version="18.3.1-next-f1338f8080-20240426",reactDom_production_min}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function Ae(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ae)}catch(r){console.error(r)}}return Ae(),reactDom.exports=requireReactDom_production_min(),reactDom.exports}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client;hasRequiredClient=1;var Ae=requireReactDom();return client.createRoot=Ae.createRoot,client.hydrateRoot=Ae.hydrateRoot,client}var clientExports=requireClient();const ReactDOM=getDefaultExportFromCjs(clientExports);requireReactDom();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(Ae){for(var r=1;r<arguments.length;r++){var Se=arguments[r];for(var Ee in Se)Object.prototype.hasOwnProperty.call(Se,Ee)&&(Ae[Ee]=Se[Ee])}return Ae},_extends$3.apply(this,arguments)}var Action;(function(Ae){Ae.Pop="POP",Ae.Push="PUSH",Ae.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(Ae){Ae===void 0&&(Ae={});function r(Ee,Fe){let{pathname:Be,search:Ve,hash:_e}=Ee.location;return createLocation("",{pathname:Be,search:Ve,hash:_e},Fe.state&&Fe.state.usr||null,Fe.state&&Fe.state.key||"default")}function Se(Ee,Fe){return typeof Fe=="string"?Fe:createPath(Fe)}return getUrlBasedHistory(r,Se,null,Ae)}function invariant(Ae,r){if(Ae===!1||Ae===null||typeof Ae>"u")throw new Error(r)}function warning(Ae,r){if(!Ae){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(Ae,r){return{usr:Ae.state,key:Ae.key,idx:r}}function createLocation(Ae,r,Se,Ee){return Se===void 0&&(Se=null),_extends$3({pathname:typeof Ae=="string"?Ae:Ae.pathname,search:"",hash:""},typeof r=="string"?parsePath(r):r,{state:Se,key:r&&r.key||Ee||createKey()})}function createPath(Ae){let{pathname:r="/",search:Se="",hash:Ee=""}=Ae;return Se&&Se!=="?"&&(r+=Se.charAt(0)==="?"?Se:"?"+Se),Ee&&Ee!=="#"&&(r+=Ee.charAt(0)==="#"?Ee:"#"+Ee),r}function parsePath(Ae){let r={};if(Ae){let Se=Ae.indexOf("#");Se>=0&&(r.hash=Ae.substr(Se),Ae=Ae.substr(0,Se));let Ee=Ae.indexOf("?");Ee>=0&&(r.search=Ae.substr(Ee),Ae=Ae.substr(0,Ee)),Ae&&(r.pathname=Ae)}return r}function getUrlBasedHistory(Ae,r,Se,Ee){Ee===void 0&&(Ee={});let{window:Fe=document.defaultView,v5Compat:Be=!1}=Ee,Ve=Fe.history,_e=Action.Pop,ze=null,xe=Ie();xe==null&&(xe=0,Ve.replaceState(_extends$3({},Ve.state,{idx:xe}),""));function Ie(){return(Ve.state||{idx:null}).idx}function Re(){_e=Action.Pop;let en=Ie(),je=en==null?null:en-xe;xe=en,ze&&ze({action:_e,location:Ye.location,delta:je})}function e(en,je){_e=Action.Push;let nn=createLocation(Ye.location,en,je);xe=Ie()+1;let Ge=getHistoryState(nn,xe),Oe=Ye.createHref(nn);try{Ve.pushState(Ge,"",Oe)}catch(Ce){if(Ce instanceof DOMException&&Ce.name==="DataCloneError")throw Ce;Fe.location.assign(Oe)}Be&&ze&&ze({action:_e,location:Ye.location,delta:1})}function t(en,je){_e=Action.Replace;let nn=createLocation(Ye.location,en,je);xe=Ie();let Ge=getHistoryState(nn,xe),Oe=Ye.createHref(nn);Ve.replaceState(Ge,"",Oe),Be&&ze&&ze({action:_e,location:Ye.location,delta:0})}function Te(en){let je=Fe.location.origin!=="null"?Fe.location.origin:Fe.location.href,nn=typeof en=="string"?en:createPath(en);return nn=nn.replace(/ $/,"%20"),invariant(je,"No window.location.(origin|href) available to create URL for href: "+nn),new URL(nn,je)}let Ye={get action(){return _e},get location(){return Ae(Fe,Ve)},listen(en){if(ze)throw new Error("A history only accepts one active listener");return Fe.addEventListener(PopStateEventType,Re),ze=en,()=>{Fe.removeEventListener(PopStateEventType,Re),ze=null}},createHref(en){return r(Fe,en)},createURL:Te,encodeLocation(en){let je=Te(en);return{pathname:je.pathname,search:je.search,hash:je.hash}},push:e,replace:t,go(en){return Ve.go(en)}};return Ye}var ResultType;(function(Ae){Ae.data="data",Ae.deferred="deferred",Ae.redirect="redirect",Ae.error="error"})(ResultType||(ResultType={}));function matchRoutes(Ae,r,Se){return Se===void 0&&(Se="/"),matchRoutesImpl(Ae,r,Se)}function matchRoutesImpl(Ae,r,Se,Ee){let Fe=typeof r=="string"?parsePath(r):r,Be=stripBasename(Fe.pathname||"/",Se);if(Be==null)return null;let Ve=flattenRoutes(Ae);rankRouteBranches(Ve);let _e=null;for(let ze=0;_e==null&&ze<Ve.length;++ze){let xe=decodePath(Be);_e=matchRouteBranch(Ve[ze],xe)}return _e}function flattenRoutes(Ae,r,Se,Ee){r===void 0&&(r=[]),Se===void 0&&(Se=[]),Ee===void 0&&(Ee="");let Fe=(Be,Ve,_e)=>{let ze={relativePath:_e===void 0?Be.path||"":_e,caseSensitive:Be.caseSensitive===!0,childrenIndex:Ve,route:Be};ze.relativePath.startsWith("/")&&(invariant(ze.relativePath.startsWith(Ee),'Absolute route path "'+ze.relativePath+'" nested under path '+('"'+Ee+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),ze.relativePath=ze.relativePath.slice(Ee.length));let xe=joinPaths([Ee,ze.relativePath]),Ie=Se.concat(ze);Be.children&&Be.children.length>0&&(invariant(Be.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+xe+'".')),flattenRoutes(Be.children,r,Ie,xe)),!(Be.path==null&&!Be.index)&&r.push({path:xe,score:computeScore(xe,Be.index),routesMeta:Ie})};return Ae.forEach((Be,Ve)=>{var _e;if(Be.path===""||!((_e=Be.path)!=null&&_e.includes("?")))Fe(Be,Ve);else for(let ze of explodeOptionalSegments(Be.path))Fe(Be,Ve,ze)}),r}function explodeOptionalSegments(Ae){let r=Ae.split("/");if(r.length===0)return[];let[Se,...Ee]=r,Fe=Se.endsWith("?"),Be=Se.replace(/\?$/,"");if(Ee.length===0)return Fe?[Be,""]:[Be];let Ve=explodeOptionalSegments(Ee.join("/")),_e=[];return _e.push(...Ve.map(ze=>ze===""?Be:[Be,ze].join("/"))),Fe&&_e.push(...Ve),_e.map(ze=>Ae.startsWith("/")&&ze===""?"/":ze)}function rankRouteBranches(Ae){Ae.sort((r,Se)=>r.score!==Se.score?Se.score-r.score:compareIndexes(r.routesMeta.map(Ee=>Ee.childrenIndex),Se.routesMeta.map(Ee=>Ee.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=Ae=>Ae==="*";function computeScore(Ae,r){let Se=Ae.split("/"),Ee=Se.length;return Se.some(isSplat)&&(Ee+=splatPenalty),r&&(Ee+=indexRouteValue),Se.filter(Fe=>!isSplat(Fe)).reduce((Fe,Be)=>Fe+(paramRe.test(Be)?dynamicSegmentValue:Be===""?emptySegmentValue:staticSegmentValue),Ee)}function compareIndexes(Ae,r){return Ae.length===r.length&&Ae.slice(0,-1).every((Ee,Fe)=>Ee===r[Fe])?Ae[Ae.length-1]-r[r.length-1]:0}function matchRouteBranch(Ae,r,Se){let{routesMeta:Ee}=Ae,Fe={},Be="/",Ve=[];for(let _e=0;_e<Ee.length;++_e){let ze=Ee[_e],xe=_e===Ee.length-1,Ie=Be==="/"?r:r.slice(Be.length)||"/",Re=matchPath({path:ze.relativePath,caseSensitive:ze.caseSensitive,end:xe},Ie),e=ze.route;if(!Re)return null;Object.assign(Fe,Re.params),Ve.push({params:Fe,pathname:joinPaths([Be,Re.pathname]),pathnameBase:normalizePathname(joinPaths([Be,Re.pathnameBase])),route:e}),Re.pathnameBase!=="/"&&(Be=joinPaths([Be,Re.pathnameBase]))}return Ve}function matchPath(Ae,r){typeof Ae=="string"&&(Ae={path:Ae,caseSensitive:!1,end:!0});let[Se,Ee]=compilePath(Ae.path,Ae.caseSensitive,Ae.end),Fe=r.match(Se);if(!Fe)return null;let Be=Fe[0],Ve=Be.replace(/(.)\/+$/,"$1"),_e=Fe.slice(1);return{params:Ee.reduce((xe,Ie,Re)=>{let{paramName:e,isOptional:t}=Ie;if(e==="*"){let Ye=_e[Re]||"";Ve=Be.slice(0,Be.length-Ye.length).replace(/(.)\/+$/,"$1")}const Te=_e[Re];return t&&!Te?xe[e]=void 0:xe[e]=(Te||"").replace(/%2F/g,"/"),xe},{}),pathname:Be,pathnameBase:Ve,pattern:Ae}}function compilePath(Ae,r,Se){r===void 0&&(r=!1),Se===void 0&&(Se=!0),warning(Ae==="*"||!Ae.endsWith("*")||Ae.endsWith("/*"),'Route path "'+Ae+'" will be treated as if it were '+('"'+Ae.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+Ae.replace(/\*$/,"/*")+'".'));let Ee=[],Fe="^"+Ae.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(Ve,_e,ze)=>(Ee.push({paramName:_e,isOptional:ze!=null}),ze?"/?([^\\/]+)?":"/([^\\/]+)"));return Ae.endsWith("*")?(Ee.push({paramName:"*"}),Fe+=Ae==="*"||Ae==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):Se?Fe+="\\/*$":Ae!==""&&Ae!=="/"&&(Fe+="(?:(?=\\/|$))"),[new RegExp(Fe,r?void 0:"i"),Ee]}function decodePath(Ae){try{return Ae.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return warning(!1,'The URL path "'+Ae+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),Ae}}function stripBasename(Ae,r){if(r==="/")return Ae;if(!Ae.toLowerCase().startsWith(r.toLowerCase()))return null;let Se=r.endsWith("/")?r.length-1:r.length,Ee=Ae.charAt(Se);return Ee&&Ee!=="/"?null:Ae.slice(Se)||"/"}function resolvePath(Ae,r){r===void 0&&(r="/");let{pathname:Se,search:Ee="",hash:Fe=""}=typeof Ae=="string"?parsePath(Ae):Ae;return{pathname:Se?Se.startsWith("/")?Se:resolvePathname(Se,r):r,search:normalizeSearch(Ee),hash:normalizeHash(Fe)}}function resolvePathname(Ae,r){let Se=r.replace(/\/+$/,"").split("/");return Ae.split("/").forEach(Fe=>{Fe===".."?Se.length>1&&Se.pop():Fe!=="."&&Se.push(Fe)}),Se.length>1?Se.join("/"):"/"}function getInvalidPathError(Ae,r,Se,Ee){return"Cannot include a '"+Ae+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(Ee)+"].  Please separate it out to the ")+("`to."+Se+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(Ae){return Ae.filter((r,Se)=>Se===0||r.route.path&&r.route.path.length>0)}function getResolveToMatches(Ae,r){let Se=getPathContributingMatches(Ae);return r?Se.map((Ee,Fe)=>Fe===Se.length-1?Ee.pathname:Ee.pathnameBase):Se.map(Ee=>Ee.pathnameBase)}function resolveTo(Ae,r,Se,Ee){Ee===void 0&&(Ee=!1);let Fe;typeof Ae=="string"?Fe=parsePath(Ae):(Fe=_extends$3({},Ae),invariant(!Fe.pathname||!Fe.pathname.includes("?"),getInvalidPathError("?","pathname","search",Fe)),invariant(!Fe.pathname||!Fe.pathname.includes("#"),getInvalidPathError("#","pathname","hash",Fe)),invariant(!Fe.search||!Fe.search.includes("#"),getInvalidPathError("#","search","hash",Fe)));let Be=Ae===""||Fe.pathname==="",Ve=Be?"/":Fe.pathname,_e;if(Ve==null)_e=Se;else{let Re=r.length-1;if(!Ee&&Ve.startsWith("..")){let e=Ve.split("/");for(;e[0]==="..";)e.shift(),Re-=1;Fe.pathname=e.join("/")}_e=Re>=0?r[Re]:"/"}let ze=resolvePath(Fe,_e),xe=Ve&&Ve!=="/"&&Ve.endsWith("/"),Ie=(Be||Ve===".")&&Se.endsWith("/");return!ze.pathname.endsWith("/")&&(xe||Ie)&&(ze.pathname+="/"),ze}const joinPaths=Ae=>Ae.join("/").replace(/\/\/+/g,"/"),normalizePathname=Ae=>Ae.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=Ae=>!Ae||Ae==="?"?"":Ae.startsWith("?")?Ae:"?"+Ae,normalizeHash=Ae=>!Ae||Ae==="#"?"":Ae.startsWith("#")?Ae:"#"+Ae;function isRouteErrorResponse(Ae){return Ae!=null&&typeof Ae.status=="number"&&typeof Ae.statusText=="string"&&typeof Ae.internal=="boolean"&&"data"in Ae}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(Ae){for(var r=1;r<arguments.length;r++){var Se=arguments[r];for(var Ee in Se)Object.prototype.hasOwnProperty.call(Se,Ee)&&(Ae[Ee]=Se[Ee])}return Ae},_extends$2.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useHref(Ae,r){let{relative:Se}=r===void 0?{}:r;useInRouterContext()||invariant(!1);let{basename:Ee,navigator:Fe}=reactExports.useContext(NavigationContext),{hash:Be,pathname:Ve,search:_e}=useResolvedPath(Ae,{relative:Se}),ze=Ve;return Ee!=="/"&&(ze=Ve==="/"?Ee:joinPaths([Ee,Ve])),Fe.createHref({pathname:ze,search:_e,hash:Be})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect(Ae){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(Ae)}function useNavigate(){let{isDataRoute:Ae}=reactExports.useContext(RouteContext);return Ae?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant(!1);let Ae=reactExports.useContext(DataRouterContext),{basename:r,future:Se,navigator:Ee}=reactExports.useContext(NavigationContext),{matches:Fe}=reactExports.useContext(RouteContext),{pathname:Be}=useLocation(),Ve=JSON.stringify(getResolveToMatches(Fe,Se.v7_relativeSplatPath)),_e=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{_e.current=!0}),reactExports.useCallback(function(xe,Ie){if(Ie===void 0&&(Ie={}),!_e.current)return;if(typeof xe=="number"){Ee.go(xe);return}let Re=resolveTo(xe,JSON.parse(Ve),Be,Ie.relative==="path");Ae==null&&r!=="/"&&(Re.pathname=Re.pathname==="/"?r:joinPaths([r,Re.pathname])),(Ie.replace?Ee.replace:Ee.push)(Re,Ie.state,Ie)},[r,Ee,Ve,Be,Ae])}function useResolvedPath(Ae,r){let{relative:Se}=r===void 0?{}:r,{future:Ee}=reactExports.useContext(NavigationContext),{matches:Fe}=reactExports.useContext(RouteContext),{pathname:Be}=useLocation(),Ve=JSON.stringify(getResolveToMatches(Fe,Ee.v7_relativeSplatPath));return reactExports.useMemo(()=>resolveTo(Ae,JSON.parse(Ve),Be,Se==="path"),[Ae,Ve,Be,Se])}function useRoutes(Ae,r){return useRoutesImpl(Ae,r)}function useRoutesImpl(Ae,r,Se,Ee){useInRouterContext()||invariant(!1);let{navigator:Fe}=reactExports.useContext(NavigationContext),{matches:Be}=reactExports.useContext(RouteContext),Ve=Be[Be.length-1],_e=Ve?Ve.params:{};Ve&&Ve.pathname;let ze=Ve?Ve.pathnameBase:"/";Ve&&Ve.route;let xe=useLocation(),Ie;if(r){var Re;let en=typeof r=="string"?parsePath(r):r;ze==="/"||(Re=en.pathname)!=null&&Re.startsWith(ze)||invariant(!1),Ie=en}else Ie=xe;let e=Ie.pathname||"/",t=e;if(ze!=="/"){let en=ze.replace(/^\//,"").split("/");t="/"+e.replace(/^\//,"").split("/").slice(en.length).join("/")}let Te=matchRoutes(Ae,{pathname:t}),Ye=_renderMatches(Te&&Te.map(en=>Object.assign({},en,{params:Object.assign({},_e,en.params),pathname:joinPaths([ze,Fe.encodeLocation?Fe.encodeLocation(en.pathname).pathname:en.pathname]),pathnameBase:en.pathnameBase==="/"?ze:joinPaths([ze,Fe.encodeLocation?Fe.encodeLocation(en.pathnameBase).pathname:en.pathnameBase])})),Be,Se,Ee);return r&&Ye?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$2({pathname:"/",search:"",hash:"",state:null,key:"default"},Ie),navigationType:Action.Pop}},Ye):Ye}function DefaultErrorComponent(){let Ae=useRouteError(),r=isRouteErrorResponse(Ae)?Ae.status+" "+Ae.statusText:Ae instanceof Error?Ae.message:JSON.stringify(Ae),Se=Ae instanceof Error?Ae.stack:null,Fe={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},r),Se?reactExports.createElement("pre",{style:Fe},Se):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,Se){return Se.location!==r.location||Se.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:Se.error,location:Se.location,revalidation:r.revalidation||Se.revalidation}}componentDidCatch(r,Se){console.error("React Router caught the following error during render",r,Se)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(Ae){let{routeContext:r,match:Se,children:Ee}=Ae,Fe=reactExports.useContext(DataRouterContext);return Fe&&Fe.static&&Fe.staticContext&&(Se.route.errorElement||Se.route.ErrorBoundary)&&(Fe.staticContext._deepestRenderedBoundaryId=Se.route.id),reactExports.createElement(RouteContext.Provider,{value:r},Ee)}function _renderMatches(Ae,r,Se,Ee){var Fe;if(r===void 0&&(r=[]),Se===void 0&&(Se=null),Ee===void 0&&(Ee=null),Ae==null){var Be;if(!Se)return null;if(Se.errors)Ae=Se.matches;else if((Be=Ee)!=null&&Be.v7_partialHydration&&r.length===0&&!Se.initialized&&Se.matches.length>0)Ae=Se.matches;else return null}let Ve=Ae,_e=(Fe=Se)==null?void 0:Fe.errors;if(_e!=null){let Ie=Ve.findIndex(Re=>Re.route.id&&_e?.[Re.route.id]!==void 0);Ie>=0||invariant(!1),Ve=Ve.slice(0,Math.min(Ve.length,Ie+1))}let ze=!1,xe=-1;if(Se&&Ee&&Ee.v7_partialHydration)for(let Ie=0;Ie<Ve.length;Ie++){let Re=Ve[Ie];if((Re.route.HydrateFallback||Re.route.hydrateFallbackElement)&&(xe=Ie),Re.route.id){let{loaderData:e,errors:t}=Se,Te=Re.route.loader&&e[Re.route.id]===void 0&&(!t||t[Re.route.id]===void 0);if(Re.route.lazy||Te){ze=!0,xe>=0?Ve=Ve.slice(0,xe+1):Ve=[Ve[0]];break}}}return Ve.reduceRight((Ie,Re,e)=>{let t,Te=!1,Ye=null,en=null;Se&&(t=_e&&Re.route.id?_e[Re.route.id]:void 0,Ye=Re.route.errorElement||defaultErrorElement,ze&&(xe<0&&e===0?(warningOnce("route-fallback"),Te=!0,en=null):xe===e&&(Te=!0,en=Re.route.hydrateFallbackElement||null)));let je=r.concat(Ve.slice(0,e+1)),nn=()=>{let Ge;return t?Ge=Ye:Te?Ge=en:Re.route.Component?Ge=reactExports.createElement(Re.route.Component,null):Re.route.element?Ge=Re.route.element:Ge=Ie,reactExports.createElement(RenderedRoute,{match:Re,routeContext:{outlet:Ie,matches:je,isDataRoute:Se!=null},children:Ge})};return Se&&(Re.route.ErrorBoundary||Re.route.errorElement||e===0)?reactExports.createElement(RenderErrorBoundary,{location:Se.location,revalidation:Se.revalidation,component:Ye,error:t,children:nn(),routeContext:{outlet:null,matches:je,isDataRoute:!0}}):nn()},null)}var DataRouterHook$1=function(Ae){return Ae.UseBlocker="useBlocker",Ae.UseRevalidator="useRevalidator",Ae.UseNavigateStable="useNavigate",Ae}(DataRouterHook$1||{}),DataRouterStateHook$1=function(Ae){return Ae.UseBlocker="useBlocker",Ae.UseLoaderData="useLoaderData",Ae.UseActionData="useActionData",Ae.UseRouteError="useRouteError",Ae.UseNavigation="useNavigation",Ae.UseRouteLoaderData="useRouteLoaderData",Ae.UseMatches="useMatches",Ae.UseRevalidator="useRevalidator",Ae.UseNavigateStable="useNavigate",Ae.UseRouteId="useRouteId",Ae}(DataRouterStateHook$1||{});function useDataRouterContext(Ae){let r=reactExports.useContext(DataRouterContext);return r||invariant(!1),r}function useDataRouterState(Ae){let r=reactExports.useContext(DataRouterStateContext);return r||invariant(!1),r}function useRouteContext(Ae){let r=reactExports.useContext(RouteContext);return r||invariant(!1),r}function useCurrentRouteId(Ae){let r=useRouteContext(),Se=r.matches[r.matches.length-1];return Se.route.id||invariant(!1),Se.route.id}function useRouteError(){var Ae;let r=reactExports.useContext(RouteErrorContext),Se=useDataRouterState(),Ee=useCurrentRouteId();return r!==void 0?r:(Ae=Se.errors)==null?void 0:Ae[Ee]}function useNavigateStable(){let{router:Ae}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),r=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),Se=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{Se.current=!0}),reactExports.useCallback(function(Fe,Be){Be===void 0&&(Be={}),Se.current&&(typeof Fe=="number"?Ae.navigate(Fe):Ae.navigate(Fe,_extends$2({fromRouteId:r},Be)))},[Ae,r])}const alreadyWarned$1={};function warningOnce(Ae,r,Se){alreadyWarned$1[Ae]||(alreadyWarned$1[Ae]=!0)}function logV6DeprecationWarnings(Ae,r){Ae?.v7_startTransition,Ae?.v7_relativeSplatPath}function Route(Ae){invariant(!1)}function Router(Ae){let{basename:r="/",children:Se=null,location:Ee,navigationType:Fe=Action.Pop,navigator:Be,static:Ve=!1,future:_e}=Ae;useInRouterContext()&&invariant(!1);let ze=r.replace(/^\/*/,"/"),xe=reactExports.useMemo(()=>({basename:ze,navigator:Be,static:Ve,future:_extends$2({v7_relativeSplatPath:!1},_e)}),[ze,_e,Be,Ve]);typeof Ee=="string"&&(Ee=parsePath(Ee));let{pathname:Ie="/",search:Re="",hash:e="",state:t=null,key:Te="default"}=Ee,Ye=reactExports.useMemo(()=>{let en=stripBasename(Ie,ze);return en==null?null:{location:{pathname:en,search:Re,hash:e,state:t,key:Te},navigationType:Fe}},[ze,Ie,Re,e,t,Te,Fe]);return Ye==null?null:reactExports.createElement(NavigationContext.Provider,{value:xe},reactExports.createElement(LocationContext.Provider,{children:Se,value:Ye}))}function Routes(Ae){let{children:r,location:Se}=Ae;return useRoutes(createRoutesFromChildren(r),Se)}new Promise(()=>{});function createRoutesFromChildren(Ae,r){r===void 0&&(r=[]);let Se=[];return reactExports.Children.forEach(Ae,(Ee,Fe)=>{if(!reactExports.isValidElement(Ee))return;let Be=[...r,Fe];if(Ee.type===reactExports.Fragment){Se.push.apply(Se,createRoutesFromChildren(Ee.props.children,Be));return}Ee.type!==Route&&invariant(!1),!Ee.props.index||!Ee.props.children||invariant(!1);let Ve={id:Ee.props.id||Be.join("-"),caseSensitive:Ee.props.caseSensitive,element:Ee.props.element,Component:Ee.props.Component,index:Ee.props.index,path:Ee.props.path,loader:Ee.props.loader,action:Ee.props.action,errorElement:Ee.props.errorElement,ErrorBoundary:Ee.props.ErrorBoundary,hasErrorBoundary:Ee.props.ErrorBoundary!=null||Ee.props.errorElement!=null,shouldRevalidate:Ee.props.shouldRevalidate,handle:Ee.props.handle,lazy:Ee.props.lazy};Ee.props.children&&(Ve.children=createRoutesFromChildren(Ee.props.children,Be)),Se.push(Ve)}),Se}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(Ae){for(var r=1;r<arguments.length;r++){var Se=arguments[r];for(var Ee in Se)Object.prototype.hasOwnProperty.call(Se,Ee)&&(Ae[Ee]=Se[Ee])}return Ae},_extends$1.apply(this,arguments)}function _objectWithoutPropertiesLoose$1(Ae,r){if(Ae==null)return{};var Se={},Ee=Object.keys(Ae),Fe,Be;for(Be=0;Be<Ee.length;Be++)Fe=Ee[Be],!(r.indexOf(Fe)>=0)&&(Se[Fe]=Ae[Fe]);return Se}function isModifiedEvent(Ae){return!!(Ae.metaKey||Ae.altKey||Ae.ctrlKey||Ae.shiftKey)}function shouldProcessLinkClick(Ae,r){return Ae.button===0&&(!r||r==="_self")&&!isModifiedEvent(Ae)}const _excluded$1=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}const START_TRANSITION="startTransition",startTransitionImpl=React$1[START_TRANSITION];function BrowserRouter(Ae){let{basename:r,children:Se,future:Ee,window:Fe}=Ae,Be=reactExports.useRef();Be.current==null&&(Be.current=createBrowserHistory({window:Fe,v5Compat:!0}));let Ve=Be.current,[_e,ze]=reactExports.useState({action:Ve.action,location:Ve.location}),{v7_startTransition:xe}=Ee||{},Ie=reactExports.useCallback(Re=>{xe&&startTransitionImpl?startTransitionImpl(()=>ze(Re)):ze(Re)},[ze,xe]);return reactExports.useLayoutEffect(()=>Ve.listen(Ie),[Ve,Ie]),reactExports.useEffect(()=>logV6DeprecationWarnings(Ee),[Ee]),reactExports.createElement(Router,{basename:r,children:Se,location:_e.location,navigationType:_e.action,navigator:Ve,future:Ee})}const isBrowser=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function(r,Se){let{onClick:Ee,relative:Fe,reloadDocument:Be,replace:Ve,state:_e,target:ze,to:xe,preventScrollReset:Ie,viewTransition:Re}=r,e=_objectWithoutPropertiesLoose$1(r,_excluded$1),{basename:t}=reactExports.useContext(NavigationContext),Te,Ye=!1;if(typeof xe=="string"&&ABSOLUTE_URL_REGEX.test(xe)&&(Te=xe,isBrowser))try{let Ge=new URL(window.location.href),Oe=xe.startsWith("//")?new URL(Ge.protocol+xe):new URL(xe),Ce=stripBasename(Oe.pathname,t);Oe.origin===Ge.origin&&Ce!=null?xe=Ce+Oe.search+Oe.hash:Ye=!0}catch{}let en=useHref(xe,{relative:Fe}),je=useLinkClickHandler(xe,{replace:Ve,state:_e,target:ze,preventScrollReset:Ie,relative:Fe,viewTransition:Re});function nn(Ge){Ee&&Ee(Ge),Ge.defaultPrevented||je(Ge)}return reactExports.createElement("a",_extends$1({},e,{href:Te||en,onClick:Ye||Be?Ee:nn,ref:Se,target:ze}))});var DataRouterHook;(function(Ae){Ae.UseScrollRestoration="useScrollRestoration",Ae.UseSubmit="useSubmit",Ae.UseSubmitFetcher="useSubmitFetcher",Ae.UseFetcher="useFetcher",Ae.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(Ae){Ae.UseFetcher="useFetcher",Ae.UseFetchers="useFetchers",Ae.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useLinkClickHandler(Ae,r){let{target:Se,replace:Ee,state:Fe,preventScrollReset:Be,relative:Ve,viewTransition:_e}=r===void 0?{}:r,ze=useNavigate(),xe=useLocation(),Ie=useResolvedPath(Ae,{relative:Ve});return reactExports.useCallback(Re=>{if(shouldProcessLinkClick(Re,Se)){Re.preventDefault();let e=Ee!==void 0?Ee:createPath(xe)===createPath(Ie);ze(Ae,{replace:e,state:Fe,preventScrollReset:Be,relative:Ve,viewTransition:_e})}},[xe,ze,Ie,Ee,Fe,Se,Ae,Be,Ve,_e])}var DefaultContext={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},IconContext=React.createContext&&React.createContext(DefaultContext),_excluded=["attr","size","title"];function _objectWithoutProperties(Ae,r){if(Ae==null)return{};var Se=_objectWithoutPropertiesLoose(Ae,r),Ee,Fe;if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Ae);for(Fe=0;Fe<Be.length;Fe++)Ee=Be[Fe],!(r.indexOf(Ee)>=0)&&Object.prototype.propertyIsEnumerable.call(Ae,Ee)&&(Se[Ee]=Ae[Ee])}return Se}function _objectWithoutPropertiesLoose(Ae,r){if(Ae==null)return{};var Se={};for(var Ee in Ae)if(Object.prototype.hasOwnProperty.call(Ae,Ee)){if(r.indexOf(Ee)>=0)continue;Se[Ee]=Ae[Ee]}return Se}function _extends(){return _extends=Object.assign?Object.assign.bind():function(Ae){for(var r=1;r<arguments.length;r++){var Se=arguments[r];for(var Ee in Se)Object.prototype.hasOwnProperty.call(Se,Ee)&&(Ae[Ee]=Se[Ee])}return Ae},_extends.apply(this,arguments)}function ownKeys(Ae,r){var Se=Object.keys(Ae);if(Object.getOwnPropertySymbols){var Ee=Object.getOwnPropertySymbols(Ae);r&&(Ee=Ee.filter(function(Fe){return Object.getOwnPropertyDescriptor(Ae,Fe).enumerable})),Se.push.apply(Se,Ee)}return Se}function _objectSpread(Ae){for(var r=1;r<arguments.length;r++){var Se=arguments[r]!=null?arguments[r]:{};r%2?ownKeys(Object(Se),!0).forEach(function(Ee){_defineProperty(Ae,Ee,Se[Ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ae,Object.getOwnPropertyDescriptors(Se)):ownKeys(Object(Se)).forEach(function(Ee){Object.defineProperty(Ae,Ee,Object.getOwnPropertyDescriptor(Se,Ee))})}return Ae}function _defineProperty(Ae,r,Se){return r=_toPropertyKey(r),r in Ae?Object.defineProperty(Ae,r,{value:Se,enumerable:!0,configurable:!0,writable:!0}):Ae[r]=Se,Ae}function _toPropertyKey(Ae){var r=_toPrimitive(Ae,"string");return typeof r=="symbol"?r:r+""}function _toPrimitive(Ae,r){if(typeof Ae!="object"||!Ae)return Ae;var Se=Ae[Symbol.toPrimitive];if(Se!==void 0){var Ee=Se.call(Ae,r);if(typeof Ee!="object")return Ee;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(Ae)}function Tree2Element(Ae){return Ae&&Ae.map((r,Se)=>React.createElement(r.tag,_objectSpread({key:Se},r.attr),Tree2Element(r.child)))}function GenIcon(Ae){return r=>React.createElement(IconBase,_extends({attr:_objectSpread({},Ae.attr)},r),Tree2Element(Ae.child))}function IconBase(Ae){var r=Se=>{var{attr:Ee,size:Fe,title:Be}=Ae,Ve=_objectWithoutProperties(Ae,_excluded),_e=Fe||Se.size||"1em",ze;return Se.className&&(ze=Se.className),Ae.className&&(ze=(ze?ze+" ":"")+Ae.className),React.createElement("svg",_extends({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},Se.attr,Ee,Ve,{className:ze,style:_objectSpread(_objectSpread({color:Ae.color||Se.color},Se.style),Ae.style),height:_e,width:_e,xmlns:"http://www.w3.org/2000/svg"}),Be&&React.createElement("title",null,Be),Ae.children)};return IconContext!==void 0?React.createElement(IconContext.Consumer,null,Se=>r(Se)):r(DefaultContext)}function FaGoogle(Ae){return GenIcon({attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"},child:[]}]})(Ae)}function FaWhatsapp(Ae){return GenIcon({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(Ae)}var pageFlip_browser$1={exports:{}},pageFlip_browser=pageFlip_browser$1.exports,hasRequiredPageFlip_browser;function requirePageFlip_browser(){return hasRequiredPageFlip_browser||(hasRequiredPageFlip_browser=1,function(Ae,r){(function(Se,Ee){Ee(r)})(pageFlip_browser,function(Se){class Ee{constructor(Oe,Ce){this.state={angle:0,area:[],position:{x:0,y:0},hardAngle:0,hardDrawingAngle:0},this.createdDensity=Ce,this.nowDrawingDensity=this.createdDensity,this.render=Oe}setDensity(Oe){this.createdDensity=Oe,this.nowDrawingDensity=Oe}setDrawingDensity(Oe){this.nowDrawingDensity=Oe}setPosition(Oe){this.state.position=Oe}setAngle(Oe){this.state.angle=Oe}setArea(Oe){this.state.area=Oe}setHardDrawingAngle(Oe){this.state.hardDrawingAngle=Oe}setHardAngle(Oe){this.state.hardAngle=Oe,this.state.hardDrawingAngle=Oe}setOrientation(Oe){this.orientation=Oe}getDrawingDensity(){return this.nowDrawingDensity}getDensity(){return this.createdDensity}getHardAngle(){return this.state.hardAngle}}class Fe extends Ee{constructor(Oe,Ce,St){super(Oe,St),this.image=null,this.isLoad=!1,this.loadingAngle=0,this.image=new Image,this.image.src=Ce}draw(Oe){const Ce=this.render.getContext(),St=this.render.convertToGlobal(this.state.position),rn=this.render.getRect().pageWidth,un=this.render.getRect().height;Ce.save(),Ce.translate(St.x,St.y),Ce.beginPath();for(let Qe of this.state.area)Qe!==null&&(Qe=this.render.convertToGlobal(Qe),Ce.lineTo(Qe.x-St.x,Qe.y-St.y));Ce.rotate(this.state.angle),Ce.clip(),this.isLoad?Ce.drawImage(this.image,0,0,rn,un):this.drawLoader(Ce,{x:0,y:0},rn,un),Ce.restore()}simpleDraw(Oe){const Ce=this.render.getRect(),St=this.render.getContext(),rn=Ce.pageWidth,un=Ce.height,Qe=Oe===1?Ce.left+Ce.pageWidth:Ce.left,hn=Ce.top;this.isLoad?St.drawImage(this.image,Qe,hn,rn,un):this.drawLoader(St,{x:Qe,y:hn},rn,un)}drawLoader(Oe,Ce,St,rn){Oe.beginPath(),Oe.strokeStyle="rgb(200, 200, 200)",Oe.fillStyle="rgb(255, 255, 255)",Oe.lineWidth=1,Oe.rect(Ce.x+1,Ce.y+1,St-1,rn-1),Oe.stroke(),Oe.fill();const un={x:Ce.x+St/2,y:Ce.y+rn/2};Oe.beginPath(),Oe.lineWidth=10,Oe.arc(un.x,un.y,20,this.loadingAngle,3*Math.PI/2+this.loadingAngle),Oe.stroke(),Oe.closePath(),this.loadingAngle+=.07,this.loadingAngle>=2*Math.PI&&(this.loadingAngle=0)}load(){this.isLoad||(this.image.onload=()=>{this.isLoad=!0})}newTemporaryCopy(){return this}getTemporaryCopy(){return this}hideTemporaryCopy(){}}class Be{constructor(Oe,Ce){this.pages=[],this.currentPageIndex=0,this.currentSpreadIndex=0,this.landscapeSpread=[],this.portraitSpread=[],this.render=Ce,this.app=Oe,this.currentPageIndex=0,this.isShowCover=this.app.getSettings().showCover}destroy(){this.pages=[]}createSpread(){this.landscapeSpread=[],this.portraitSpread=[];for(let Ce=0;Ce<this.pages.length;Ce++)this.portraitSpread.push([Ce]);let Oe=0;this.isShowCover&&(this.pages[0].setDensity("hard"),this.landscapeSpread.push([Oe]),Oe++);for(let Ce=Oe;Ce<this.pages.length;Ce+=2)Ce<this.pages.length-1?this.landscapeSpread.push([Ce,Ce+1]):(this.landscapeSpread.push([Ce]),this.pages[Ce].setDensity("hard"))}getSpread(){return this.render.getOrientation()==="landscape"?this.landscapeSpread:this.portraitSpread}getSpreadIndexByPage(Oe){const Ce=this.getSpread();for(let St=0;St<Ce.length;St++)if(Oe===Ce[St][0]||Oe===Ce[St][1])return St;return null}getPageCount(){return this.pages.length}getPages(){return this.pages}getPage(Oe){if(Oe>=0&&Oe<this.pages.length)return this.pages[Oe];throw new Error("Invalid page number")}nextBy(Oe){const Ce=this.pages.indexOf(Oe);return Ce<this.pages.length-1?this.pages[Ce+1]:null}prevBy(Oe){const Ce=this.pages.indexOf(Oe);return Ce>0?this.pages[Ce-1]:null}getFlippingPage(Oe){const Ce=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return Oe===0?this.pages[Ce].newTemporaryCopy():this.pages[Ce-1];{const St=Oe===0?this.getSpread()[Ce+1]:this.getSpread()[Ce-1];return St.length===1||Oe===0?this.pages[St[0]]:this.pages[St[1]]}}getBottomPage(Oe){const Ce=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return Oe===0?this.pages[Ce+1]:this.pages[Ce-1];{const St=Oe===0?this.getSpread()[Ce+1]:this.getSpread()[Ce-1];return St.length===1?this.pages[St[0]]:Oe===0?this.pages[St[1]]:this.pages[St[0]]}}showNext(){this.currentSpreadIndex<this.getSpread().length&&(this.currentSpreadIndex++,this.showSpread())}showPrev(){this.currentSpreadIndex>0&&(this.currentSpreadIndex--,this.showSpread())}getCurrentPageIndex(){return this.currentPageIndex}show(Oe=null){if(Oe===null&&(Oe=this.currentPageIndex),Oe<0||Oe>=this.pages.length)return;const Ce=this.getSpreadIndexByPage(Oe);Ce!==null&&(this.currentSpreadIndex=Ce,this.showSpread())}getCurrentSpreadIndex(){return this.currentSpreadIndex}setCurrentSpreadIndex(Oe){if(!(Oe>=0&&Oe<this.getSpread().length))throw new Error("Invalid page");this.currentSpreadIndex=Oe}showSpread(){const Oe=this.getSpread()[this.currentSpreadIndex];Oe.length===2?(this.render.setLeftPage(this.pages[Oe[0]]),this.render.setRightPage(this.pages[Oe[1]])):this.render.getOrientation()==="landscape"&&Oe[0]===this.pages.length-1?(this.render.setLeftPage(this.pages[Oe[0]]),this.render.setRightPage(null)):(this.render.setLeftPage(null),this.render.setRightPage(this.pages[Oe[0]])),this.currentPageIndex=Oe[0],this.app.updatePageIndex(this.currentPageIndex)}}class Ve extends Be{constructor(Oe,Ce,St){super(Oe,Ce),this.imagesHref=St}load(){for(const Oe of this.imagesHref){const Ce=new Fe(this.render,Oe,"soft");Ce.load(),this.pages.push(Ce)}this.createSpread()}}class _e{static GetDistanceBetweenTwoPoint(Oe,Ce){return Oe===null||Ce===null?1/0:Math.sqrt(Math.pow(Ce.x-Oe.x,2)+Math.pow(Ce.y-Oe.y,2))}static GetSegmentLength(Oe){return _e.GetDistanceBetweenTwoPoint(Oe[0],Oe[1])}static GetAngleBetweenTwoLine(Oe,Ce){const St=Oe[0].y-Oe[1].y,rn=Ce[0].y-Ce[1].y,un=Oe[1].x-Oe[0].x,Qe=Ce[1].x-Ce[0].x;return Math.acos((St*rn+un*Qe)/(Math.sqrt(St*St+un*un)*Math.sqrt(rn*rn+Qe*Qe)))}static PointInRect(Oe,Ce){return Ce===null?null:Ce.x>=Oe.left&&Ce.x<=Oe.width+Oe.left&&Ce.y>=Oe.top&&Ce.y<=Oe.top+Oe.height?Ce:null}static GetRotatedPoint(Oe,Ce,St){return{x:Oe.x*Math.cos(St)+Oe.y*Math.sin(St)+Ce.x,y:Oe.y*Math.cos(St)-Oe.x*Math.sin(St)+Ce.y}}static LimitPointToCircle(Oe,Ce,St){if(_e.GetDistanceBetweenTwoPoint(Oe,St)<=Ce)return St;const rn=Oe.x,un=Oe.y,Qe=St.x,hn=St.y;let He=Math.sqrt(Math.pow(Ce,2)*Math.pow(rn-Qe,2)/(Math.pow(rn-Qe,2)+Math.pow(un-hn,2)))+rn;St.x<0&&(He*=-1);let pn=(He-rn)*(un-hn)/(rn-Qe)+un;return rn-Qe+un===0&&(pn=Ce),{x:He,y:pn}}static GetIntersectBetweenTwoSegment(Oe,Ce,St){return _e.PointInRect(Oe,_e.GetIntersectBeetwenTwoLine(Ce,St))}static GetIntersectBeetwenTwoLine(Oe,Ce){const St=Oe[0].y-Oe[1].y,rn=Ce[0].y-Ce[1].y,un=Oe[1].x-Oe[0].x,Qe=Ce[1].x-Ce[0].x,hn=Oe[0].x*Oe[1].y-Oe[1].x*Oe[0].y,He=Ce[0].x*Ce[1].y-Ce[1].x*Ce[0].y,pn=St*He-rn*hn,Xe=un*He-Qe*hn,fn=-(hn*Qe-He*un)/(St*Qe-rn*un),dn=-(St*He-rn*hn)/(St*Qe-rn*un);if(isFinite(fn)&&isFinite(dn))return{x:fn,y:dn};if(Math.abs(pn-Xe)<.1)throw new Error("Segment included");return null}static GetCordsFromTwoPoint(Oe,Ce){const St=Math.abs(Oe.x-Ce.x),rn=Math.abs(Oe.y-Ce.y),un=Math.max(St,rn),Qe=[Oe];function hn(He,pn,Xe,fn,dn){return pn>He?He+dn*(Xe/fn):pn<He?He-dn*(Xe/fn):He}for(let He=1;He<=un;He+=1)Qe.push({x:hn(Oe.x,Ce.x,St,un,He),y:hn(Oe.y,Ce.y,rn,un,He)});return Qe}}class ze extends Ee{constructor(Oe,Ce,St){super(Oe,St),this.copiedElement=null,this.temporaryCopy=null,this.isLoad=!1,this.element=Ce,this.element.classList.add("stf__item"),this.element.classList.add("--"+St)}newTemporaryCopy(){return this.nowDrawingDensity==="hard"?this:(this.temporaryCopy===null&&(this.copiedElement=this.element.cloneNode(!0),this.element.parentElement.appendChild(this.copiedElement),this.temporaryCopy=new ze(this.render,this.copiedElement,this.nowDrawingDensity)),this.getTemporaryCopy())}getTemporaryCopy(){return this.temporaryCopy}hideTemporaryCopy(){this.temporaryCopy!==null&&(this.copiedElement.remove(),this.copiedElement=null,this.temporaryCopy=null)}draw(Oe){const Ce=Oe||this.nowDrawingDensity,St=this.render.convertToGlobal(this.state.position),rn=this.render.getRect().pageWidth,un=this.render.getRect().height;this.element.classList.remove("--simple");const Qe=`
            display: block;
            z-index: ${this.element.style.zIndex};
            left: 0;
            top: 0;
            width: ${rn}px;
            height: ${un}px;
        `;Ce==="hard"?this.drawHard(Qe):this.drawSoft(St,Qe)}drawHard(Oe=""){const Ce=this.render.getRect().left+this.render.getRect().width/2,St=this.state.hardDrawingAngle,rn=Oe+`
                backface-visibility: hidden;
                -webkit-backface-visibility: hidden;
                clip-path: none;
                -webkit-clip-path: none;
            `+(this.orientation===0?`transform-origin: ${this.render.getRect().pageWidth}px 0; 
                   transform: translate3d(0, 0, 0) rotateY(${St}deg);`:`transform-origin: 0 0; 
                   transform: translate3d(${Ce}px, 0, 0) rotateY(${St}deg);`);this.element.style.cssText=rn}drawSoft(Oe,Ce=""){let St="polygon( ";for(const un of this.state.area)if(un!==null){let Qe=this.render.getDirection()===1?{x:-un.x+this.state.position.x,y:un.y-this.state.position.y}:{x:un.x-this.state.position.x,y:un.y-this.state.position.y};Qe=_e.GetRotatedPoint(Qe,{x:0,y:0},this.state.angle),St+=Qe.x+"px "+Qe.y+"px, "}St=St.slice(0,-2),St+=")";const rn=Ce+`transform-origin: 0 0; clip-path: ${St}; -webkit-clip-path: ${St};`+(this.render.isSafari()&&this.state.angle===0?`transform: translate(${Oe.x}px, ${Oe.y}px);`:`transform: translate3d(${Oe.x}px, ${Oe.y}px, 0) rotate(${this.state.angle}rad);`);this.element.style.cssText=rn}simpleDraw(Oe){const Ce=this.render.getRect(),St=Ce.pageWidth,rn=Ce.height,un=Oe===1?Ce.left+Ce.pageWidth:Ce.left,Qe=Ce.top;this.element.classList.add("--simple"),this.element.style.cssText=`
            position: absolute; 
            display: block; 
            height: ${rn}px; 
            left: ${un}px; 
            top: ${Qe}px; 
            width: ${St}px; 
            z-index: ${this.render.getSettings().startZIndex+1};`}getElement(){return this.element}load(){this.isLoad=!0}setOrientation(Oe){super.setOrientation(Oe),this.element.classList.remove("--left","--right"),this.element.classList.add(Oe===1?"--right":"--left")}setDrawingDensity(Oe){this.element.classList.remove("--soft","--hard"),this.element.classList.add("--"+Oe),super.setDrawingDensity(Oe)}}class xe extends Be{constructor(Oe,Ce,St,rn){super(Oe,Ce),this.element=St,this.pagesElement=rn}load(){for(const Oe of this.pagesElement){const Ce=new ze(this.render,Oe,Oe.dataset.density==="hard"?"hard":"soft");Ce.load(),this.pages.push(Ce)}this.createSpread()}}class Ie{constructor(Oe,Ce,St,rn){this.direction=Oe,this.corner=Ce,this.topIntersectPoint=null,this.sideIntersectPoint=null,this.bottomIntersectPoint=null,this.pageWidth=parseInt(St,10),this.pageHeight=parseInt(rn,10)}calc(Oe){try{return this.position=this.calcAngleAndPosition(Oe),this.calculateIntersectPoint(this.position),!0}catch{return!1}}getFlippingClipArea(){const Oe=[];let Ce=!1;return Oe.push(this.rect.topLeft),Oe.push(this.topIntersectPoint),this.sideIntersectPoint===null?Ce=!0:(Oe.push(this.sideIntersectPoint),this.bottomIntersectPoint===null&&(Ce=!1)),Oe.push(this.bottomIntersectPoint),(Ce||this.corner==="bottom")&&Oe.push(this.rect.bottomLeft),Oe}getBottomClipArea(){const Oe=[];return Oe.push(this.topIntersectPoint),this.corner==="top"?Oe.push({x:this.pageWidth,y:0}):(this.topIntersectPoint!==null&&Oe.push({x:this.pageWidth,y:0}),Oe.push({x:this.pageWidth,y:this.pageHeight})),this.sideIntersectPoint!==null?_e.GetDistanceBetweenTwoPoint(this.sideIntersectPoint,this.topIntersectPoint)>=10&&Oe.push(this.sideIntersectPoint):this.corner==="top"&&Oe.push({x:this.pageWidth,y:this.pageHeight}),Oe.push(this.bottomIntersectPoint),Oe.push(this.topIntersectPoint),Oe}getAngle(){return this.direction===0?-this.angle:this.angle}getRect(){return this.rect}getPosition(){return this.position}getActiveCorner(){return this.direction===0?this.rect.topLeft:this.rect.topRight}getDirection(){return this.direction}getFlippingProgress(){return Math.abs((this.position.x-this.pageWidth)/(2*this.pageWidth)*100)}getCorner(){return this.corner}getBottomPagePosition(){return this.direction===1?{x:this.pageWidth,y:0}:{x:0,y:0}}getShadowStartPoint(){return this.corner==="top"?this.topIntersectPoint:this.sideIntersectPoint!==null?this.sideIntersectPoint:this.topIntersectPoint}getShadowAngle(){const Oe=_e.GetAngleBetweenTwoLine(this.getSegmentToShadowLine(),[{x:0,y:0},{x:this.pageWidth,y:0}]);return this.direction===0?Oe:Math.PI-Oe}calcAngleAndPosition(Oe){let Ce=Oe;if(this.updateAngleAndGeometry(Ce),Ce=this.corner==="top"?this.checkPositionAtCenterLine(Ce,{x:0,y:0},{x:0,y:this.pageHeight}):this.checkPositionAtCenterLine(Ce,{x:0,y:this.pageHeight},{x:0,y:0}),Math.abs(Ce.x-this.pageWidth)<1&&Math.abs(Ce.y)<1)throw new Error("Point is too small");return Ce}updateAngleAndGeometry(Oe){this.angle=this.calculateAngle(Oe),this.rect=this.getPageRect(Oe)}calculateAngle(Oe){const Ce=this.pageWidth-Oe.x+1,St=this.corner==="bottom"?this.pageHeight-Oe.y:Oe.y;let rn=2*Math.acos(Ce/Math.sqrt(St*St+Ce*Ce));St<0&&(rn=-rn);const un=Math.PI-rn;if(!isFinite(rn)||un>=0&&un<.003)throw new Error("The G point is too small");return this.corner==="bottom"&&(rn=-rn),rn}getPageRect(Oe){return this.corner==="top"?this.getRectFromBasePoint([{x:0,y:0},{x:this.pageWidth,y:0},{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}],Oe):this.getRectFromBasePoint([{x:0,y:-this.pageHeight},{x:this.pageWidth,y:-this.pageHeight},{x:0,y:0},{x:this.pageWidth,y:0}],Oe)}getRectFromBasePoint(Oe,Ce){return{topLeft:this.getRotatedPoint(Oe[0],Ce),topRight:this.getRotatedPoint(Oe[1],Ce),bottomLeft:this.getRotatedPoint(Oe[2],Ce),bottomRight:this.getRotatedPoint(Oe[3],Ce)}}getRotatedPoint(Oe,Ce){return{x:Oe.x*Math.cos(this.angle)+Oe.y*Math.sin(this.angle)+Ce.x,y:Oe.y*Math.cos(this.angle)-Oe.x*Math.sin(this.angle)+Ce.y}}calculateIntersectPoint(Oe){const Ce={left:-1,top:-1,width:this.pageWidth+2,height:this.pageHeight+2};this.corner==="top"?(this.topIntersectPoint=_e.GetIntersectBetweenTwoSegment(Ce,[Oe,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=_e.GetIntersectBetweenTwoSegment(Ce,[Oe,this.rect.bottomLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=_e.GetIntersectBetweenTwoSegment(Ce,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}])):(this.topIntersectPoint=_e.GetIntersectBetweenTwoSegment(Ce,[this.rect.topLeft,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=_e.GetIntersectBetweenTwoSegment(Ce,[Oe,this.rect.topLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=_e.GetIntersectBetweenTwoSegment(Ce,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}]))}checkPositionAtCenterLine(Oe,Ce,St){let rn=Oe;const un=_e.LimitPointToCircle(Ce,this.pageWidth,rn);rn!==un&&(rn=un,this.updateAngleAndGeometry(rn));const Qe=Math.sqrt(Math.pow(this.pageWidth,2)+Math.pow(this.pageHeight,2));let hn=this.rect.bottomRight,He=this.rect.topLeft;if(this.corner==="bottom"&&(hn=this.rect.topRight,He=this.rect.bottomLeft),hn.x<=0){const pn=_e.LimitPointToCircle(St,Qe,He);pn!==rn&&(rn=pn,this.updateAngleAndGeometry(rn))}return rn}getSegmentToShadowLine(){const Oe=this.getShadowStartPoint();return[Oe,Oe!==this.sideIntersectPoint&&this.sideIntersectPoint!==null?this.sideIntersectPoint:this.bottomIntersectPoint]}}class Re{constructor(Oe,Ce){this.flippingPage=null,this.bottomPage=null,this.calc=null,this.state="read",this.render=Oe,this.app=Ce}fold(Oe){this.setState("user_fold"),this.calc===null&&this.start(Oe),this.do(this.render.convertToPage(Oe))}flip(Oe){if(this.app.getSettings().disableFlipByClick&&!this.isPointOnCorners(Oe)||(this.calc!==null&&this.render.finishAnimation(),!this.start(Oe)))return;const Ce=this.getBoundsRect();this.setState("flipping");const St=Ce.height/10,rn=this.calc.getCorner()==="bottom"?Ce.height-St:St,un=this.calc.getCorner()==="bottom"?Ce.height:0;this.calc.calc({x:Ce.pageWidth-St,y:rn}),this.animateFlippingTo({x:Ce.pageWidth-St,y:rn},{x:-Ce.pageWidth,y:un},!0)}start(Oe){this.reset();const Ce=this.render.convertToBook(Oe),St=this.getBoundsRect(),rn=this.getDirectionByPoint(Ce),un=Ce.y>=St.height/2?"bottom":"top";if(!this.checkDirection(rn))return!1;try{if(this.flippingPage=this.app.getPageCollection().getFlippingPage(rn),this.bottomPage=this.app.getPageCollection().getBottomPage(rn),this.render.getOrientation()==="landscape")if(rn===1){const Qe=this.app.getPageCollection().nextBy(this.flippingPage);Qe!==null&&this.flippingPage.getDensity()!==Qe.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),Qe.setDrawingDensity("hard"))}else{const Qe=this.app.getPageCollection().prevBy(this.flippingPage);Qe!==null&&this.flippingPage.getDensity()!==Qe.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),Qe.setDrawingDensity("hard"))}return this.render.setDirection(rn),this.calc=new Ie(rn,un,St.pageWidth.toString(10),St.height.toString(10)),!0}catch{return!1}}do(Oe){if(this.calc!==null&&this.calc.calc(Oe)){const Ce=this.calc.getFlippingProgress();this.bottomPage.setArea(this.calc.getBottomClipArea()),this.bottomPage.setPosition(this.calc.getBottomPagePosition()),this.bottomPage.setAngle(0),this.bottomPage.setHardAngle(0),this.flippingPage.setArea(this.calc.getFlippingClipArea()),this.flippingPage.setPosition(this.calc.getActiveCorner()),this.flippingPage.setAngle(this.calc.getAngle()),this.calc.getDirection()===0?this.flippingPage.setHardAngle(90*(200-2*Ce)/100):this.flippingPage.setHardAngle(-90*(200-2*Ce)/100),this.render.setPageRect(this.calc.getRect()),this.render.setBottomPage(this.bottomPage),this.render.setFlippingPage(this.flippingPage),this.render.setShadowData(this.calc.getShadowStartPoint(),this.calc.getShadowAngle(),Ce,this.calc.getDirection())}}flipToPage(Oe,Ce){const St=this.app.getPageCollection().getCurrentSpreadIndex(),rn=this.app.getPageCollection().getSpreadIndexByPage(Oe);try{rn>St&&(this.app.getPageCollection().setCurrentSpreadIndex(rn-1),this.flipNext(Ce)),rn<St&&(this.app.getPageCollection().setCurrentSpreadIndex(rn+1),this.flipPrev(Ce))}catch{}}flipNext(Oe){this.flip({x:this.render.getRect().left+2*this.render.getRect().pageWidth-10,y:Oe==="top"?1:this.render.getRect().height-2})}flipPrev(Oe){this.flip({x:10,y:Oe==="top"?1:this.render.getRect().height-2})}stopMove(){if(this.calc===null)return;const Oe=this.calc.getPosition(),Ce=this.getBoundsRect(),St=this.calc.getCorner()==="bottom"?Ce.height:0;Oe.x<=0?this.animateFlippingTo(Oe,{x:-Ce.pageWidth,y:St},!0):this.animateFlippingTo(Oe,{x:Ce.pageWidth,y:St},!1)}showCorner(Oe){if(!this.checkState("read","fold_corner"))return;const Ce=this.getBoundsRect(),St=Ce.pageWidth;if(this.isPointOnCorners(Oe))if(this.calc===null){if(!this.start(Oe))return;this.setState("fold_corner"),this.calc.calc({x:St-1,y:1});const rn=50,un=this.calc.getCorner()==="bottom"?Ce.height-1:1,Qe=this.calc.getCorner()==="bottom"?Ce.height-rn:rn;this.animateFlippingTo({x:St-1,y:un},{x:St-rn,y:Qe},!1,!1)}else this.do(this.render.convertToPage(Oe));else this.setState("read"),this.render.finishAnimation(),this.stopMove()}animateFlippingTo(Oe,Ce,St,rn=!0){const un=_e.GetCordsFromTwoPoint(Oe,Ce),Qe=[];for(const He of un)Qe.push(()=>this.do(He));const hn=this.getAnimationDuration(un.length);this.render.startAnimation(Qe,hn,()=>{this.calc&&(St&&(this.calc.getDirection()===1?this.app.turnToPrevPage():this.app.turnToNextPage()),rn&&(this.render.setBottomPage(null),this.render.setFlippingPage(null),this.render.clearShadow(),this.setState("read"),this.reset()))})}getCalculation(){return this.calc}getState(){return this.state}setState(Oe){this.state!==Oe&&(this.app.updateState(Oe),this.state=Oe)}getDirectionByPoint(Oe){const Ce=this.getBoundsRect();if(this.render.getOrientation()==="portrait"){if(Oe.x-Ce.pageWidth<=Ce.width/5)return 1}else if(Oe.x<Ce.width/2)return 1;return 0}getAnimationDuration(Oe){const Ce=this.app.getSettings().flippingTime;return Oe>=1e3?Ce:Oe/1e3*Ce}checkDirection(Oe){return Oe===0?this.app.getCurrentPageIndex()<this.app.getPageCount()-1:this.app.getCurrentPageIndex()>=1}reset(){this.calc=null,this.flippingPage=null,this.bottomPage=null}getBoundsRect(){return this.render.getRect()}checkState(...Oe){for(const Ce of Oe)if(this.state===Ce)return!0;return!1}isPointOnCorners(Oe){const Ce=this.getBoundsRect(),St=Ce.pageWidth,rn=Math.sqrt(Math.pow(St,2)+Math.pow(Ce.height,2))/5,un=this.render.convertToBook(Oe);return un.x>0&&un.y>0&&un.x<Ce.width&&un.y<Ce.height&&(un.x<rn||un.x>Ce.width-rn)&&(un.y<rn||un.y>Ce.height-rn)}}class e{constructor(Oe,Ce){this.leftPage=null,this.rightPage=null,this.flippingPage=null,this.bottomPage=null,this.direction=null,this.orientation=null,this.shadow=null,this.animation=null,this.pageRect=null,this.boundsRect=null,this.timer=0,this.safari=!1,this.setting=Ce,this.app=Oe;const St=new RegExp("Version\\/[\\d\\.]+.*Safari/");this.safari=St.exec(window.navigator.userAgent)!==null}render(Oe){if(this.animation!==null){const Ce=Math.round((Oe-this.animation.startedAt)/this.animation.durationFrame);Ce<this.animation.frames.length?this.animation.frames[Ce]():(this.animation.onAnimateEnd(),this.animation=null)}this.timer=Oe,this.drawFrame()}start(){this.update();const Oe=Ce=>{this.render(Ce),requestAnimationFrame(Oe)};requestAnimationFrame(Oe)}startAnimation(Oe,Ce,St){this.finishAnimation(),this.animation={frames:Oe,duration:Ce,durationFrame:Ce/Oe.length,onAnimateEnd:St,startedAt:this.timer}}finishAnimation(){this.animation!==null&&(this.animation.frames[this.animation.frames.length-1](),this.animation.onAnimateEnd!==null&&this.animation.onAnimateEnd()),this.animation=null}update(){this.boundsRect=null;const Oe=this.calculateBoundsRect();this.orientation!==Oe&&(this.orientation=Oe,this.app.updateOrientation(Oe))}calculateBoundsRect(){let Oe="landscape";const Ce=this.getBlockWidth(),St=Ce/2,rn=this.getBlockHeight()/2,un=this.setting.width/this.setting.height;let Qe=this.setting.width,hn=this.setting.height,He=St-Qe;return this.setting.size==="stretch"?(Ce<2*this.setting.minWidth&&this.app.getSettings().usePortrait&&(Oe="portrait"),Qe=Oe==="portrait"?this.getBlockWidth():this.getBlockWidth()/2,Qe>this.setting.maxWidth&&(Qe=this.setting.maxWidth),hn=Qe/un,hn>this.getBlockHeight()&&(hn=this.getBlockHeight(),Qe=hn*un),He=Oe==="portrait"?St-Qe/2-Qe:St-Qe):Ce<2*Qe&&this.app.getSettings().usePortrait&&(Oe="portrait",He=St-Qe/2-Qe),this.boundsRect={left:He,top:rn-hn/2,width:2*Qe,height:hn,pageWidth:Qe},Oe}setShadowData(Oe,Ce,St,rn){if(!this.app.getSettings().drawShadow)return;const un=100*this.getSettings().maxShadowOpacity;this.shadow={pos:Oe,angle:Ce,width:3*this.getRect().pageWidth/4*St/100,opacity:(100-St)*un/100/100,direction:rn,progress:2*St}}clearShadow(){this.shadow=null}getBlockWidth(){return this.app.getUI().getDistElement().offsetWidth}getBlockHeight(){return this.app.getUI().getDistElement().offsetHeight}getDirection(){return this.direction}getRect(){return this.boundsRect===null&&this.calculateBoundsRect(),this.boundsRect}getSettings(){return this.app.getSettings()}getOrientation(){return this.orientation}setPageRect(Oe){this.pageRect=Oe}setDirection(Oe){this.direction=Oe}setRightPage(Oe){Oe!==null&&Oe.setOrientation(1),this.rightPage=Oe}setLeftPage(Oe){Oe!==null&&Oe.setOrientation(0),this.leftPage=Oe}setBottomPage(Oe){Oe!==null&&Oe.setOrientation(this.direction===1?0:1),this.bottomPage=Oe}setFlippingPage(Oe){Oe!==null&&Oe.setOrientation(this.direction===0&&this.orientation!=="portrait"?0:1),this.flippingPage=Oe}convertToBook(Oe){const Ce=this.getRect();return{x:Oe.x-Ce.left,y:Oe.y-Ce.top}}isSafari(){return this.safari}convertToPage(Oe,Ce){Ce||(Ce=this.direction);const St=this.getRect();return{x:Ce===0?Oe.x-St.left-St.width/2:St.width/2-Oe.x+St.left,y:Oe.y-St.top}}convertToGlobal(Oe,Ce){if(Ce||(Ce=this.direction),Oe==null)return null;const St=this.getRect();return{x:Ce===0?Oe.x+St.left+St.width/2:St.width/2-Oe.x+St.left,y:Oe.y+St.top}}convertRectToGlobal(Oe,Ce){return Ce||(Ce=this.direction),{topLeft:this.convertToGlobal(Oe.topLeft,Ce),topRight:this.convertToGlobal(Oe.topRight,Ce),bottomLeft:this.convertToGlobal(Oe.bottomLeft,Ce),bottomRight:this.convertToGlobal(Oe.bottomRight,Ce)}}}class t extends e{constructor(Oe,Ce,St){super(Oe,Ce),this.canvas=St,this.ctx=St.getContext("2d")}getContext(){return this.ctx}reload(){}drawFrame(){this.clear(),this.orientation!=="portrait"&&this.leftPage!=null&&this.leftPage.simpleDraw(0),this.rightPage!=null&&this.rightPage.simpleDraw(1),this.bottomPage!=null&&this.bottomPage.draw(),this.drawBookShadow(),this.flippingPage!=null&&this.flippingPage.draw(),this.shadow!=null&&(this.drawOuterShadow(),this.drawInnerShadow());const Oe=this.getRect();this.orientation==="portrait"&&(this.ctx.beginPath(),this.ctx.rect(Oe.left+Oe.pageWidth,Oe.top,Oe.width,Oe.height),this.ctx.clip())}drawBookShadow(){const Oe=this.getRect();this.ctx.save(),this.ctx.beginPath();const Ce=Oe.width/20;this.ctx.rect(Oe.left,Oe.top,Oe.width,Oe.height);const St={x:Oe.left+Oe.width/2-Ce/2,y:0};this.ctx.translate(St.x,St.y);const rn=this.ctx.createLinearGradient(0,0,Ce,0);rn.addColorStop(0,"rgba(0, 0, 0, 0)"),rn.addColorStop(.4,"rgba(0, 0, 0, 0.2)"),rn.addColorStop(.49,"rgba(0, 0, 0, 0.1)"),rn.addColorStop(.5,"rgba(0, 0, 0, 0.5)"),rn.addColorStop(.51,"rgba(0, 0, 0, 0.4)"),rn.addColorStop(1,"rgba(0, 0, 0, 0)"),this.ctx.clip(),this.ctx.fillStyle=rn,this.ctx.fillRect(0,0,Ce,2*Oe.height),this.ctx.restore()}drawOuterShadow(){const Oe=this.getRect();this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(Oe.left,Oe.top,Oe.width,Oe.height);const Ce=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y});this.ctx.translate(Ce.x,Ce.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const St=this.ctx.createLinearGradient(0,0,this.shadow.width,0);this.shadow.direction===0?(this.ctx.translate(0,-100),St.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),St.addColorStop(1,"rgba(0, 0, 0, 0)")):(this.ctx.translate(-this.shadow.width,-100),St.addColorStop(0,"rgba(0, 0, 0, 0)"),St.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")")),this.ctx.clip(),this.ctx.fillStyle=St,this.ctx.fillRect(0,0,this.shadow.width,2*Oe.height),this.ctx.restore()}drawInnerShadow(){const Oe=this.getRect();this.ctx.save(),this.ctx.beginPath();const Ce=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),St=this.convertRectToGlobal(this.pageRect);this.ctx.moveTo(St.topLeft.x,St.topLeft.y),this.ctx.lineTo(St.topRight.x,St.topRight.y),this.ctx.lineTo(St.bottomRight.x,St.bottomRight.y),this.ctx.lineTo(St.bottomLeft.x,St.bottomLeft.y),this.ctx.translate(Ce.x,Ce.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const rn=3*this.shadow.width/4,un=this.ctx.createLinearGradient(0,0,rn,0);this.shadow.direction===0?(this.ctx.translate(-rn,-100),un.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")"),un.addColorStop(.9,"rgba(0, 0, 0, 0.05)"),un.addColorStop(.7,"rgba(0, 0, 0, "+this.shadow.opacity+")"),un.addColorStop(0,"rgba(0, 0, 0, 0)")):(this.ctx.translate(0,-100),un.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),un.addColorStop(.1,"rgba(0, 0, 0, 0.05)"),un.addColorStop(.3,"rgba(0, 0, 0, "+this.shadow.opacity+")"),un.addColorStop(1,"rgba(0, 0, 0, 0)")),this.ctx.clip(),this.ctx.fillStyle=un,this.ctx.fillRect(0,0,rn,2*Oe.height),this.ctx.restore()}clear(){this.ctx.fillStyle="white",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height)}}class Te{constructor(Oe,Ce,St){this.touchPoint=null,this.swipeTimeout=250,this.onResize=()=>{this.update()},this.onMouseDown=un=>{if(this.checkTarget(un.target)){const Qe=this.getMousePos(un.clientX,un.clientY);this.app.startUserTouch(Qe),un.preventDefault()}},this.onTouchStart=un=>{if(this.checkTarget(un.target)&&un.changedTouches.length>0){const Qe=un.changedTouches[0],hn=this.getMousePos(Qe.clientX,Qe.clientY);this.touchPoint={point:hn,time:Date.now()},setTimeout(()=>{this.touchPoint!==null&&this.app.startUserTouch(hn)},this.swipeTimeout),this.app.getSettings().mobileScrollSupport||un.preventDefault()}},this.onMouseUp=un=>{const Qe=this.getMousePos(un.clientX,un.clientY);this.app.userStop(Qe)},this.onMouseMove=un=>{const Qe=this.getMousePos(un.clientX,un.clientY);this.app.userMove(Qe,!1)},this.onTouchMove=un=>{if(un.changedTouches.length>0){const Qe=un.changedTouches[0],hn=this.getMousePos(Qe.clientX,Qe.clientY);this.app.getSettings().mobileScrollSupport?(this.touchPoint!==null&&(Math.abs(this.touchPoint.point.x-hn.x)>10||this.app.getState()!=="read")&&un.cancelable&&this.app.userMove(hn,!0),this.app.getState()!=="read"&&un.preventDefault()):this.app.userMove(hn,!0)}},this.onTouchEnd=un=>{if(un.changedTouches.length>0){const Qe=un.changedTouches[0],hn=this.getMousePos(Qe.clientX,Qe.clientY);let He=!1;if(this.touchPoint!==null){const pn=hn.x-this.touchPoint.point.x,Xe=Math.abs(hn.y-this.touchPoint.point.y);Math.abs(pn)>this.swipeDistance&&Xe<2*this.swipeDistance&&Date.now()-this.touchPoint.time<this.swipeTimeout&&(pn>0?this.app.flipPrev(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"):this.app.flipNext(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"),He=!0),this.touchPoint=null}this.app.userStop(hn,He)}},this.parentElement=Oe,Oe.classList.add("stf__parent"),Oe.insertAdjacentHTML("afterbegin",'<div class="stf__wrapper"></div>'),this.wrapper=Oe.querySelector(".stf__wrapper"),this.app=Ce;const rn=this.app.getSettings().usePortrait?1:2;Oe.style.minWidth=St.minWidth*rn+"px",Oe.style.minHeight=St.minHeight+"px",St.size==="fixed"&&(Oe.style.minWidth=St.width*rn+"px",Oe.style.minHeight=St.height+"px"),St.autoSize&&(Oe.style.width="100%",Oe.style.maxWidth=2*St.maxWidth+"px"),Oe.style.display="block",window.addEventListener("resize",this.onResize,!1),this.swipeDistance=St.swipeDistance}destroy(){this.app.getSettings().useMouseEvents&&this.removeHandlers(),this.distElement.remove(),this.wrapper.remove()}getDistElement(){return this.distElement}getWrapper(){return this.wrapper}setOrientationStyle(Oe){this.wrapper.classList.remove("--portrait","--landscape"),Oe==="portrait"?(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/this.app.getSettings().width*100+"%"),this.wrapper.classList.add("--portrait")):(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/(2*this.app.getSettings().width)*100+"%"),this.wrapper.classList.add("--landscape")),this.update()}removeHandlers(){window.removeEventListener("resize",this.onResize),this.distElement.removeEventListener("mousedown",this.onMouseDown),this.distElement.removeEventListener("touchstart",this.onTouchStart),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("touchend",this.onTouchEnd)}setHandlers(){window.addEventListener("resize",this.onResize,!1),this.app.getSettings().useMouseEvents&&(this.distElement.addEventListener("mousedown",this.onMouseDown),this.distElement.addEventListener("touchstart",this.onTouchStart),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("touchmove",this.onTouchMove,{passive:!this.app.getSettings().mobileScrollSupport}),window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("touchend",this.onTouchEnd))}getMousePos(Oe,Ce){const St=this.distElement.getBoundingClientRect();return{x:Oe-St.left,y:Ce-St.top}}checkTarget(Oe){return!this.app.getSettings().clickEventForward||!["a","button"].includes(Oe.tagName.toLowerCase())}}class Ye extends Te{constructor(Oe,Ce,St,rn){super(Oe,Ce,St),this.wrapper.insertAdjacentHTML("afterbegin",'<div class="stf__block"></div>'),this.distElement=Oe.querySelector(".stf__block"),this.items=rn;for(const un of rn)this.distElement.appendChild(un);this.setHandlers()}clear(){for(const Oe of this.items)this.parentElement.appendChild(Oe)}updateItems(Oe){this.removeHandlers(),this.distElement.innerHTML="";for(const Ce of Oe)this.distElement.appendChild(Ce);this.items=Oe,this.setHandlers()}update(){this.app.getRender().update()}}class en extends Te{constructor(Oe,Ce,St){super(Oe,Ce,St),this.wrapper.innerHTML='<canvas class="stf__canvas"></canvas>',this.canvas=Oe.querySelectorAll("canvas")[0],this.distElement=this.canvas,this.resizeCanvas(),this.setHandlers()}resizeCanvas(){const Oe=getComputedStyle(this.canvas),Ce=parseInt(Oe.getPropertyValue("width"),10),St=parseInt(Oe.getPropertyValue("height"),10);this.canvas.width=Ce,this.canvas.height=St}getCanvas(){return this.canvas}update(){this.resizeCanvas(),this.app.getRender().update()}}class je extends e{constructor(Oe,Ce,St){super(Oe,Ce),this.outerShadow=null,this.innerShadow=null,this.hardShadow=null,this.hardInnerShadow=null,this.element=St,this.createShadows()}createShadows(){this.element.insertAdjacentHTML("beforeend",`<div class="stf__outerShadow"></div>
             <div class="stf__innerShadow"></div>
             <div class="stf__hardShadow"></div>
             <div class="stf__hardInnerShadow"></div>`),this.outerShadow=this.element.querySelector(".stf__outerShadow"),this.innerShadow=this.element.querySelector(".stf__innerShadow"),this.hardShadow=this.element.querySelector(".stf__hardShadow"),this.hardInnerShadow=this.element.querySelector(".stf__hardInnerShadow")}clearShadow(){super.clearShadow(),this.outerShadow.style.cssText="display: none",this.innerShadow.style.cssText="display: none",this.hardShadow.style.cssText="display: none",this.hardInnerShadow.style.cssText="display: none"}reload(){this.element.querySelector(".stf__outerShadow")||this.createShadows()}drawHardInnerShadow(){const Oe=this.getRect(),Ce=this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress;let St=(100-Ce)*(2.5*Oe.pageWidth)/100+20;St>Oe.pageWidth&&(St=Oe.pageWidth);let rn=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+5).toString(10)};
            width: ${St}px;
            height: ${Oe.height}px;
            background: linear-gradient(to right,
                rgba(0, 0, 0, ${this.shadow.opacity*Ce/100}) 5%,
                rgba(0, 0, 0, 0) 100%);
            left: ${Oe.left+Oe.width/2}px;
            transform-origin: 0 0;
        `;rn+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0);":"transform: translate3d(0, 0, 0) rotateY(180deg);",this.hardInnerShadow.style.cssText=rn}drawHardOuterShadow(){const Oe=this.getRect();let Ce=(100-(this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress))*(2.5*Oe.pageWidth)/100+20;Ce>Oe.pageWidth&&(Ce=Oe.pageWidth);let St=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+4).toString(10)};
            width: ${Ce}px;
            height: ${Oe.height}px;
            background: linear-gradient(to left, rgba(0, 0, 0, ${this.shadow.opacity}) 5%, rgba(0, 0, 0, 0) 100%);
            left: ${Oe.left+Oe.width/2}px;
            transform-origin: 0 0;
        `;St+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0) rotateY(180deg);":"transform: translate3d(0, 0, 0);",this.hardShadow.style.cssText=St}drawInnerShadow(){const Oe=this.getRect(),Ce=3*this.shadow.width/4,St=this.getDirection()===0?Ce:0,rn=this.getDirection()===0?"to left":"to right",un=this.convertToGlobal(this.shadow.pos),Qe=this.shadow.angle+3*Math.PI/2,hn=[this.pageRect.topLeft,this.pageRect.topRight,this.pageRect.bottomRight,this.pageRect.bottomLeft];let He="polygon( ";for(const Xe of hn){let fn=this.getDirection()===1?{x:-Xe.x+this.shadow.pos.x,y:Xe.y-this.shadow.pos.y}:{x:Xe.x-this.shadow.pos.x,y:Xe.y-this.shadow.pos.y};fn=_e.GetRotatedPoint(fn,{x:St,y:100},Qe),He+=fn.x+"px "+fn.y+"px, "}He=He.slice(0,-2),He+=")";const pn=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${Ce}px;
            height: ${2*Oe.height}px;
            background: linear-gradient(${rn},
                rgba(0, 0, 0, ${this.shadow.opacity}) 5%,
                rgba(0, 0, 0, 0.05) 15%,
                rgba(0, 0, 0, ${this.shadow.opacity}) 35%,
                rgba(0, 0, 0, 0) 100%);
            transform-origin: ${St}px 100px;
            transform: translate3d(${un.x-St}px, ${un.y-100}px, 0) rotate(${Qe}rad);
            clip-path: ${He};
            -webkit-clip-path: ${He};
        `;this.innerShadow.style.cssText=pn}drawOuterShadow(){const Oe=this.getRect(),Ce=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),St=this.shadow.angle+3*Math.PI/2,rn=this.getDirection()===1?this.shadow.width:0,un=this.getDirection()===0?"to right":"to left",Qe=[{x:0,y:0},{x:Oe.pageWidth,y:0},{x:Oe.pageWidth,y:Oe.height},{x:0,y:Oe.height}];let hn="polygon( ";for(const pn of Qe)if(pn!==null){let Xe=this.getDirection()===1?{x:-pn.x+this.shadow.pos.x,y:pn.y-this.shadow.pos.y}:{x:pn.x-this.shadow.pos.x,y:pn.y-this.shadow.pos.y};Xe=_e.GetRotatedPoint(Xe,{x:rn,y:100},St),hn+=Xe.x+"px "+Xe.y+"px, "}hn=hn.slice(0,-2),hn+=")";const He=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${this.shadow.width}px;
            height: ${2*Oe.height}px;
            background: linear-gradient(${un}, rgba(0, 0, 0, ${this.shadow.opacity}), rgba(0, 0, 0, 0));
            transform-origin: ${rn}px 100px;
            transform: translate3d(${Ce.x-rn}px, ${Ce.y-100}px, 0) rotate(${St}rad);
            clip-path: ${hn};
            -webkit-clip-path: ${hn};
        `;this.outerShadow.style.cssText=He}drawLeftPage(){this.orientation!=="portrait"&&this.leftPage!==null&&(this.direction===1&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.leftPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.leftPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.leftPage.draw(this.flippingPage.getDrawingDensity())):this.leftPage.simpleDraw(0))}drawRightPage(){this.rightPage!==null&&(this.direction===0&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.rightPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.rightPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.rightPage.draw(this.flippingPage.getDrawingDensity())):this.rightPage.simpleDraw(1))}drawBottomPage(){if(this.bottomPage===null)return;const Oe=this.flippingPage!=null?this.flippingPage.getDrawingDensity():null;this.orientation==="portrait"&&this.direction===1||(this.bottomPage.getElement().style.zIndex=(this.getSettings().startZIndex+3).toString(10),this.bottomPage.draw(Oe))}drawFrame(){this.clear(),this.drawLeftPage(),this.drawRightPage(),this.drawBottomPage(),this.flippingPage!=null&&(this.flippingPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.flippingPage.draw()),this.shadow!=null&&this.flippingPage!==null&&(this.flippingPage.getDrawingDensity()==="soft"?(this.drawOuterShadow(),this.drawInnerShadow()):(this.drawHardOuterShadow(),this.drawHardInnerShadow()))}clear(){for(const Oe of this.app.getPageCollection().getPages())Oe!==this.leftPage&&Oe!==this.rightPage&&Oe!==this.flippingPage&&Oe!==this.bottomPage&&(Oe.getElement().style.cssText="display: none"),Oe.getTemporaryCopy()!==this.flippingPage&&Oe.hideTemporaryCopy()}update(){super.update(),this.rightPage!==null&&this.rightPage.setOrientation(1),this.leftPage!==null&&this.leftPage.setOrientation(0)}}class nn{constructor(){this._default={startPage:0,size:"fixed",width:0,height:0,minWidth:0,maxWidth:0,minHeight:0,maxHeight:0,drawShadow:!0,flippingTime:1e3,usePortrait:!0,startZIndex:0,autoSize:!0,maxShadowOpacity:1,showCover:!1,mobileScrollSupport:!0,swipeDistance:30,clickEventForward:!0,useMouseEvents:!0,showPageCorners:!0,disableFlipByClick:!1}}getSettings(Oe){const Ce=this._default;if(Object.assign(Ce,Oe),Ce.size!=="stretch"&&Ce.size!=="fixed")throw new Error('Invalid size type. Available only "fixed" and "stretch" value');if(Ce.width<=0||Ce.height<=0)throw new Error("Invalid width or height");if(Ce.flippingTime<=0)throw new Error("Invalid flipping time");return Ce.size==="stretch"?(Ce.minWidth<=0&&(Ce.minWidth=100),Ce.maxWidth<Ce.minWidth&&(Ce.maxWidth=2e3),Ce.minHeight<=0&&(Ce.minHeight=100),Ce.maxHeight<Ce.minHeight&&(Ce.maxHeight=2e3)):(Ce.minWidth=Ce.width,Ce.maxWidth=Ce.width,Ce.minHeight=Ce.height,Ce.maxHeight=Ce.height),Ce}}(function(Ge,Oe){Oe===void 0&&(Oe={});var Ce=Oe.insertAt;if(typeof document<"u"){var St=document.head||document.getElementsByTagName("head")[0],rn=document.createElement("style");rn.type="text/css",Ce==="top"&&St.firstChild?St.insertBefore(rn,St.firstChild):St.appendChild(rn),rn.styleSheet?rn.styleSheet.cssText=Ge:rn.appendChild(document.createTextNode(Ge))}})(`.stf__parent {
  position: relative;
  display: block;
  box-sizing: border-box;
  transform: translateZ(0);

  -ms-touch-action: pan-y;
  touch-action: pan-y;
}

.sft__wrapper {
  position: relative;
  width: 100%;
  box-sizing: border-box;
}

.stf__parent canvas {
  position: absolute;
  width: 100%;
  height: 100%;
  left: 0;
  top: 0;
}

.stf__block {
  position: absolute;
  width: 100%;
  height: 100%;
  box-sizing: border-box;
  perspective: 2000px;
}

.stf__item {
  display: none;
  position: absolute;
  transform-style: preserve-3d;
}

.stf__outerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__innerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardInnerShadow {
  position: absolute;
  left: 0;
  top: 0;
}`),Se.PageFlip=class extends class{constructor(){this.events=new Map}on(Ge,Oe){return this.events.has(Ge)?this.events.get(Ge).push(Oe):this.events.set(Ge,[Oe]),this}off(Ge){this.events.delete(Ge)}trigger(Ge,Oe,Ce=null){if(this.events.has(Ge))for(const St of this.events.get(Ge))St({data:Ce,object:Oe})}}{constructor(Ge,Oe){super(),this.isUserTouch=!1,this.isUserMove=!1,this.setting=null,this.pages=null,this.setting=new nn().getSettings(Oe),this.block=Ge}destroy(){this.ui.destroy(),this.block.remove()}update(){this.render.update(),this.pages.show()}loadFromImages(Ge){this.ui=new en(this.block,this,this.setting);const Oe=this.ui.getCanvas();this.render=new t(this,this.setting,Oe),this.flipController=new Re(this.render,this),this.pages=new Ve(this,this.render,Ge),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}loadFromHTML(Ge){this.ui=new Ye(this.block,this,this.setting,Ge),this.render=new je(this,this.setting,this.ui.getDistElement()),this.flipController=new Re(this.render,this),this.pages=new xe(this,this.render,this.ui.getDistElement(),Ge),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}updateFromImages(Ge){const Oe=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new Ve(this,this.render,Ge),this.pages.load(),this.pages.show(Oe),this.trigger("update",this,{page:Oe,mode:this.render.getOrientation()})}updateFromHtml(Ge){const Oe=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new xe(this,this.render,this.ui.getDistElement(),Ge),this.pages.load(),this.ui.updateItems(Ge),this.render.reload(),this.pages.show(Oe),this.trigger("update",this,{page:Oe,mode:this.render.getOrientation()})}clear(){this.pages.destroy(),this.ui.clear()}turnToPrevPage(){this.pages.showPrev()}turnToNextPage(){this.pages.showNext()}turnToPage(Ge){this.pages.show(Ge)}flipNext(Ge="top"){this.flipController.flipNext(Ge)}flipPrev(Ge="top"){this.flipController.flipPrev(Ge)}flip(Ge,Oe="top"){this.flipController.flipToPage(Ge,Oe)}updateState(Ge){this.trigger("changeState",this,Ge)}updatePageIndex(Ge){this.trigger("flip",this,Ge)}updateOrientation(Ge){this.ui.setOrientationStyle(Ge),this.update(),this.trigger("changeOrientation",this,Ge)}getPageCount(){return this.pages.getPageCount()}getCurrentPageIndex(){return this.pages.getCurrentPageIndex()}getPage(Ge){return this.pages.getPage(Ge)}getRender(){return this.render}getFlipController(){return this.flipController}getOrientation(){return this.render.getOrientation()}getBoundsRect(){return this.render.getRect()}getSettings(){return this.setting}getUI(){return this.ui}getState(){return this.flipController.getState()}getPageCollection(){return this.pages}startUserTouch(Ge){this.mousePosition=Ge,this.isUserTouch=!0,this.isUserMove=!1}userMove(Ge,Oe){this.isUserTouch||Oe||!this.setting.showPageCorners?this.isUserTouch&&_e.GetDistanceBetweenTwoPoint(this.mousePosition,Ge)>5&&(this.isUserMove=!0,this.flipController.fold(Ge)):this.flipController.showCorner(Ge)}userStop(Ge,Oe=!1){this.isUserTouch&&(this.isUserTouch=!1,Oe||(this.isUserMove?this.flipController.stopMove():this.flipController.flip(Ge)))}},Object.defineProperty(Se,"__esModule",{value:!0})})}(pageFlip_browser$1,pageFlip_browser$1.exports)),pageFlip_browser$1.exports}var pageFlip_browserExports=requirePageFlip_browser();const HTMLFlipBookForward=React.forwardRef((Ae,r)=>{const Se=reactExports.useRef(null),Ee=reactExports.useRef([]),Fe=reactExports.useRef(),[Be,Ve]=reactExports.useState([]);reactExports.useImperativeHandle(r,()=>({pageFlip:()=>Fe.current}));const _e=reactExports.useCallback(()=>{Fe.current&&Fe.current.clear()},[]),ze=reactExports.useCallback(()=>{const xe=Fe.current;xe&&(xe.off("flip"),xe.off("changeOrientation"),xe.off("changeState"),xe.off("init"),xe.off("update"))},[]);return reactExports.useEffect(()=>{if(Ee.current=[],Ae.children){const xe=React.Children.map(Ae.children,Ie=>React.cloneElement(Ie,{ref:Re=>{Re&&Ee.current.push(Re)}}));(!Ae.renderOnlyPageLengthChange||Be.length!==xe.length)&&(xe.length<Be.length&&_e(),Ve(xe))}},[Ae.children]),reactExports.useEffect(()=>{const xe=()=>{const Ie=Fe.current;Ie&&(Ae.onFlip&&Ie.on("flip",Re=>Ae.onFlip(Re)),Ae.onChangeOrientation&&Ie.on("changeOrientation",Re=>Ae.onChangeOrientation(Re)),Ae.onChangeState&&Ie.on("changeState",Re=>Ae.onChangeState(Re)),Ae.onInit&&Ie.on("init",Re=>Ae.onInit(Re)),Ae.onUpdate&&Ie.on("update",Re=>Ae.onUpdate(Re)))};Be.length>0&&Ee.current.length>0&&(ze(),Se.current&&!Fe.current&&(Fe.current=new pageFlip_browserExports.PageFlip(Se.current,Ae)),Fe.current.getFlipController()?Fe.current.updateFromHtml(Ee.current):Fe.current.loadFromHTML(Ee.current),xe())},[Be]),React.createElement("div",{ref:Se,className:Ae.className,style:Ae.style},Be)}),HTMLFlipBook=React.memo(HTMLFlipBookForward);function commonjsRequire(Ae){throw new Error('Could not dynamically require "'+Ae+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);var hasRequiredPdf;function requirePdf(){return hasRequiredPdf||(hasRequiredPdf=1,function(module,exports){(function(r,Se){module.exports=r.pdfjsLib=Se()})(globalThis,()=>(()=>{var __webpack_modules__=[,(Ae,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.VerbosityLevel=r.Util=r.UnknownErrorException=r.UnexpectedResponseException=r.TextRenderingMode=r.RenderingIntentFlag=r.PromiseCapability=r.PermissionFlag=r.PasswordResponses=r.PasswordException=r.PageActionEventType=r.OPS=r.MissingPDFException=r.MAX_IMAGE_SIZE_TO_CACHE=r.LINE_FACTOR=r.LINE_DESCENT_FACTOR=r.InvalidPDFException=r.ImageKind=r.IDENTITY_MATRIX=r.FormatError=r.FeatureTest=r.FONT_IDENTITY_MATRIX=r.DocumentActionEventType=r.CMapCompressionType=r.BaseException=r.BASELINE_FACTOR=r.AnnotationType=r.AnnotationReplyType=r.AnnotationPrefix=r.AnnotationMode=r.AnnotationFlag=r.AnnotationFieldFlag=r.AnnotationEditorType=r.AnnotationEditorPrefix=r.AnnotationEditorParamsType=r.AnnotationBorderStyleType=r.AnnotationActionEventType=r.AbortException=void 0,r.assert=De,r.bytesToString=Sn,r.createValidAbsoluteUrl=We,r.getModificationDate=Un,r.getUuid=ri,r.getVerbosityLevel=dn,r.info=qe,r.isArrayBuffer=Hn,r.isArrayEqual=$n,r.isNodeJS=void 0,r.normalizeUnicode=Gn,r.objectFromMap=Tn,r.objectSize=Nn,r.setVerbosityLevel=fn,r.shadow=$e,r.string32=wn,r.stringToBytes=_n,r.stringToPDFString=On,r.stringToUTF8String=Mn,r.unreachable=Me,r.utf8StringToString=Bn,r.warn=tn;const Se=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");r.isNodeJS=Se;const Ee=[1,0,0,1,0,0];r.IDENTITY_MATRIX=Ee;const Fe=[.001,0,0,.001,0,0];r.FONT_IDENTITY_MATRIX=Fe;const Be=1e7;r.MAX_IMAGE_SIZE_TO_CACHE=Be;const Ve=1.35;r.LINE_FACTOR=Ve;const _e=.35;r.LINE_DESCENT_FACTOR=_e;const ze=_e/Ve;r.BASELINE_FACTOR=ze;const xe={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};r.RenderingIntentFlag=xe;const Ie={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};r.AnnotationMode=Ie;const Re="pdfjs_internal_editor_";r.AnnotationEditorPrefix=Re;const e={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};r.AnnotationEditorType=e;const t={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};r.AnnotationEditorParamsType=t;const Te={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};r.PermissionFlag=Te;const Ye={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};r.TextRenderingMode=Ye;const en={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};r.ImageKind=en;const je={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};r.AnnotationType=je;const nn={GROUP:"Group",REPLY:"R"};r.AnnotationReplyType=nn;const Ge={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};r.AnnotationFlag=Ge;const Oe={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};r.AnnotationFieldFlag=Oe;const Ce={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};r.AnnotationBorderStyleType=Ce;const St={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};r.AnnotationActionEventType=St;const rn={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};r.DocumentActionEventType=rn;const un={O:"PageOpen",C:"PageClose"};r.PageActionEventType=un;const Qe={ERRORS:0,WARNINGS:1,INFOS:5};r.VerbosityLevel=Qe;const hn={NONE:0,BINARY:1};r.CMapCompressionType=hn;const He={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};r.OPS=He;const pn={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};r.PasswordResponses=pn;let Xe=Qe.WARNINGS;function fn(ti){Number.isInteger(ti)&&(Xe=ti)}function dn(){return Xe}function qe(ti){Xe>=Qe.INFOS&&console.log(`Info: ${ti}`)}function tn(ti){Xe>=Qe.WARNINGS&&console.log(`Warning: ${ti}`)}function Me(ti){throw new Error(ti)}function De(ti,Yn){ti||Me(Yn)}function Ue(ti){switch(ti?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function We(ti,Yn=null,Qn=null){if(!ti)return null;try{if(Qn&&typeof ti=="string"&&(Qn.addDefaultProtocol&&ti.startsWith("www.")&&ti.match(/\./g)?.length>=2&&(ti=`http://${ti}`),Qn.tryConvertEncoding))try{ti=Mn(ti)}catch{}const ci=Yn?new URL(ti,Yn):new URL(ti);if(Ue(ci))return ci}catch{}return null}function $e(ti,Yn,Qn,ci=!1){return Object.defineProperty(ti,Yn,{value:Qn,enumerable:!ci,configurable:!0,writable:!1}),Qn}const on=function(){function Yn(Qn,ci){this.constructor===Yn&&Me("Cannot initialize BaseException."),this.message=Qn,this.name=ci}return Yn.prototype=new Error,Yn.constructor=Yn,Yn}();r.BaseException=on;class Je extends on{constructor(Yn,Qn){super(Yn,"PasswordException"),this.code=Qn}}r.PasswordException=Je;class an extends on{constructor(Yn,Qn){super(Yn,"UnknownErrorException"),this.details=Qn}}r.UnknownErrorException=an;class Ke extends on{constructor(Yn){super(Yn,"InvalidPDFException")}}r.InvalidPDFException=Ke;class sn extends on{constructor(Yn){super(Yn,"MissingPDFException")}}r.MissingPDFException=sn;class gn extends on{constructor(Yn,Qn){super(Yn,"UnexpectedResponseException"),this.status=Qn}}r.UnexpectedResponseException=gn;class mn extends on{constructor(Yn){super(Yn,"FormatError")}}r.FormatError=mn;class yn extends on{constructor(Yn){super(Yn,"AbortException")}}r.AbortException=yn;function Sn(ti){(typeof ti!="object"||ti?.length===void 0)&&Me("Invalid argument for bytesToString");const Yn=ti.length,Qn=8192;if(Yn<Qn)return String.fromCharCode.apply(null,ti);const ci=[];for(let pi=0;pi<Yn;pi+=Qn){const ki=Math.min(pi+Qn,Yn),hi=ti.subarray(pi,ki);ci.push(String.fromCharCode.apply(null,hi))}return ci.join("")}function _n(ti){typeof ti!="string"&&Me("Invalid argument for stringToBytes");const Yn=ti.length,Qn=new Uint8Array(Yn);for(let ci=0;ci<Yn;++ci)Qn[ci]=ti.charCodeAt(ci)&255;return Qn}function wn(ti){return String.fromCharCode(ti>>24&255,ti>>16&255,ti>>8&255,ti&255)}function Nn(ti){return Object.keys(ti).length}function Tn(ti){const Yn=Object.create(null);for(const[Qn,ci]of ti)Yn[Qn]=ci;return Yn}function Cn(){const ti=new Uint8Array(4);return ti[0]=1,new Uint32Array(ti.buffer,0,1)[0]===1}function In(){try{return new Function(""),!0}catch{return!1}}class Rn{static get isLittleEndian(){return $e(this,"isLittleEndian",Cn())}static get isEvalSupported(){return $e(this,"isEvalSupported",In())}static get isOffscreenCanvasSupported(){return $e(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?$e(this,"platform",{isWin:!1,isMac:!1}):$e(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){return $e(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}r.FeatureTest=Rn;const bn=[...Array(256).keys()].map(ti=>ti.toString(16).padStart(2,"0"));class kn{static makeHexColor(Yn,Qn,ci){return`#${bn[Yn]}${bn[Qn]}${bn[ci]}`}static scaleMinMax(Yn,Qn){let ci;Yn[0]?(Yn[0]<0&&(ci=Qn[0],Qn[0]=Qn[1],Qn[1]=ci),Qn[0]*=Yn[0],Qn[1]*=Yn[0],Yn[3]<0&&(ci=Qn[2],Qn[2]=Qn[3],Qn[3]=ci),Qn[2]*=Yn[3],Qn[3]*=Yn[3]):(ci=Qn[0],Qn[0]=Qn[2],Qn[2]=ci,ci=Qn[1],Qn[1]=Qn[3],Qn[3]=ci,Yn[1]<0&&(ci=Qn[2],Qn[2]=Qn[3],Qn[3]=ci),Qn[2]*=Yn[1],Qn[3]*=Yn[1],Yn[2]<0&&(ci=Qn[0],Qn[0]=Qn[1],Qn[1]=ci),Qn[0]*=Yn[2],Qn[1]*=Yn[2]),Qn[0]+=Yn[4],Qn[1]+=Yn[4],Qn[2]+=Yn[5],Qn[3]+=Yn[5]}static transform(Yn,Qn){return[Yn[0]*Qn[0]+Yn[2]*Qn[1],Yn[1]*Qn[0]+Yn[3]*Qn[1],Yn[0]*Qn[2]+Yn[2]*Qn[3],Yn[1]*Qn[2]+Yn[3]*Qn[3],Yn[0]*Qn[4]+Yn[2]*Qn[5]+Yn[4],Yn[1]*Qn[4]+Yn[3]*Qn[5]+Yn[5]]}static applyTransform(Yn,Qn){const ci=Yn[0]*Qn[0]+Yn[1]*Qn[2]+Qn[4],pi=Yn[0]*Qn[1]+Yn[1]*Qn[3]+Qn[5];return[ci,pi]}static applyInverseTransform(Yn,Qn){const ci=Qn[0]*Qn[3]-Qn[1]*Qn[2],pi=(Yn[0]*Qn[3]-Yn[1]*Qn[2]+Qn[2]*Qn[5]-Qn[4]*Qn[3])/ci,ki=(-Yn[0]*Qn[1]+Yn[1]*Qn[0]+Qn[4]*Qn[1]-Qn[5]*Qn[0])/ci;return[pi,ki]}static getAxialAlignedBoundingBox(Yn,Qn){const ci=this.applyTransform(Yn,Qn),pi=this.applyTransform(Yn.slice(2,4),Qn),ki=this.applyTransform([Yn[0],Yn[3]],Qn),hi=this.applyTransform([Yn[2],Yn[1]],Qn);return[Math.min(ci[0],pi[0],ki[0],hi[0]),Math.min(ci[1],pi[1],ki[1],hi[1]),Math.max(ci[0],pi[0],ki[0],hi[0]),Math.max(ci[1],pi[1],ki[1],hi[1])]}static inverseTransform(Yn){const Qn=Yn[0]*Yn[3]-Yn[1]*Yn[2];return[Yn[3]/Qn,-Yn[1]/Qn,-Yn[2]/Qn,Yn[0]/Qn,(Yn[2]*Yn[5]-Yn[4]*Yn[3])/Qn,(Yn[4]*Yn[1]-Yn[5]*Yn[0])/Qn]}static singularValueDecompose2dScale(Yn){const Qn=[Yn[0],Yn[2],Yn[1],Yn[3]],ci=Yn[0]*Qn[0]+Yn[1]*Qn[2],pi=Yn[0]*Qn[1]+Yn[1]*Qn[3],ki=Yn[2]*Qn[0]+Yn[3]*Qn[2],hi=Yn[2]*Qn[1]+Yn[3]*Qn[3],si=(ci+hi)/2,ai=Math.sqrt((ci+hi)**2-4*(ci*hi-ki*pi))/2,li=si+ai||1,Ei=si-ai||1;return[Math.sqrt(li),Math.sqrt(Ei)]}static normalizeRect(Yn){const Qn=Yn.slice(0);return Yn[0]>Yn[2]&&(Qn[0]=Yn[2],Qn[2]=Yn[0]),Yn[1]>Yn[3]&&(Qn[1]=Yn[3],Qn[3]=Yn[1]),Qn}static intersect(Yn,Qn){const ci=Math.max(Math.min(Yn[0],Yn[2]),Math.min(Qn[0],Qn[2])),pi=Math.min(Math.max(Yn[0],Yn[2]),Math.max(Qn[0],Qn[2]));if(ci>pi)return null;const ki=Math.max(Math.min(Yn[1],Yn[3]),Math.min(Qn[1],Qn[3])),hi=Math.min(Math.max(Yn[1],Yn[3]),Math.max(Qn[1],Qn[3]));return ki>hi?null:[ci,ki,pi,hi]}static bezierBoundingBox(Yn,Qn,ci,pi,ki,hi,si,ai){const li=[],Ei=[[],[]];let $i,Qi,fr,ar,Ii,vi,rr,dr;for(let Nr=0;Nr<2;++Nr){if(Nr===0?(Qi=6*Yn-12*ci+6*ki,$i=-3*Yn+9*ci-9*ki+3*si,fr=3*ci-3*Yn):(Qi=6*Qn-12*pi+6*hi,$i=-3*Qn+9*pi-9*hi+3*ai,fr=3*pi-3*Qn),Math.abs($i)<1e-12){if(Math.abs(Qi)<1e-12)continue;ar=-fr/Qi,0<ar&&ar<1&&li.push(ar);continue}rr=Qi*Qi-4*fr*$i,dr=Math.sqrt(rr),!(rr<0)&&(Ii=(-Qi+dr)/(2*$i),0<Ii&&Ii<1&&li.push(Ii),vi=(-Qi-dr)/(2*$i),0<vi&&vi<1&&li.push(vi))}let Xi=li.length,Gi;const Yi=Xi;for(;Xi--;)ar=li[Xi],Gi=1-ar,Ei[0][Xi]=Gi*Gi*Gi*Yn+3*Gi*Gi*ar*ci+3*Gi*ar*ar*ki+ar*ar*ar*si,Ei[1][Xi]=Gi*Gi*Gi*Qn+3*Gi*Gi*ar*pi+3*Gi*ar*ar*hi+ar*ar*ar*ai;return Ei[0][Yi]=Yn,Ei[1][Yi]=Qn,Ei[0][Yi+1]=si,Ei[1][Yi+1]=ai,Ei[0].length=Ei[1].length=Yi+2,[Math.min(...Ei[0]),Math.min(...Ei[1]),Math.max(...Ei[0]),Math.max(...Ei[1])]}}r.Util=kn;const En=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function On(ti){if(ti[0]>="ï"){let Qn;if(ti[0]==="þ"&&ti[1]==="ÿ"?Qn="utf-16be":ti[0]==="ÿ"&&ti[1]==="þ"?Qn="utf-16le":ti[0]==="ï"&&ti[1]==="»"&&ti[2]==="¿"&&(Qn="utf-8"),Qn)try{const ci=new TextDecoder(Qn,{fatal:!0}),pi=_n(ti);return ci.decode(pi)}catch(ci){tn(`stringToPDFString: "${ci}".`)}}const Yn=[];for(let Qn=0,ci=ti.length;Qn<ci;Qn++){const pi=En[ti.charCodeAt(Qn)];Yn.push(pi?String.fromCharCode(pi):ti.charAt(Qn))}return Yn.join("")}function Mn(ti){return decodeURIComponent(escape(ti))}function Bn(ti){return unescape(encodeURIComponent(ti))}function Hn(ti){return typeof ti=="object"&&ti?.byteLength!==void 0}function $n(ti,Yn){if(ti.length!==Yn.length)return!1;for(let Qn=0,ci=ti.length;Qn<ci;Qn++)if(ti[Qn]!==Yn[Qn])return!1;return!0}function Un(ti=new Date){return[ti.getUTCFullYear().toString(),(ti.getUTCMonth()+1).toString().padStart(2,"0"),ti.getUTCDate().toString().padStart(2,"0"),ti.getUTCHours().toString().padStart(2,"0"),ti.getUTCMinutes().toString().padStart(2,"0"),ti.getUTCSeconds().toString().padStart(2,"0")].join("")}class qn{#e=!1;constructor(){this.promise=new Promise((Yn,Qn)=>{this.resolve=ci=>{this.#e=!0,Yn(ci)},this.reject=ci=>{this.#e=!0,Qn(ci)}})}get settled(){return this.#e}}r.PromiseCapability=qn;let jn=null,Xn=null;function Gn(ti){return jn||(jn=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Xn=new Map([["ﬅ","ſt"]])),ti.replaceAll(jn,(Yn,Qn,ci)=>Qn?Qn.normalize("NFKC"):Xn.get(ci))}function ri(){if(typeof crypto<"u"&&typeof crypto?.randomUUID=="function")return crypto.randomUUID();const ti=new Uint8Array(32);if(typeof crypto<"u"&&typeof crypto?.getRandomValues=="function")crypto.getRandomValues(ti);else for(let Yn=0;Yn<32;Yn++)ti[Yn]=Math.floor(Math.random()*255);return Sn(ti)}const ui="pdfjs_internal_id_";r.AnnotationPrefix=ui},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(Ae){if(typeof Ae=="string"||Ae instanceof URL?Ae={url:Ae}:(0,_util.isArrayBuffer)(Ae)&&(Ae={data:Ae}),typeof Ae!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!Ae.url&&!Ae.data&&!Ae.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const r=new PDFDocumentLoadingTask,{docId:Se}=r,Ee=Ae.url?getUrlProp(Ae.url):null,Fe=Ae.data?getDataProp(Ae.data):null,Be=Ae.httpHeaders||null,Ve=Ae.withCredentials===!0,_e=Ae.password??null,ze=Ae.range instanceof PDFDataRangeTransport?Ae.range:null,xe=Number.isInteger(Ae.rangeChunkSize)&&Ae.rangeChunkSize>0?Ae.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let Ie=Ae.worker instanceof PDFWorker?Ae.worker:null;const Re=Ae.verbosity,e=typeof Ae.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(Ae.docBaseUrl)?Ae.docBaseUrl:null,t=typeof Ae.cMapUrl=="string"?Ae.cMapUrl:null,Te=Ae.cMapPacked!==!1,Ye=Ae.CMapReaderFactory||DefaultCMapReaderFactory,en=typeof Ae.standardFontDataUrl=="string"?Ae.standardFontDataUrl:null,je=Ae.StandardFontDataFactory||DefaultStandardFontDataFactory,nn=Ae.stopAtErrors!==!0,Ge=Number.isInteger(Ae.maxImageSize)&&Ae.maxImageSize>-1?Ae.maxImageSize:-1,Oe=Ae.isEvalSupported!==!1,Ce=typeof Ae.isOffscreenCanvasSupported=="boolean"?Ae.isOffscreenCanvasSupported:!_util.isNodeJS,St=Number.isInteger(Ae.canvasMaxAreaInBytes)?Ae.canvasMaxAreaInBytes:-1,rn=typeof Ae.disableFontFace=="boolean"?Ae.disableFontFace:_util.isNodeJS,un=Ae.fontExtraProperties===!0,Qe=Ae.enableXfa===!0,hn=Ae.ownerDocument||globalThis.document,He=Ae.disableRange===!0,pn=Ae.disableStream===!0,Xe=Ae.disableAutoFetch===!0,fn=Ae.pdfBug===!0,dn=ze?ze.length:Ae.length??NaN,qe=typeof Ae.useSystemFonts=="boolean"?Ae.useSystemFonts:!_util.isNodeJS&&!rn,tn=typeof Ae.useWorkerFetch=="boolean"?Ae.useWorkerFetch:Ye===_display_utils.DOMCMapReaderFactory&&je===_display_utils.DOMStandardFontDataFactory&&t&&en&&(0,_display_utils.isValidFetchUrl)(t,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(en,document.baseURI),Me=Ae.canvasFactory||new DefaultCanvasFactory({ownerDocument:hn}),De=Ae.filterFactory||new DefaultFilterFactory({docId:Se,ownerDocument:hn}),Ue=null;(0,_util.setVerbosityLevel)(Re);const We={canvasFactory:Me,filterFactory:De};if(tn||(We.cMapReaderFactory=new Ye({baseUrl:t,isCompressed:Te}),We.standardFontDataFactory=new je({baseUrl:en})),!Ie){const Je={verbosity:Re,port:_worker_options.GlobalWorkerOptions.workerPort};Ie=Je.port?PDFWorker.fromPort(Je):new PDFWorker(Je),r._worker=Ie}const $e={docId:Se,apiVersion:"3.11.174",data:Fe,password:_e,disableAutoFetch:Xe,rangeChunkSize:xe,length:dn,docBaseUrl:e,enableXfa:Qe,evaluatorOptions:{maxImageSize:Ge,disableFontFace:rn,ignoreErrors:nn,isEvalSupported:Oe,isOffscreenCanvasSupported:Ce,canvasMaxAreaInBytes:St,fontExtraProperties:un,useSystemFonts:qe,cMapUrl:tn?t:null,standardFontDataUrl:tn?en:null}},on={ignoreErrors:nn,isEvalSupported:Oe,disableFontFace:rn,fontExtraProperties:un,enableXfa:Qe,ownerDocument:hn,disableAutoFetch:Xe,pdfBug:fn,styleElement:Ue};return Ie.promise.then(function(){if(r.destroyed)throw new Error("Loading aborted");const Je=_fetchDocument(Ie,$e),an=new Promise(function(Ke){let sn;ze?sn=new _transport_stream.PDFDataTransportStream({length:dn,initialData:ze.initialData,progressiveDone:ze.progressiveDone,contentDispositionFilename:ze.contentDispositionFilename,disableRange:He,disableStream:pn},ze):Fe||(sn=(mn=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(mn):(0,_display_utils.isValidFetchUrl)(mn.url)?new _displayFetch_stream.PDFFetchStream(mn):new _displayNetwork.PDFNetworkStream(mn))({url:Ee,length:dn,httpHeaders:Be,withCredentials:Ve,rangeChunkSize:xe,disableRange:He,disableStream:pn})),Ke(sn)});return Promise.all([Je,an]).then(function([Ke,sn]){if(r.destroyed)throw new Error("Loading aborted");const gn=new _message_handler.MessageHandler(Se,Ke,Ie.port),mn=new WorkerTransport(gn,r,sn,on,We);r._transport=mn,gn.send("Ready",null)})}).catch(r._capability.reject),r}async function _fetchDocument(Ae,r){if(Ae.destroyed)throw new Error("Worker was destroyed");const Se=await Ae.messageHandler.sendWithPromise("GetDocRequest",r,r.data?[r.data.buffer]:null);if(Ae.destroyed)throw new Error("Worker was destroyed");return Se}function getUrlProp(Ae){if(Ae instanceof URL)return Ae.href;try{return new URL(Ae,window.location).href}catch{if(_util.isNodeJS&&typeof Ae=="string")return Ae}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(Ae){if(_util.isNodeJS&&typeof Buffer<"u"&&Ae instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(Ae instanceof Uint8Array&&Ae.byteLength===Ae.buffer.byteLength)return Ae;if(typeof Ae=="string")return(0,_util.stringToBytes)(Ae);if(typeof Ae=="object"&&!isNaN(Ae?.length)||(0,_util.isArrayBuffer)(Ae))return new Uint8Array(Ae);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}class PDFDocumentLoadingTask{static#e=0;constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${PDFDocumentLoadingTask.#e++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(r){throw this._worker?.port&&delete this._worker._pendingDestroy,r}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(r,Se,Ee=!1,Fe=null){this.length=r,this.initialData=Se,this.progressiveDone=Ee,this.contentDispositionFilename=Fe,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(r){this._rangeListeners.push(r)}addProgressListener(r){this._progressListeners.push(r)}addProgressiveReadListener(r){this._progressiveReadListeners.push(r)}addProgressiveDoneListener(r){this._progressiveDoneListeners.push(r)}onDataRange(r,Se){for(const Ee of this._rangeListeners)Ee(r,Se)}onDataProgress(r,Se){this._readyCapability.promise.then(()=>{for(const Ee of this._progressListeners)Ee(r,Se)})}onDataProgressiveRead(r){this._readyCapability.promise.then(()=>{for(const Se of this._progressiveReadListeners)Se(r)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const r of this._progressiveDoneListeners)r()})}transportReady(){this._readyCapability.resolve()}requestDataRange(r,Se){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(r,Se){this._pdfInfo=r,this._transport=Se,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(Ee=>{if(!Ee)return Ee;const Fe=[];for(const Be in Ee)Fe.push(...Ee[Be]);return Fe}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(r){return this._transport.getPage(r)}getPageIndex(r){return this._transport.getPageIndex(r)}getDestinations(){return this._transport.getDestinations()}getDestination(r){return this._transport.getDestination(r)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(r=!1){return this._transport.startCleanup(r||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{#e=null;#t=!1;constructor(r,Se,Ee,Fe=!1){this._pageIndex=r,this._pageInfo=Se,this._transport=Ee,this._stats=Fe?new _display_utils.StatTimer:null,this._pdfBug=Fe,this.commonObjs=Ee.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:r,rotation:Se=this.rotate,offsetX:Ee=0,offsetY:Fe=0,dontFlip:Be=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:r,rotation:Se,offsetX:Ee,offsetY:Fe,dontFlip:Be})}getAnnotations({intent:r="display"}={}){const Se=this._transport.getRenderingIntent(r);return this._transport.getAnnotations(this._pageIndex,Se.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:r,viewport:Se,intent:Ee="display",annotationMode:Fe=_util.AnnotationMode.ENABLE,transform:Be=null,background:Ve=null,optionalContentConfigPromise:_e=null,annotationCanvasMap:ze=null,pageColors:xe=null,printAnnotationStorage:Ie=null}){this._stats?.time("Overall");const Re=this._transport.getRenderingIntent(Ee,Fe,Ie);this.#t=!1,this.#i(),_e||(_e=this._transport.getOptionalContentConfig());let e=this._intentStates.get(Re.cacheKey);e||(e=Object.create(null),this._intentStates.set(Re.cacheKey,e)),e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null);const t=!!(Re.renderingIntent&_util.RenderingIntentFlag.PRINT);e.displayReadyCapability||(e.displayReadyCapability=new _util.PromiseCapability,e.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(Re));const Te=je=>{e.renderTasks.delete(Ye),(this._maybeCleanupAfterRender||t)&&(this.#t=!0),this.#n(!t),je?(Ye.capability.reject(je),this._abortOperatorList({intentState:e,reason:je instanceof Error?je:new Error(je)})):Ye.capability.resolve(),this._stats?.timeEnd("Rendering"),this._stats?.timeEnd("Overall")},Ye=new InternalRenderTask({callback:Te,params:{canvasContext:r,viewport:Se,transform:Be,background:Ve},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:ze,operatorList:e.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!t,pdfBug:this._pdfBug,pageColors:xe});(e.renderTasks||=new Set).add(Ye);const en=Ye.task;return Promise.all([e.displayReadyCapability.promise,_e]).then(([je,nn])=>{if(this.destroyed){Te();return}this._stats?.time("Rendering"),Ye.initializeGraphics({transparency:je,optionalContentConfig:nn}),Ye.operatorListChanged()}).catch(Te),en}getOperatorList({intent:r="display",annotationMode:Se=_util.AnnotationMode.ENABLE,printAnnotationStorage:Ee=null}={}){function Fe(){Ve.operatorList.lastChunk&&(Ve.opListReadCapability.resolve(Ve.operatorList),Ve.renderTasks.delete(_e))}const Be=this._transport.getRenderingIntent(r,Se,Ee,!0);let Ve=this._intentStates.get(Be.cacheKey);Ve||(Ve=Object.create(null),this._intentStates.set(Be.cacheKey,Ve));let _e;return Ve.opListReadCapability||(_e=Object.create(null),_e.operatorListChanged=Fe,Ve.opListReadCapability=new _util.PromiseCapability,(Ve.renderTasks||=new Set).add(_e),Ve.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(Be)),Ve.opListReadCapability.promise}streamTextContent({includeMarkedContent:r=!1,disableNormalization:Se=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:r===!0,disableNormalization:Se===!0},{highWaterMark:100,size(Fe){return Fe.items.length}})}getTextContent(r={}){if(this._transport._htmlForXfa)return this.getXfa().then(Ee=>_xfa_text.XfaText.textContent(Ee));const Se=this.streamTextContent(r);return new Promise(function(Ee,Fe){function Be(){Ve.read().then(function({value:ze,done:xe}){if(xe){Ee(_e);return}Object.assign(_e.styles,ze.styles),_e.items.push(...ze.items),Be()},Fe)}const Ve=Se.getReader(),_e={items:[],styles:Object.create(null)};Be()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const r=[];for(const Se of this._intentStates.values())if(this._abortOperatorList({intentState:Se,reason:new Error("Page was destroyed."),force:!0}),!Se.opListReadCapability)for(const Ee of Se.renderTasks)r.push(Ee.completed),Ee.cancel();return this.objs.clear(),this.#t=!1,this.#i(),Promise.all(r)}cleanup(r=!1){this.#t=!0;const Se=this.#n(!1);return r&&Se&&(this._stats&&=new _display_utils.StatTimer),Se}#n(r=!1){if(this.#i(),!this.#t||this.destroyed)return!1;if(r)return this.#e=setTimeout(()=>{this.#e=null,this.#n(!1)},DELAYED_CLEANUP_TIMEOUT),!1;for(const{renderTasks:Se,operatorList:Ee}of this._intentStates.values())if(Se.size>0||!Ee.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}#i(){this.#e&&(clearTimeout(this.#e),this.#e=null)}_startRenderPage(r,Se){const Ee=this._intentStates.get(Se);Ee&&(this._stats?.timeEnd("Page Request"),Ee.displayReadyCapability?.resolve(r))}_renderPageChunk(r,Se){for(let Ee=0,Fe=r.length;Ee<Fe;Ee++)Se.operatorList.fnArray.push(r.fnArray[Ee]),Se.operatorList.argsArray.push(r.argsArray[Ee]);Se.operatorList.lastChunk=r.lastChunk,Se.operatorList.separateAnnots=r.separateAnnots;for(const Ee of Se.renderTasks)Ee.operatorListChanged();r.lastChunk&&this.#n(!0)}_pumpOperatorList({renderingIntent:r,cacheKey:Se,annotationStorageSerializable:Ee}){const{map:Fe,transfers:Be}=Ee,_e=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:r,cacheKey:Se,annotationStorage:Fe},Be).getReader(),ze=this._intentStates.get(Se);ze.streamReader=_e;const xe=()=>{_e.read().then(({value:Ie,done:Re})=>{if(Re){ze.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(Ie,ze),xe())},Ie=>{if(ze.streamReader=null,!this._transport.destroyed){if(ze.operatorList){ze.operatorList.lastChunk=!0;for(const Re of ze.renderTasks)Re.operatorListChanged();this.#n(!0)}if(ze.displayReadyCapability)ze.displayReadyCapability.reject(Ie);else if(ze.opListReadCapability)ze.opListReadCapability.reject(Ie);else throw Ie}})};xe()}_abortOperatorList({intentState:r,reason:Se,force:Ee=!1}){if(r.streamReader){if(r.streamReaderCancelTimeout&&(clearTimeout(r.streamReaderCancelTimeout),r.streamReaderCancelTimeout=null),!Ee){if(r.renderTasks.size>0)return;if(Se instanceof _display_utils.RenderingCancelledException){let Fe=RENDERING_CANCELLED_TIMEOUT;Se.extraDelay>0&&Se.extraDelay<1e3&&(Fe+=Se.extraDelay),r.streamReaderCancelTimeout=setTimeout(()=>{r.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:r,reason:Se,force:!0})},Fe);return}}if(r.streamReader.cancel(new _util.AbortException(Se.message)).catch(()=>{}),r.streamReader=null,!this._transport.destroyed){for(const[Fe,Be]of this._intentStates)if(Be===r){this._intentStates.delete(Fe);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{#e=new Set;#t=Promise.resolve();postMessage(r,Se){const Ee={data:structuredClone(r,Se?{transfer:Se}:null)};this.#t.then(()=>{for(const Fe of this.#e)Fe.call(this,Ee)})}addEventListener(r,Se){this.#e.add(Se)}removeEventListener(r,Se){this.#e.delete(Se)}terminate(){this.#e.clear()}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const Ae=document?.currentScript?.src;Ae&&(PDFWorkerUtil.fallbackWorkerSrc=Ae.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(Ae,r){let Se;try{if(Se=new URL(Ae),!Se.origin||Se.origin==="null")return!1}catch{return!1}const Ee=new URL(r,Se);return Se.origin===Ee.origin},PDFWorkerUtil.createCDNWrapper=function(Ae){const r=`importScripts("${Ae}");`;return URL.createObjectURL(new Blob([r]))}}class PDFWorker{static#workerPorts;constructor({name:Ae=null,port:r=null,verbosity:Se=(0,_util.getVerbosityLevel)()}={}){if(this.name=Ae,this.destroyed=!1,this.verbosity=Se,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,r){if(PDFWorker.#workerPorts?.has(r))throw new Error("Cannot use more than one PDFWorker per port.");(PDFWorker.#workerPorts||=new WeakMap).set(r,this),this._initializeFromPort(r);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(Ae){this._port=Ae,this._messageHandler=new _message_handler.MessageHandler("main","worker",Ae),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:Ae}=PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,Ae)||(Ae=PDFWorkerUtil.createCDNWrapper(new URL(Ae,window.location).href));const r=new Worker(Ae),Se=new _message_handler.MessageHandler("main","worker",r),Ee=()=>{r.removeEventListener("error",Fe),Se.destroy(),r.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},Fe=()=>{this._webWorker||Ee()};r.addEventListener("error",Fe),Se.on("test",Ve=>{if(r.removeEventListener("error",Fe),this.destroyed){Ee();return}Ve?(this._messageHandler=Se,this._port=r,this._webWorker=r,this._readyCapability.resolve(),Se.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),Se.destroy(),r.terminate())}),Se.on("ready",Ve=>{if(r.removeEventListener("error",Fe),this.destroyed){Ee();return}try{Be()}catch{this._setupFakeWorker()}});const Be=()=>{const Ve=new Uint8Array;Se.send("test",Ve,[Ve.buffer])};Be();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then(Ae=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const r=new LoopbackPort;this._port=r;const Se=`fake${PDFWorkerUtil.fakeWorkerId++}`,Ee=new _message_handler.MessageHandler(Se+"_worker",Se,r);Ae.setup(Ee,r);const Fe=new _message_handler.MessageHandler(Se,Se+"_worker",r);this._messageHandler=Fe,this._readyCapability.resolve(),Fe.send("configure",{verbosity:this.verbosity})}).catch(Ae=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${Ae.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),PDFWorker.#workerPorts?.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(Ae){if(!Ae?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");const r=this.#workerPorts?.get(Ae.port);if(r){if(r._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return r}return new PDFWorker(Ae)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=PDFWorker;class WorkerTransport{#e=new Map;#t=new Map;#n=new Map;#i=null;constructor(r,Se,Ee,Fe,Be){this.messageHandler=r,this.loadingTask=Se,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:Fe.ownerDocument,styleElement:Fe.styleElement}),this._params=Fe,this.canvasFactory=Be.canvasFactory,this.filterFactory=Be.filterFactory,this.cMapReaderFactory=Be.cMapReaderFactory,this.standardFontDataFactory=Be.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=Ee,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}#o(r,Se=null){const Ee=this.#e.get(r);if(Ee)return Ee;const Fe=this.messageHandler.sendWithPromise(r,Se);return this.#e.set(r,Fe),Fe}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(r,Se=_util.AnnotationMode.ENABLE,Ee=null,Fe=!1){let Be=_util.RenderingIntentFlag.DISPLAY,Ve=_annotation_storage.SerializableEmpty;switch(r){case"any":Be=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":Be=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${r}`)}switch(Se){case _util.AnnotationMode.DISABLE:Be+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:Be+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:Be+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,Ve=(Be&_util.RenderingIntentFlag.PRINT&&Ee instanceof _annotation_storage.PrintAnnotationStorage?Ee:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${Se}`)}return Fe&&(Be+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:Be,cacheKey:`${Be}_${Ve.hash}`,annotationStorageSerializable:Ve}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,this.#i?.reject(new Error("Worker was destroyed during onPassword callback"));const r=[];for(const Ee of this.#t.values())r.push(Ee._destroy());this.#t.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const Se=this.messageHandler.sendWithPromise("Terminate",null);return r.push(Se),Promise.all(r).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),this._networkStream?.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:r,loadingTask:Se}=this;r.on("GetReader",(Ee,Fe)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=Be=>{this._lastProgress={loaded:Be.loaded,total:Be.total}},Fe.onPull=()=>{this._fullReader.read().then(function({value:Be,done:Ve}){if(Ve){Fe.close();return}(0,_util.assert)(Be instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),Fe.enqueue(new Uint8Array(Be),1,[Be])}).catch(Be=>{Fe.error(Be)})},Fe.onCancel=Be=>{this._fullReader.cancel(Be),Fe.ready.catch(Ve=>{if(!this.destroyed)throw Ve})}}),r.on("ReaderHeadersReady",Ee=>{const Fe=new _util.PromiseCapability,Be=this._fullReader;return Be.headersReady.then(()=>{(!Be.isStreamingSupported||!Be.isRangeSupported)&&(this._lastProgress&&Se.onProgress?.(this._lastProgress),Be.onProgress=Ve=>{Se.onProgress?.({loaded:Ve.loaded,total:Ve.total})}),Fe.resolve({isStreamingSupported:Be.isStreamingSupported,isRangeSupported:Be.isRangeSupported,contentLength:Be.contentLength})},Fe.reject),Fe.promise}),r.on("GetRangeReader",(Ee,Fe)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const Be=this._networkStream.getRangeReader(Ee.begin,Ee.end);if(!Be){Fe.close();return}Fe.onPull=()=>{Be.read().then(function({value:Ve,done:_e}){if(_e){Fe.close();return}(0,_util.assert)(Ve instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),Fe.enqueue(new Uint8Array(Ve),1,[Ve])}).catch(Ve=>{Fe.error(Ve)})},Fe.onCancel=Ve=>{Be.cancel(Ve),Fe.ready.catch(_e=>{if(!this.destroyed)throw _e})}}),r.on("GetDoc",({pdfInfo:Ee})=>{this._numPages=Ee.numPages,this._htmlForXfa=Ee.htmlForXfa,delete Ee.htmlForXfa,Se._capability.resolve(new PDFDocumentProxy(Ee,this))}),r.on("DocException",function(Ee){let Fe;switch(Ee.name){case"PasswordException":Fe=new _util.PasswordException(Ee.message,Ee.code);break;case"InvalidPDFException":Fe=new _util.InvalidPDFException(Ee.message);break;case"MissingPDFException":Fe=new _util.MissingPDFException(Ee.message);break;case"UnexpectedResponseException":Fe=new _util.UnexpectedResponseException(Ee.message,Ee.status);break;case"UnknownErrorException":Fe=new _util.UnknownErrorException(Ee.message,Ee.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}Se._capability.reject(Fe)}),r.on("PasswordRequest",Ee=>{if(this.#i=new _util.PromiseCapability,Se.onPassword){const Fe=Be=>{Be instanceof Error?this.#i.reject(Be):this.#i.resolve({password:Be})};try{Se.onPassword(Fe,Ee.code)}catch(Be){this.#i.reject(Be)}}else this.#i.reject(new _util.PasswordException(Ee.message,Ee.code));return this.#i.promise}),r.on("DataLoaded",Ee=>{Se.onProgress?.({loaded:Ee.length,total:Ee.length}),this.downloadInfoCapability.resolve(Ee)}),r.on("StartRenderPage",Ee=>{if(this.destroyed)return;this.#t.get(Ee.pageIndex)._startRenderPage(Ee.transparency,Ee.cacheKey)}),r.on("commonobj",([Ee,Fe,Be])=>{if(!this.destroyed&&!this.commonObjs.has(Ee))switch(Fe){case"Font":const Ve=this._params;if("error"in Be){const xe=Be.error;(0,_util.warn)(`Error during font loading: ${xe}`),this.commonObjs.resolve(Ee,xe);break}const _e=Ve.pdfBug&&globalThis.FontInspector?.enabled?(xe,Ie)=>globalThis.FontInspector.fontAdded(xe,Ie):null,ze=new _font_loader.FontFaceObject(Be,{isEvalSupported:Ve.isEvalSupported,disableFontFace:Ve.disableFontFace,ignoreErrors:Ve.ignoreErrors,inspectFont:_e});this.fontLoader.bind(ze).catch(xe=>r.sendWithPromise("FontFallback",{id:Ee})).finally(()=>{!Ve.fontExtraProperties&&ze.data&&(ze.data=null),this.commonObjs.resolve(Ee,ze)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(Ee,Be);break;default:throw new Error(`Got unknown common object type ${Fe}`)}}),r.on("obj",([Ee,Fe,Be,Ve])=>{if(this.destroyed)return;const _e=this.#t.get(Fe);if(!_e.objs.has(Ee))switch(Be){case"Image":if(_e.objs.resolve(Ee,Ve),Ve){let ze;if(Ve.bitmap){const{width:xe,height:Ie}=Ve;ze=xe*Ie*4}else ze=Ve.data?.length||0;ze>_util.MAX_IMAGE_SIZE_TO_CACHE&&(_e._maybeCleanupAfterRender=!0)}break;case"Pattern":_e.objs.resolve(Ee,Ve);break;default:throw new Error(`Got unknown object type ${Be}`)}}),r.on("DocProgress",Ee=>{this.destroyed||Se.onProgress?.({loaded:Ee.loaded,total:Ee.total})}),r.on("FetchBuiltInCMap",Ee=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(Ee):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),r.on("FetchStandardFontData",Ee=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(Ee):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:r,transfers:Se}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:r,filename:this._fullReader?.filename??null},Se).finally(()=>{this.annotationStorage.resetModified()})}getPage(r){if(!Number.isInteger(r)||r<=0||r>this._numPages)return Promise.reject(new Error("Invalid page request."));const Se=r-1,Ee=this.#n.get(Se);if(Ee)return Ee;const Fe=this.messageHandler.sendWithPromise("GetPage",{pageIndex:Se}).then(Be=>{if(this.destroyed)throw new Error("Transport destroyed");const Ve=new PDFPageProxy(Se,Be,this,this._params.pdfBug);return this.#t.set(Se,Ve),Ve});return this.#n.set(Se,Fe),Fe}getPageIndex(r){return typeof r!="object"||r===null||!Number.isInteger(r.num)||r.num<0||!Number.isInteger(r.gen)||r.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:r.num,gen:r.gen})}getAnnotations(r,Se){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:r,intent:Se})}getFieldObjects(){return this.#o("GetFieldObjects")}hasJSActions(){return this.#o("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(r){return typeof r!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:r})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#o("GetDocJSActions")}getPageJSActions(r){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:r})}getStructTree(r){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:r})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(r=>new _optional_content_config.OptionalContentConfig(r))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const r="GetMetadata",Se=this.#e.get(r);if(Se)return Se;const Ee=this.messageHandler.sendWithPromise(r,null).then(Fe=>({info:Fe[0],metadata:Fe[1]?new _metadata.Metadata(Fe[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#e.set(r,Ee),Ee}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(r=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const Se of this.#t.values())if(!Se.cleanup())throw new Error(`startCleanup: Page ${Se.pageNumber} is currently rendering.`);this.commonObjs.clear(),r||this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:r,enableXfa:Se}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:r,enableXfa:Se})}}class PDFObjects{#e=Object.create(null);#t(r){return this.#e[r]||={capability:new _util.PromiseCapability,data:null}}get(r,Se=null){if(Se){const Fe=this.#t(r);return Fe.capability.promise.then(()=>Se(Fe.data)),null}const Ee=this.#e[r];if(!Ee?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${r}.`);return Ee.data}has(r){return this.#e[r]?.capability.settled||!1}resolve(r,Se=null){const Ee=this.#t(r);Ee.data=Se,Ee.capability.resolve()}clear(){for(const r in this.#e){const{data:Se}=this.#e[r];Se?.bitmap?.close()}this.#e=Object.create(null)}}class RenderTask{#e=null;constructor(r){this.#e=r,this.onContinue=null}get promise(){return this.#e.capability.promise}cancel(r=0){this.#e.cancel(null,r)}get separateAnnots(){const{separateAnnots:r}=this.#e.operatorList;if(!r)return!1;const{annotationCanvasMap:Se}=this.#e;return r.form||r.canvas&&Se?.size>0}}exports.RenderTask=RenderTask;class InternalRenderTask{static#e=new WeakSet;constructor({callback:r,params:Se,objs:Ee,commonObjs:Fe,annotationCanvasMap:Be,operatorList:Ve,pageIndex:_e,canvasFactory:ze,filterFactory:xe,useRequestAnimationFrame:Ie=!1,pdfBug:Re=!1,pageColors:e=null}){this.callback=r,this.params=Se,this.objs=Ee,this.commonObjs=Fe,this.annotationCanvasMap=Be,this.operatorListIdx=null,this.operatorList=Ve,this._pageIndex=_e,this.canvasFactory=ze,this.filterFactory=xe,this._pdfBug=Re,this.pageColors=e,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=Ie===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=Se.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:r=!1,optionalContentConfig:Se}){if(this.cancelled)return;if(this._canvas){if(InternalRenderTask.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");InternalRenderTask.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:Ee,viewport:Fe,transform:Be,background:Ve}=this.params;this.gfx=new _canvas.CanvasGraphics(Ee,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:Se},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:Be,viewport:Fe,transparency:r,background:Ve}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(r=null,Se=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),InternalRenderTask.#e.delete(this._canvas),this.callback(r||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,Se))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),InternalRenderTask.#e.delete(this._canvas),this.callback())))}}const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(Ae,r,Se)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.SerializableEmpty=r.PrintAnnotationStorage=r.AnnotationStorage=void 0;var Ee=Se(1),Fe=Se(4),Be=Se(8);const Ve=Object.freeze({map:null,hash:"",transfers:void 0});r.SerializableEmpty=Ve;class _e{#e=!1;#t=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(Ie,Re){const e=this.#t.get(Ie);return e===void 0?Re:Object.assign(Re,e)}getRawValue(Ie){return this.#t.get(Ie)}remove(Ie){if(this.#t.delete(Ie),this.#t.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const Re of this.#t.values())if(Re instanceof Fe.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(Ie,Re){const e=this.#t.get(Ie);let t=!1;if(e!==void 0)for(const[Te,Ye]of Object.entries(Re))e[Te]!==Ye&&(t=!0,e[Te]=Ye);else t=!0,this.#t.set(Ie,Re);t&&this.#n(),Re instanceof Fe.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(Re.constructor._type)}has(Ie){return this.#t.has(Ie)}getAll(){return this.#t.size>0?(0,Ee.objectFromMap)(this.#t):null}setAll(Ie){for(const[Re,e]of Object.entries(Ie))this.setValue(Re,e)}get size(){return this.#t.size}#n(){this.#e||(this.#e=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new ze(this)}get serializable(){if(this.#t.size===0)return Ve;const Ie=new Map,Re=new Be.MurmurHash3_64,e=[],t=Object.create(null);let Te=!1;for(const[Ye,en]of this.#t){const je=en instanceof Fe.AnnotationEditor?en.serialize(!1,t):en;je&&(Ie.set(Ye,je),Re.update(`${Ye}:${JSON.stringify(je)}`),Te||=!!je.bitmap)}if(Te)for(const Ye of Ie.values())Ye.bitmap&&e.push(Ye.bitmap);return Ie.size>0?{map:Ie,hash:Re.hexdigest(),transfers:e}:Ve}}r.AnnotationStorage=_e;class ze extends _e{#e;constructor(Ie){super();const{map:Re,hash:e,transfers:t}=Ie.serializable,Te=structuredClone(Re,t?{transfer:t}:null);this.#e={map:Te,hash:e,transfers:t}}get print(){(0,Ee.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}}r.PrintAnnotationStorage=ze},(Ae,r,Se)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.AnnotationEditor=void 0;var Ee=Se(5),Fe=Se(1),Be=Se(6);class Ve{#e="";#t=!1;#n=null;#i=null;#o=null;#s=!1;#a=null;#l=this.focusin.bind(this);#c=this.focusout.bind(this);#r=!1;#p=!1;#h=!1;_initialOptions=Object.create(null);_uiManager=null;_focusEventsAllowed=!0;_l10nPromise=null;#d=!1;#f=Ve._zIndex++;static _borderLineWidth=-1;static _colorManager=new Ee.ColorManager;static _zIndex=1;static SMALL_EDITOR_SIZE=0;constructor(xe){this.constructor===Ve&&(0,Fe.unreachable)("Cannot initialize AnnotationEditor."),this.parent=xe.parent,this.id=xe.id,this.width=this.height=null,this.pageIndex=xe.parent.pageIndex,this.name=xe.name,this.div=null,this._uiManager=xe.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=xe.isCentered,this._structTreeParentId=null;const{rotation:Ie,rawDims:{pageWidth:Re,pageHeight:e,pageX:t,pageY:Te}}=this.parent.viewport;this.rotation=Ie,this.pageRotation=(360+Ie-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[Re,e],this.pageTranslation=[t,Te];const[Ye,en]=this.parentDimensions;this.x=xe.x/Ye,this.y=xe.y/en,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,Fe.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(xe){const Ie=new _e({id:xe.parent.getNextId(),parent:xe.parent,uiManager:xe._uiManager});Ie.annotationElementId=xe.annotationElementId,Ie.deleted=!0,Ie._uiManager.addToAnnotationStorage(Ie)}static initialize(xe,Ie=null){if(Ve._l10nPromise||=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(e=>[e,xe.get(e)])),Ie?.strings)for(const e of Ie.strings)Ve._l10nPromise.set(e,xe.get(e));if(Ve._borderLineWidth!==-1)return;const Re=getComputedStyle(document.documentElement);Ve._borderLineWidth=parseFloat(Re.getPropertyValue("--outline-width"))||0}static updateDefaultParams(xe,Ie){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(xe){return!1}static paste(xe,Ie){(0,Fe.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#d}set _isDraggable(xe){this.#d=xe,this.div?.classList.toggle("draggable",xe)}center(){const[xe,Ie]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*Ie/(xe*2),this.y+=this.width*xe/(Ie*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*Ie/(xe*2),this.y-=this.width*xe/(Ie*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(xe){this._uiManager.addCommands(xe)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#f}setParent(xe){xe!==null&&(this.pageIndex=xe.pageIndex,this.pageDimensions=xe.pageDimensions),this.parent=xe}focusin(xe){this._focusEventsAllowed&&(this.#r?this.#r=!1:this.parent.setSelected(this))}focusout(xe){!this._focusEventsAllowed||!this.isAttachedToDOM||xe.relatedTarget?.closest(`#${this.id}`)||(xe.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(xe,Ie,Re,e){const[t,Te]=this.parentDimensions;[Re,e]=this.screenToPageTranslation(Re,e),this.x=(xe+Re)/t,this.y=(Ie+e)/Te,this.fixAndSetPosition()}#x([xe,Ie],Re,e){[Re,e]=this.screenToPageTranslation(Re,e),this.x+=Re/xe,this.y+=e/Ie,this.fixAndSetPosition()}translate(xe,Ie){this.#x(this.parentDimensions,xe,Ie)}translateInPage(xe,Ie){this.#x(this.pageDimensions,xe,Ie),this.div.scrollIntoView({block:"nearest"})}drag(xe,Ie){const[Re,e]=this.parentDimensions;if(this.x+=xe/Re,this.y+=Ie/e,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:je,y:nn}=this.div.getBoundingClientRect();this.parent.findNewParent(this,je,nn)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:t,y:Te}=this;const[Ye,en]=this.#m();t+=Ye,Te+=en,this.div.style.left=`${(100*t).toFixed(2)}%`,this.div.style.top=`${(100*Te).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}#m(){const[xe,Ie]=this.parentDimensions,{_borderLineWidth:Re}=Ve,e=Re/xe,t=Re/Ie;switch(this.rotation){case 90:return[-e,t];case 180:return[e,t];case 270:return[e,-t];default:return[-e,-t]}}fixAndSetPosition(){const[xe,Ie]=this.pageDimensions;let{x:Re,y:e,width:t,height:Te}=this;switch(t*=xe,Te*=Ie,Re*=xe,e*=Ie,this.rotation){case 0:Re=Math.max(0,Math.min(xe-t,Re)),e=Math.max(0,Math.min(Ie-Te,e));break;case 90:Re=Math.max(0,Math.min(xe-Te,Re)),e=Math.min(Ie,Math.max(t,e));break;case 180:Re=Math.min(xe,Math.max(t,Re)),e=Math.min(Ie,Math.max(Te,e));break;case 270:Re=Math.min(xe,Math.max(Te,Re)),e=Math.max(0,Math.min(Ie-t,e));break}this.x=Re/=xe,this.y=e/=Ie;const[Ye,en]=this.#m();Re+=Ye,e+=en;const{style:je}=this.div;je.left=`${(100*Re).toFixed(2)}%`,je.top=`${(100*e).toFixed(2)}%`,this.moveInDOM()}static#g(xe,Ie,Re){switch(Re){case 90:return[Ie,-xe];case 180:return[-xe,-Ie];case 270:return[-Ie,xe];default:return[xe,Ie]}}screenToPageTranslation(xe,Ie){return Ve.#g(xe,Ie,this.parentRotation)}pageTranslationToScreen(xe,Ie){return Ve.#g(xe,Ie,360-this.parentRotation)}#u(xe){switch(xe){case 90:{const[Ie,Re]=this.pageDimensions;return[0,-Ie/Re,Re/Ie,0]}case 180:return[-1,0,0,-1];case 270:{const[Ie,Re]=this.pageDimensions;return[0,Ie/Re,-Re/Ie,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:xe,pageDimensions:[Ie,Re]}=this,e=Ie*xe,t=Re*xe;return Fe.FeatureTest.isCSSRoundSupported?[Math.round(e),Math.round(t)]:[e,t]}setDims(xe,Ie){const[Re,e]=this.parentDimensions;this.div.style.width=`${(100*xe/Re).toFixed(2)}%`,this.#s||(this.div.style.height=`${(100*Ie/e).toFixed(2)}%`),this.#n?.classList.toggle("small",xe<Ve.SMALL_EDITOR_SIZE||Ie<Ve.SMALL_EDITOR_SIZE)}fixDims(){const{style:xe}=this.div,{height:Ie,width:Re}=xe,e=Re.endsWith("%"),t=!this.#s&&Ie.endsWith("%");if(e&&t)return;const[Te,Ye]=this.parentDimensions;e||(xe.width=`${(100*parseFloat(Re)/Te).toFixed(2)}%`),!this.#s&&!t&&(xe.height=`${(100*parseFloat(Ie)/Ye).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#b(){if(this.#a)return;this.#a=document.createElement("div"),this.#a.classList.add("resizers");const xe=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||xe.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const Ie of xe){const Re=document.createElement("div");this.#a.append(Re),Re.classList.add("resizer",Ie),Re.addEventListener("pointerdown",this.#A.bind(this,Ie)),Re.addEventListener("contextmenu",Be.noContextMenu)}this.div.prepend(this.#a)}#A(xe,Ie){Ie.preventDefault();const{isMac:Re}=Fe.FeatureTest.platform;if(Ie.button!==0||Ie.ctrlKey&&Re)return;const e=this.#S.bind(this,xe),t=this._isDraggable;this._isDraggable=!1;const Te={passive:!0,capture:!0};window.addEventListener("pointermove",e,Te);const Ye=this.x,en=this.y,je=this.width,nn=this.height,Ge=this.parent.div.style.cursor,Oe=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(Ie.target).cursor;const Ce=()=>{this._isDraggable=t,window.removeEventListener("pointerup",Ce),window.removeEventListener("blur",Ce),window.removeEventListener("pointermove",e,Te),this.parent.div.style.cursor=Ge,this.div.style.cursor=Oe;const St=this.x,rn=this.y,un=this.width,Qe=this.height;St===Ye&&rn===en&&un===je&&Qe===nn||this.addCommands({cmd:()=>{this.width=un,this.height=Qe,this.x=St,this.y=rn;const[hn,He]=this.parentDimensions;this.setDims(hn*un,He*Qe),this.fixAndSetPosition()},undo:()=>{this.width=je,this.height=nn,this.x=Ye,this.y=en;const[hn,He]=this.parentDimensions;this.setDims(hn*je,He*nn),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",Ce),window.addEventListener("blur",Ce)}#S(xe,Ie){const[Re,e]=this.parentDimensions,t=this.x,Te=this.y,Ye=this.width,en=this.height,je=Ve.MIN_SIZE/Re,nn=Ve.MIN_SIZE/e,Ge=an=>Math.round(an*1e4)/1e4,Oe=this.#u(this.rotation),Ce=(an,Ke)=>[Oe[0]*an+Oe[2]*Ke,Oe[1]*an+Oe[3]*Ke],St=this.#u(360-this.rotation),rn=(an,Ke)=>[St[0]*an+St[2]*Ke,St[1]*an+St[3]*Ke];let un,Qe,hn=!1,He=!1;switch(xe){case"topLeft":hn=!0,un=(an,Ke)=>[0,0],Qe=(an,Ke)=>[an,Ke];break;case"topMiddle":un=(an,Ke)=>[an/2,0],Qe=(an,Ke)=>[an/2,Ke];break;case"topRight":hn=!0,un=(an,Ke)=>[an,0],Qe=(an,Ke)=>[0,Ke];break;case"middleRight":He=!0,un=(an,Ke)=>[an,Ke/2],Qe=(an,Ke)=>[0,Ke/2];break;case"bottomRight":hn=!0,un=(an,Ke)=>[an,Ke],Qe=(an,Ke)=>[0,0];break;case"bottomMiddle":un=(an,Ke)=>[an/2,Ke],Qe=(an,Ke)=>[an/2,0];break;case"bottomLeft":hn=!0,un=(an,Ke)=>[0,Ke],Qe=(an,Ke)=>[an,0];break;case"middleLeft":He=!0,un=(an,Ke)=>[0,Ke/2],Qe=(an,Ke)=>[an,Ke/2];break}const pn=un(Ye,en),Xe=Qe(Ye,en);let fn=Ce(...Xe);const dn=Ge(t+fn[0]),qe=Ge(Te+fn[1]);let tn=1,Me=1,[De,Ue]=this.screenToPageTranslation(Ie.movementX,Ie.movementY);if([De,Ue]=rn(De/Re,Ue/e),hn){const an=Math.hypot(Ye,en);tn=Me=Math.max(Math.min(Math.hypot(Xe[0]-pn[0]-De,Xe[1]-pn[1]-Ue)/an,1/Ye,1/en),je/Ye,nn/en)}else He?tn=Math.max(je,Math.min(1,Math.abs(Xe[0]-pn[0]-De)))/Ye:Me=Math.max(nn,Math.min(1,Math.abs(Xe[1]-pn[1]-Ue)))/en;const We=Ge(Ye*tn),$e=Ge(en*Me);fn=Ce(...Qe(We,$e));const on=dn-fn[0],Je=qe-fn[1];this.width=We,this.height=$e,this.x=on,this.y=Je,this.setDims(Re*We,e*$e),this.fixAndSetPosition()}async addAltTextButton(){if(this.#n)return;const xe=this.#n=document.createElement("button");xe.className="altText";const Ie=await Ve._l10nPromise.get("editor_alt_text_button_label");xe.textContent=Ie,xe.setAttribute("aria-label",Ie),xe.tabIndex="0",xe.addEventListener("contextmenu",Be.noContextMenu),xe.addEventListener("pointerdown",Re=>Re.stopPropagation()),xe.addEventListener("click",Re=>{Re.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),xe.addEventListener("keydown",Re=>{Re.target===xe&&Re.key==="Enter"&&(Re.preventDefault(),this._uiManager.editAltText(this))}),this.#E(),this.div.append(xe),Ve.SMALL_EDITOR_SIZE||(Ve.SMALL_EDITOR_SIZE=Math.min(128,Math.round(xe.getBoundingClientRect().width*1.4)))}async#E(){const xe=this.#n;if(!xe)return;if(!this.#e&&!this.#t){xe.classList.remove("done"),this.#i?.remove();return}Ve._l10nPromise.get("editor_alt_text_edit_button_label").then(Re=>{xe.setAttribute("aria-label",Re)});let Ie=this.#i;if(!Ie){this.#i=Ie=document.createElement("span"),Ie.className="tooltip",Ie.setAttribute("role","tooltip");const Re=Ie.id=`alt-text-tooltip-${this.id}`;xe.setAttribute("aria-describedby",Re);const e=100;xe.addEventListener("mouseenter",()=>{this.#o=setTimeout(()=>{this.#o=null,this.#i.classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},e)}),xe.addEventListener("mouseleave",()=>{clearTimeout(this.#o),this.#o=null,this.#i?.classList.remove("show")})}xe.classList.add("done"),Ie.innerText=this.#t?await Ve._l10nPromise.get("editor_alt_text_decorative_tooltip"):this.#e,Ie.parentNode||xe.append(Ie)}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:this.#e,decorative:this.#t}}set altTextData({altText:xe,decorative:Ie}){this.#e===xe&&this.#t===Ie||(this.#e=xe,this.#t=Ie,this.#E())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",this.#l),this.div.addEventListener("focusout",this.#c);const[xe,Ie]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*Ie/xe).toFixed(2)}%`,this.div.style.maxHeight=`${(100*xe/Ie).toFixed(2)}%`);const[Re,e]=this.getInitialTranslation();return this.translate(Re,e),(0,Ee.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(xe){const{isMac:Ie}=Fe.FeatureTest.platform;if(xe.button!==0||xe.ctrlKey&&Ie){xe.preventDefault();return}this.#r=!0,this.#I(xe)}#I(xe){if(!this._isDraggable)return;const Ie=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let Re,e;Ie&&(Re={passive:!0,capture:!0},e=Te=>{const[Ye,en]=this.screenToPageTranslation(Te.movementX,Te.movementY);this._uiManager.dragSelectedEditors(Ye,en)},window.addEventListener("pointermove",e,Re));const t=()=>{if(window.removeEventListener("pointerup",t),window.removeEventListener("blur",t),Ie&&window.removeEventListener("pointermove",e,Re),this.#r=!1,!this._uiManager.endDragSession()){const{isMac:Te}=Fe.FeatureTest.platform;xe.ctrlKey&&!Te||xe.shiftKey||xe.metaKey&&Te?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",t),window.addEventListener("blur",t)}moveInDOM(){this.parent?.moveEditorInDOM(this)}_setParentAndPosition(xe,Ie,Re){xe.changeParent(this),this.x=Ie,this.y=Re,this.fixAndSetPosition()}getRect(xe,Ie){const Re=this.parentScale,[e,t]=this.pageDimensions,[Te,Ye]=this.pageTranslation,en=xe/Re,je=Ie/Re,nn=this.x*e,Ge=this.y*t,Oe=this.width*e,Ce=this.height*t;switch(this.rotation){case 0:return[nn+en+Te,t-Ge-je-Ce+Ye,nn+en+Oe+Te,t-Ge-je+Ye];case 90:return[nn+je+Te,t-Ge+en+Ye,nn+je+Ce+Te,t-Ge+en+Oe+Ye];case 180:return[nn-en-Oe+Te,t-Ge+je+Ye,nn-en+Te,t-Ge+je+Ce+Ye];case 270:return[nn-je-Ce+Te,t-Ge-en-Oe+Ye,nn-je+Te,t-Ge-en+Ye];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(xe,Ie){const[Re,e,t,Te]=xe,Ye=t-Re,en=Te-e;switch(this.rotation){case 0:return[Re,Ie-Te,Ye,en];case 90:return[Re,Ie-e,en,Ye];case 180:return[t,Ie-e,Ye,en];case 270:return[t,Ie-Te,en,Ye];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#h=!0}disableEditMode(){this.#h=!1}isInEditMode(){return this.#h}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){this.div?.addEventListener("focusin",this.#l),this.div?.addEventListener("focusout",this.#c)}serialize(xe=!1,Ie=null){(0,Fe.unreachable)("An editor must be serializable")}static deserialize(xe,Ie,Re){const e=new this.prototype.constructor({parent:Ie,id:Ie.getNextId(),uiManager:Re});e.rotation=xe.rotation;const[t,Te]=e.pageDimensions,[Ye,en,je,nn]=e.getRectInCurrentCoords(xe.rect,Te);return e.x=Ye/t,e.y=en/Te,e.width=je/t,e.height=nn/Te,e}remove(){this.div.removeEventListener("focusin",this.#l),this.div.removeEventListener("focusout",this.#c),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#n?.remove(),this.#n=null,this.#i=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#b(),this.#a.classList.remove("hidden"))}select(){this.makeResizable(),this.div?.classList.add("selectedEditor")}unselect(){this.#a?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(xe,Ie){}disableEditing(){this.#n&&(this.#n.hidden=!0)}enableEditing(){this.#n&&(this.#n.hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return this.#p}set isEditing(xe){this.#p=xe,this.parent&&(xe?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(xe,Ie){this.#s=!0;const Re=xe/Ie,{style:e}=this.div;e.aspectRatio=Re,e.height="auto"}static get MIN_SIZE(){return 16}}r.AnnotationEditor=Ve;class _e extends Ve{constructor(xe){super(xe),this.annotationElementId=xe.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(Ae,r,Se)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.KeyboardManager=r.CommandManager=r.ColorManager=r.AnnotationEditorUIManager=void 0,r.bindEvents=Be,r.opacityToHex=Ve;var Ee=Se(1),Fe=Se(6);function Be(t,Te,Ye){for(const en of Ye)Te.addEventListener(en,t[en].bind(t))}function Ve(t){return Math.round(Math.min(255,Math.max(1,255*t))).toString(16).padStart(2,"0")}class _e{#e=0;getId(){return`${Ee.AnnotationEditorPrefix}${this.#e++}`}}class ze{#e=(0,Ee.getUuid)();#t=0;#n=null;static get _isSVGFittingCanvas(){const Te='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',en=new OffscreenCanvas(1,3).getContext("2d"),je=new Image;je.src=Te;const nn=je.decode().then(()=>(en.drawImage(je,0,0,1,1,0,0,1,3),new Uint32Array(en.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,Ee.shadow)(this,"_isSVGFittingCanvas",nn)}async#i(Te,Ye){this.#n||=new Map;let en=this.#n.get(Te);if(en===null)return null;if(en?.bitmap)return en.refCounter+=1,en;try{en||={bitmap:null,id:`image_${this.#e}_${this.#t++}`,refCounter:0,isSvg:!1};let je;if(typeof Ye=="string"){en.url=Ye;const nn=await fetch(Ye);if(!nn.ok)throw new Error(nn.statusText);je=await nn.blob()}else je=en.file=Ye;if(je.type==="image/svg+xml"){const nn=ze._isSVGFittingCanvas,Ge=new FileReader,Oe=new Image,Ce=new Promise((St,rn)=>{Oe.onload=()=>{en.bitmap=Oe,en.isSvg=!0,St()},Ge.onload=async()=>{const un=en.svgUrl=Ge.result;Oe.src=await nn?`${un}#svgView(preserveAspectRatio(none))`:un},Oe.onerror=Ge.onerror=rn});Ge.readAsDataURL(je),await Ce}else en.bitmap=await createImageBitmap(je);en.refCounter=1}catch(je){console.error(je),en=null}return this.#n.set(Te,en),en&&this.#n.set(en.id,en),en}async getFromFile(Te){const{lastModified:Ye,name:en,size:je,type:nn}=Te;return this.#i(`${Ye}_${en}_${je}_${nn}`,Te)}async getFromUrl(Te){return this.#i(Te,Te)}async getFromId(Te){this.#n||=new Map;const Ye=this.#n.get(Te);return Ye?Ye.bitmap?(Ye.refCounter+=1,Ye):Ye.file?this.getFromFile(Ye.file):this.getFromUrl(Ye.url):null}getSvgUrl(Te){const Ye=this.#n.get(Te);return Ye?.isSvg?Ye.svgUrl:null}deleteId(Te){this.#n||=new Map;const Ye=this.#n.get(Te);Ye&&(Ye.refCounter-=1,Ye.refCounter===0&&(Ye.bitmap=null))}isValidId(Te){return Te.startsWith(`image_${this.#e}_`)}}class xe{#e=[];#t=!1;#n;#i=-1;constructor(Te=128){this.#n=Te}add({cmd:Te,undo:Ye,mustExec:en,type:je=NaN,overwriteIfSameType:nn=!1,keepUndo:Ge=!1}){if(en&&Te(),this.#t)return;const Oe={cmd:Te,undo:Ye,type:je};if(this.#i===-1){this.#e.length>0&&(this.#e.length=0),this.#i=0,this.#e.push(Oe);return}if(nn&&this.#e[this.#i].type===je){Ge&&(Oe.undo=this.#e[this.#i].undo),this.#e[this.#i]=Oe;return}const Ce=this.#i+1;Ce===this.#n?this.#e.splice(0,1):(this.#i=Ce,Ce<this.#e.length&&this.#e.splice(Ce)),this.#e.push(Oe)}undo(){this.#i!==-1&&(this.#t=!0,this.#e[this.#i].undo(),this.#t=!1,this.#i-=1)}redo(){this.#i<this.#e.length-1&&(this.#i+=1,this.#t=!0,this.#e[this.#i].cmd(),this.#t=!1)}hasSomethingToUndo(){return this.#i!==-1}hasSomethingToRedo(){return this.#i<this.#e.length-1}destroy(){this.#e=null}}r.CommandManager=xe;class Ie{constructor(Te){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:Ye}=Ee.FeatureTest.platform;for(const[en,je,nn={}]of Te)for(const Ge of en){const Oe=Ge.startsWith("mac+");Ye&&Oe?(this.callbacks.set(Ge.slice(4),{callback:je,options:nn}),this.allKeys.add(Ge.split("+").at(-1))):!Ye&&!Oe&&(this.callbacks.set(Ge,{callback:je,options:nn}),this.allKeys.add(Ge.split("+").at(-1)))}}#e(Te){Te.altKey&&this.buffer.push("alt"),Te.ctrlKey&&this.buffer.push("ctrl"),Te.metaKey&&this.buffer.push("meta"),Te.shiftKey&&this.buffer.push("shift"),this.buffer.push(Te.key);const Ye=this.buffer.join("+");return this.buffer.length=0,Ye}exec(Te,Ye){if(!this.allKeys.has(Ye.key))return;const en=this.callbacks.get(this.#e(Ye));if(!en)return;const{callback:je,options:{bubbles:nn=!1,args:Ge=[],checker:Oe=null}}=en;Oe&&!Oe(Te,Ye)||(je.bind(Te,...Ge)(),nn||(Ye.stopPropagation(),Ye.preventDefault()))}}r.KeyboardManager=Ie;class Re{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const Te=new Map([["CanvasText",null],["Canvas",null]]);return(0,Fe.getColorValues)(Te),(0,Ee.shadow)(this,"_colors",Te)}convert(Te){const Ye=(0,Fe.getRGB)(Te);if(!window.matchMedia("(forced-colors: active)").matches)return Ye;for(const[en,je]of this._colors)if(je.every((nn,Ge)=>nn===Ye[Ge]))return Re._colorsMapping.get(en);return Ye}getHexCode(Te){const Ye=this._colors.get(Te);return Ye?Ee.Util.makeHexColor(...Ye):Te}}r.ColorManager=Re;class e{#e=null;#t=new Map;#n=new Map;#i=null;#o=null;#s=new xe;#a=0;#l=new Set;#c=null;#r=null;#p=new Set;#h=null;#d=new _e;#f=!1;#x=!1;#m=null;#g=Ee.AnnotationEditorType.NONE;#u=new Set;#b=null;#A=this.blur.bind(this);#S=this.focus.bind(this);#E=this.copy.bind(this);#I=this.cut.bind(this);#N=this.paste.bind(this);#L=this.keydown.bind(this);#M=this.onEditingAction.bind(this);#y=this.onPageChanging.bind(this);#O=this.onScaleChanging.bind(this);#T=this.onRotationChanging.bind(this);#P={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1};#w=[0,0];#_=null;#C=null;#D=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const Te=e.prototype,Ye=nn=>{const{activeElement:Ge}=document;return Ge&&nn.#C.contains(Ge)&&nn.hasSomethingToControl()},en=this.TRANSLATE_SMALL,je=this.TRANSLATE_BIG;return(0,Ee.shadow)(this,"_keyboardManager",new Ie([[["ctrl+a","mac+meta+a"],Te.selectAll],[["ctrl+z","mac+meta+z"],Te.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],Te.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],Te.delete],[["Escape","mac+Escape"],Te.unselectAll],[["ArrowLeft","mac+ArrowLeft"],Te.translateSelectedEditors,{args:[-en,0],checker:Ye}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],Te.translateSelectedEditors,{args:[-je,0],checker:Ye}],[["ArrowRight","mac+ArrowRight"],Te.translateSelectedEditors,{args:[en,0],checker:Ye}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],Te.translateSelectedEditors,{args:[je,0],checker:Ye}],[["ArrowUp","mac+ArrowUp"],Te.translateSelectedEditors,{args:[0,-en],checker:Ye}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],Te.translateSelectedEditors,{args:[0,-je],checker:Ye}],[["ArrowDown","mac+ArrowDown"],Te.translateSelectedEditors,{args:[0,en],checker:Ye}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],Te.translateSelectedEditors,{args:[0,je],checker:Ye}]]))}constructor(Te,Ye,en,je,nn,Ge){this.#C=Te,this.#D=Ye,this.#i=en,this._eventBus=je,this._eventBus._on("editingaction",this.#M),this._eventBus._on("pagechanging",this.#y),this._eventBus._on("scalechanging",this.#O),this._eventBus._on("rotationchanging",this.#T),this.#o=nn.annotationStorage,this.#h=nn.filterFactory,this.#b=Ge,this.viewParameters={realScale:Fe.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}destroy(){this.#F(),this.#j(),this._eventBus._off("editingaction",this.#M),this._eventBus._off("pagechanging",this.#y),this._eventBus._off("scalechanging",this.#O),this._eventBus._off("rotationchanging",this.#T);for(const Te of this.#n.values())Te.destroy();this.#n.clear(),this.#t.clear(),this.#p.clear(),this.#e=null,this.#u.clear(),this.#s.destroy(),this.#i.destroy()}get hcmFilter(){return(0,Ee.shadow)(this,"hcmFilter",this.#b?this.#h.addHCMFilter(this.#b.foreground,this.#b.background):"none")}get direction(){return(0,Ee.shadow)(this,"direction",getComputedStyle(this.#C).direction)}editAltText(Te){this.#i?.editAltText(this,Te)}onPageChanging({pageNumber:Te}){this.#a=Te-1}focusMainContainer(){this.#C.focus()}findParent(Te,Ye){for(const en of this.#n.values()){const{x:je,y:nn,width:Ge,height:Oe}=en.div.getBoundingClientRect();if(Te>=je&&Te<=je+Ge&&Ye>=nn&&Ye<=nn+Oe)return en}return null}disableUserSelect(Te=!1){this.#D.classList.toggle("noUserSelect",Te)}addShouldRescale(Te){this.#p.add(Te)}removeShouldRescale(Te){this.#p.delete(Te)}onScaleChanging({scale:Te}){this.commitOrRemove(),this.viewParameters.realScale=Te*Fe.PixelsPerInch.PDF_TO_CSS_UNITS;for(const Ye of this.#p)Ye.onScaleChanging()}onRotationChanging({pagesRotation:Te}){this.commitOrRemove(),this.viewParameters.rotation=Te}addToAnnotationStorage(Te){!Te.isEmpty()&&this.#o&&!this.#o.has(Te.id)&&this.#o.setValue(Te.id,Te)}#B(){window.addEventListener("focus",this.#S),window.addEventListener("blur",this.#A)}#j(){window.removeEventListener("focus",this.#S),window.removeEventListener("blur",this.#A)}blur(){if(!this.hasSelection)return;const{activeElement:Te}=document;for(const Ye of this.#u)if(Ye.div.contains(Te)){this.#m=[Ye,Te],Ye._focusEventsAllowed=!1;break}}focus(){if(!this.#m)return;const[Te,Ye]=this.#m;this.#m=null,Ye.addEventListener("focusin",()=>{Te._focusEventsAllowed=!0},{once:!0}),Ye.focus()}#U(){window.addEventListener("keydown",this.#L,{capture:!0})}#F(){window.removeEventListener("keydown",this.#L,{capture:!0})}#R(){document.addEventListener("copy",this.#E),document.addEventListener("cut",this.#I),document.addEventListener("paste",this.#N)}#k(){document.removeEventListener("copy",this.#E),document.removeEventListener("cut",this.#I),document.removeEventListener("paste",this.#N)}addEditListeners(){this.#U(),this.#R()}removeEditListeners(){this.#F(),this.#k()}copy(Te){if(Te.preventDefault(),this.#e?.commitOrRemove(),!this.hasSelection)return;const Ye=[];for(const en of this.#u){const je=en.serialize(!0);je&&Ye.push(je)}Ye.length!==0&&Te.clipboardData.setData("application/pdfjs",JSON.stringify(Ye))}cut(Te){this.copy(Te),this.delete()}paste(Te){Te.preventDefault();const{clipboardData:Ye}=Te;for(const nn of Ye.items)for(const Ge of this.#r)if(Ge.isHandlingMimeForPasting(nn.type)){Ge.paste(nn,this.currentLayer);return}let en=Ye.getData("application/pdfjs");if(!en)return;try{en=JSON.parse(en)}catch(nn){(0,Ee.warn)(`paste: "${nn.message}".`);return}if(!Array.isArray(en))return;this.unselectAll();const je=this.currentLayer;try{const nn=[];for(const Ce of en){const St=je.deserialize(Ce);if(!St)return;nn.push(St)}const Ge=()=>{for(const Ce of nn)this.#z(Ce);this.#q(nn)},Oe=()=>{for(const Ce of nn)Ce.remove()};this.addCommands({cmd:Ge,undo:Oe,mustExec:!0})}catch(nn){(0,Ee.warn)(`paste: "${nn.message}".`)}}keydown(Te){this.getActive()?.shouldGetKeyboardEvents()||e._keyboardManager.exec(this,Te)}onEditingAction(Te){["undo","redo","delete","selectAll"].includes(Te.name)&&this[Te.name]()}#v(Te){Object.entries(Te).some(([en,je])=>this.#P[en]!==je)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#P,Te)})}#$(Te){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:Te})}setEditingState(Te){Te?(this.#B(),this.#U(),this.#R(),this.#v({isEditing:this.#g!==Ee.AnnotationEditorType.NONE,isEmpty:this.#H(),hasSomethingToUndo:this.#s.hasSomethingToUndo(),hasSomethingToRedo:this.#s.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#j(),this.#F(),this.#k(),this.#v({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(Te){if(!this.#r){this.#r=Te;for(const Ye of this.#r)this.#$(Ye.defaultPropertiesToUpdate)}}getId(){return this.#d.getId()}get currentLayer(){return this.#n.get(this.#a)}getLayer(Te){return this.#n.get(Te)}get currentPageIndex(){return this.#a}addLayer(Te){this.#n.set(Te.pageIndex,Te),this.#f?Te.enable():Te.disable()}removeLayer(Te){this.#n.delete(Te.pageIndex)}updateMode(Te,Ye=null){if(this.#g!==Te){if(this.#g=Te,Te===Ee.AnnotationEditorType.NONE){this.setEditingState(!1),this.#X();return}this.setEditingState(!0),this.#W(),this.unselectAll();for(const en of this.#n.values())en.updateMode(Te);if(Ye){for(const en of this.#t.values())if(en.annotationElementId===Ye){this.setSelected(en),en.enterInEditMode();break}}}}updateToolbar(Te){Te!==this.#g&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:Te})}updateParams(Te,Ye){if(this.#r){if(Te===Ee.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(Te);return}for(const en of this.#u)en.updateParams(Te,Ye);for(const en of this.#r)en.updateDefaultParams(Te,Ye)}}enableWaiting(Te=!1){if(this.#x!==Te){this.#x=Te;for(const Ye of this.#n.values())Te?Ye.disableClick():Ye.enableClick(),Ye.div.classList.toggle("waiting",Te)}}#W(){if(!this.#f){this.#f=!0;for(const Te of this.#n.values())Te.enable()}}#X(){if(this.unselectAll(),this.#f){this.#f=!1;for(const Te of this.#n.values())Te.disable()}}getEditors(Te){const Ye=[];for(const en of this.#t.values())en.pageIndex===Te&&Ye.push(en);return Ye}getEditor(Te){return this.#t.get(Te)}addEditor(Te){this.#t.set(Te.id,Te)}removeEditor(Te){this.#t.delete(Te.id),this.unselect(Te),(!Te.annotationElementId||!this.#l.has(Te.annotationElementId))&&this.#o?.remove(Te.id)}addDeletedAnnotationElement(Te){this.#l.add(Te.annotationElementId),Te.deleted=!0}isDeletedAnnotationElement(Te){return this.#l.has(Te)}removeDeletedAnnotationElement(Te){this.#l.delete(Te.annotationElementId),Te.deleted=!1}#z(Te){const Ye=this.#n.get(Te.pageIndex);Ye?Ye.addOrRebuild(Te):this.addEditor(Te)}setActiveEditor(Te){this.#e!==Te&&(this.#e=Te,Te&&this.#$(Te.propertiesToUpdate))}toggleSelected(Te){if(this.#u.has(Te)){this.#u.delete(Te),Te.unselect(),this.#v({hasSelectedEditor:this.hasSelection});return}this.#u.add(Te),Te.select(),this.#$(Te.propertiesToUpdate),this.#v({hasSelectedEditor:!0})}setSelected(Te){for(const Ye of this.#u)Ye!==Te&&Ye.unselect();this.#u.clear(),this.#u.add(Te),Te.select(),this.#$(Te.propertiesToUpdate),this.#v({hasSelectedEditor:!0})}isSelected(Te){return this.#u.has(Te)}unselect(Te){Te.unselect(),this.#u.delete(Te),this.#v({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#u.size!==0}undo(){this.#s.undo(),this.#v({hasSomethingToUndo:this.#s.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#H()})}redo(){this.#s.redo(),this.#v({hasSomethingToUndo:!0,hasSomethingToRedo:this.#s.hasSomethingToRedo(),isEmpty:this.#H()})}addCommands(Te){this.#s.add(Te),this.#v({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#H()})}#H(){if(this.#t.size===0)return!0;if(this.#t.size===1)for(const Te of this.#t.values())return Te.isEmpty();return!1}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const Te=[...this.#u],Ye=()=>{for(const je of Te)je.remove()},en=()=>{for(const je of Te)this.#z(je)};this.addCommands({cmd:Ye,undo:en,mustExec:!0})}commitOrRemove(){this.#e?.commitOrRemove()}hasSomethingToControl(){return this.#e||this.hasSelection}#q(Te){this.#u.clear();for(const Ye of Te)Ye.isEmpty()||(this.#u.add(Ye),Ye.select());this.#v({hasSelectedEditor:!0})}selectAll(){for(const Te of this.#u)Te.commit();this.#q(this.#t.values())}unselectAll(){if(this.#e){this.#e.commitOrRemove();return}if(this.hasSelection){for(const Te of this.#u)Te.unselect();this.#u.clear(),this.#v({hasSelectedEditor:!1})}}translateSelectedEditors(Te,Ye,en=!1){if(en||this.commitOrRemove(),!this.hasSelection)return;this.#w[0]+=Te,this.#w[1]+=Ye;const[je,nn]=this.#w,Ge=[...this.#u],Oe=1e3;this.#_&&clearTimeout(this.#_),this.#_=setTimeout(()=>{this.#_=null,this.#w[0]=this.#w[1]=0,this.addCommands({cmd:()=>{for(const Ce of Ge)this.#t.has(Ce.id)&&Ce.translateInPage(je,nn)},undo:()=>{for(const Ce of Ge)this.#t.has(Ce.id)&&Ce.translateInPage(-je,-nn)},mustExec:!1})},Oe);for(const Ce of Ge)Ce.translateInPage(Te,Ye)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#c=new Map;for(const Te of this.#u)this.#c.set(Te,{savedX:Te.x,savedY:Te.y,savedPageIndex:Te.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#c)return!1;this.disableUserSelect(!1);const Te=this.#c;this.#c=null;let Ye=!1;for(const[{x:je,y:nn,pageIndex:Ge},Oe]of Te)Oe.newX=je,Oe.newY=nn,Oe.newPageIndex=Ge,Ye||=je!==Oe.savedX||nn!==Oe.savedY||Ge!==Oe.savedPageIndex;if(!Ye)return!1;const en=(je,nn,Ge,Oe)=>{if(this.#t.has(je.id)){const Ce=this.#n.get(Oe);Ce?je._setParentAndPosition(Ce,nn,Ge):(je.pageIndex=Oe,je.x=nn,je.y=Ge)}};return this.addCommands({cmd:()=>{for(const[je,{newX:nn,newY:Ge,newPageIndex:Oe}]of Te)en(je,nn,Ge,Oe)},undo:()=>{for(const[je,{savedX:nn,savedY:Ge,savedPageIndex:Oe}]of Te)en(je,nn,Ge,Oe)},mustExec:!0}),!0}dragSelectedEditors(Te,Ye){if(this.#c)for(const en of this.#c.keys())en.drag(Te,Ye)}rebuild(Te){if(Te.parent===null){const Ye=this.getLayer(Te.pageIndex);Ye?(Ye.changeParent(Te),Ye.addOrRebuild(Te)):(this.addEditor(Te),this.addToAnnotationStorage(Te),Te.rebuild())}else Te.parent.addOrRebuild(Te)}isActive(Te){return this.#e===Te}getActive(){return this.#e}getMode(){return this.#g}get imageManager(){return(0,Ee.shadow)(this,"imageManager",new ze)}}r.AnnotationEditorUIManager=e},(Ae,r,Se)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.StatTimer=r.RenderingCancelledException=r.PixelsPerInch=r.PageViewport=r.PDFDateString=r.DOMStandardFontDataFactory=r.DOMSVGFactory=r.DOMFilterFactory=r.DOMCanvasFactory=r.DOMCMapReaderFactory=void 0,r.deprecated=rn,r.getColorValues=pn,r.getCurrentTransform=Xe,r.getCurrentTransformInverse=fn,r.getFilenameFromUrl=je,r.getPdfFilenameFromUrl=nn,r.getRGB=He,r.getXfaPageViewport=hn,r.isDataScheme=Ye,r.isPdfFile=en,r.isValidFetchUrl=Oe,r.loadScript=St,r.noContextMenu=Ce,r.setLayerDimensions=dn;var Ee=Se(7),Fe=Se(1);const Be="http://www.w3.org/2000/svg";class Ve{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}r.PixelsPerInch=Ve;class _e extends Ee.BaseFilterFactory{#e;#t;#n;#i;#o;#s;#a;#l;#c;#r;#p=0;constructor({docId:tn,ownerDocument:Me=globalThis.document}={}){super(),this.#n=tn,this.#i=Me}get#h(){return this.#e||=new Map}get#d(){if(!this.#t){const tn=this.#i.createElement("div"),{style:Me}=tn;Me.visibility="hidden",Me.contain="strict",Me.width=Me.height=0,Me.position="absolute",Me.top=Me.left=0,Me.zIndex=-1;const De=this.#i.createElementNS(Be,"svg");De.setAttribute("width",0),De.setAttribute("height",0),this.#t=this.#i.createElementNS(Be,"defs"),tn.append(De),De.append(this.#t),this.#i.body.append(tn)}return this.#t}addFilter(tn){if(!tn)return"none";let Me=this.#h.get(tn);if(Me)return Me;let De,Ue,We,$e;if(tn.length===1){const Ke=tn[0],sn=new Array(256);for(let gn=0;gn<256;gn++)sn[gn]=Ke[gn]/255;$e=De=Ue=We=sn.join(",")}else{const[Ke,sn,gn]=tn,mn=new Array(256),yn=new Array(256),Sn=new Array(256);for(let _n=0;_n<256;_n++)mn[_n]=Ke[_n]/255,yn[_n]=sn[_n]/255,Sn[_n]=gn[_n]/255;De=mn.join(","),Ue=yn.join(","),We=Sn.join(","),$e=`${De}${Ue}${We}`}if(Me=this.#h.get($e),Me)return this.#h.set(tn,Me),Me;const on=`g_${this.#n}_transfer_map_${this.#p++}`,Je=`url(#${on})`;this.#h.set(tn,Je),this.#h.set($e,Je);const an=this.#x(on);return this.#g(De,Ue,We,an),Je}addHCMFilter(tn,Me){const De=`${tn}-${Me}`;if(this.#s===De)return this.#a;if(this.#s=De,this.#a="none",this.#o?.remove(),!tn||!Me)return this.#a;const Ue=this.#u(tn);tn=Fe.Util.makeHexColor(...Ue);const We=this.#u(Me);if(Me=Fe.Util.makeHexColor(...We),this.#d.style.color="",tn==="#000000"&&Me==="#ffffff"||tn===Me)return this.#a;const $e=new Array(256);for(let sn=0;sn<=255;sn++){const gn=sn/255;$e[sn]=gn<=.03928?gn/12.92:((gn+.055)/1.055)**2.4}const on=$e.join(","),Je=`g_${this.#n}_hcm_filter`,an=this.#l=this.#x(Je);this.#g(on,on,on,an),this.#f(an);const Ke=(sn,gn)=>{const mn=Ue[sn]/255,yn=We[sn]/255,Sn=new Array(gn+1);for(let _n=0;_n<=gn;_n++)Sn[_n]=mn+_n/gn*(yn-mn);return Sn.join(",")};return this.#g(Ke(0,5),Ke(1,5),Ke(2,5),an),this.#a=`url(#${Je})`,this.#a}addHighlightHCMFilter(tn,Me,De,Ue){const We=`${tn}-${Me}-${De}-${Ue}`;if(this.#c===We)return this.#r;if(this.#c=We,this.#r="none",this.#l?.remove(),!tn||!Me)return this.#r;const[$e,on]=[tn,Me].map(this.#u.bind(this));let Je=Math.round(.2126*$e[0]+.7152*$e[1]+.0722*$e[2]),an=Math.round(.2126*on[0]+.7152*on[1]+.0722*on[2]),[Ke,sn]=[De,Ue].map(this.#u.bind(this));an<Je&&([Je,an,Ke,sn]=[an,Je,sn,Ke]),this.#d.style.color="";const gn=(Sn,_n,wn)=>{const Nn=new Array(256),Tn=(an-Je)/wn,Cn=Sn/255,In=(_n-Sn)/(255*wn);let Rn=0;for(let bn=0;bn<=wn;bn++){const kn=Math.round(Je+bn*Tn),En=Cn+bn*In;for(let On=Rn;On<=kn;On++)Nn[On]=En;Rn=kn+1}for(let bn=Rn;bn<256;bn++)Nn[bn]=Nn[Rn-1];return Nn.join(",")},mn=`g_${this.#n}_hcm_highlight_filter`,yn=this.#l=this.#x(mn);return this.#f(yn),this.#g(gn(Ke[0],sn[0],5),gn(Ke[1],sn[1],5),gn(Ke[2],sn[2],5),yn),this.#r=`url(#${mn})`,this.#r}destroy(tn=!1){tn&&(this.#a||this.#r)||(this.#t&&(this.#t.parentNode.parentNode.remove(),this.#t=null),this.#e&&(this.#e.clear(),this.#e=null),this.#p=0)}#f(tn){const Me=this.#i.createElementNS(Be,"feColorMatrix");Me.setAttribute("type","matrix"),Me.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),tn.append(Me)}#x(tn){const Me=this.#i.createElementNS(Be,"filter");return Me.setAttribute("color-interpolation-filters","sRGB"),Me.setAttribute("id",tn),this.#d.append(Me),Me}#m(tn,Me,De){const Ue=this.#i.createElementNS(Be,Me);Ue.setAttribute("type","discrete"),Ue.setAttribute("tableValues",De),tn.append(Ue)}#g(tn,Me,De,Ue){const We=this.#i.createElementNS(Be,"feComponentTransfer");Ue.append(We),this.#m(We,"feFuncR",tn),this.#m(We,"feFuncG",Me),this.#m(We,"feFuncB",De)}#u(tn){return this.#d.style.color=tn,He(getComputedStyle(this.#d).getPropertyValue("color"))}}r.DOMFilterFactory=_e;class ze extends Ee.BaseCanvasFactory{constructor({ownerDocument:tn=globalThis.document}={}){super(),this._document=tn}_createCanvas(tn,Me){const De=this._document.createElement("canvas");return De.width=tn,De.height=Me,De}}r.DOMCanvasFactory=ze;async function xe(qe,tn=!1){if(Oe(qe,document.baseURI)){const Me=await fetch(qe);if(!Me.ok)throw new Error(Me.statusText);return tn?new Uint8Array(await Me.arrayBuffer()):(0,Fe.stringToBytes)(await Me.text())}return new Promise((Me,De)=>{const Ue=new XMLHttpRequest;Ue.open("GET",qe,!0),tn&&(Ue.responseType="arraybuffer"),Ue.onreadystatechange=()=>{if(Ue.readyState===XMLHttpRequest.DONE){if(Ue.status===200||Ue.status===0){let We;if(tn&&Ue.response?We=new Uint8Array(Ue.response):!tn&&Ue.responseText&&(We=(0,Fe.stringToBytes)(Ue.responseText)),We){Me(We);return}}De(new Error(Ue.statusText))}},Ue.send(null)})}class Ie extends Ee.BaseCMapReaderFactory{_fetchData(tn,Me){return xe(tn,this.isCompressed).then(De=>({cMapData:De,compressionType:Me}))}}r.DOMCMapReaderFactory=Ie;class Re extends Ee.BaseStandardFontDataFactory{_fetchData(tn){return xe(tn,!0)}}r.DOMStandardFontDataFactory=Re;class e extends Ee.BaseSVGFactory{_createSVG(tn){return document.createElementNS(Be,tn)}}r.DOMSVGFactory=e;class t{constructor({viewBox:tn,scale:Me,rotation:De,offsetX:Ue=0,offsetY:We=0,dontFlip:$e=!1}){this.viewBox=tn,this.scale=Me,this.rotation=De,this.offsetX=Ue,this.offsetY=We;const on=(tn[2]+tn[0])/2,Je=(tn[3]+tn[1])/2;let an,Ke,sn,gn;switch(De%=360,De<0&&(De+=360),De){case 180:an=-1,Ke=0,sn=0,gn=1;break;case 90:an=0,Ke=1,sn=1,gn=0;break;case 270:an=0,Ke=-1,sn=-1,gn=0;break;case 0:an=1,Ke=0,sn=0,gn=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}$e&&(sn=-sn,gn=-gn);let mn,yn,Sn,_n;an===0?(mn=Math.abs(Je-tn[1])*Me+Ue,yn=Math.abs(on-tn[0])*Me+We,Sn=(tn[3]-tn[1])*Me,_n=(tn[2]-tn[0])*Me):(mn=Math.abs(on-tn[0])*Me+Ue,yn=Math.abs(Je-tn[1])*Me+We,Sn=(tn[2]-tn[0])*Me,_n=(tn[3]-tn[1])*Me),this.transform=[an*Me,Ke*Me,sn*Me,gn*Me,mn-an*Me*on-sn*Me*Je,yn-Ke*Me*on-gn*Me*Je],this.width=Sn,this.height=_n}get rawDims(){const{viewBox:tn}=this;return(0,Fe.shadow)(this,"rawDims",{pageWidth:tn[2]-tn[0],pageHeight:tn[3]-tn[1],pageX:tn[0],pageY:tn[1]})}clone({scale:tn=this.scale,rotation:Me=this.rotation,offsetX:De=this.offsetX,offsetY:Ue=this.offsetY,dontFlip:We=!1}={}){return new t({viewBox:this.viewBox.slice(),scale:tn,rotation:Me,offsetX:De,offsetY:Ue,dontFlip:We})}convertToViewportPoint(tn,Me){return Fe.Util.applyTransform([tn,Me],this.transform)}convertToViewportRectangle(tn){const Me=Fe.Util.applyTransform([tn[0],tn[1]],this.transform),De=Fe.Util.applyTransform([tn[2],tn[3]],this.transform);return[Me[0],Me[1],De[0],De[1]]}convertToPdfPoint(tn,Me){return Fe.Util.applyInverseTransform([tn,Me],this.transform)}}r.PageViewport=t;class Te extends Fe.BaseException{constructor(tn,Me=0){super(tn,"RenderingCancelledException"),this.extraDelay=Me}}r.RenderingCancelledException=Te;function Ye(qe){const tn=qe.length;let Me=0;for(;Me<tn&&qe[Me].trim()==="";)Me++;return qe.substring(Me,Me+5).toLowerCase()==="data:"}function en(qe){return typeof qe=="string"&&/\.pdf$/i.test(qe)}function je(qe,tn=!1){return tn||([qe]=qe.split(/[#?]/,1)),qe.substring(qe.lastIndexOf("/")+1)}function nn(qe,tn="document.pdf"){if(typeof qe!="string")return tn;if(Ye(qe))return(0,Fe.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),tn;const Me=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,De=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,Ue=Me.exec(qe);let We=De.exec(Ue[1])||De.exec(Ue[2])||De.exec(Ue[3]);if(We&&(We=We[0],We.includes("%")))try{We=De.exec(decodeURIComponent(We))[0]}catch{}return We||tn}class Ge{started=Object.create(null);times=[];time(tn){tn in this.started&&(0,Fe.warn)(`Timer is already running for ${tn}`),this.started[tn]=Date.now()}timeEnd(tn){tn in this.started||(0,Fe.warn)(`Timer has not been started for ${tn}`),this.times.push({name:tn,start:this.started[tn],end:Date.now()}),delete this.started[tn]}toString(){const tn=[];let Me=0;for(const{name:De}of this.times)Me=Math.max(De.length,Me);for(const{name:De,start:Ue,end:We}of this.times)tn.push(`${De.padEnd(Me)} ${We-Ue}ms
`);return tn.join("")}}r.StatTimer=Ge;function Oe(qe,tn){try{const{protocol:Me}=tn?new URL(qe,tn):new URL(qe);return Me==="http:"||Me==="https:"}catch{return!1}}function Ce(qe){qe.preventDefault()}function St(qe,tn=!1){return new Promise((Me,De)=>{const Ue=document.createElement("script");Ue.src=qe,Ue.onload=function(We){tn&&Ue.remove(),Me(We)},Ue.onerror=function(){De(new Error(`Cannot load script at: ${Ue.src}`))},(document.head||document.documentElement).append(Ue)})}function rn(qe){console.log("Deprecated API usage: "+qe)}let un;class Qe{static toDateObject(tn){if(!tn||typeof tn!="string")return null;un||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const Me=un.exec(tn);if(!Me)return null;const De=parseInt(Me[1],10);let Ue=parseInt(Me[2],10);Ue=Ue>=1&&Ue<=12?Ue-1:0;let We=parseInt(Me[3],10);We=We>=1&&We<=31?We:1;let $e=parseInt(Me[4],10);$e=$e>=0&&$e<=23?$e:0;let on=parseInt(Me[5],10);on=on>=0&&on<=59?on:0;let Je=parseInt(Me[6],10);Je=Je>=0&&Je<=59?Je:0;const an=Me[7]||"Z";let Ke=parseInt(Me[8],10);Ke=Ke>=0&&Ke<=23?Ke:0;let sn=parseInt(Me[9],10)||0;return sn=sn>=0&&sn<=59?sn:0,an==="-"?($e+=Ke,on+=sn):an==="+"&&($e-=Ke,on-=sn),new Date(Date.UTC(De,Ue,We,$e,on,Je))}}r.PDFDateString=Qe;function hn(qe,{scale:tn=1,rotation:Me=0}){const{width:De,height:Ue}=qe.attributes.style,We=[0,0,parseInt(De),parseInt(Ue)];return new t({viewBox:We,scale:tn,rotation:Me})}function He(qe){if(qe.startsWith("#")){const tn=parseInt(qe.slice(1),16);return[(tn&16711680)>>16,(tn&65280)>>8,tn&255]}return qe.startsWith("rgb(")?qe.slice(4,-1).split(",").map(tn=>parseInt(tn)):qe.startsWith("rgba(")?qe.slice(5,-1).split(",").map(tn=>parseInt(tn)).slice(0,3):((0,Fe.warn)(`Not a valid color format: "${qe}"`),[0,0,0])}function pn(qe){const tn=document.createElement("span");tn.style.visibility="hidden",document.body.append(tn);for(const Me of qe.keys()){tn.style.color=Me;const De=window.getComputedStyle(tn).color;qe.set(Me,He(De))}tn.remove()}function Xe(qe){const{a:tn,b:Me,c:De,d:Ue,e:We,f:$e}=qe.getTransform();return[tn,Me,De,Ue,We,$e]}function fn(qe){const{a:tn,b:Me,c:De,d:Ue,e:We,f:$e}=qe.getTransform().invertSelf();return[tn,Me,De,Ue,We,$e]}function dn(qe,tn,Me=!1,De=!0){if(tn instanceof t){const{pageWidth:Ue,pageHeight:We}=tn.rawDims,{style:$e}=qe,on=Fe.FeatureTest.isCSSRoundSupported,Je=`var(--scale-factor) * ${Ue}px`,an=`var(--scale-factor) * ${We}px`,Ke=on?`round(${Je}, 1px)`:`calc(${Je})`,sn=on?`round(${an}, 1px)`:`calc(${an})`;!Me||tn.rotation%180===0?($e.width=Ke,$e.height=sn):($e.width=sn,$e.height=Ke)}De&&qe.setAttribute("data-main-rotation",tn.rotation)}},(Ae,r,Se)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.BaseStandardFontDataFactory=r.BaseSVGFactory=r.BaseFilterFactory=r.BaseCanvasFactory=r.BaseCMapReaderFactory=void 0;var Ee=Se(1);class Fe{constructor(){this.constructor===Fe&&(0,Ee.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(Ie){return"none"}addHCMFilter(Ie,Re){return"none"}addHighlightHCMFilter(Ie,Re,e,t){return"none"}destroy(Ie=!1){}}r.BaseFilterFactory=Fe;class Be{constructor(){this.constructor===Be&&(0,Ee.unreachable)("Cannot initialize BaseCanvasFactory.")}create(Ie,Re){if(Ie<=0||Re<=0)throw new Error("Invalid canvas size");const e=this._createCanvas(Ie,Re);return{canvas:e,context:e.getContext("2d")}}reset(Ie,Re,e){if(!Ie.canvas)throw new Error("Canvas is not specified");if(Re<=0||e<=0)throw new Error("Invalid canvas size");Ie.canvas.width=Re,Ie.canvas.height=e}destroy(Ie){if(!Ie.canvas)throw new Error("Canvas is not specified");Ie.canvas.width=0,Ie.canvas.height=0,Ie.canvas=null,Ie.context=null}_createCanvas(Ie,Re){(0,Ee.unreachable)("Abstract method `_createCanvas` called.")}}r.BaseCanvasFactory=Be;class Ve{constructor({baseUrl:Ie=null,isCompressed:Re=!0}){this.constructor===Ve&&(0,Ee.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=Ie,this.isCompressed=Re}async fetch({name:Ie}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!Ie)throw new Error("CMap name must be specified.");const Re=this.baseUrl+Ie+(this.isCompressed?".bcmap":""),e=this.isCompressed?Ee.CMapCompressionType.BINARY:Ee.CMapCompressionType.NONE;return this._fetchData(Re,e).catch(t=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${Re}`)})}_fetchData(Ie,Re){(0,Ee.unreachable)("Abstract method `_fetchData` called.")}}r.BaseCMapReaderFactory=Ve;class _e{constructor({baseUrl:Ie=null}){this.constructor===_e&&(0,Ee.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=Ie}async fetch({filename:Ie}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!Ie)throw new Error("Font filename must be specified.");const Re=`${this.baseUrl}${Ie}`;return this._fetchData(Re).catch(e=>{throw new Error(`Unable to load font data at: ${Re}`)})}_fetchData(Ie){(0,Ee.unreachable)("Abstract method `_fetchData` called.")}}r.BaseStandardFontDataFactory=_e;class ze{constructor(){this.constructor===ze&&(0,Ee.unreachable)("Cannot initialize BaseSVGFactory.")}create(Ie,Re,e=!1){if(Ie<=0||Re<=0)throw new Error("Invalid SVG dimensions");const t=this._createSVG("svg:svg");return t.setAttribute("version","1.1"),e||(t.setAttribute("width",`${Ie}px`),t.setAttribute("height",`${Re}px`)),t.setAttribute("preserveAspectRatio","none"),t.setAttribute("viewBox",`0 0 ${Ie} ${Re}`),t}createElement(Ie){if(typeof Ie!="string")throw new Error("Invalid SVG element type");return this._createSVG(Ie)}_createSVG(Ie){(0,Ee.unreachable)("Abstract method `_createSVG` called.")}}r.BaseSVGFactory=ze},(Ae,r,Se)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.MurmurHash3_64=void 0;var Ee=Se(1);const Fe=3285377520,Be=4294901760,Ve=65535;class _e{constructor(xe){this.h1=xe?xe&4294967295:Fe,this.h2=xe?xe&4294967295:Fe}update(xe){let Ie,Re;if(typeof xe=="string"){Ie=new Uint8Array(xe.length*2),Re=0;for(let rn=0,un=xe.length;rn<un;rn++){const Qe=xe.charCodeAt(rn);Qe<=255?Ie[Re++]=Qe:(Ie[Re++]=Qe>>>8,Ie[Re++]=Qe&255)}}else if((0,Ee.isArrayBuffer)(xe))Ie=xe.slice(),Re=Ie.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const e=Re>>2,t=Re-e*4,Te=new Uint32Array(Ie.buffer,0,e);let Ye=0,en=0,je=this.h1,nn=this.h2;const Ge=3432918353,Oe=461845907,Ce=Ge&Ve,St=Oe&Ve;for(let rn=0;rn<e;rn++)rn&1?(Ye=Te[rn],Ye=Ye*Ge&Be|Ye*Ce&Ve,Ye=Ye<<15|Ye>>>17,Ye=Ye*Oe&Be|Ye*St&Ve,je^=Ye,je=je<<13|je>>>19,je=je*5+3864292196):(en=Te[rn],en=en*Ge&Be|en*Ce&Ve,en=en<<15|en>>>17,en=en*Oe&Be|en*St&Ve,nn^=en,nn=nn<<13|nn>>>19,nn=nn*5+3864292196);switch(Ye=0,t){case 3:Ye^=Ie[e*4+2]<<16;case 2:Ye^=Ie[e*4+1]<<8;case 1:Ye^=Ie[e*4],Ye=Ye*Ge&Be|Ye*Ce&Ve,Ye=Ye<<15|Ye>>>17,Ye=Ye*Oe&Be|Ye*St&Ve,e&1?je^=Ye:nn^=Ye}this.h1=je,this.h2=nn}hexdigest(){let xe=this.h1,Ie=this.h2;return xe^=Ie>>>1,xe=xe*3981806797&Be|xe*36045&Ve,Ie=Ie*4283543511&Be|((Ie<<16|xe>>>16)*2950163797&Be)>>>16,xe^=Ie>>>1,xe=xe*444984403&Be|xe*60499&Ve,Ie=Ie*3301882366&Be|((Ie<<16|xe>>>16)*3120437893&Be)>>>16,xe^=Ie>>>1,(xe>>>0).toString(16).padStart(8,"0")+(Ie>>>0).toString(16).padStart(8,"0")}}r.MurmurHash3_64=_e},(Ae,r,Se)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.FontLoader=r.FontFaceObject=void 0;var Ee=Se(1);class Fe{#e=new Set;constructor({ownerDocument:_e=globalThis.document,styleElement:ze=null}){this._document=_e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(_e){this.nativeFontFaces.add(_e),this._document.fonts.add(_e)}removeNativeFontFace(_e){this.nativeFontFaces.delete(_e),this._document.fonts.delete(_e)}insertRule(_e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const ze=this.styleElement.sheet;ze.insertRule(_e,ze.cssRules.length)}clear(){for(const _e of this.nativeFontFaces)this._document.fonts.delete(_e);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(_e){if(!(!_e||this.#e.has(_e.loadedName))){if((0,Ee.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:ze,src:xe,style:Ie}=_e,Re=new FontFace(ze,xe,Ie);this.addNativeFontFace(Re);try{await Re.load(),this.#e.add(ze)}catch{(0,Ee.warn)(`Cannot load system font: ${_e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(Re)}return}(0,Ee.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(_e){if(_e.attached||_e.missingFile&&!_e.systemFontInfo)return;if(_e.attached=!0,_e.systemFontInfo){await this.loadSystemFont(_e.systemFontInfo);return}if(this.isFontLoadingAPISupported){const xe=_e.createNativeFontFace();if(xe){this.addNativeFontFace(xe);try{await xe.loaded}catch(Ie){throw(0,Ee.warn)(`Failed to load font '${xe.family}': '${Ie}'.`),_e.disableFontFace=!0,Ie}}return}const ze=_e.createFontFaceRule();if(ze){if(this.insertRule(ze),this.isSyncFontLoadingSupported)return;await new Promise(xe=>{const Ie=this._queueLoadingCallback(xe);this._prepareFontLoadEvent(_e,Ie)})}}get isFontLoadingAPISupported(){const _e=!!this._document?.fonts;return(0,Ee.shadow)(this,"isFontLoadingAPISupported",_e)}get isSyncFontLoadingSupported(){let _e=!1;return(Ee.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(_e=!0),(0,Ee.shadow)(this,"isSyncFontLoadingSupported",_e)}_queueLoadingCallback(_e){function ze(){for((0,Ee.assert)(!Ie.done,"completeRequest() cannot be called twice."),Ie.done=!0;xe.length>0&&xe[0].done;){const Re=xe.shift();setTimeout(Re.callback,0)}}const{loadingRequests:xe}=this,Ie={done:!1,complete:ze,callback:_e};return xe.push(Ie),Ie}get _loadTestFont(){const _e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,Ee.shadow)(this,"_loadTestFont",_e)}_prepareFontLoadEvent(_e,ze){function xe(hn,He){return hn.charCodeAt(He)<<24|hn.charCodeAt(He+1)<<16|hn.charCodeAt(He+2)<<8|hn.charCodeAt(He+3)&255}function Ie(hn,He,pn,Xe){const fn=hn.substring(0,He),dn=hn.substring(He+pn);return fn+Xe+dn}let Re,e;const t=this._document.createElement("canvas");t.width=1,t.height=1;const Te=t.getContext("2d");let Ye=0;function en(hn,He){if(++Ye>30){(0,Ee.warn)("Load test font never loaded."),He();return}if(Te.font="30px "+hn,Te.fillText(".",0,20),Te.getImageData(0,0,1,1).data[3]>0){He();return}setTimeout(en.bind(null,hn,He))}const je=`lt${Date.now()}${this.loadTestFontId++}`;let nn=this._loadTestFont;nn=Ie(nn,976,je.length,je);const Oe=16,Ce=1482184792;let St=xe(nn,Oe);for(Re=0,e=je.length-3;Re<e;Re+=4)St=St-Ce+xe(je,Re)|0;Re<je.length&&(St=St-Ce+xe(je+"XXX",Re)|0),nn=Ie(nn,Oe,4,(0,Ee.string32)(St));const rn=`url(data:font/opentype;base64,${btoa(nn)});`,un=`@font-face {font-family:"${je}";src:${rn}}`;this.insertRule(un);const Qe=this._document.createElement("div");Qe.style.visibility="hidden",Qe.style.width=Qe.style.height="10px",Qe.style.position="absolute",Qe.style.top=Qe.style.left="0px";for(const hn of[_e.loadedName,je]){const He=this._document.createElement("span");He.textContent="Hi",He.style.fontFamily=hn,Qe.append(He)}this._document.body.append(Qe),en(je,()=>{Qe.remove(),ze.complete()})}}r.FontLoader=Fe;class Be{constructor(_e,{isEvalSupported:ze=!0,disableFontFace:xe=!1,ignoreErrors:Ie=!1,inspectFont:Re=null}){this.compiledGlyphs=Object.create(null);for(const e in _e)this[e]=_e[e];this.isEvalSupported=ze!==!1,this.disableFontFace=xe===!0,this.ignoreErrors=Ie===!0,this._inspectFont=Re}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let _e;if(!this.cssFontInfo)_e=new FontFace(this.loadedName,this.data,{});else{const ze={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(ze.style=`oblique ${this.cssFontInfo.italicAngle}deg`),_e=new FontFace(this.cssFontInfo.fontFamily,this.data,ze)}return this._inspectFont?.(this),_e}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const _e=(0,Ee.bytesToString)(this.data),ze=`url(data:${this.mimetype};base64,${btoa(_e)});`;let xe;if(!this.cssFontInfo)xe=`@font-face {font-family:"${this.loadedName}";src:${ze}}`;else{let Ie=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(Ie+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),xe=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${Ie}src:${ze}}`}return this._inspectFont?.(this,ze),xe}getPathGenerator(_e,ze){if(this.compiledGlyphs[ze]!==void 0)return this.compiledGlyphs[ze];let xe;try{xe=_e.get(this.loadedName+"_path_"+ze)}catch(Ie){if(!this.ignoreErrors)throw Ie;return(0,Ee.warn)(`getPathGenerator - ignoring character: "${Ie}".`),this.compiledGlyphs[ze]=function(Re,e){}}if(this.isEvalSupported&&Ee.FeatureTest.isEvalSupported){const Ie=[];for(const Re of xe){const e=Re.args!==void 0?Re.args.join(","):"";Ie.push("c.",Re.cmd,"(",e,`);
`)}return this.compiledGlyphs[ze]=new Function("c","size",Ie.join(""))}return this.compiledGlyphs[ze]=function(Ie,Re){for(const e of xe)e.cmd==="scale"&&(e.args=[Re,-Re]),Ie[e.cmd].apply(Ie,e.args)}}}r.FontFaceObject=Be},(Ae,r,Se)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.NodeStandardFontDataFactory=r.NodeFilterFactory=r.NodeCanvasFactory=r.NodeCMapReaderFactory=void 0;var Ee=Se(7);Se(1);const Fe=function(xe){return new Promise((Ie,Re)=>{require$$5.readFile(xe,(t,Te)=>{if(t||!Te){Re(new Error(t));return}Ie(new Uint8Array(Te))})})};class Be extends Ee.BaseFilterFactory{}r.NodeFilterFactory=Be;class Ve extends Ee.BaseCanvasFactory{_createCanvas(Ie,Re){return require$$5.createCanvas(Ie,Re)}}r.NodeCanvasFactory=Ve;class _e extends Ee.BaseCMapReaderFactory{_fetchData(Ie,Re){return Fe(Ie).then(e=>({cMapData:e,compressionType:Re}))}}r.NodeCMapReaderFactory=_e;class ze extends Ee.BaseStandardFontDataFactory{_fetchData(Ie){return Fe(Ie)}}r.NodeStandardFontDataFactory=ze},(Ae,r,Se)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.CanvasGraphics=void 0;var Ee=Se(1),Fe=Se(6),Be=Se(12),Ve=Se(13);const _e=16,ze=100,xe=4096,Ie=15,Re=10,e=1e3,t=16;function Te(Me,De){if(Me._removeMirroring)throw new Error("Context is already forwarding operations.");Me.__originalSave=Me.save,Me.__originalRestore=Me.restore,Me.__originalRotate=Me.rotate,Me.__originalScale=Me.scale,Me.__originalTranslate=Me.translate,Me.__originalTransform=Me.transform,Me.__originalSetTransform=Me.setTransform,Me.__originalResetTransform=Me.resetTransform,Me.__originalClip=Me.clip,Me.__originalMoveTo=Me.moveTo,Me.__originalLineTo=Me.lineTo,Me.__originalBezierCurveTo=Me.bezierCurveTo,Me.__originalRect=Me.rect,Me.__originalClosePath=Me.closePath,Me.__originalBeginPath=Me.beginPath,Me._removeMirroring=()=>{Me.save=Me.__originalSave,Me.restore=Me.__originalRestore,Me.rotate=Me.__originalRotate,Me.scale=Me.__originalScale,Me.translate=Me.__originalTranslate,Me.transform=Me.__originalTransform,Me.setTransform=Me.__originalSetTransform,Me.resetTransform=Me.__originalResetTransform,Me.clip=Me.__originalClip,Me.moveTo=Me.__originalMoveTo,Me.lineTo=Me.__originalLineTo,Me.bezierCurveTo=Me.__originalBezierCurveTo,Me.rect=Me.__originalRect,Me.closePath=Me.__originalClosePath,Me.beginPath=Me.__originalBeginPath,delete Me._removeMirroring},Me.save=function(){De.save(),this.__originalSave()},Me.restore=function(){De.restore(),this.__originalRestore()},Me.translate=function(We,$e){De.translate(We,$e),this.__originalTranslate(We,$e)},Me.scale=function(We,$e){De.scale(We,$e),this.__originalScale(We,$e)},Me.transform=function(We,$e,on,Je,an,Ke){De.transform(We,$e,on,Je,an,Ke),this.__originalTransform(We,$e,on,Je,an,Ke)},Me.setTransform=function(We,$e,on,Je,an,Ke){De.setTransform(We,$e,on,Je,an,Ke),this.__originalSetTransform(We,$e,on,Je,an,Ke)},Me.resetTransform=function(){De.resetTransform(),this.__originalResetTransform()},Me.rotate=function(We){De.rotate(We),this.__originalRotate(We)},Me.clip=function(We){De.clip(We),this.__originalClip(We)},Me.moveTo=function(Ue,We){De.moveTo(Ue,We),this.__originalMoveTo(Ue,We)},Me.lineTo=function(Ue,We){De.lineTo(Ue,We),this.__originalLineTo(Ue,We)},Me.bezierCurveTo=function(Ue,We,$e,on,Je,an){De.bezierCurveTo(Ue,We,$e,on,Je,an),this.__originalBezierCurveTo(Ue,We,$e,on,Je,an)},Me.rect=function(Ue,We,$e,on){De.rect(Ue,We,$e,on),this.__originalRect(Ue,We,$e,on)},Me.closePath=function(){De.closePath(),this.__originalClosePath()},Me.beginPath=function(){De.beginPath(),this.__originalBeginPath()}}class Ye{constructor(De){this.canvasFactory=De,this.cache=Object.create(null)}getCanvas(De,Ue,We){let $e;return this.cache[De]!==void 0?($e=this.cache[De],this.canvasFactory.reset($e,Ue,We)):($e=this.canvasFactory.create(Ue,We),this.cache[De]=$e),$e}delete(De){delete this.cache[De]}clear(){for(const De in this.cache){const Ue=this.cache[De];this.canvasFactory.destroy(Ue),delete this.cache[De]}}}function en(Me,De,Ue,We,$e,on,Je,an,Ke,sn){const[gn,mn,yn,Sn,_n,wn]=(0,Fe.getCurrentTransform)(Me);if(mn===0&&yn===0){const Cn=Je*gn+_n,In=Math.round(Cn),Rn=an*Sn+wn,bn=Math.round(Rn),kn=(Je+Ke)*gn+_n,En=Math.abs(Math.round(kn)-In)||1,On=(an+sn)*Sn+wn,Mn=Math.abs(Math.round(On)-bn)||1;return Me.setTransform(Math.sign(gn),0,0,Math.sign(Sn),In,bn),Me.drawImage(De,Ue,We,$e,on,0,0,En,Mn),Me.setTransform(gn,mn,yn,Sn,_n,wn),[En,Mn]}if(gn===0&&Sn===0){const Cn=an*yn+_n,In=Math.round(Cn),Rn=Je*mn+wn,bn=Math.round(Rn),kn=(an+sn)*yn+_n,En=Math.abs(Math.round(kn)-In)||1,On=(Je+Ke)*mn+wn,Mn=Math.abs(Math.round(On)-bn)||1;return Me.setTransform(0,Math.sign(mn),Math.sign(yn),0,In,bn),Me.drawImage(De,Ue,We,$e,on,0,0,Mn,En),Me.setTransform(gn,mn,yn,Sn,_n,wn),[Mn,En]}Me.drawImage(De,Ue,We,$e,on,Je,an,Ke,sn);const Nn=Math.hypot(gn,mn),Tn=Math.hypot(yn,Sn);return[Nn*Ke,Tn*sn]}function je(Me){const{width:De,height:Ue}=Me;if(De>e||Ue>e)return null;const We=1e3,$e=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),on=De+1;let Je=new Uint8Array(on*(Ue+1)),an,Ke,sn;const gn=De+7&-8;let mn=new Uint8Array(gn*Ue),yn=0;for(const Tn of Me.data){let Cn=128;for(;Cn>0;)mn[yn++]=Tn&Cn?0:255,Cn>>=1}let Sn=0;for(yn=0,mn[yn]!==0&&(Je[0]=1,++Sn),Ke=1;Ke<De;Ke++)mn[yn]!==mn[yn+1]&&(Je[Ke]=mn[yn]?2:1,++Sn),yn++;for(mn[yn]!==0&&(Je[Ke]=2,++Sn),an=1;an<Ue;an++){yn=an*gn,sn=an*on,mn[yn-gn]!==mn[yn]&&(Je[sn]=mn[yn]?1:8,++Sn);let Tn=(mn[yn]?4:0)+(mn[yn-gn]?8:0);for(Ke=1;Ke<De;Ke++)Tn=(Tn>>2)+(mn[yn+1]?4:0)+(mn[yn-gn+1]?8:0),$e[Tn]&&(Je[sn+Ke]=$e[Tn],++Sn),yn++;if(mn[yn-gn]!==mn[yn]&&(Je[sn+Ke]=mn[yn]?2:4,++Sn),Sn>We)return null}for(yn=gn*(Ue-1),sn=an*on,mn[yn]!==0&&(Je[sn]=8,++Sn),Ke=1;Ke<De;Ke++)mn[yn]!==mn[yn+1]&&(Je[sn+Ke]=mn[yn]?4:8,++Sn),yn++;if(mn[yn]!==0&&(Je[sn+Ke]=4,++Sn),Sn>We)return null;const _n=new Int32Array([0,on,-1,0,-on,0,0,0,1]),wn=new Path2D;for(an=0;Sn&&an<=Ue;an++){let Tn=an*on;const Cn=Tn+De;for(;Tn<Cn&&!Je[Tn];)Tn++;if(Tn===Cn)continue;wn.moveTo(Tn%on,an);const In=Tn;let Rn=Je[Tn];do{const bn=_n[Rn];do Tn+=bn;while(!Je[Tn]);const kn=Je[Tn];kn!==5&&kn!==10?(Rn=kn,Je[Tn]=0):(Rn=kn&51*Rn>>4,Je[Tn]&=Rn>>2|Rn<<2),wn.lineTo(Tn%on,Tn/on|0),Je[Tn]||--Sn}while(In!==Tn);--an}return mn=null,Je=null,function(Tn){Tn.save(),Tn.scale(1/De,-1/Ue),Tn.translate(0,-Ue),Tn.fill(wn),Tn.beginPath(),Tn.restore()}}class nn{constructor(De,Ue){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=Ee.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=Ee.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Ee.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,De,Ue])}clone(){const De=Object.create(this);return De.clipBox=this.clipBox.slice(),De}setCurrentPoint(De,Ue){this.x=De,this.y=Ue}updatePathMinMax(De,Ue,We){[Ue,We]=Ee.Util.applyTransform([Ue,We],De),this.minX=Math.min(this.minX,Ue),this.minY=Math.min(this.minY,We),this.maxX=Math.max(this.maxX,Ue),this.maxY=Math.max(this.maxY,We)}updateRectMinMax(De,Ue){const We=Ee.Util.applyTransform(Ue,De),$e=Ee.Util.applyTransform(Ue.slice(2),De);this.minX=Math.min(this.minX,We[0],$e[0]),this.minY=Math.min(this.minY,We[1],$e[1]),this.maxX=Math.max(this.maxX,We[0],$e[0]),this.maxY=Math.max(this.maxY,We[1],$e[1])}updateScalingPathMinMax(De,Ue){Ee.Util.scaleMinMax(De,Ue),this.minX=Math.min(this.minX,Ue[0]),this.maxX=Math.max(this.maxX,Ue[1]),this.minY=Math.min(this.minY,Ue[2]),this.maxY=Math.max(this.maxY,Ue[3])}updateCurvePathMinMax(De,Ue,We,$e,on,Je,an,Ke,sn,gn){const mn=Ee.Util.bezierBoundingBox(Ue,We,$e,on,Je,an,Ke,sn);if(gn){gn[0]=Math.min(gn[0],mn[0],mn[2]),gn[1]=Math.max(gn[1],mn[0],mn[2]),gn[2]=Math.min(gn[2],mn[1],mn[3]),gn[3]=Math.max(gn[3],mn[1],mn[3]);return}this.updateRectMinMax(De,mn)}getPathBoundingBox(De=Be.PathType.FILL,Ue=null){const We=[this.minX,this.minY,this.maxX,this.maxY];if(De===Be.PathType.STROKE){Ue||(0,Ee.unreachable)("Stroke bounding box must include transform.");const $e=Ee.Util.singularValueDecompose2dScale(Ue),on=$e[0]*this.lineWidth/2,Je=$e[1]*this.lineWidth/2;We[0]-=on,We[1]-=Je,We[2]+=on,We[3]+=Je}return We}updateClipFromPath(){const De=Ee.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(De||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(De){this.clipBox=De,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(De=Be.PathType.FILL,Ue=null){return Ee.Util.intersect(this.clipBox,this.getPathBoundingBox(De,Ue))}}function Ge(Me,De){if(typeof ImageData<"u"&&De instanceof ImageData){Me.putImageData(De,0,0);return}const Ue=De.height,We=De.width,$e=Ue%t,on=(Ue-$e)/t,Je=$e===0?on:on+1,an=Me.createImageData(We,t);let Ke=0,sn;const gn=De.data,mn=an.data;let yn,Sn,_n,wn;if(De.kind===Ee.ImageKind.GRAYSCALE_1BPP){const Nn=gn.byteLength,Tn=new Uint32Array(mn.buffer,0,mn.byteLength>>2),Cn=Tn.length,In=We+7>>3,Rn=4294967295,bn=Ee.FeatureTest.isLittleEndian?4278190080:255;for(yn=0;yn<Je;yn++){for(_n=yn<on?t:$e,sn=0,Sn=0;Sn<_n;Sn++){const kn=Nn-Ke;let En=0;const On=kn>In?We:kn*8-7,Mn=On&-8;let Bn=0,Hn=0;for(;En<Mn;En+=8)Hn=gn[Ke++],Tn[sn++]=Hn&128?Rn:bn,Tn[sn++]=Hn&64?Rn:bn,Tn[sn++]=Hn&32?Rn:bn,Tn[sn++]=Hn&16?Rn:bn,Tn[sn++]=Hn&8?Rn:bn,Tn[sn++]=Hn&4?Rn:bn,Tn[sn++]=Hn&2?Rn:bn,Tn[sn++]=Hn&1?Rn:bn;for(;En<On;En++)Bn===0&&(Hn=gn[Ke++],Bn=128),Tn[sn++]=Hn&Bn?Rn:bn,Bn>>=1}for(;sn<Cn;)Tn[sn++]=0;Me.putImageData(an,0,yn*t)}}else if(De.kind===Ee.ImageKind.RGBA_32BPP){for(Sn=0,wn=We*t*4,yn=0;yn<on;yn++)mn.set(gn.subarray(Ke,Ke+wn)),Ke+=wn,Me.putImageData(an,0,Sn),Sn+=t;yn<Je&&(wn=We*$e*4,mn.set(gn.subarray(Ke,Ke+wn)),Me.putImageData(an,0,Sn))}else if(De.kind===Ee.ImageKind.RGB_24BPP)for(_n=t,wn=We*_n,yn=0;yn<Je;yn++){for(yn>=on&&(_n=$e,wn=We*_n),sn=0,Sn=wn;Sn--;)mn[sn++]=gn[Ke++],mn[sn++]=gn[Ke++],mn[sn++]=gn[Ke++],mn[sn++]=255;Me.putImageData(an,0,yn*t)}else throw new Error(`bad image kind: ${De.kind}`)}function Oe(Me,De){if(De.bitmap){Me.drawImage(De.bitmap,0,0);return}const Ue=De.height,We=De.width,$e=Ue%t,on=(Ue-$e)/t,Je=$e===0?on:on+1,an=Me.createImageData(We,t);let Ke=0;const sn=De.data,gn=an.data;for(let mn=0;mn<Je;mn++){const yn=mn<on?t:$e;({srcPos:Ke}=(0,Ve.convertBlackAndWhiteToRGBA)({src:sn,srcPos:Ke,dest:gn,width:We,height:yn,nonBlackColor:0})),Me.putImageData(an,0,mn*t)}}function Ce(Me,De){const Ue=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const We of Ue)Me[We]!==void 0&&(De[We]=Me[We]);Me.setLineDash!==void 0&&(De.setLineDash(Me.getLineDash()),De.lineDashOffset=Me.lineDashOffset)}function St(Me){if(Me.strokeStyle=Me.fillStyle="#000000",Me.fillRule="nonzero",Me.globalAlpha=1,Me.lineWidth=1,Me.lineCap="butt",Me.lineJoin="miter",Me.miterLimit=10,Me.globalCompositeOperation="source-over",Me.font="10px sans-serif",Me.setLineDash!==void 0&&(Me.setLineDash([]),Me.lineDashOffset=0),!Ee.isNodeJS){const{filter:De}=Me;De!=="none"&&De!==""&&(Me.filter="none")}}function rn(Me,De,Ue,We){const $e=Me.length;for(let on=3;on<$e;on+=4){const Je=Me[on];if(Je===0)Me[on-3]=De,Me[on-2]=Ue,Me[on-1]=We;else if(Je<255){const an=255-Je;Me[on-3]=Me[on-3]*Je+De*an>>8,Me[on-2]=Me[on-2]*Je+Ue*an>>8,Me[on-1]=Me[on-1]*Je+We*an>>8}}}function un(Me,De,Ue){const We=Me.length,$e=1/255;for(let on=3;on<We;on+=4){const Je=Ue?Ue[Me[on]]:Me[on];De[on]=De[on]*Je*$e|0}}function Qe(Me,De,Ue){const We=Me.length;for(let $e=3;$e<We;$e+=4){const on=Me[$e-3]*77+Me[$e-2]*152+Me[$e-1]*28;De[$e]=Ue?De[$e]*Ue[on>>8]>>8:De[$e]*on>>16}}function hn(Me,De,Ue,We,$e,on,Je,an,Ke,sn,gn){const mn=!!on,yn=mn?on[0]:0,Sn=mn?on[1]:0,_n=mn?on[2]:0,wn=$e==="Luminosity"?Qe:un,Tn=Math.min(We,Math.ceil(1048576/Ue));for(let Cn=0;Cn<We;Cn+=Tn){const In=Math.min(Tn,We-Cn),Rn=Me.getImageData(an-sn,Cn+(Ke-gn),Ue,In),bn=De.getImageData(an,Cn+Ke,Ue,In);mn&&rn(Rn.data,yn,Sn,_n),wn(Rn.data,bn.data,Je),De.putImageData(bn,an,Cn+Ke)}}function He(Me,De,Ue,We){const $e=We[0],on=We[1],Je=We[2]-$e,an=We[3]-on;Je===0||an===0||(hn(De.context,Ue,Je,an,De.subtype,De.backdrop,De.transferMap,$e,on,De.offsetX,De.offsetY),Me.save(),Me.globalAlpha=1,Me.globalCompositeOperation="source-over",Me.setTransform(1,0,0,1,0,0),Me.drawImage(Ue.canvas,0,0),Me.restore())}function pn(Me,De){const Ue=Ee.Util.singularValueDecompose2dScale(Me);Ue[0]=Math.fround(Ue[0]),Ue[1]=Math.fround(Ue[1]);const We=Math.fround((globalThis.devicePixelRatio||1)*Fe.PixelsPerInch.PDF_TO_CSS_UNITS);return De!==void 0?De:Ue[0]<=We||Ue[1]<=We}const Xe=["butt","round","square"],fn=["miter","round","bevel"],dn={},qe={};class tn{constructor(De,Ue,We,$e,on,{optionalContentConfig:Je,markedContentStack:an=null},Ke,sn){this.ctx=De,this.current=new nn(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=Ue,this.objs=We,this.canvasFactory=$e,this.filterFactory=on,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=an||[],this.optionalContentConfig=Je,this.cachedCanvases=new Ye(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=Ke,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=sn,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(De,Ue=null){return typeof De=="string"?De.startsWith("g_")?this.commonObjs.get(De):this.objs.get(De):Ue}beginDrawing({transform:De,viewport:Ue,transparency:We=!1,background:$e=null}){const on=this.ctx.canvas.width,Je=this.ctx.canvas.height,an=this.ctx.fillStyle;if(this.ctx.fillStyle=$e||"#ffffff",this.ctx.fillRect(0,0,on,Je),this.ctx.fillStyle=an,We){const Ke=this.cachedCanvases.getCanvas("transparent",on,Je);this.compositeCtx=this.ctx,this.transparentCanvas=Ke.canvas,this.ctx=Ke.context,this.ctx.save(),this.ctx.transform(...(0,Fe.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),St(this.ctx),De&&(this.ctx.transform(...De),this.outputScaleX=De[0],this.outputScaleY=De[0]),this.ctx.transform(...Ue.transform),this.viewportScale=Ue.scale,this.baseTransform=(0,Fe.getCurrentTransform)(this.ctx)}executeOperatorList(De,Ue,We,$e){const on=De.argsArray,Je=De.fnArray;let an=Ue||0;const Ke=on.length;if(Ke===an)return an;const sn=Ke-an>Re&&typeof We=="function",gn=sn?Date.now()+Ie:0;let mn=0;const yn=this.commonObjs,Sn=this.objs;let _n;for(;;){if($e!==void 0&&an===$e.nextBreakPoint)return $e.breakIt(an,We),an;if(_n=Je[an],_n!==Ee.OPS.dependency)this[_n].apply(this,on[an]);else for(const wn of on[an]){const Nn=wn.startsWith("g_")?yn:Sn;if(!Nn.has(wn))return Nn.get(wn,We),an}if(an++,an===Ke)return an;if(sn&&++mn>Re){if(Date.now()>gn)return We(),an;mn=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const De of this._cachedBitmapsMap.values()){for(const Ue of De.values())typeof HTMLCanvasElement<"u"&&Ue instanceof HTMLCanvasElement&&(Ue.width=Ue.height=0);De.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){const De=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(De!=="none"){const Ue=this.ctx.filter;this.ctx.filter=De,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=Ue}}}_scaleImage(De,Ue){const We=De.width,$e=De.height;let on=Math.max(Math.hypot(Ue[0],Ue[1]),1),Je=Math.max(Math.hypot(Ue[2],Ue[3]),1),an=We,Ke=$e,sn="prescale1",gn,mn;for(;on>2&&an>1||Je>2&&Ke>1;){let yn=an,Sn=Ke;on>2&&an>1&&(yn=an>=16384?Math.floor(an/2)-1||1:Math.ceil(an/2),on/=an/yn),Je>2&&Ke>1&&(Sn=Ke>=16384?Math.floor(Ke/2)-1||1:Math.ceil(Ke)/2,Je/=Ke/Sn),gn=this.cachedCanvases.getCanvas(sn,yn,Sn),mn=gn.context,mn.clearRect(0,0,yn,Sn),mn.drawImage(De,0,0,an,Ke,0,0,yn,Sn),De=gn.canvas,an=yn,Ke=Sn,sn=sn==="prescale1"?"prescale2":"prescale1"}return{img:De,paintWidth:an,paintHeight:Ke}}_createMaskCanvas(De){const Ue=this.ctx,{width:We,height:$e}=De,on=this.current.fillColor,Je=this.current.patternFill,an=(0,Fe.getCurrentTransform)(Ue);let Ke,sn,gn,mn;if((De.bitmap||De.data)&&De.count>1){const En=De.bitmap||De.data.buffer;sn=JSON.stringify(Je?an:[an.slice(0,4),on]),Ke=this._cachedBitmapsMap.get(En),Ke||(Ke=new Map,this._cachedBitmapsMap.set(En,Ke));const On=Ke.get(sn);if(On&&!Je){const Mn=Math.round(Math.min(an[0],an[2])+an[4]),Bn=Math.round(Math.min(an[1],an[3])+an[5]);return{canvas:On,offsetX:Mn,offsetY:Bn}}gn=On}gn||(mn=this.cachedCanvases.getCanvas("maskCanvas",We,$e),Oe(mn.context,De));let yn=Ee.Util.transform(an,[1/We,0,0,-1/$e,0,0]);yn=Ee.Util.transform(yn,[1,0,0,1,0,-$e]);const Sn=Ee.Util.applyTransform([0,0],yn),_n=Ee.Util.applyTransform([We,$e],yn),wn=Ee.Util.normalizeRect([Sn[0],Sn[1],_n[0],_n[1]]),Nn=Math.round(wn[2]-wn[0])||1,Tn=Math.round(wn[3]-wn[1])||1,Cn=this.cachedCanvases.getCanvas("fillCanvas",Nn,Tn),In=Cn.context,Rn=Math.min(Sn[0],_n[0]),bn=Math.min(Sn[1],_n[1]);In.translate(-Rn,-bn),In.transform(...yn),gn||(gn=this._scaleImage(mn.canvas,(0,Fe.getCurrentTransformInverse)(In)),gn=gn.img,Ke&&Je&&Ke.set(sn,gn)),In.imageSmoothingEnabled=pn((0,Fe.getCurrentTransform)(In),De.interpolate),en(In,gn,0,0,gn.width,gn.height,0,0,We,$e),In.globalCompositeOperation="source-in";const kn=Ee.Util.transform((0,Fe.getCurrentTransformInverse)(In),[1,0,0,1,-Rn,-bn]);return In.fillStyle=Je?on.getPattern(Ue,this,kn,Be.PathType.FILL):on,In.fillRect(0,0,We,$e),Ke&&!Je&&(this.cachedCanvases.delete("fillCanvas"),Ke.set(sn,Cn.canvas)),{canvas:Cn.canvas,offsetX:Math.round(Rn),offsetY:Math.round(bn)}}setLineWidth(De){De!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=De,this.ctx.lineWidth=De}setLineCap(De){this.ctx.lineCap=Xe[De]}setLineJoin(De){this.ctx.lineJoin=fn[De]}setMiterLimit(De){this.ctx.miterLimit=De}setDash(De,Ue){const We=this.ctx;We.setLineDash!==void 0&&(We.setLineDash(De),We.lineDashOffset=Ue)}setRenderingIntent(De){}setFlatness(De){}setGState(De){for(const[Ue,We]of De)switch(Ue){case"LW":this.setLineWidth(We);break;case"LC":this.setLineCap(We);break;case"LJ":this.setLineJoin(We);break;case"ML":this.setMiterLimit(We);break;case"D":this.setDash(We[0],We[1]);break;case"RI":this.setRenderingIntent(We);break;case"FL":this.setFlatness(We);break;case"Font":this.setFont(We[0],We[1]);break;case"CA":this.current.strokeAlpha=We;break;case"ca":this.current.fillAlpha=We,this.ctx.globalAlpha=We;break;case"BM":this.ctx.globalCompositeOperation=We;break;case"SMask":this.current.activeSMask=We?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(We);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const De=this.inSMaskMode;this.current.activeSMask&&!De?this.beginSMaskMode():!this.current.activeSMask&&De&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const De=this.ctx.canvas.width,Ue=this.ctx.canvas.height,We="smaskGroupAt"+this.groupLevel,$e=this.cachedCanvases.getCanvas(We,De,Ue);this.suspendedCtx=this.ctx,this.ctx=$e.context;const on=this.ctx;on.setTransform(...(0,Fe.getCurrentTransform)(this.suspendedCtx)),Ce(this.suspendedCtx,on),Te(on,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Ce(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(De){if(!this.current.activeSMask)return;De?(De[0]=Math.floor(De[0]),De[1]=Math.floor(De[1]),De[2]=Math.ceil(De[2]),De[3]=Math.ceil(De[3])):De=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const Ue=this.current.activeSMask,We=this.suspendedCtx;He(We,Ue,this.ctx,De),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(Ce(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const De=this.current;this.stateStack.push(De),this.current=De.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Ce(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(De,Ue,We,$e,on,Je){this.ctx.transform(De,Ue,We,$e,on,Je),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(De,Ue,We){const $e=this.ctx,on=this.current;let Je=on.x,an=on.y,Ke,sn;const gn=(0,Fe.getCurrentTransform)($e),mn=gn[0]===0&&gn[3]===0||gn[1]===0&&gn[2]===0,yn=mn?We.slice(0):null;for(let Sn=0,_n=0,wn=De.length;Sn<wn;Sn++)switch(De[Sn]|0){case Ee.OPS.rectangle:Je=Ue[_n++],an=Ue[_n++];const Nn=Ue[_n++],Tn=Ue[_n++],Cn=Je+Nn,In=an+Tn;$e.moveTo(Je,an),Nn===0||Tn===0?$e.lineTo(Cn,In):($e.lineTo(Cn,an),$e.lineTo(Cn,In),$e.lineTo(Je,In)),mn||on.updateRectMinMax(gn,[Je,an,Cn,In]),$e.closePath();break;case Ee.OPS.moveTo:Je=Ue[_n++],an=Ue[_n++],$e.moveTo(Je,an),mn||on.updatePathMinMax(gn,Je,an);break;case Ee.OPS.lineTo:Je=Ue[_n++],an=Ue[_n++],$e.lineTo(Je,an),mn||on.updatePathMinMax(gn,Je,an);break;case Ee.OPS.curveTo:Ke=Je,sn=an,Je=Ue[_n+4],an=Ue[_n+5],$e.bezierCurveTo(Ue[_n],Ue[_n+1],Ue[_n+2],Ue[_n+3],Je,an),on.updateCurvePathMinMax(gn,Ke,sn,Ue[_n],Ue[_n+1],Ue[_n+2],Ue[_n+3],Je,an,yn),_n+=6;break;case Ee.OPS.curveTo2:Ke=Je,sn=an,$e.bezierCurveTo(Je,an,Ue[_n],Ue[_n+1],Ue[_n+2],Ue[_n+3]),on.updateCurvePathMinMax(gn,Ke,sn,Je,an,Ue[_n],Ue[_n+1],Ue[_n+2],Ue[_n+3],yn),Je=Ue[_n+2],an=Ue[_n+3],_n+=4;break;case Ee.OPS.curveTo3:Ke=Je,sn=an,Je=Ue[_n+2],an=Ue[_n+3],$e.bezierCurveTo(Ue[_n],Ue[_n+1],Je,an,Je,an),on.updateCurvePathMinMax(gn,Ke,sn,Ue[_n],Ue[_n+1],Je,an,Je,an,yn),_n+=4;break;case Ee.OPS.closePath:$e.closePath();break}mn&&on.updateScalingPathMinMax(gn,yn),on.setCurrentPoint(Je,an)}closePath(){this.ctx.closePath()}stroke(De=!0){const Ue=this.ctx,We=this.current.strokeColor;Ue.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof We=="object"&&We?.getPattern?(Ue.save(),Ue.strokeStyle=We.getPattern(Ue,this,(0,Fe.getCurrentTransformInverse)(Ue),Be.PathType.STROKE),this.rescaleAndStroke(!1),Ue.restore()):this.rescaleAndStroke(!0)),De&&this.consumePath(this.current.getClippedPathBoundingBox()),Ue.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(De=!0){const Ue=this.ctx,We=this.current.fillColor,$e=this.current.patternFill;let on=!1;$e&&(Ue.save(),Ue.fillStyle=We.getPattern(Ue,this,(0,Fe.getCurrentTransformInverse)(Ue),Be.PathType.FILL),on=!0);const Je=this.current.getClippedPathBoundingBox();this.contentVisible&&Je!==null&&(this.pendingEOFill?(Ue.fill("evenodd"),this.pendingEOFill=!1):Ue.fill()),on&&Ue.restore(),De&&this.consumePath(Je)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=dn}eoClip(){this.pendingClip=qe}beginText(){this.current.textMatrix=Ee.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const De=this.pendingTextPaths,Ue=this.ctx;if(De===void 0){Ue.beginPath();return}Ue.save(),Ue.beginPath();for(const We of De)Ue.setTransform(...We.transform),Ue.translate(We.x,We.y),We.addToPath(Ue,We.fontSize);Ue.restore(),Ue.clip(),Ue.beginPath(),delete this.pendingTextPaths}setCharSpacing(De){this.current.charSpacing=De}setWordSpacing(De){this.current.wordSpacing=De}setHScale(De){this.current.textHScale=De/100}setLeading(De){this.current.leading=-De}setFont(De,Ue){const We=this.commonObjs.get(De),$e=this.current;if(!We)throw new Error(`Can't find font for ${De}`);if($e.fontMatrix=We.fontMatrix||Ee.FONT_IDENTITY_MATRIX,($e.fontMatrix[0]===0||$e.fontMatrix[3]===0)&&(0,Ee.warn)("Invalid font matrix for font "+De),Ue<0?(Ue=-Ue,$e.fontDirection=-1):$e.fontDirection=1,this.current.font=We,this.current.fontSize=Ue,We.isType3Font)return;const on=We.loadedName||"sans-serif",Je=We.systemFontInfo?.css||`"${on}", ${We.fallbackName}`;let an="normal";We.black?an="900":We.bold&&(an="bold");const Ke=We.italic?"italic":"normal";let sn=Ue;Ue<_e?sn=_e:Ue>ze&&(sn=ze),this.current.fontSizeScale=Ue/sn,this.ctx.font=`${Ke} ${an} ${sn}px ${Je}`}setTextRenderingMode(De){this.current.textRenderingMode=De}setTextRise(De){this.current.textRise=De}moveText(De,Ue){this.current.x=this.current.lineX+=De,this.current.y=this.current.lineY+=Ue}setLeadingMoveText(De,Ue){this.setLeading(-Ue),this.moveText(De,Ue)}setTextMatrix(De,Ue,We,$e,on,Je){this.current.textMatrix=[De,Ue,We,$e,on,Je],this.current.textMatrixScale=Math.hypot(De,Ue),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(De,Ue,We,$e){const on=this.ctx,Je=this.current,an=Je.font,Ke=Je.textRenderingMode,sn=Je.fontSize/Je.fontSizeScale,gn=Ke&Ee.TextRenderingMode.FILL_STROKE_MASK,mn=!!(Ke&Ee.TextRenderingMode.ADD_TO_PATH_FLAG),yn=Je.patternFill&&!an.missingFile;let Sn;(an.disableFontFace||mn||yn)&&(Sn=an.getPathGenerator(this.commonObjs,De)),an.disableFontFace||yn?(on.save(),on.translate(Ue,We),on.beginPath(),Sn(on,sn),$e&&on.setTransform(...$e),(gn===Ee.TextRenderingMode.FILL||gn===Ee.TextRenderingMode.FILL_STROKE)&&on.fill(),(gn===Ee.TextRenderingMode.STROKE||gn===Ee.TextRenderingMode.FILL_STROKE)&&on.stroke(),on.restore()):((gn===Ee.TextRenderingMode.FILL||gn===Ee.TextRenderingMode.FILL_STROKE)&&on.fillText(De,Ue,We),(gn===Ee.TextRenderingMode.STROKE||gn===Ee.TextRenderingMode.FILL_STROKE)&&on.strokeText(De,Ue,We)),mn&&(this.pendingTextPaths||=[]).push({transform:(0,Fe.getCurrentTransform)(on),x:Ue,y:We,fontSize:sn,addToPath:Sn})}get isFontSubpixelAAEnabled(){const{context:De}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);De.scale(1.5,1),De.fillText("I",0,10);const Ue=De.getImageData(0,0,10,10).data;let We=!1;for(let $e=3;$e<Ue.length;$e+=4)if(Ue[$e]>0&&Ue[$e]<255){We=!0;break}return(0,Ee.shadow)(this,"isFontSubpixelAAEnabled",We)}showText(De){const Ue=this.current,We=Ue.font;if(We.isType3Font)return this.showType3Text(De);const $e=Ue.fontSize;if($e===0)return;const on=this.ctx,Je=Ue.fontSizeScale,an=Ue.charSpacing,Ke=Ue.wordSpacing,sn=Ue.fontDirection,gn=Ue.textHScale*sn,mn=De.length,yn=We.vertical,Sn=yn?1:-1,_n=We.defaultVMetrics,wn=$e*Ue.fontMatrix[0],Nn=Ue.textRenderingMode===Ee.TextRenderingMode.FILL&&!We.disableFontFace&&!Ue.patternFill;on.save(),on.transform(...Ue.textMatrix),on.translate(Ue.x,Ue.y+Ue.textRise),sn>0?on.scale(gn,-1):on.scale(gn,1);let Tn;if(Ue.patternFill){on.save();const kn=Ue.fillColor.getPattern(on,this,(0,Fe.getCurrentTransformInverse)(on),Be.PathType.FILL);Tn=(0,Fe.getCurrentTransform)(on),on.restore(),on.fillStyle=kn}let Cn=Ue.lineWidth;const In=Ue.textMatrixScale;if(In===0||Cn===0){const kn=Ue.textRenderingMode&Ee.TextRenderingMode.FILL_STROKE_MASK;(kn===Ee.TextRenderingMode.STROKE||kn===Ee.TextRenderingMode.FILL_STROKE)&&(Cn=this.getSinglePixelWidth())}else Cn/=In;if(Je!==1&&(on.scale(Je,Je),Cn/=Je),on.lineWidth=Cn,We.isInvalidPDFjsFont){const kn=[];let En=0;for(const On of De)kn.push(On.unicode),En+=On.width;on.fillText(kn.join(""),0,0),Ue.x+=En*wn*gn,on.restore(),this.compose();return}let Rn=0,bn;for(bn=0;bn<mn;++bn){const kn=De[bn];if(typeof kn=="number"){Rn+=Sn*kn*$e/1e3;continue}let En=!1;const On=(kn.isSpace?Ke:0)+an,Mn=kn.fontChar,Bn=kn.accent;let Hn,$n,Un=kn.width;if(yn){const jn=kn.vmetric||_n,Xn=-(kn.vmetric?jn[1]:Un*.5)*wn,Gn=jn[2]*wn;Un=jn?-jn[0]:Un,Hn=Xn/Je,$n=(Rn+Gn)/Je}else Hn=Rn/Je,$n=0;if(We.remeasure&&Un>0){const jn=on.measureText(Mn).width*1e3/$e*Je;if(Un<jn&&this.isFontSubpixelAAEnabled){const Xn=Un/jn;En=!0,on.save(),on.scale(Xn,1),Hn/=Xn}else Un!==jn&&(Hn+=(Un-jn)/2e3*$e/Je)}if(this.contentVisible&&(kn.isInFont||We.missingFile)){if(Nn&&!Bn)on.fillText(Mn,Hn,$n);else if(this.paintChar(Mn,Hn,$n,Tn),Bn){const jn=Hn+$e*Bn.offset.x/Je,Xn=$n-$e*Bn.offset.y/Je;this.paintChar(Bn.fontChar,jn,Xn,Tn)}}const qn=yn?Un*wn-On*sn:Un*wn+On*sn;Rn+=qn,En&&on.restore()}yn?Ue.y-=Rn:Ue.x+=Rn*gn,on.restore(),this.compose()}showType3Text(De){const Ue=this.ctx,We=this.current,$e=We.font,on=We.fontSize,Je=We.fontDirection,an=$e.vertical?1:-1,Ke=We.charSpacing,sn=We.wordSpacing,gn=We.textHScale*Je,mn=We.fontMatrix||Ee.FONT_IDENTITY_MATRIX,yn=De.length,Sn=We.textRenderingMode===Ee.TextRenderingMode.INVISIBLE;let _n,wn,Nn,Tn;if(!(Sn||on===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,Ue.save(),Ue.transform(...We.textMatrix),Ue.translate(We.x,We.y),Ue.scale(gn,Je),_n=0;_n<yn;++_n){if(wn=De[_n],typeof wn=="number"){Tn=an*wn*on/1e3,this.ctx.translate(Tn,0),We.x+=Tn*gn;continue}const Cn=(wn.isSpace?sn:0)+Ke,In=$e.charProcOperatorList[wn.operatorListId];if(!In){(0,Ee.warn)(`Type3 character "${wn.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=wn,this.save(),Ue.scale(on,on),Ue.transform(...mn),this.executeOperatorList(In),this.restore()),Nn=Ee.Util.applyTransform([wn.width,0],mn)[0]*on+Cn,Ue.translate(Nn,0),We.x+=Nn*gn}Ue.restore(),this.processingType3=null}}setCharWidth(De,Ue){}setCharWidthAndBounds(De,Ue,We,$e,on,Je){this.ctx.rect(We,$e,on-We,Je-$e),this.ctx.clip(),this.endPath()}getColorN_Pattern(De){let Ue;if(De[0]==="TilingPattern"){const We=De[1],$e=this.baseTransform||(0,Fe.getCurrentTransform)(this.ctx),on={createCanvasGraphics:Je=>new tn(Je,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};Ue=new Be.TilingPattern(De,We,this.ctx,on,$e)}else Ue=this._getPattern(De[1],De[2]);return Ue}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(De,Ue,We){const $e=Ee.Util.makeHexColor(De,Ue,We);this.ctx.strokeStyle=$e,this.current.strokeColor=$e}setFillRGBColor(De,Ue,We){const $e=Ee.Util.makeHexColor(De,Ue,We);this.ctx.fillStyle=$e,this.current.fillColor=$e,this.current.patternFill=!1}_getPattern(De,Ue=null){let We;return this.cachedPatterns.has(De)?We=this.cachedPatterns.get(De):(We=(0,Be.getShadingPattern)(this.getObject(De)),this.cachedPatterns.set(De,We)),Ue&&(We.matrix=Ue),We}shadingFill(De){if(!this.contentVisible)return;const Ue=this.ctx;this.save();const We=this._getPattern(De);Ue.fillStyle=We.getPattern(Ue,this,(0,Fe.getCurrentTransformInverse)(Ue),Be.PathType.SHADING);const $e=(0,Fe.getCurrentTransformInverse)(Ue);if($e){const{width:on,height:Je}=Ue.canvas,[an,Ke,sn,gn]=Ee.Util.getAxialAlignedBoundingBox([0,0,on,Je],$e);this.ctx.fillRect(an,Ke,sn-an,gn-Ke)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,Ee.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,Ee.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(De,Ue){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(De)&&De.length===6&&this.transform(...De),this.baseTransform=(0,Fe.getCurrentTransform)(this.ctx),Ue)){const We=Ue[2]-Ue[0],$e=Ue[3]-Ue[1];this.ctx.rect(Ue[0],Ue[1],We,$e),this.current.updateRectMinMax((0,Fe.getCurrentTransform)(this.ctx),Ue),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(De){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const Ue=this.ctx;De.isolated||(0,Ee.info)("TODO: Support non-isolated groups."),De.knockout&&(0,Ee.warn)("Knockout groups not supported.");const We=(0,Fe.getCurrentTransform)(Ue);if(De.matrix&&Ue.transform(...De.matrix),!De.bbox)throw new Error("Bounding box is required.");let $e=Ee.Util.getAxialAlignedBoundingBox(De.bbox,(0,Fe.getCurrentTransform)(Ue));const on=[0,0,Ue.canvas.width,Ue.canvas.height];$e=Ee.Util.intersect($e,on)||[0,0,0,0];const Je=Math.floor($e[0]),an=Math.floor($e[1]);let Ke=Math.max(Math.ceil($e[2])-Je,1),sn=Math.max(Math.ceil($e[3])-an,1),gn=1,mn=1;Ke>xe&&(gn=Ke/xe,Ke=xe),sn>xe&&(mn=sn/xe,sn=xe),this.current.startNewPathAndClipBox([0,0,Ke,sn]);let yn="groupAt"+this.groupLevel;De.smask&&(yn+="_smask_"+this.smaskCounter++%2);const Sn=this.cachedCanvases.getCanvas(yn,Ke,sn),_n=Sn.context;_n.scale(1/gn,1/mn),_n.translate(-Je,-an),_n.transform(...We),De.smask?this.smaskStack.push({canvas:Sn.canvas,context:_n,offsetX:Je,offsetY:an,scaleX:gn,scaleY:mn,subtype:De.smask.subtype,backdrop:De.smask.backdrop,transferMap:De.smask.transferMap||null,startTransformInverse:null}):(Ue.setTransform(1,0,0,1,0,0),Ue.translate(Je,an),Ue.scale(gn,mn),Ue.save()),Ce(Ue,_n),this.ctx=_n,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(Ue),this.groupLevel++}endGroup(De){if(!this.contentVisible)return;this.groupLevel--;const Ue=this.ctx,We=this.groupStack.pop();if(this.ctx=We,this.ctx.imageSmoothingEnabled=!1,De.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const $e=(0,Fe.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...$e);const on=Ee.Util.getAxialAlignedBoundingBox([0,0,Ue.canvas.width,Ue.canvas.height],$e);this.ctx.drawImage(Ue.canvas,0,0),this.ctx.restore(),this.compose(on)}}beginAnnotation(De,Ue,We,$e,on){if(this.#e(),St(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(Ue)&&Ue.length===4){const Je=Ue[2]-Ue[0],an=Ue[3]-Ue[1];if(on&&this.annotationCanvasMap){We=We.slice(),We[4]-=Ue[0],We[5]-=Ue[1],Ue=Ue.slice(),Ue[0]=Ue[1]=0,Ue[2]=Je,Ue[3]=an;const[Ke,sn]=Ee.Util.singularValueDecompose2dScale((0,Fe.getCurrentTransform)(this.ctx)),{viewportScale:gn}=this,mn=Math.ceil(Je*this.outputScaleX*gn),yn=Math.ceil(an*this.outputScaleY*gn);this.annotationCanvas=this.canvasFactory.create(mn,yn);const{canvas:Sn,context:_n}=this.annotationCanvas;this.annotationCanvasMap.set(De,Sn),this.annotationCanvas.savedCtx=this.ctx,this.ctx=_n,this.ctx.save(),this.ctx.setTransform(Ke,0,0,-sn,0,an*sn),St(this.ctx)}else St(this.ctx),this.ctx.rect(Ue[0],Ue[1],Je,an),this.ctx.clip(),this.endPath()}this.current=new nn(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...We),this.transform(...$e)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(De){if(!this.contentVisible)return;const Ue=De.count;De=this.getObject(De.data,De),De.count=Ue;const We=this.ctx,$e=this.processingType3;if($e&&($e.compiled===void 0&&($e.compiled=je(De)),$e.compiled)){$e.compiled(We);return}const on=this._createMaskCanvas(De),Je=on.canvas;We.save(),We.setTransform(1,0,0,1,0,0),We.drawImage(Je,on.offsetX,on.offsetY),We.restore(),this.compose()}paintImageMaskXObjectRepeat(De,Ue,We=0,$e=0,on,Je){if(!this.contentVisible)return;De=this.getObject(De.data,De);const an=this.ctx;an.save();const Ke=(0,Fe.getCurrentTransform)(an);an.transform(Ue,We,$e,on,0,0);const sn=this._createMaskCanvas(De);an.setTransform(1,0,0,1,sn.offsetX-Ke[4],sn.offsetY-Ke[5]);for(let gn=0,mn=Je.length;gn<mn;gn+=2){const yn=Ee.Util.transform(Ke,[Ue,We,$e,on,Je[gn],Je[gn+1]]),[Sn,_n]=Ee.Util.applyTransform([0,0],yn);an.drawImage(sn.canvas,Sn,_n)}an.restore(),this.compose()}paintImageMaskXObjectGroup(De){if(!this.contentVisible)return;const Ue=this.ctx,We=this.current.fillColor,$e=this.current.patternFill;for(const on of De){const{data:Je,width:an,height:Ke,transform:sn}=on,gn=this.cachedCanvases.getCanvas("maskCanvas",an,Ke),mn=gn.context;mn.save();const yn=this.getObject(Je,on);Oe(mn,yn),mn.globalCompositeOperation="source-in",mn.fillStyle=$e?We.getPattern(mn,this,(0,Fe.getCurrentTransformInverse)(Ue),Be.PathType.FILL):We,mn.fillRect(0,0,an,Ke),mn.restore(),Ue.save(),Ue.transform(...sn),Ue.scale(1,-1),en(Ue,gn.canvas,0,0,an,Ke,0,-1,1,1),Ue.restore()}this.compose()}paintImageXObject(De){if(!this.contentVisible)return;const Ue=this.getObject(De);if(!Ue){(0,Ee.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(Ue)}paintImageXObjectRepeat(De,Ue,We,$e){if(!this.contentVisible)return;const on=this.getObject(De);if(!on){(0,Ee.warn)("Dependent image isn't ready yet");return}const Je=on.width,an=on.height,Ke=[];for(let sn=0,gn=$e.length;sn<gn;sn+=2)Ke.push({transform:[Ue,0,0,We,$e[sn],$e[sn+1]],x:0,y:0,w:Je,h:an});this.paintInlineImageXObjectGroup(on,Ke)}applyTransferMapsToCanvas(De){return this.current.transferMaps!=="none"&&(De.filter=this.current.transferMaps,De.drawImage(De.canvas,0,0),De.filter="none"),De.canvas}applyTransferMapsToBitmap(De){if(this.current.transferMaps==="none")return De.bitmap;const{bitmap:Ue,width:We,height:$e}=De,on=this.cachedCanvases.getCanvas("inlineImage",We,$e),Je=on.context;return Je.filter=this.current.transferMaps,Je.drawImage(Ue,0,0),Je.filter="none",on.canvas}paintInlineImageXObject(De){if(!this.contentVisible)return;const Ue=De.width,We=De.height,$e=this.ctx;if(this.save(),!Ee.isNodeJS){const{filter:an}=$e;an!=="none"&&an!==""&&($e.filter="none")}$e.scale(1/Ue,-1/We);let on;if(De.bitmap)on=this.applyTransferMapsToBitmap(De);else if(typeof HTMLElement=="function"&&De instanceof HTMLElement||!De.data)on=De;else{const Ke=this.cachedCanvases.getCanvas("inlineImage",Ue,We).context;Ge(Ke,De),on=this.applyTransferMapsToCanvas(Ke)}const Je=this._scaleImage(on,(0,Fe.getCurrentTransformInverse)($e));$e.imageSmoothingEnabled=pn((0,Fe.getCurrentTransform)($e),De.interpolate),en($e,Je.img,0,0,Je.paintWidth,Je.paintHeight,0,-We,Ue,We),this.compose(),this.restore()}paintInlineImageXObjectGroup(De,Ue){if(!this.contentVisible)return;const We=this.ctx;let $e;if(De.bitmap)$e=De.bitmap;else{const on=De.width,Je=De.height,Ke=this.cachedCanvases.getCanvas("inlineImage",on,Je).context;Ge(Ke,De),$e=this.applyTransferMapsToCanvas(Ke)}for(const on of Ue)We.save(),We.transform(...on.transform),We.scale(1,-1),en(We,$e,on.x,on.y,on.w,on.h,0,-1,1,1),We.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(De){}markPointProps(De,Ue){}beginMarkedContent(De){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(De,Ue){De==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(Ue)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(De){const Ue=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(De);const We=this.ctx;this.pendingClip&&(Ue||(this.pendingClip===qe?We.clip("evenodd"):We.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),We.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const De=(0,Fe.getCurrentTransform)(this.ctx);if(De[1]===0&&De[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(De[0]),Math.abs(De[3]));else{const Ue=Math.abs(De[0]*De[3]-De[2]*De[1]),We=Math.hypot(De[0],De[2]),$e=Math.hypot(De[1],De[3]);this._cachedGetSinglePixelWidth=Math.max(We,$e)/Ue}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:De}=this.current,{a:Ue,b:We,c:$e,d:on}=this.ctx.getTransform();let Je,an;if(We===0&&$e===0){const Ke=Math.abs(Ue),sn=Math.abs(on);if(Ke===sn)if(De===0)Je=an=1/Ke;else{const gn=Ke*De;Je=an=gn<1?1/gn:1}else if(De===0)Je=1/Ke,an=1/sn;else{const gn=Ke*De,mn=sn*De;Je=gn<1?1/gn:1,an=mn<1?1/mn:1}}else{const Ke=Math.abs(Ue*on-We*$e),sn=Math.hypot(Ue,We),gn=Math.hypot($e,on);if(De===0)Je=gn/Ke,an=sn/Ke;else{const mn=De*Ke;Je=gn>mn?gn/mn:1,an=sn>mn?sn/mn:1}}this._cachedScaleForStroking[0]=Je,this._cachedScaleForStroking[1]=an}return this._cachedScaleForStroking}rescaleAndStroke(De){const{ctx:Ue}=this,{lineWidth:We}=this.current,[$e,on]=this.getScaleForStroking();if(Ue.lineWidth=We||1,$e===1&&on===1){Ue.stroke();return}const Je=Ue.getLineDash();if(De&&Ue.save(),Ue.scale($e,on),Je.length>0){const an=Math.max($e,on);Ue.setLineDash(Je.map(Ke=>Ke/an)),Ue.lineDashOffset/=an}Ue.stroke(),De&&Ue.restore()}isContentVisible(){for(let De=this.markedContentStack.length-1;De>=0;De--)if(!this.markedContentStack[De].visible)return!1;return!0}}r.CanvasGraphics=tn;for(const Me in Ee.OPS)tn.prototype[Me]!==void 0&&(tn.prototype[Ee.OPS[Me]]=tn.prototype[Me])},(Ae,r,Se)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.TilingPattern=r.PathType=void 0,r.getShadingPattern=t;var Ee=Se(1),Fe=Se(6);const Be={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};r.PathType=Be;function Ve(en,je){if(!je)return;const nn=je[2]-je[0],Ge=je[3]-je[1],Oe=new Path2D;Oe.rect(je[0],je[1],nn,Ge),en.clip(Oe)}class _e{constructor(){this.constructor===_e&&(0,Ee.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,Ee.unreachable)("Abstract method `getPattern` called.")}}class ze extends _e{constructor(je){super(),this._type=je[1],this._bbox=je[2],this._colorStops=je[3],this._p0=je[4],this._p1=je[5],this._r0=je[6],this._r1=je[7],this.matrix=null}_createGradient(je){let nn;this._type==="axial"?nn=je.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(nn=je.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const Ge of this._colorStops)nn.addColorStop(Ge[0],Ge[1]);return nn}getPattern(je,nn,Ge,Oe){let Ce;if(Oe===Be.STROKE||Oe===Be.FILL){const St=nn.current.getClippedPathBoundingBox(Oe,(0,Fe.getCurrentTransform)(je))||[0,0,0,0],rn=Math.ceil(St[2]-St[0])||1,un=Math.ceil(St[3]-St[1])||1,Qe=nn.cachedCanvases.getCanvas("pattern",rn,un,!0),hn=Qe.context;hn.clearRect(0,0,hn.canvas.width,hn.canvas.height),hn.beginPath(),hn.rect(0,0,hn.canvas.width,hn.canvas.height),hn.translate(-St[0],-St[1]),Ge=Ee.Util.transform(Ge,[1,0,0,1,St[0],St[1]]),hn.transform(...nn.baseTransform),this.matrix&&hn.transform(...this.matrix),Ve(hn,this._bbox),hn.fillStyle=this._createGradient(hn),hn.fill(),Ce=je.createPattern(Qe.canvas,"no-repeat");const He=new DOMMatrix(Ge);Ce.setTransform(He)}else Ve(je,this._bbox),Ce=this._createGradient(je);return Ce}}function xe(en,je,nn,Ge,Oe,Ce,St,rn){const un=je.coords,Qe=je.colors,hn=en.data,He=en.width*4;let pn;un[nn+1]>un[Ge+1]&&(pn=nn,nn=Ge,Ge=pn,pn=Ce,Ce=St,St=pn),un[Ge+1]>un[Oe+1]&&(pn=Ge,Ge=Oe,Oe=pn,pn=St,St=rn,rn=pn),un[nn+1]>un[Ge+1]&&(pn=nn,nn=Ge,Ge=pn,pn=Ce,Ce=St,St=pn);const Xe=(un[nn]+je.offsetX)*je.scaleX,fn=(un[nn+1]+je.offsetY)*je.scaleY,dn=(un[Ge]+je.offsetX)*je.scaleX,qe=(un[Ge+1]+je.offsetY)*je.scaleY,tn=(un[Oe]+je.offsetX)*je.scaleX,Me=(un[Oe+1]+je.offsetY)*je.scaleY;if(fn>=Me)return;const De=Qe[Ce],Ue=Qe[Ce+1],We=Qe[Ce+2],$e=Qe[St],on=Qe[St+1],Je=Qe[St+2],an=Qe[rn],Ke=Qe[rn+1],sn=Qe[rn+2],gn=Math.round(fn),mn=Math.round(Me);let yn,Sn,_n,wn,Nn,Tn,Cn,In;for(let Rn=gn;Rn<=mn;Rn++){if(Rn<qe){const Mn=Rn<fn?0:(fn-Rn)/(fn-qe);yn=Xe-(Xe-dn)*Mn,Sn=De-(De-$e)*Mn,_n=Ue-(Ue-on)*Mn,wn=We-(We-Je)*Mn}else{let Mn;Rn>Me?Mn=1:qe===Me?Mn=0:Mn=(qe-Rn)/(qe-Me),yn=dn-(dn-tn)*Mn,Sn=$e-($e-an)*Mn,_n=on-(on-Ke)*Mn,wn=Je-(Je-sn)*Mn}let bn;Rn<fn?bn=0:Rn>Me?bn=1:bn=(fn-Rn)/(fn-Me),Nn=Xe-(Xe-tn)*bn,Tn=De-(De-an)*bn,Cn=Ue-(Ue-Ke)*bn,In=We-(We-sn)*bn;const kn=Math.round(Math.min(yn,Nn)),En=Math.round(Math.max(yn,Nn));let On=He*Rn+kn*4;for(let Mn=kn;Mn<=En;Mn++)bn=(yn-Mn)/(yn-Nn),bn<0?bn=0:bn>1&&(bn=1),hn[On++]=Sn-(Sn-Tn)*bn|0,hn[On++]=_n-(_n-Cn)*bn|0,hn[On++]=wn-(wn-In)*bn|0,hn[On++]=255}}function Ie(en,je,nn){const Ge=je.coords,Oe=je.colors;let Ce,St;switch(je.type){case"lattice":const rn=je.verticesPerRow,un=Math.floor(Ge.length/rn)-1,Qe=rn-1;for(Ce=0;Ce<un;Ce++){let hn=Ce*rn;for(let He=0;He<Qe;He++,hn++)xe(en,nn,Ge[hn],Ge[hn+1],Ge[hn+rn],Oe[hn],Oe[hn+1],Oe[hn+rn]),xe(en,nn,Ge[hn+rn+1],Ge[hn+1],Ge[hn+rn],Oe[hn+rn+1],Oe[hn+1],Oe[hn+rn])}break;case"triangles":for(Ce=0,St=Ge.length;Ce<St;Ce+=3)xe(en,nn,Ge[Ce],Ge[Ce+1],Ge[Ce+2],Oe[Ce],Oe[Ce+1],Oe[Ce+2]);break;default:throw new Error("illegal figure")}}class Re extends _e{constructor(je){super(),this._coords=je[2],this._colors=je[3],this._figures=je[4],this._bounds=je[5],this._bbox=je[7],this._background=je[8],this.matrix=null}_createMeshCanvas(je,nn,Ge){const rn=Math.floor(this._bounds[0]),un=Math.floor(this._bounds[1]),Qe=Math.ceil(this._bounds[2])-rn,hn=Math.ceil(this._bounds[3])-un,He=Math.min(Math.ceil(Math.abs(Qe*je[0]*1.1)),3e3),pn=Math.min(Math.ceil(Math.abs(hn*je[1]*1.1)),3e3),Xe=Qe/He,fn=hn/pn,dn={coords:this._coords,colors:this._colors,offsetX:-rn,offsetY:-un,scaleX:1/Xe,scaleY:1/fn},qe=He+4,tn=pn+4,Me=Ge.getCanvas("mesh",qe,tn,!1),De=Me.context,Ue=De.createImageData(He,pn);if(nn){const $e=Ue.data;for(let on=0,Je=$e.length;on<Je;on+=4)$e[on]=nn[0],$e[on+1]=nn[1],$e[on+2]=nn[2],$e[on+3]=255}for(const $e of this._figures)Ie(Ue,$e,dn);return De.putImageData(Ue,2,2),{canvas:Me.canvas,offsetX:rn-2*Xe,offsetY:un-2*fn,scaleX:Xe,scaleY:fn}}getPattern(je,nn,Ge,Oe){Ve(je,this._bbox);let Ce;if(Oe===Be.SHADING)Ce=Ee.Util.singularValueDecompose2dScale((0,Fe.getCurrentTransform)(je));else if(Ce=Ee.Util.singularValueDecompose2dScale(nn.baseTransform),this.matrix){const rn=Ee.Util.singularValueDecompose2dScale(this.matrix);Ce=[Ce[0]*rn[0],Ce[1]*rn[1]]}const St=this._createMeshCanvas(Ce,Oe===Be.SHADING?null:this._background,nn.cachedCanvases);return Oe!==Be.SHADING&&(je.setTransform(...nn.baseTransform),this.matrix&&je.transform(...this.matrix)),je.translate(St.offsetX,St.offsetY),je.scale(St.scaleX,St.scaleY),je.createPattern(St.canvas,"no-repeat")}}class e extends _e{getPattern(){return"hotpink"}}function t(en){switch(en[0]){case"RadialAxial":return new ze(en);case"Mesh":return new Re(en);case"Dummy":return new e}throw new Error(`Unknown IR type: ${en[0]}`)}const Te={COLORED:1,UNCOLORED:2};class Ye{static MAX_PATTERN_SIZE=3e3;constructor(je,nn,Ge,Oe,Ce){this.operatorList=je[2],this.matrix=je[3]||[1,0,0,1,0,0],this.bbox=je[4],this.xstep=je[5],this.ystep=je[6],this.paintType=je[7],this.tilingType=je[8],this.color=nn,this.ctx=Ge,this.canvasGraphicsFactory=Oe,this.baseTransform=Ce}createPatternCanvas(je){const nn=this.operatorList,Ge=this.bbox,Oe=this.xstep,Ce=this.ystep,St=this.paintType,rn=this.tilingType,un=this.color,Qe=this.canvasGraphicsFactory;(0,Ee.info)("TilingType: "+rn);const hn=Ge[0],He=Ge[1],pn=Ge[2],Xe=Ge[3],fn=Ee.Util.singularValueDecompose2dScale(this.matrix),dn=Ee.Util.singularValueDecompose2dScale(this.baseTransform),qe=[fn[0]*dn[0],fn[1]*dn[1]],tn=this.getSizeAndScale(Oe,this.ctx.canvas.width,qe[0]),Me=this.getSizeAndScale(Ce,this.ctx.canvas.height,qe[1]),De=je.cachedCanvases.getCanvas("pattern",tn.size,Me.size,!0),Ue=De.context,We=Qe.createCanvasGraphics(Ue);We.groupLevel=je.groupLevel,this.setFillAndStrokeStyleToContext(We,St,un);let $e=hn,on=He,Je=pn,an=Xe;return hn<0&&($e=0,Je+=Math.abs(hn)),He<0&&(on=0,an+=Math.abs(He)),Ue.translate(-(tn.scale*$e),-(Me.scale*on)),We.transform(tn.scale,0,0,Me.scale,0,0),Ue.save(),this.clipBbox(We,$e,on,Je,an),We.baseTransform=(0,Fe.getCurrentTransform)(We.ctx),We.executeOperatorList(nn),We.endDrawing(),{canvas:De.canvas,scaleX:tn.scale,scaleY:Me.scale,offsetX:$e,offsetY:on}}getSizeAndScale(je,nn,Ge){je=Math.abs(je);const Oe=Math.max(Ye.MAX_PATTERN_SIZE,nn);let Ce=Math.ceil(je*Ge);return Ce>=Oe?Ce=Oe:Ge=Ce/je,{scale:Ge,size:Ce}}clipBbox(je,nn,Ge,Oe,Ce){const St=Oe-nn,rn=Ce-Ge;je.ctx.rect(nn,Ge,St,rn),je.current.updateRectMinMax((0,Fe.getCurrentTransform)(je.ctx),[nn,Ge,Oe,Ce]),je.clip(),je.endPath()}setFillAndStrokeStyleToContext(je,nn,Ge){const Oe=je.ctx,Ce=je.current;switch(nn){case Te.COLORED:const St=this.ctx;Oe.fillStyle=St.fillStyle,Oe.strokeStyle=St.strokeStyle,Ce.fillColor=St.fillStyle,Ce.strokeColor=St.strokeStyle;break;case Te.UNCOLORED:const rn=Ee.Util.makeHexColor(Ge[0],Ge[1],Ge[2]);Oe.fillStyle=rn,Oe.strokeStyle=rn,Ce.fillColor=rn,Ce.strokeColor=rn;break;default:throw new Ee.FormatError(`Unsupported paint type: ${nn}`)}}getPattern(je,nn,Ge,Oe){let Ce=Ge;Oe!==Be.SHADING&&(Ce=Ee.Util.transform(Ce,nn.baseTransform),this.matrix&&(Ce=Ee.Util.transform(Ce,this.matrix)));const St=this.createPatternCanvas(nn);let rn=new DOMMatrix(Ce);rn=rn.translate(St.offsetX,St.offsetY),rn=rn.scale(1/St.scaleX,1/St.scaleY);const un=je.createPattern(St.canvas,"repeat");return un.setTransform(rn),un}}r.TilingPattern=Ye},(Ae,r,Se)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.convertBlackAndWhiteToRGBA=Be,r.convertToRGBA=Fe,r.grayToRGBA=_e;var Ee=Se(1);function Fe(ze){switch(ze.kind){case Ee.ImageKind.GRAYSCALE_1BPP:return Be(ze);case Ee.ImageKind.RGB_24BPP:return Ve(ze)}return null}function Be({src:ze,srcPos:xe=0,dest:Ie,width:Re,height:e,nonBlackColor:t=4294967295,inverseDecode:Te=!1}){const Ye=Ee.FeatureTest.isLittleEndian?4278190080:255,[en,je]=Te?[t,Ye]:[Ye,t],nn=Re>>3,Ge=Re&7,Oe=ze.length;Ie=new Uint32Array(Ie.buffer);let Ce=0;for(let St=0;St<e;St++){for(const un=xe+nn;xe<un;xe++){const Qe=xe<Oe?ze[xe]:255;Ie[Ce++]=Qe&128?je:en,Ie[Ce++]=Qe&64?je:en,Ie[Ce++]=Qe&32?je:en,Ie[Ce++]=Qe&16?je:en,Ie[Ce++]=Qe&8?je:en,Ie[Ce++]=Qe&4?je:en,Ie[Ce++]=Qe&2?je:en,Ie[Ce++]=Qe&1?je:en}if(Ge===0)continue;const rn=xe<Oe?ze[xe++]:255;for(let un=0;un<Ge;un++)Ie[Ce++]=rn&1<<7-un?je:en}return{srcPos:xe,destPos:Ce}}function Ve({src:ze,srcPos:xe=0,dest:Ie,destPos:Re=0,width:e,height:t}){let Te=0;const Ye=ze.length>>2,en=new Uint32Array(ze.buffer,xe,Ye);if(Ee.FeatureTest.isLittleEndian){for(;Te<Ye-2;Te+=3,Re+=4){const je=en[Te],nn=en[Te+1],Ge=en[Te+2];Ie[Re]=je|4278190080,Ie[Re+1]=je>>>24|nn<<8|4278190080,Ie[Re+2]=nn>>>16|Ge<<16|4278190080,Ie[Re+3]=Ge>>>8|4278190080}for(let je=Te*4,nn=ze.length;je<nn;je+=3)Ie[Re++]=ze[je]|ze[je+1]<<8|ze[je+2]<<16|4278190080}else{for(;Te<Ye-2;Te+=3,Re+=4){const je=en[Te],nn=en[Te+1],Ge=en[Te+2];Ie[Re]=je|255,Ie[Re+1]=je<<24|nn>>>8|255,Ie[Re+2]=nn<<16|Ge>>>16|255,Ie[Re+3]=Ge<<8|255}for(let je=Te*4,nn=ze.length;je<nn;je+=3)Ie[Re++]=ze[je]<<24|ze[je+1]<<16|ze[je+2]<<8|255}return{srcPos:xe,destPos:Re}}function _e(ze,xe){if(Ee.FeatureTest.isLittleEndian)for(let Ie=0,Re=ze.length;Ie<Re;Ie++)xe[Ie]=ze[Ie]*65793|4278190080;else for(let Ie=0,Re=ze.length;Ie<Re;Ie++)xe[Ie]=ze[Ie]*16843008|255}},(Ae,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.GlobalWorkerOptions=void 0;const Se=Object.create(null);r.GlobalWorkerOptions=Se,Se.workerPort=null,Se.workerSrc=""},(Ae,r,Se)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.MessageHandler=void 0;var Ee=Se(1);const Fe={DATA:1,ERROR:2},Be={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Ve(ze){switch(ze instanceof Error||typeof ze=="object"&&ze!==null||(0,Ee.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),ze.name){case"AbortException":return new Ee.AbortException(ze.message);case"MissingPDFException":return new Ee.MissingPDFException(ze.message);case"PasswordException":return new Ee.PasswordException(ze.message,ze.code);case"UnexpectedResponseException":return new Ee.UnexpectedResponseException(ze.message,ze.status);case"UnknownErrorException":return new Ee.UnknownErrorException(ze.message,ze.details);default:return new Ee.UnknownErrorException(ze.message,ze.toString())}}class _e{constructor(xe,Ie,Re){this.sourceName=xe,this.targetName=Ie,this.comObj=Re,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=e=>{const t=e.data;if(t.targetName!==this.sourceName)return;if(t.stream){this.#t(t);return}if(t.callback){const Ye=t.callbackId,en=this.callbackCapabilities[Ye];if(!en)throw new Error(`Cannot resolve callback ${Ye}`);if(delete this.callbackCapabilities[Ye],t.callback===Fe.DATA)en.resolve(t.data);else if(t.callback===Fe.ERROR)en.reject(Ve(t.reason));else throw new Error("Unexpected callback case");return}const Te=this.actionHandler[t.action];if(!Te)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const Ye=this.sourceName,en=t.sourceName;new Promise(function(je){je(Te(t.data))}).then(function(je){Re.postMessage({sourceName:Ye,targetName:en,callback:Fe.DATA,callbackId:t.callbackId,data:je})},function(je){Re.postMessage({sourceName:Ye,targetName:en,callback:Fe.ERROR,callbackId:t.callbackId,reason:Ve(je)})});return}if(t.streamId){this.#e(t);return}Te(t.data)},Re.addEventListener("message",this._onComObjOnMessage)}on(xe,Ie){const Re=this.actionHandler;if(Re[xe])throw new Error(`There is already an actionName called "${xe}"`);Re[xe]=Ie}send(xe,Ie,Re){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:xe,data:Ie},Re)}sendWithPromise(xe,Ie,Re){const e=this.callbackId++,t=new Ee.PromiseCapability;this.callbackCapabilities[e]=t;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:xe,callbackId:e,data:Ie},Re)}catch(Te){t.reject(Te)}return t.promise}sendWithStream(xe,Ie,Re,e){const t=this.streamId++,Te=this.sourceName,Ye=this.targetName,en=this.comObj;return new ReadableStream({start:je=>{const nn=new Ee.PromiseCapability;return this.streamControllers[t]={controller:je,startCall:nn,pullCall:null,cancelCall:null,isClosed:!1},en.postMessage({sourceName:Te,targetName:Ye,action:xe,streamId:t,data:Ie,desiredSize:je.desiredSize},e),nn.promise},pull:je=>{const nn=new Ee.PromiseCapability;return this.streamControllers[t].pullCall=nn,en.postMessage({sourceName:Te,targetName:Ye,stream:Be.PULL,streamId:t,desiredSize:je.desiredSize}),nn.promise},cancel:je=>{(0,Ee.assert)(je instanceof Error,"cancel must have a valid reason");const nn=new Ee.PromiseCapability;return this.streamControllers[t].cancelCall=nn,this.streamControllers[t].isClosed=!0,en.postMessage({sourceName:Te,targetName:Ye,stream:Be.CANCEL,streamId:t,reason:Ve(je)}),nn.promise}},Re)}#e(xe){const Ie=xe.streamId,Re=this.sourceName,e=xe.sourceName,t=this.comObj,Te=this,Ye=this.actionHandler[xe.action],en={enqueue(je,nn=1,Ge){if(this.isCancelled)return;const Oe=this.desiredSize;this.desiredSize-=nn,Oe>0&&this.desiredSize<=0&&(this.sinkCapability=new Ee.PromiseCapability,this.ready=this.sinkCapability.promise),t.postMessage({sourceName:Re,targetName:e,stream:Be.ENQUEUE,streamId:Ie,chunk:je},Ge)},close(){this.isCancelled||(this.isCancelled=!0,t.postMessage({sourceName:Re,targetName:e,stream:Be.CLOSE,streamId:Ie}),delete Te.streamSinks[Ie])},error(je){(0,Ee.assert)(je instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,t.postMessage({sourceName:Re,targetName:e,stream:Be.ERROR,streamId:Ie,reason:Ve(je)}))},sinkCapability:new Ee.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:xe.desiredSize,ready:null};en.sinkCapability.resolve(),en.ready=en.sinkCapability.promise,this.streamSinks[Ie]=en,new Promise(function(je){je(Ye(xe.data,en))}).then(function(){t.postMessage({sourceName:Re,targetName:e,stream:Be.START_COMPLETE,streamId:Ie,success:!0})},function(je){t.postMessage({sourceName:Re,targetName:e,stream:Be.START_COMPLETE,streamId:Ie,reason:Ve(je)})})}#t(xe){const Ie=xe.streamId,Re=this.sourceName,e=xe.sourceName,t=this.comObj,Te=this.streamControllers[Ie],Ye=this.streamSinks[Ie];switch(xe.stream){case Be.START_COMPLETE:xe.success?Te.startCall.resolve():Te.startCall.reject(Ve(xe.reason));break;case Be.PULL_COMPLETE:xe.success?Te.pullCall.resolve():Te.pullCall.reject(Ve(xe.reason));break;case Be.PULL:if(!Ye){t.postMessage({sourceName:Re,targetName:e,stream:Be.PULL_COMPLETE,streamId:Ie,success:!0});break}Ye.desiredSize<=0&&xe.desiredSize>0&&Ye.sinkCapability.resolve(),Ye.desiredSize=xe.desiredSize,new Promise(function(en){en(Ye.onPull?.())}).then(function(){t.postMessage({sourceName:Re,targetName:e,stream:Be.PULL_COMPLETE,streamId:Ie,success:!0})},function(en){t.postMessage({sourceName:Re,targetName:e,stream:Be.PULL_COMPLETE,streamId:Ie,reason:Ve(en)})});break;case Be.ENQUEUE:if((0,Ee.assert)(Te,"enqueue should have stream controller"),Te.isClosed)break;Te.controller.enqueue(xe.chunk);break;case Be.CLOSE:if((0,Ee.assert)(Te,"close should have stream controller"),Te.isClosed)break;Te.isClosed=!0,Te.controller.close(),this.#n(Te,Ie);break;case Be.ERROR:(0,Ee.assert)(Te,"error should have stream controller"),Te.controller.error(Ve(xe.reason)),this.#n(Te,Ie);break;case Be.CANCEL_COMPLETE:xe.success?Te.cancelCall.resolve():Te.cancelCall.reject(Ve(xe.reason)),this.#n(Te,Ie);break;case Be.CANCEL:if(!Ye)break;new Promise(function(en){en(Ye.onCancel?.(Ve(xe.reason)))}).then(function(){t.postMessage({sourceName:Re,targetName:e,stream:Be.CANCEL_COMPLETE,streamId:Ie,success:!0})},function(en){t.postMessage({sourceName:Re,targetName:e,stream:Be.CANCEL_COMPLETE,streamId:Ie,reason:Ve(en)})}),Ye.sinkCapability.reject(Ve(xe.reason)),Ye.isCancelled=!0,delete this.streamSinks[Ie];break;default:throw new Error("Unexpected stream case")}}async#n(xe,Ie){await Promise.allSettled([xe.startCall?.promise,xe.pullCall?.promise,xe.cancelCall?.promise]),delete this.streamControllers[Ie]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}r.MessageHandler=_e},(Ae,r,Se)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.Metadata=void 0;var Ee=Se(1);class Fe{#e;#t;constructor({parsedData:Ve,rawData:_e}){this.#e=Ve,this.#t=_e}getRaw(){return this.#t}get(Ve){return this.#e.get(Ve)??null}getAll(){return(0,Ee.objectFromMap)(this.#e)}has(Ve){return this.#e.has(Ve)}}r.Metadata=Fe},(Ae,r,Se)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.OptionalContentConfig=void 0;var Ee=Se(1),Fe=Se(8);const Be=Symbol("INTERNAL");class Ve{#e=!0;constructor(xe,Ie){this.name=xe,this.intent=Ie}get visible(){return this.#e}_setVisible(xe,Ie){xe!==Be&&(0,Ee.unreachable)("Internal method `_setVisible` called."),this.#e=Ie}}class _e{#e=null;#t=new Map;#n=null;#i=null;constructor(xe){if(this.name=null,this.creator=null,xe!==null){this.name=xe.name,this.creator=xe.creator,this.#i=xe.order;for(const Ie of xe.groups)this.#t.set(Ie.id,new Ve(Ie.name,Ie.intent));if(xe.baseState==="OFF")for(const Ie of this.#t.values())Ie._setVisible(Be,!1);for(const Ie of xe.on)this.#t.get(Ie)._setVisible(Be,!0);for(const Ie of xe.off)this.#t.get(Ie)._setVisible(Be,!1);this.#n=this.getHash()}}#o(xe){const Ie=xe.length;if(Ie<2)return!0;const Re=xe[0];for(let e=1;e<Ie;e++){const t=xe[e];let Te;if(Array.isArray(t))Te=this.#o(t);else if(this.#t.has(t))Te=this.#t.get(t).visible;else return(0,Ee.warn)(`Optional content group not found: ${t}`),!0;switch(Re){case"And":if(!Te)return!1;break;case"Or":if(Te)return!0;break;case"Not":return!Te;default:return!0}}return Re==="And"}isVisible(xe){if(this.#t.size===0)return!0;if(!xe)return(0,Ee.warn)("Optional content group not defined."),!0;if(xe.type==="OCG")return this.#t.has(xe.id)?this.#t.get(xe.id).visible:((0,Ee.warn)(`Optional content group not found: ${xe.id}`),!0);if(xe.type==="OCMD"){if(xe.expression)return this.#o(xe.expression);if(!xe.policy||xe.policy==="AnyOn"){for(const Ie of xe.ids){if(!this.#t.has(Ie))return(0,Ee.warn)(`Optional content group not found: ${Ie}`),!0;if(this.#t.get(Ie).visible)return!0}return!1}else if(xe.policy==="AllOn"){for(const Ie of xe.ids){if(!this.#t.has(Ie))return(0,Ee.warn)(`Optional content group not found: ${Ie}`),!0;if(!this.#t.get(Ie).visible)return!1}return!0}else if(xe.policy==="AnyOff"){for(const Ie of xe.ids){if(!this.#t.has(Ie))return(0,Ee.warn)(`Optional content group not found: ${Ie}`),!0;if(!this.#t.get(Ie).visible)return!0}return!1}else if(xe.policy==="AllOff"){for(const Ie of xe.ids){if(!this.#t.has(Ie))return(0,Ee.warn)(`Optional content group not found: ${Ie}`),!0;if(this.#t.get(Ie).visible)return!1}return!0}return(0,Ee.warn)(`Unknown optional content policy ${xe.policy}.`),!0}return(0,Ee.warn)(`Unknown group type ${xe.type}.`),!0}setVisibility(xe,Ie=!0){if(!this.#t.has(xe)){(0,Ee.warn)(`Optional content group not found: ${xe}`);return}this.#t.get(xe)._setVisible(Be,!!Ie),this.#e=null}get hasInitialVisibility(){return this.#n===null||this.getHash()===this.#n}getOrder(){return this.#t.size?this.#i?this.#i.slice():[...this.#t.keys()]:null}getGroups(){return this.#t.size>0?(0,Ee.objectFromMap)(this.#t):null}getGroup(xe){return this.#t.get(xe)||null}getHash(){if(this.#e!==null)return this.#e;const xe=new Fe.MurmurHash3_64;for(const[Ie,Re]of this.#t)xe.update(`${Ie}:${Re.visible}`);return this.#e=xe.hexdigest()}}r.OptionalContentConfig=_e},(Ae,r,Se)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.PDFDataTransportStream=void 0;var Ee=Se(1),Fe=Se(6);class Be{constructor({length:xe,initialData:Ie,progressiveDone:Re=!1,contentDispositionFilename:e=null,disableRange:t=!1,disableStream:Te=!1},Ye){if((0,Ee.assert)(Ye,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=Re,this._contentDispositionFilename=e,Ie?.length>0){const en=Ie instanceof Uint8Array&&Ie.byteLength===Ie.buffer.byteLength?Ie.buffer:new Uint8Array(Ie).buffer;this._queuedChunks.push(en)}this._pdfDataRangeTransport=Ye,this._isStreamingSupported=!Te,this._isRangeSupported=!t,this._contentLength=xe,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((en,je)=>{this._onReceiveData({begin:en,chunk:je})}),this._pdfDataRangeTransport.addProgressListener((en,je)=>{this._onProgress({loaded:en,total:je})}),this._pdfDataRangeTransport.addProgressiveReadListener(en=>{this._onReceiveData({chunk:en})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:xe,chunk:Ie}){const Re=Ie instanceof Uint8Array&&Ie.byteLength===Ie.buffer.byteLength?Ie.buffer:new Uint8Array(Ie).buffer;if(xe===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(Re):this._queuedChunks.push(Re);else{const e=this._rangeReaders.some(function(t){return t._begin!==xe?!1:(t._enqueue(Re),!0)});(0,Ee.assert)(e,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(xe){xe.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:xe.loaded}):this._fullRequestReader?.onProgress?.({loaded:xe.loaded,total:xe.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(xe){const Ie=this._rangeReaders.indexOf(xe);Ie>=0&&this._rangeReaders.splice(Ie,1)}getFullReader(){(0,Ee.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const xe=this._queuedChunks;return this._queuedChunks=null,new Ve(this,xe,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(xe,Ie){if(Ie<=this._progressiveDataLength)return null;const Re=new _e(this,xe,Ie);return this._pdfDataRangeTransport.requestDataRange(xe,Ie),this._rangeReaders.push(Re),Re}cancelAllRequests(xe){this._fullRequestReader?.cancel(xe);for(const Ie of this._rangeReaders.slice(0))Ie.cancel(xe);this._pdfDataRangeTransport.abort()}}r.PDFDataTransportStream=Be;class Ve{constructor(xe,Ie,Re=!1,e=null){this._stream=xe,this._done=Re||!1,this._filename=(0,Fe.isPdfFile)(e)?e:null,this._queuedChunks=Ie||[],this._loaded=0;for(const t of this._queuedChunks)this._loaded+=t.byteLength;this._requests=[],this._headersReady=Promise.resolve(),xe._fullRequestReader=this,this.onProgress=null}_enqueue(xe){this._done||(this._requests.length>0?this._requests.shift().resolve({value:xe,done:!1}):this._queuedChunks.push(xe),this._loaded+=xe.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const xe=new Ee.PromiseCapability;return this._requests.push(xe),xe.promise}cancel(xe){this._done=!0;for(const Ie of this._requests)Ie.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class _e{constructor(xe,Ie,Re){this._stream=xe,this._begin=Ie,this._end=Re,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(xe){if(!this._done){if(this._requests.length===0)this._queuedChunk=xe;else{this._requests.shift().resolve({value:xe,done:!1});for(const Re of this._requests)Re.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const Ie=this._queuedChunk;return this._queuedChunk=null,{value:Ie,done:!1}}if(this._done)return{value:void 0,done:!0};const xe=new Ee.PromiseCapability;return this._requests.push(xe),xe.promise}cancel(xe){this._done=!0;for(const Ie of this._requests)Ie.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(Ae,r,Se)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.PDFFetchStream=void 0;var Ee=Se(1),Fe=Se(20);function Be(Re,e,t){return{method:"GET",headers:Re,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function Ve(Re){const e=new Headers;for(const t in Re){const Te=Re[t];Te!==void 0&&e.append(t,Te)}return e}function _e(Re){return Re instanceof Uint8Array?Re.buffer:Re instanceof ArrayBuffer?Re:((0,Ee.warn)(`getArrayBuffer - unexpected data format: ${Re}`),new Uint8Array(Re).buffer)}class ze{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,Ee.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new xe(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const Te=new Ie(this,e,t);return this._rangeRequestReaders.push(Te),Te}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}r.PDFFetchStream=ze;class xe{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=new Ee.PromiseCapability,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._headers=Ve(this._stream.httpHeaders);const Te=t.url;fetch(Te,Be(this._headers,this._withCredentials,this._abortController)).then(Ye=>{if(!(0,Fe.validateResponseStatus)(Ye.status))throw(0,Fe.createResponseStatusError)(Ye.status,Te);this._reader=Ye.body.getReader(),this._headersCapability.resolve();const en=Ge=>Ye.headers.get(Ge),{allowRangeRequests:je,suggestedLength:nn}=(0,Fe.validateRangeRequestCapabilities)({getResponseHeader:en,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=je,this._contentLength=nn||this._contentLength,this._filename=(0,Fe.extractFilenameFromHeader)(en),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Ee.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:_e(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}class Ie{constructor(e,t,Te){this._stream=e,this._reader=null,this._loaded=0;const Ye=e.source;this._withCredentials=Ye.withCredentials||!1,this._readCapability=new Ee.PromiseCapability,this._isStreamingSupported=!Ye.disableStream,this._abortController=new AbortController,this._headers=Ve(this._stream.httpHeaders),this._headers.append("Range",`bytes=${t}-${Te-1}`);const en=Ye.url;fetch(en,Be(this._headers,this._withCredentials,this._abortController)).then(je=>{if(!(0,Fe.validateResponseStatus)(je.status))throw(0,Fe.createResponseStatusError)(je.status,en);this._readCapability.resolve(),this._reader=je.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded}),{value:_e(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}},(Ae,r,Se)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.createResponseStatusError=ze,r.extractFilenameFromHeader=_e,r.validateRangeRequestCapabilities=Ve,r.validateResponseStatus=xe;var Ee=Se(1),Fe=Se(21),Be=Se(6);function Ve({getResponseHeader:Ie,isHttp:Re,rangeChunkSize:e,disableRange:t}){const Te={allowRangeRequests:!1,suggestedLength:void 0},Ye=parseInt(Ie("Content-Length"),10);return!Number.isInteger(Ye)||(Te.suggestedLength=Ye,Ye<=2*e)||t||!Re||Ie("Accept-Ranges")!=="bytes"||(Ie("Content-Encoding")||"identity")!=="identity"||(Te.allowRangeRequests=!0),Te}function _e(Ie){const Re=Ie("Content-Disposition");if(Re){let e=(0,Fe.getFilenameFromContentDispositionHeader)(Re);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if((0,Be.isPdfFile)(e))return e}return null}function ze(Ie,Re){return Ie===404||Ie===0&&Re.startsWith("file:")?new Ee.MissingPDFException('Missing PDF "'+Re+'".'):new Ee.UnexpectedResponseException(`Unexpected server response (${Ie}) while retrieving PDF "${Re}".`,Ie)}function xe(Ie){return Ie===200||Ie===206}},(Ae,r,Se)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.getFilenameFromContentDispositionHeader=Fe;var Ee=Se(1);function Fe(Be){let Ve=!0,_e=ze("filename\\*","i").exec(Be);if(_e){_e=_e[1];let Ye=e(_e);return Ye=unescape(Ye),Ye=t(Ye),Ye=Te(Ye),Ie(Ye)}if(_e=Re(Be),_e){const Ye=Te(_e);return Ie(Ye)}if(_e=ze("filename","i").exec(Be),_e){_e=_e[1];let Ye=e(_e);return Ye=Te(Ye),Ie(Ye)}function ze(Ye,en){return new RegExp("(?:^|;)\\s*"+Ye+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',en)}function xe(Ye,en){if(Ye){if(!/^[\x00-\xFF]+$/.test(en))return en;try{const je=new TextDecoder(Ye,{fatal:!0}),nn=(0,Ee.stringToBytes)(en);en=je.decode(nn),Ve=!1}catch{}}return en}function Ie(Ye){return Ve&&/[\x80-\xff]/.test(Ye)&&(Ye=xe("utf-8",Ye),Ve&&(Ye=xe("iso-8859-1",Ye))),Ye}function Re(Ye){const en=[];let je;const nn=ze("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(je=nn.exec(Ye))!==null;){let[,Oe,Ce,St]=je;if(Oe=parseInt(Oe,10),Oe in en){if(Oe===0)break;continue}en[Oe]=[Ce,St]}const Ge=[];for(let Oe=0;Oe<en.length&&Oe in en;++Oe){let[Ce,St]=en[Oe];St=e(St),Ce&&(St=unescape(St),Oe===0&&(St=t(St))),Ge.push(St)}return Ge.join("")}function e(Ye){if(Ye.startsWith('"')){const en=Ye.slice(1).split('\\"');for(let je=0;je<en.length;++je){const nn=en[je].indexOf('"');nn!==-1&&(en[je]=en[je].slice(0,nn),en.length=je+1),en[je]=en[je].replaceAll(/\\(.)/g,"$1")}Ye=en.join('"')}return Ye}function t(Ye){const en=Ye.indexOf("'");if(en===-1)return Ye;const je=Ye.slice(0,en),Ge=Ye.slice(en+1).replace(/^[^']*'/,"");return xe(je,Ge)}function Te(Ye){return!Ye.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(Ye)?Ye:Ye.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(en,je,nn,Ge){if(nn==="q"||nn==="Q")return Ge=Ge.replaceAll("_"," "),Ge=Ge.replaceAll(/=([0-9a-fA-F]{2})/g,function(Oe,Ce){return String.fromCharCode(parseInt(Ce,16))}),xe(je,Ge);try{Ge=atob(Ge)}catch{}return xe(je,Ge)})}return""}},(Ae,r,Se)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.PDFNetworkStream=void 0;var Ee=Se(1),Fe=Se(20);const Be=200,Ve=206;function _e(e){const t=e.response;return typeof t!="string"?t:(0,Ee.stringToBytes)(t).buffer}class ze{constructor(t,Te={}){this.url=t,this.isHttp=/^https?:/i.test(t),this.httpHeaders=this.isHttp&&Te.httpHeaders||Object.create(null),this.withCredentials=Te.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(t,Te,Ye){const en={begin:t,end:Te};for(const je in Ye)en[je]=Ye[je];return this.request(en)}requestFull(t){return this.request(t)}request(t){const Te=new XMLHttpRequest,Ye=this.currXhrId++,en=this.pendingRequests[Ye]={xhr:Te};Te.open("GET",this.url),Te.withCredentials=this.withCredentials;for(const je in this.httpHeaders){const nn=this.httpHeaders[je];nn!==void 0&&Te.setRequestHeader(je,nn)}return this.isHttp&&"begin"in t&&"end"in t?(Te.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),en.expectedStatus=Ve):en.expectedStatus=Be,Te.responseType="arraybuffer",t.onError&&(Te.onerror=function(je){t.onError(Te.status)}),Te.onreadystatechange=this.onStateChange.bind(this,Ye),Te.onprogress=this.onProgress.bind(this,Ye),en.onHeadersReceived=t.onHeadersReceived,en.onDone=t.onDone,en.onError=t.onError,en.onProgress=t.onProgress,Te.send(null),Ye}onProgress(t,Te){const Ye=this.pendingRequests[t];Ye&&Ye.onProgress?.(Te)}onStateChange(t,Te){const Ye=this.pendingRequests[t];if(!Ye)return;const en=Ye.xhr;if(en.readyState>=2&&Ye.onHeadersReceived&&(Ye.onHeadersReceived(),delete Ye.onHeadersReceived),en.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],en.status===0&&this.isHttp){Ye.onError?.(en.status);return}const je=en.status||Be;if(!(je===Be&&Ye.expectedStatus===Ve)&&je!==Ye.expectedStatus){Ye.onError?.(en.status);return}const Ge=_e(en);if(je===Ve){const Oe=en.getResponseHeader("Content-Range"),Ce=/bytes (\d+)-(\d+)\/(\d+)/.exec(Oe);Ye.onDone({begin:parseInt(Ce[1],10),chunk:Ge})}else Ge?Ye.onDone({begin:0,chunk:Ge}):Ye.onError?.(en.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const Te=this.pendingRequests[t].xhr;delete this.pendingRequests[t],Te.abort()}}class xe{constructor(t){this._source=t,this._manager=new ze(t.url,{httpHeaders:t.httpHeaders,withCredentials:t.withCredentials}),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const Te=this._rangeRequestReaders.indexOf(t);Te>=0&&this._rangeRequestReaders.splice(Te,1)}getFullReader(){return(0,Ee.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new Ie(this._manager,this._source),this._fullRequestReader}getRangeReader(t,Te){const Ye=new Re(this._manager,t,Te);return Ye.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(Ye),Ye}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const Te of this._rangeRequestReaders.slice(0))Te.cancel(t)}}r.PDFNetworkStream=xe;class Ie{constructor(t,Te){this._manager=t;const Ye={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=Te.url,this._fullRequestId=t.requestFull(Ye),this._headersReceivedCapability=new Ee.PromiseCapability,this._disableRange=Te.disableRange||!1,this._contentLength=Te.length,this._rangeChunkSize=Te.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,Te=this._manager.getRequestXhr(t),Ye=nn=>Te.getResponseHeader(nn),{allowRangeRequests:en,suggestedLength:je}=(0,Fe.validateRangeRequestCapabilities)({getResponseHeader:Ye,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});en&&(this._isRangeSupported=!0),this._contentLength=je||this._contentLength,this._filename=(0,Fe.extractFilenameFromHeader)(Ye),this._isRangeSupported&&this._manager.abortRequest(t),this._headersReceivedCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const Te of this._requests)Te.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=(0,Fe.createResponseStatusError)(t,this._url),this._headersReceivedCapability.reject(this._storedError);for(const Te of this._requests)Te.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){this.onProgress?.({loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=new Ee.PromiseCapability;return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersReceivedCapability.reject(t);for(const Te of this._requests)Te.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class Re{constructor(t,Te,Ye){this._manager=t;const en={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._requestId=t.requestRange(Te,Ye,en),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(t){const Te=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:Te,done:!1}):this._queuedChunk=Te,this._done=!0;for(const Ye of this._requests)Ye.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError=(0,Fe.createResponseStatusError)(t,this._url);for(const Te of this._requests)Te.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){this.isStreamingSupported||this.onProgress?.({loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const Te=this._queuedChunk;return this._queuedChunk=null,{value:Te,done:!1}}if(this._done)return{value:void 0,done:!0};const t=new Ee.PromiseCapability;return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const Te of this._requests)Te.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(Ae,r,Se)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.PDFNodeStream=void 0;var Ee=Se(1),Fe=Se(20);const Be=/^file:\/\/\/[a-zA-Z]:\//;function Ve(Ye){const en=require$$5,je=en.parse(Ye);return je.protocol==="file:"||je.host?je:/^[a-z]:[/\\]/i.test(Ye)?en.parse(`file:///${Ye}`):(je.host||(je.protocol="file:"),je)}class _e{constructor(en){this.source=en,this.url=Ve(en.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&en.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,Ee.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new t(this):new Re(this),this._fullRequestReader}getRangeReader(en,je){if(je<=this._progressiveDataLength)return null;const nn=this.isFsUrl?new Te(this,en,je):new e(this,en,je);return this._rangeRequestReaders.push(nn),nn}cancelAllRequests(en){this._fullRequestReader?.cancel(en);for(const je of this._rangeRequestReaders.slice(0))je.cancel(en)}}r.PDFNodeStream=_e;class ze{constructor(en){this._url=en.url,this._done=!1,this._storedError=null,this.onProgress=null;const je=en.source;this._contentLength=je.length,this._loaded=0,this._filename=null,this._disableRange=je.disableRange||!1,this._rangeChunkSize=je.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!je.disableStream,this._isRangeSupported=!je.disableRange,this._readableStream=null,this._readCapability=new Ee.PromiseCapability,this._headersCapability=new Ee.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const en=this._readableStream.read();return en===null?(this._readCapability=new Ee.PromiseCapability,this.read()):(this._loaded+=en.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(en).buffer,done:!1})}cancel(en){if(!this._readableStream){this._error(en);return}this._readableStream.destroy(en)}_error(en){this._storedError=en,this._readCapability.resolve()}_setReadableStream(en){this._readableStream=en,en.on("readable",()=>{this._readCapability.resolve()}),en.on("end",()=>{en.destroy(),this._done=!0,this._readCapability.resolve()}),en.on("error",je=>{this._error(je)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Ee.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class xe{constructor(en){this._url=en.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new Ee.PromiseCapability;const je=en.source;this._isStreamingSupported=!je.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const en=this._readableStream.read();return en===null?(this._readCapability=new Ee.PromiseCapability,this.read()):(this._loaded+=en.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(en).buffer,done:!1})}cancel(en){if(!this._readableStream){this._error(en);return}this._readableStream.destroy(en)}_error(en){this._storedError=en,this._readCapability.resolve()}_setReadableStream(en){this._readableStream=en,en.on("readable",()=>{this._readCapability.resolve()}),en.on("end",()=>{en.destroy(),this._done=!0,this._readCapability.resolve()}),en.on("error",je=>{this._error(je)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function Ie(Ye,en){return{protocol:Ye.protocol,auth:Ye.auth,host:Ye.hostname,port:Ye.port,path:Ye.path,method:"GET",headers:en}}class Re extends ze{constructor(en){super(en);const je=nn=>{if(nn.statusCode===404){const St=new Ee.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=St,this._headersCapability.reject(St);return}this._headersCapability.resolve(),this._setReadableStream(nn);const Ge=St=>this._readableStream.headers[St.toLowerCase()],{allowRangeRequests:Oe,suggestedLength:Ce}=(0,Fe.validateRangeRequestCapabilities)({getResponseHeader:Ge,isHttp:en.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=Oe,this._contentLength=Ce||this._contentLength,this._filename=(0,Fe.extractFilenameFromHeader)(Ge)};if(this._request=null,this._url.protocol==="http:"){const nn=require$$5;this._request=nn.request(Ie(this._url,en.httpHeaders),je)}else{const nn=require$$5;this._request=nn.request(Ie(this._url,en.httpHeaders),je)}this._request.on("error",nn=>{this._storedError=nn,this._headersCapability.reject(nn)}),this._request.end()}}class e extends xe{constructor(en,je,nn){super(en),this._httpHeaders={};for(const Oe in en.httpHeaders){const Ce=en.httpHeaders[Oe];Ce!==void 0&&(this._httpHeaders[Oe]=Ce)}this._httpHeaders.Range=`bytes=${je}-${nn-1}`;const Ge=Oe=>{if(Oe.statusCode===404){const Ce=new Ee.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=Ce;return}this._setReadableStream(Oe)};if(this._request=null,this._url.protocol==="http:"){const Oe=require$$5;this._request=Oe.request(Ie(this._url,this._httpHeaders),Ge)}else{const Oe=require$$5;this._request=Oe.request(Ie(this._url,this._httpHeaders),Ge)}this._request.on("error",Oe=>{this._storedError=Oe}),this._request.end()}}class t extends ze{constructor(en){super(en);let je=decodeURIComponent(this._url.path);Be.test(this._url.href)&&(je=je.replace(/^\//,""));const nn=require$$5;nn.lstat(je,(Ge,Oe)=>{if(Ge){Ge.code==="ENOENT"&&(Ge=new Ee.MissingPDFException(`Missing PDF "${je}".`)),this._storedError=Ge,this._headersCapability.reject(Ge);return}this._contentLength=Oe.size,this._setReadableStream(nn.createReadStream(je)),this._headersCapability.resolve()})}}class Te extends xe{constructor(en,je,nn){super(en);let Ge=decodeURIComponent(this._url.path);Be.test(this._url.href)&&(Ge=Ge.replace(/^\//,""));const Oe=require$$5;this._setReadableStream(Oe.createReadStream(Ge,{start:je,end:nn-1}))}}},(Ae,r,Se)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.SVGGraphics=void 0;var Ee=Se(6),Fe=Se(1);const Be={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},Ve="http://www.w3.org/XML/1998/namespace",_e="http://www.w3.org/1999/xlink",ze=["butt","round","square"],xe=["miter","round","bevel"],Ie=function(Oe,Ce="",St=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!St)return URL.createObjectURL(new Blob([Oe],{type:Ce}));const rn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let un=`data:${Ce};base64,`;for(let Qe=0,hn=Oe.length;Qe<hn;Qe+=3){const He=Oe[Qe]&255,pn=Oe[Qe+1]&255,Xe=Oe[Qe+2]&255,fn=He>>2,dn=(He&3)<<4|pn>>4,qe=Qe+1<hn?(pn&15)<<2|Xe>>6:64,tn=Qe+2<hn?Xe&63:64;un+=rn[fn]+rn[dn]+rn[qe]+rn[tn]}return un},Re=function(){const Oe=new Uint8Array([137,80,78,71,13,10,26,10]),Ce=12,St=new Int32Array(256);for(let Xe=0;Xe<256;Xe++){let fn=Xe;for(let dn=0;dn<8;dn++)fn=fn&1?3988292384^fn>>1&2147483647:fn>>1&2147483647;St[Xe]=fn}function rn(Xe,fn,dn){let qe=-1;for(let tn=fn;tn<dn;tn++){const Me=(qe^Xe[tn])&255,De=St[Me];qe=qe>>>8^De}return qe^-1}function un(Xe,fn,dn,qe){let tn=qe;const Me=fn.length;dn[tn]=Me>>24&255,dn[tn+1]=Me>>16&255,dn[tn+2]=Me>>8&255,dn[tn+3]=Me&255,tn+=4,dn[tn]=Xe.charCodeAt(0)&255,dn[tn+1]=Xe.charCodeAt(1)&255,dn[tn+2]=Xe.charCodeAt(2)&255,dn[tn+3]=Xe.charCodeAt(3)&255,tn+=4,dn.set(fn,tn),tn+=fn.length;const De=rn(dn,qe+4,tn);dn[tn]=De>>24&255,dn[tn+1]=De>>16&255,dn[tn+2]=De>>8&255,dn[tn+3]=De&255}function Qe(Xe,fn,dn){let qe=1,tn=0;for(let Me=fn;Me<dn;++Me)qe=(qe+(Xe[Me]&255))%65521,tn=(tn+qe)%65521;return tn<<16|qe}function hn(Xe){if(!Fe.isNodeJS)return He(Xe);try{const fn=parseInt(process.versions.node)>=8?Xe:Buffer.from(Xe),dn=require$$5.deflateSync(fn,{level:9});return dn instanceof Uint8Array?dn:new Uint8Array(dn)}catch(fn){(0,Fe.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+fn)}return He(Xe)}function He(Xe){let fn=Xe.length;const dn=65535,qe=Math.ceil(fn/dn),tn=new Uint8Array(2+fn+qe*5+4);let Me=0;tn[Me++]=120,tn[Me++]=156;let De=0;for(;fn>dn;)tn[Me++]=0,tn[Me++]=255,tn[Me++]=255,tn[Me++]=0,tn[Me++]=0,tn.set(Xe.subarray(De,De+dn),Me),Me+=dn,De+=dn,fn-=dn;tn[Me++]=1,tn[Me++]=fn&255,tn[Me++]=fn>>8&255,tn[Me++]=~fn&65535&255,tn[Me++]=(~fn&65535)>>8&255,tn.set(Xe.subarray(De),Me),Me+=Xe.length-De;const Ue=Qe(Xe,0,Xe.length);return tn[Me++]=Ue>>24&255,tn[Me++]=Ue>>16&255,tn[Me++]=Ue>>8&255,tn[Me++]=Ue&255,tn}function pn(Xe,fn,dn,qe){const tn=Xe.width,Me=Xe.height;let De,Ue,We;const $e=Xe.data;switch(fn){case Fe.ImageKind.GRAYSCALE_1BPP:Ue=0,De=1,We=tn+7>>3;break;case Fe.ImageKind.RGB_24BPP:Ue=2,De=8,We=tn*3;break;case Fe.ImageKind.RGBA_32BPP:Ue=6,De=8,We=tn*4;break;default:throw new Error("invalid format")}const on=new Uint8Array((1+We)*Me);let Je=0,an=0;for(let Sn=0;Sn<Me;++Sn)on[Je++]=0,on.set($e.subarray(an,an+We),Je),an+=We,Je+=We;if(fn===Fe.ImageKind.GRAYSCALE_1BPP&&qe){Je=0;for(let Sn=0;Sn<Me;Sn++){Je++;for(let _n=0;_n<We;_n++)on[Je++]^=255}}const Ke=new Uint8Array([tn>>24&255,tn>>16&255,tn>>8&255,tn&255,Me>>24&255,Me>>16&255,Me>>8&255,Me&255,De,Ue,0,0,0]),sn=hn(on),gn=Oe.length+Ce*3+Ke.length+sn.length,mn=new Uint8Array(gn);let yn=0;return mn.set(Oe,yn),yn+=Oe.length,un("IHDR",Ke,mn,yn),yn+=Ce+Ke.length,un("IDATA",sn,mn,yn),yn+=Ce+sn.length,un("IEND",new Uint8Array(0),mn,yn),Ie(mn,"image/png",dn)}return function(fn,dn,qe){const tn=fn.kind===void 0?Fe.ImageKind.GRAYSCALE_1BPP:fn.kind;return pn(fn,tn,dn,qe)}}();class e{constructor(){this.fontSizeScale=1,this.fontWeight=Be.fontWeight,this.fontSize=0,this.textMatrix=Fe.IDENTITY_MATRIX,this.fontMatrix=Fe.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=Fe.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=Be.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(Ce,St){this.x=Ce,this.y=St}}function t(Oe){let Ce=[];const St=[];for(const rn of Oe){if(rn.fn==="save"){Ce.push({fnId:92,fn:"group",items:[]}),St.push(Ce),Ce=Ce.at(-1).items;continue}rn.fn==="restore"?Ce=St.pop():Ce.push(rn)}return Ce}function Te(Oe){if(Number.isInteger(Oe))return Oe.toString();const Ce=Oe.toFixed(10);let St=Ce.length-1;if(Ce[St]!=="0")return Ce;do St--;while(Ce[St]==="0");return Ce.substring(0,Ce[St]==="."?St:St+1)}function Ye(Oe){if(Oe[4]===0&&Oe[5]===0){if(Oe[1]===0&&Oe[2]===0)return Oe[0]===1&&Oe[3]===1?"":`scale(${Te(Oe[0])} ${Te(Oe[3])})`;if(Oe[0]===Oe[3]&&Oe[1]===-Oe[2]){const Ce=Math.acos(Oe[0])*180/Math.PI;return`rotate(${Te(Ce)})`}}else if(Oe[0]===1&&Oe[1]===0&&Oe[2]===0&&Oe[3]===1)return`translate(${Te(Oe[4])} ${Te(Oe[5])})`;return`matrix(${Te(Oe[0])} ${Te(Oe[1])} ${Te(Oe[2])} ${Te(Oe[3])} ${Te(Oe[4])} ${Te(Oe[5])})`}let en=0,je=0,nn=0;class Ge{constructor(Ce,St,rn=!1){(0,Ee.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new Ee.DOMSVGFactory,this.current=new e,this.transformMatrix=Fe.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=Ce,this.objs=St,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!rn,this._operatorIdMapping=[];for(const un in Fe.OPS)this._operatorIdMapping[Fe.OPS[un]]=un}getObject(Ce,St=null){return typeof Ce=="string"?Ce.startsWith("g_")?this.commonObjs.get(Ce):this.objs.get(Ce):St}save(){this.transformStack.push(this.transformMatrix);const Ce=this.current;this.extraStack.push(Ce),this.current=Ce.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(Ce){this.save(),this.executeOpTree(Ce),this.restore()}loadDependencies(Ce){const St=Ce.fnArray,rn=Ce.argsArray;for(let un=0,Qe=St.length;un<Qe;un++)if(St[un]===Fe.OPS.dependency)for(const hn of rn[un]){const He=hn.startsWith("g_")?this.commonObjs:this.objs,pn=new Promise(Xe=>{He.get(hn,Xe)});this.current.dependencies.push(pn)}return Promise.all(this.current.dependencies)}transform(Ce,St,rn,un,Qe,hn){const He=[Ce,St,rn,un,Qe,hn];this.transformMatrix=Fe.Util.transform(this.transformMatrix,He),this.tgrp=null}getSVG(Ce,St){this.viewport=St;const rn=this._initialize(St);return this.loadDependencies(Ce).then(()=>(this.transformMatrix=Fe.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(Ce)),rn))}convertOpList(Ce){const St=this._operatorIdMapping,rn=Ce.argsArray,un=Ce.fnArray,Qe=[];for(let hn=0,He=un.length;hn<He;hn++){const pn=un[hn];Qe.push({fnId:pn,fn:St[pn],args:rn[hn]})}return t(Qe)}executeOpTree(Ce){for(const St of Ce){const rn=St.fn,un=St.fnId,Qe=St.args;switch(un|0){case Fe.OPS.beginText:this.beginText();break;case Fe.OPS.dependency:break;case Fe.OPS.setLeading:this.setLeading(Qe);break;case Fe.OPS.setLeadingMoveText:this.setLeadingMoveText(Qe[0],Qe[1]);break;case Fe.OPS.setFont:this.setFont(Qe);break;case Fe.OPS.showText:this.showText(Qe[0]);break;case Fe.OPS.showSpacedText:this.showText(Qe[0]);break;case Fe.OPS.endText:this.endText();break;case Fe.OPS.moveText:this.moveText(Qe[0],Qe[1]);break;case Fe.OPS.setCharSpacing:this.setCharSpacing(Qe[0]);break;case Fe.OPS.setWordSpacing:this.setWordSpacing(Qe[0]);break;case Fe.OPS.setHScale:this.setHScale(Qe[0]);break;case Fe.OPS.setTextMatrix:this.setTextMatrix(Qe[0],Qe[1],Qe[2],Qe[3],Qe[4],Qe[5]);break;case Fe.OPS.setTextRise:this.setTextRise(Qe[0]);break;case Fe.OPS.setTextRenderingMode:this.setTextRenderingMode(Qe[0]);break;case Fe.OPS.setLineWidth:this.setLineWidth(Qe[0]);break;case Fe.OPS.setLineJoin:this.setLineJoin(Qe[0]);break;case Fe.OPS.setLineCap:this.setLineCap(Qe[0]);break;case Fe.OPS.setMiterLimit:this.setMiterLimit(Qe[0]);break;case Fe.OPS.setFillRGBColor:this.setFillRGBColor(Qe[0],Qe[1],Qe[2]);break;case Fe.OPS.setStrokeRGBColor:this.setStrokeRGBColor(Qe[0],Qe[1],Qe[2]);break;case Fe.OPS.setStrokeColorN:this.setStrokeColorN(Qe);break;case Fe.OPS.setFillColorN:this.setFillColorN(Qe);break;case Fe.OPS.shadingFill:this.shadingFill(Qe[0]);break;case Fe.OPS.setDash:this.setDash(Qe[0],Qe[1]);break;case Fe.OPS.setRenderingIntent:this.setRenderingIntent(Qe[0]);break;case Fe.OPS.setFlatness:this.setFlatness(Qe[0]);break;case Fe.OPS.setGState:this.setGState(Qe[0]);break;case Fe.OPS.fill:this.fill();break;case Fe.OPS.eoFill:this.eoFill();break;case Fe.OPS.stroke:this.stroke();break;case Fe.OPS.fillStroke:this.fillStroke();break;case Fe.OPS.eoFillStroke:this.eoFillStroke();break;case Fe.OPS.clip:this.clip("nonzero");break;case Fe.OPS.eoClip:this.clip("evenodd");break;case Fe.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case Fe.OPS.paintImageXObject:this.paintImageXObject(Qe[0]);break;case Fe.OPS.paintInlineImageXObject:this.paintInlineImageXObject(Qe[0]);break;case Fe.OPS.paintImageMaskXObject:this.paintImageMaskXObject(Qe[0]);break;case Fe.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(Qe[0],Qe[1]);break;case Fe.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case Fe.OPS.closePath:this.closePath();break;case Fe.OPS.closeStroke:this.closeStroke();break;case Fe.OPS.closeFillStroke:this.closeFillStroke();break;case Fe.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case Fe.OPS.nextLine:this.nextLine();break;case Fe.OPS.transform:this.transform(Qe[0],Qe[1],Qe[2],Qe[3],Qe[4],Qe[5]);break;case Fe.OPS.constructPath:this.constructPath(Qe[0],Qe[1]);break;case Fe.OPS.endPath:this.endPath();break;case 92:this.group(St.items);break;default:(0,Fe.warn)(`Unimplemented operator ${rn}`);break}}}setWordSpacing(Ce){this.current.wordSpacing=Ce}setCharSpacing(Ce){this.current.charSpacing=Ce}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(Ce,St,rn,un,Qe,hn){const He=this.current;He.textMatrix=He.lineMatrix=[Ce,St,rn,un,Qe,hn],He.textMatrixScale=Math.hypot(Ce,St),He.x=He.lineX=0,He.y=He.lineY=0,He.xcoords=[],He.ycoords=[],He.tspan=this.svgFactory.createElement("svg:tspan"),He.tspan.setAttributeNS(null,"font-family",He.fontFamily),He.tspan.setAttributeNS(null,"font-size",`${Te(He.fontSize)}px`),He.tspan.setAttributeNS(null,"y",Te(-He.y)),He.txtElement=this.svgFactory.createElement("svg:text"),He.txtElement.append(He.tspan)}beginText(){const Ce=this.current;Ce.x=Ce.lineX=0,Ce.y=Ce.lineY=0,Ce.textMatrix=Fe.IDENTITY_MATRIX,Ce.lineMatrix=Fe.IDENTITY_MATRIX,Ce.textMatrixScale=1,Ce.tspan=this.svgFactory.createElement("svg:tspan"),Ce.txtElement=this.svgFactory.createElement("svg:text"),Ce.txtgrp=this.svgFactory.createElement("svg:g"),Ce.xcoords=[],Ce.ycoords=[]}moveText(Ce,St){const rn=this.current;rn.x=rn.lineX+=Ce,rn.y=rn.lineY+=St,rn.xcoords=[],rn.ycoords=[],rn.tspan=this.svgFactory.createElement("svg:tspan"),rn.tspan.setAttributeNS(null,"font-family",rn.fontFamily),rn.tspan.setAttributeNS(null,"font-size",`${Te(rn.fontSize)}px`),rn.tspan.setAttributeNS(null,"y",Te(-rn.y))}showText(Ce){const St=this.current,rn=St.font,un=St.fontSize;if(un===0)return;const Qe=St.fontSizeScale,hn=St.charSpacing,He=St.wordSpacing,pn=St.fontDirection,Xe=St.textHScale*pn,fn=rn.vertical,dn=fn?1:-1,qe=rn.defaultVMetrics,tn=un*St.fontMatrix[0];let Me=0;for(const We of Ce){if(We===null){Me+=pn*He;continue}else if(typeof We=="number"){Me+=dn*We*un/1e3;continue}const $e=(We.isSpace?He:0)+hn,on=We.fontChar;let Je,an,Ke=We.width;if(fn){let gn;const mn=We.vmetric||qe;gn=We.vmetric?mn[1]:Ke*.5,gn=-gn*tn;const yn=mn[2]*tn;Ke=mn?-mn[0]:Ke,Je=gn/Qe,an=(Me+yn)/Qe}else Je=Me/Qe,an=0;(We.isInFont||rn.missingFile)&&(St.xcoords.push(St.x+Je),fn&&St.ycoords.push(-St.y+an),St.tspan.textContent+=on);const sn=fn?Ke*tn-$e*pn:Ke*tn+$e*pn;Me+=sn}St.tspan.setAttributeNS(null,"x",St.xcoords.map(Te).join(" ")),fn?St.tspan.setAttributeNS(null,"y",St.ycoords.map(Te).join(" ")):St.tspan.setAttributeNS(null,"y",Te(-St.y)),fn?St.y-=Me:St.x+=Me*Xe,St.tspan.setAttributeNS(null,"font-family",St.fontFamily),St.tspan.setAttributeNS(null,"font-size",`${Te(St.fontSize)}px`),St.fontStyle!==Be.fontStyle&&St.tspan.setAttributeNS(null,"font-style",St.fontStyle),St.fontWeight!==Be.fontWeight&&St.tspan.setAttributeNS(null,"font-weight",St.fontWeight);const De=St.textRenderingMode&Fe.TextRenderingMode.FILL_STROKE_MASK;if(De===Fe.TextRenderingMode.FILL||De===Fe.TextRenderingMode.FILL_STROKE?(St.fillColor!==Be.fillColor&&St.tspan.setAttributeNS(null,"fill",St.fillColor),St.fillAlpha<1&&St.tspan.setAttributeNS(null,"fill-opacity",St.fillAlpha)):St.textRenderingMode===Fe.TextRenderingMode.ADD_TO_PATH?St.tspan.setAttributeNS(null,"fill","transparent"):St.tspan.setAttributeNS(null,"fill","none"),De===Fe.TextRenderingMode.STROKE||De===Fe.TextRenderingMode.FILL_STROKE){const We=1/(St.textMatrixScale||1);this._setStrokeAttributes(St.tspan,We)}let Ue=St.textMatrix;St.textRise!==0&&(Ue=Ue.slice(),Ue[5]+=St.textRise),St.txtElement.setAttributeNS(null,"transform",`${Ye(Ue)} scale(${Te(Xe)}, -1)`),St.txtElement.setAttributeNS(Ve,"xml:space","preserve"),St.txtElement.append(St.tspan),St.txtgrp.append(St.txtElement),this._ensureTransformGroup().append(St.txtElement)}setLeadingMoveText(Ce,St){this.setLeading(-St),this.moveText(Ce,St)}addFontStyle(Ce){if(!Ce.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const St=Ie(Ce.data,Ce.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${Ce.loadedName}"; src: url(${St}); }
`}setFont(Ce){const St=this.current,rn=this.commonObjs.get(Ce[0]);let un=Ce[1];St.font=rn,this.embedFonts&&!rn.missingFile&&!this.embeddedFonts[rn.loadedName]&&(this.addFontStyle(rn),this.embeddedFonts[rn.loadedName]=rn),St.fontMatrix=rn.fontMatrix||Fe.FONT_IDENTITY_MATRIX;let Qe="normal";rn.black?Qe="900":rn.bold&&(Qe="bold");const hn=rn.italic?"italic":"normal";un<0?(un=-un,St.fontDirection=-1):St.fontDirection=1,St.fontSize=un,St.fontFamily=rn.loadedName,St.fontWeight=Qe,St.fontStyle=hn,St.tspan=this.svgFactory.createElement("svg:tspan"),St.tspan.setAttributeNS(null,"y",Te(-St.y)),St.xcoords=[],St.ycoords=[]}endText(){const Ce=this.current;Ce.textRenderingMode&Fe.TextRenderingMode.ADD_TO_PATH_FLAG&&Ce.txtElement?.hasChildNodes()&&(Ce.element=Ce.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(Ce){Ce>0&&(this.current.lineWidth=Ce)}setLineCap(Ce){this.current.lineCap=ze[Ce]}setLineJoin(Ce){this.current.lineJoin=xe[Ce]}setMiterLimit(Ce){this.current.miterLimit=Ce}setStrokeAlpha(Ce){this.current.strokeAlpha=Ce}setStrokeRGBColor(Ce,St,rn){this.current.strokeColor=Fe.Util.makeHexColor(Ce,St,rn)}setFillAlpha(Ce){this.current.fillAlpha=Ce}setFillRGBColor(Ce,St,rn){this.current.fillColor=Fe.Util.makeHexColor(Ce,St,rn),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(Ce){this.current.strokeColor=this._makeColorN_Pattern(Ce)}setFillColorN(Ce){this.current.fillColor=this._makeColorN_Pattern(Ce)}shadingFill(Ce){const{width:St,height:rn}=this.viewport,un=Fe.Util.inverseTransform(this.transformMatrix),[Qe,hn,He,pn]=Fe.Util.getAxialAlignedBoundingBox([0,0,St,rn],un),Xe=this.svgFactory.createElement("svg:rect");Xe.setAttributeNS(null,"x",Qe),Xe.setAttributeNS(null,"y",hn),Xe.setAttributeNS(null,"width",He-Qe),Xe.setAttributeNS(null,"height",pn-hn),Xe.setAttributeNS(null,"fill",this._makeShadingPattern(Ce)),this.current.fillAlpha<1&&Xe.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(Xe)}_makeColorN_Pattern(Ce){return Ce[0]==="TilingPattern"?this._makeTilingPattern(Ce):this._makeShadingPattern(Ce)}_makeTilingPattern(Ce){const St=Ce[1],rn=Ce[2],un=Ce[3]||Fe.IDENTITY_MATRIX,[Qe,hn,He,pn]=Ce[4],Xe=Ce[5],fn=Ce[6],dn=Ce[7],qe=`shading${nn++}`,[tn,Me,De,Ue]=Fe.Util.normalizeRect([...Fe.Util.applyTransform([Qe,hn],un),...Fe.Util.applyTransform([He,pn],un)]),[We,$e]=Fe.Util.singularValueDecompose2dScale(un),on=Xe*We,Je=fn*$e,an=this.svgFactory.createElement("svg:pattern");an.setAttributeNS(null,"id",qe),an.setAttributeNS(null,"patternUnits","userSpaceOnUse"),an.setAttributeNS(null,"width",on),an.setAttributeNS(null,"height",Je),an.setAttributeNS(null,"x",`${tn}`),an.setAttributeNS(null,"y",`${Me}`);const Ke=this.svg,sn=this.transformMatrix,gn=this.current.fillColor,mn=this.current.strokeColor,yn=this.svgFactory.create(De-tn,Ue-Me);if(this.svg=yn,this.transformMatrix=un,dn===2){const Sn=Fe.Util.makeHexColor(...St);this.current.fillColor=Sn,this.current.strokeColor=Sn}return this.executeOpTree(this.convertOpList(rn)),this.svg=Ke,this.transformMatrix=sn,this.current.fillColor=gn,this.current.strokeColor=mn,an.append(yn.childNodes[0]),this.defs.append(an),`url(#${qe})`}_makeShadingPattern(Ce){switch(typeof Ce=="string"&&(Ce=this.objs.get(Ce)),Ce[0]){case"RadialAxial":const St=`shading${nn++}`,rn=Ce[3];let un;switch(Ce[1]){case"axial":const Qe=Ce[4],hn=Ce[5];un=this.svgFactory.createElement("svg:linearGradient"),un.setAttributeNS(null,"id",St),un.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),un.setAttributeNS(null,"x1",Qe[0]),un.setAttributeNS(null,"y1",Qe[1]),un.setAttributeNS(null,"x2",hn[0]),un.setAttributeNS(null,"y2",hn[1]);break;case"radial":const He=Ce[4],pn=Ce[5],Xe=Ce[6],fn=Ce[7];un=this.svgFactory.createElement("svg:radialGradient"),un.setAttributeNS(null,"id",St),un.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),un.setAttributeNS(null,"cx",pn[0]),un.setAttributeNS(null,"cy",pn[1]),un.setAttributeNS(null,"r",fn),un.setAttributeNS(null,"fx",He[0]),un.setAttributeNS(null,"fy",He[1]),un.setAttributeNS(null,"fr",Xe);break;default:throw new Error(`Unknown RadialAxial type: ${Ce[1]}`)}for(const Qe of rn){const hn=this.svgFactory.createElement("svg:stop");hn.setAttributeNS(null,"offset",Qe[0]),hn.setAttributeNS(null,"stop-color",Qe[1]),un.append(hn)}return this.defs.append(un),`url(#${St})`;case"Mesh":return(0,Fe.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${Ce[0]}`)}}setDash(Ce,St){this.current.dashArray=Ce,this.current.dashPhase=St}constructPath(Ce,St){const rn=this.current;let un=rn.x,Qe=rn.y,hn=[],He=0;for(const pn of Ce)switch(pn|0){case Fe.OPS.rectangle:un=St[He++],Qe=St[He++];const Xe=St[He++],fn=St[He++],dn=un+Xe,qe=Qe+fn;hn.push("M",Te(un),Te(Qe),"L",Te(dn),Te(Qe),"L",Te(dn),Te(qe),"L",Te(un),Te(qe),"Z");break;case Fe.OPS.moveTo:un=St[He++],Qe=St[He++],hn.push("M",Te(un),Te(Qe));break;case Fe.OPS.lineTo:un=St[He++],Qe=St[He++],hn.push("L",Te(un),Te(Qe));break;case Fe.OPS.curveTo:un=St[He+4],Qe=St[He+5],hn.push("C",Te(St[He]),Te(St[He+1]),Te(St[He+2]),Te(St[He+3]),Te(un),Te(Qe)),He+=6;break;case Fe.OPS.curveTo2:hn.push("C",Te(un),Te(Qe),Te(St[He]),Te(St[He+1]),Te(St[He+2]),Te(St[He+3])),un=St[He+2],Qe=St[He+3],He+=4;break;case Fe.OPS.curveTo3:un=St[He+2],Qe=St[He+3],hn.push("C",Te(St[He]),Te(St[He+1]),Te(un),Te(Qe),Te(un),Te(Qe)),He+=4;break;case Fe.OPS.closePath:hn.push("Z");break}hn=hn.join(" "),rn.path&&Ce.length>0&&Ce[0]!==Fe.OPS.rectangle&&Ce[0]!==Fe.OPS.moveTo?hn=rn.path.getAttributeNS(null,"d")+hn:(rn.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(rn.path)),rn.path.setAttributeNS(null,"d",hn),rn.path.setAttributeNS(null,"fill","none"),rn.element=rn.path,rn.setCurrentPoint(un,Qe)}endPath(){const Ce=this.current;if(Ce.path=null,!this.pendingClip)return;if(!Ce.element){this.pendingClip=null;return}const St=`clippath${en++}`,rn=this.svgFactory.createElement("svg:clipPath");rn.setAttributeNS(null,"id",St),rn.setAttributeNS(null,"transform",Ye(this.transformMatrix));const un=Ce.element.cloneNode(!0);if(this.pendingClip==="evenodd"?un.setAttributeNS(null,"clip-rule","evenodd"):un.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,rn.append(un),this.defs.append(rn),Ce.activeClipUrl){Ce.clipGroup=null;for(const Qe of this.extraStack)Qe.clipGroup=null;rn.setAttributeNS(null,"clip-path",Ce.activeClipUrl)}Ce.activeClipUrl=`url(#${St})`,this.tgrp=null}clip(Ce){this.pendingClip=Ce}closePath(){const Ce=this.current;if(Ce.path){const St=`${Ce.path.getAttributeNS(null,"d")}Z`;Ce.path.setAttributeNS(null,"d",St)}}setLeading(Ce){this.current.leading=-Ce}setTextRise(Ce){this.current.textRise=Ce}setTextRenderingMode(Ce){this.current.textRenderingMode=Ce}setHScale(Ce){this.current.textHScale=Ce/100}setRenderingIntent(Ce){}setFlatness(Ce){}setGState(Ce){for(const[St,rn]of Ce)switch(St){case"LW":this.setLineWidth(rn);break;case"LC":this.setLineCap(rn);break;case"LJ":this.setLineJoin(rn);break;case"ML":this.setMiterLimit(rn);break;case"D":this.setDash(rn[0],rn[1]);break;case"RI":this.setRenderingIntent(rn);break;case"FL":this.setFlatness(rn);break;case"Font":this.setFont(rn);break;case"CA":this.setStrokeAlpha(rn);break;case"ca":this.setFillAlpha(rn);break;default:(0,Fe.warn)(`Unimplemented graphic state operator ${St}`);break}}fill(){const Ce=this.current;Ce.element&&(Ce.element.setAttributeNS(null,"fill",Ce.fillColor),Ce.element.setAttributeNS(null,"fill-opacity",Ce.fillAlpha),this.endPath())}stroke(){const Ce=this.current;Ce.element&&(this._setStrokeAttributes(Ce.element),Ce.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(Ce,St=1){const rn=this.current;let un=rn.dashArray;St!==1&&un.length>0&&(un=un.map(function(Qe){return St*Qe})),Ce.setAttributeNS(null,"stroke",rn.strokeColor),Ce.setAttributeNS(null,"stroke-opacity",rn.strokeAlpha),Ce.setAttributeNS(null,"stroke-miterlimit",Te(rn.miterLimit)),Ce.setAttributeNS(null,"stroke-linecap",rn.lineCap),Ce.setAttributeNS(null,"stroke-linejoin",rn.lineJoin),Ce.setAttributeNS(null,"stroke-width",Te(St*rn.lineWidth)+"px"),Ce.setAttributeNS(null,"stroke-dasharray",un.map(Te).join(" ")),Ce.setAttributeNS(null,"stroke-dashoffset",Te(St*rn.dashPhase)+"px")}eoFill(){this.current.element?.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element?.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const Ce=this.svgFactory.createElement("svg:rect");Ce.setAttributeNS(null,"x","0"),Ce.setAttributeNS(null,"y","0"),Ce.setAttributeNS(null,"width","1px"),Ce.setAttributeNS(null,"height","1px"),Ce.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(Ce)}paintImageXObject(Ce){const St=this.getObject(Ce);if(!St){(0,Fe.warn)(`Dependent image with object ID ${Ce} is not ready yet`);return}this.paintInlineImageXObject(St)}paintInlineImageXObject(Ce,St){const rn=Ce.width,un=Ce.height,Qe=Re(Ce,this.forceDataSchema,!!St),hn=this.svgFactory.createElement("svg:rect");hn.setAttributeNS(null,"x","0"),hn.setAttributeNS(null,"y","0"),hn.setAttributeNS(null,"width",Te(rn)),hn.setAttributeNS(null,"height",Te(un)),this.current.element=hn,this.clip("nonzero");const He=this.svgFactory.createElement("svg:image");He.setAttributeNS(_e,"xlink:href",Qe),He.setAttributeNS(null,"x","0"),He.setAttributeNS(null,"y",Te(-un)),He.setAttributeNS(null,"width",Te(rn)+"px"),He.setAttributeNS(null,"height",Te(un)+"px"),He.setAttributeNS(null,"transform",`scale(${Te(1/rn)} ${Te(-1/un)})`),St?St.append(He):this._ensureTransformGroup().append(He)}paintImageMaskXObject(Ce){const St=this.getObject(Ce.data,Ce);if(St.bitmap){(0,Fe.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const rn=this.current,un=St.width,Qe=St.height,hn=rn.fillColor;rn.maskId=`mask${je++}`;const He=this.svgFactory.createElement("svg:mask");He.setAttributeNS(null,"id",rn.maskId);const pn=this.svgFactory.createElement("svg:rect");pn.setAttributeNS(null,"x","0"),pn.setAttributeNS(null,"y","0"),pn.setAttributeNS(null,"width",Te(un)),pn.setAttributeNS(null,"height",Te(Qe)),pn.setAttributeNS(null,"fill",hn),pn.setAttributeNS(null,"mask",`url(#${rn.maskId})`),this.defs.append(He),this._ensureTransformGroup().append(pn),this.paintInlineImageXObject(St,He)}paintFormXObjectBegin(Ce,St){if(Array.isArray(Ce)&&Ce.length===6&&this.transform(Ce[0],Ce[1],Ce[2],Ce[3],Ce[4],Ce[5]),St){const rn=St[2]-St[0],un=St[3]-St[1],Qe=this.svgFactory.createElement("svg:rect");Qe.setAttributeNS(null,"x",St[0]),Qe.setAttributeNS(null,"y",St[1]),Qe.setAttributeNS(null,"width",Te(rn)),Qe.setAttributeNS(null,"height",Te(un)),this.current.element=Qe,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(Ce){const St=this.svgFactory.create(Ce.width,Ce.height),rn=this.svgFactory.createElement("svg:defs");St.append(rn),this.defs=rn;const un=this.svgFactory.createElement("svg:g");return un.setAttributeNS(null,"transform",Ye(Ce.transform)),St.append(un),this.svg=un,St}_ensureClipGroup(){if(!this.current.clipGroup){const Ce=this.svgFactory.createElement("svg:g");Ce.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(Ce),this.current.clipGroup=Ce}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",Ye(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}r.SVGGraphics=Ge},(Ae,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.XfaText=void 0;class Se{static textContent(Fe){const Be=[],Ve={items:Be,styles:Object.create(null)};function _e(ze){if(!ze)return;let xe=null;const Ie=ze.name;if(Ie==="#text")xe=ze.value;else if(Se.shouldBuildText(Ie))ze?.attributes?.textContent?xe=ze.attributes.textContent:ze.value&&(xe=ze.value);else return;if(xe!==null&&Be.push({str:xe}),!!ze.children)for(const Re of ze.children)_e(Re)}return _e(Fe),Ve}static shouldBuildText(Fe){return!(Fe==="textarea"||Fe==="input"||Fe==="option"||Fe==="select")}}r.XfaText=Se},(Ae,r,Se)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.TextLayerRenderTask=void 0,r.renderTextLayer=Ye,r.updateTextLayer=en;var Ee=Se(1),Fe=Se(6);const Be=1e5,Ve=30,_e=.8,ze=new Map;function xe(je,nn){let Ge;if(nn&&Ee.FeatureTest.isOffscreenCanvasSupported)Ge=new OffscreenCanvas(je,je).getContext("2d",{alpha:!1});else{const Oe=document.createElement("canvas");Oe.width=Oe.height=je,Ge=Oe.getContext("2d",{alpha:!1})}return Ge}function Ie(je,nn){const Ge=ze.get(je);if(Ge)return Ge;const Oe=xe(Ve,nn);Oe.font=`${Ve}px ${je}`;const Ce=Oe.measureText("");let St=Ce.fontBoundingBoxAscent,rn=Math.abs(Ce.fontBoundingBoxDescent);if(St){const Qe=St/(St+rn);return ze.set(je,Qe),Oe.canvas.width=Oe.canvas.height=0,Qe}Oe.strokeStyle="red",Oe.clearRect(0,0,Ve,Ve),Oe.strokeText("g",0,0);let un=Oe.getImageData(0,0,Ve,Ve).data;rn=0;for(let Qe=un.length-1-3;Qe>=0;Qe-=4)if(un[Qe]>0){rn=Math.ceil(Qe/4/Ve);break}Oe.clearRect(0,0,Ve,Ve),Oe.strokeText("A",0,Ve),un=Oe.getImageData(0,0,Ve,Ve).data,St=0;for(let Qe=0,hn=un.length;Qe<hn;Qe+=4)if(un[Qe]>0){St=Ve-Math.floor(Qe/4/Ve);break}if(Oe.canvas.width=Oe.canvas.height=0,St){const Qe=St/(St+rn);return ze.set(je,Qe),Qe}return ze.set(je,_e),_e}function Re(je,nn,Ge){const Oe=document.createElement("span"),Ce={angle:0,canvasWidth:0,hasText:nn.str!=="",hasEOL:nn.hasEOL,fontSize:0};je._textDivs.push(Oe);const St=Ee.Util.transform(je._transform,nn.transform);let rn=Math.atan2(St[1],St[0]);const un=Ge[nn.fontName];un.vertical&&(rn+=Math.PI/2);const Qe=Math.hypot(St[2],St[3]),hn=Qe*Ie(un.fontFamily,je._isOffscreenCanvasSupported);let He,pn;rn===0?(He=St[4],pn=St[5]-hn):(He=St[4]+hn*Math.sin(rn),pn=St[5]-hn*Math.cos(rn));const Xe="calc(var(--scale-factor)*",fn=Oe.style;je._container===je._rootContainer?(fn.left=`${(100*He/je._pageWidth).toFixed(2)}%`,fn.top=`${(100*pn/je._pageHeight).toFixed(2)}%`):(fn.left=`${Xe}${He.toFixed(2)}px)`,fn.top=`${Xe}${pn.toFixed(2)}px)`),fn.fontSize=`${Xe}${Qe.toFixed(2)}px)`,fn.fontFamily=un.fontFamily,Ce.fontSize=Qe,Oe.setAttribute("role","presentation"),Oe.textContent=nn.str,Oe.dir=nn.dir,je._fontInspectorEnabled&&(Oe.dataset.fontName=nn.fontName),rn!==0&&(Ce.angle=rn*(180/Math.PI));let dn=!1;if(nn.str.length>1)dn=!0;else if(nn.str!==" "&&nn.transform[0]!==nn.transform[3]){const qe=Math.abs(nn.transform[0]),tn=Math.abs(nn.transform[3]);qe!==tn&&Math.max(qe,tn)/Math.min(qe,tn)>1.5&&(dn=!0)}dn&&(Ce.canvasWidth=un.vertical?nn.height:nn.width),je._textDivProperties.set(Oe,Ce),je._isReadableStream&&je._layoutText(Oe)}function e(je){const{div:nn,scale:Ge,properties:Oe,ctx:Ce,prevFontSize:St,prevFontFamily:rn}=je,{style:un}=nn;let Qe="";if(Oe.canvasWidth!==0&&Oe.hasText){const{fontFamily:hn}=un,{canvasWidth:He,fontSize:pn}=Oe;(St!==pn||rn!==hn)&&(Ce.font=`${pn*Ge}px ${hn}`,je.prevFontSize=pn,je.prevFontFamily=hn);const{width:Xe}=Ce.measureText(nn.textContent);Xe>0&&(Qe=`scaleX(${He*Ge/Xe})`)}Oe.angle!==0&&(Qe=`rotate(${Oe.angle}deg) ${Qe}`),Qe.length>0&&(un.transform=Qe)}function t(je){if(je._canceled)return;const nn=je._textDivs,Ge=je._capability;if(nn.length>Be){Ge.resolve();return}if(!je._isReadableStream)for(const Ce of nn)je._layoutText(Ce);Ge.resolve()}class Te{constructor({textContentSource:nn,container:Ge,viewport:Oe,textDivs:Ce,textDivProperties:St,textContentItemsStr:rn,isOffscreenCanvasSupported:un}){this._textContentSource=nn,this._isReadableStream=nn instanceof ReadableStream,this._container=this._rootContainer=Ge,this._textDivs=Ce||[],this._textContentItemsStr=rn||[],this._isOffscreenCanvasSupported=un,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._textDivProperties=St||new WeakMap,this._canceled=!1,this._capability=new Ee.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:Oe.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:xe(0,un)};const{pageWidth:Qe,pageHeight:hn,pageX:He,pageY:pn}=Oe.rawDims;this._transform=[1,0,0,-1,-He,pn+hn],this._pageWidth=Qe,this._pageHeight=hn,(0,Fe.setLayerDimensions)(Ge,Oe),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new Ee.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new Ee.AbortException("TextLayer task cancelled."))}_processItems(nn,Ge){for(const Oe of nn){if(Oe.str===void 0){if(Oe.type==="beginMarkedContentProps"||Oe.type==="beginMarkedContent"){const Ce=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),Oe.id!==null&&this._container.setAttribute("id",`${Oe.id}`),Ce.append(this._container)}else Oe.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(Oe.str),Re(this,Oe,Ge)}}_layoutText(nn){const Ge=this._layoutTextParams.properties=this._textDivProperties.get(nn);if(this._layoutTextParams.div=nn,e(this._layoutTextParams),Ge.hasText&&this._container.append(nn),Ge.hasEOL){const Oe=document.createElement("br");Oe.setAttribute("role","presentation"),this._container.append(Oe)}}_render(){const nn=new Ee.PromiseCapability;let Ge=Object.create(null);if(this._isReadableStream){const Oe=()=>{this._reader.read().then(({value:Ce,done:St})=>{if(St){nn.resolve();return}Object.assign(Ge,Ce.styles),this._processItems(Ce.items,Ge),Oe()},nn.reject)};this._reader=this._textContentSource.getReader(),Oe()}else if(this._textContentSource){const{items:Oe,styles:Ce}=this._textContentSource;this._processItems(Oe,Ce),nn.resolve()}else throw new Error('No "textContentSource" parameter specified.');nn.promise.then(()=>{Ge=null,t(this)},this._capability.reject)}}r.TextLayerRenderTask=Te;function Ye(je){!je.textContentSource&&(je.textContent||je.textContentStream)&&((0,Fe.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),je.textContentSource=je.textContent||je.textContentStream);const{container:nn,viewport:Ge}=je,Oe=getComputedStyle(nn),Ce=Oe.getPropertyValue("visibility"),St=parseFloat(Oe.getPropertyValue("--scale-factor"));Ce==="visible"&&(!St||Math.abs(St-Ge.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const rn=new Te(je);return rn._render(),rn}function en({container:je,viewport:nn,textDivs:Ge,textDivProperties:Oe,isOffscreenCanvasSupported:Ce,mustRotate:St=!0,mustRescale:rn=!0}){if(St&&(0,Fe.setLayerDimensions)(je,{rotation:nn.rotation}),rn){const un=xe(0,Ce),hn={prevFontSize:null,prevFontFamily:null,div:null,scale:nn.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:un};for(const He of Ge)hn.properties=Oe.get(He),hn.div=He,e(hn)}}},(Ae,r,Se)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.AnnotationEditorLayer=void 0;var Ee=Se(1),Fe=Se(4),Be=Se(28),Ve=Se(33),_e=Se(6),ze=Se(34);class xe{#e;#t=!1;#n=null;#i=this.pointerup.bind(this);#o=this.pointerdown.bind(this);#s=new Map;#a=!1;#l=!1;#c=!1;#r;static _initialized=!1;constructor({uiManager:Re,pageIndex:e,div:t,accessibilityManager:Te,annotationLayer:Ye,viewport:en,l10n:je}){const nn=[Be.FreeTextEditor,Ve.InkEditor,ze.StampEditor];if(!xe._initialized){xe._initialized=!0;for(const Ge of nn)Ge.initialize(je)}Re.registerEditorTypes(nn),this.#r=Re,this.pageIndex=e,this.div=t,this.#e=Te,this.#n=Ye,this.viewport=en,this.#r.addLayer(this)}get isEmpty(){return this.#s.size===0}updateToolbar(Re){this.#r.updateToolbar(Re)}updateMode(Re=this.#r.getMode()){this.#f(),Re===Ee.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),Re!==Ee.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",Re===Ee.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",Re===Ee.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",Re===Ee.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(Re){if(!Re&&this.#r.getMode()!==Ee.AnnotationEditorType.INK)return;if(!Re){for(const t of this.#s.values())if(t.isEmpty()){t.setInBackground();return}}this.#h({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(Re){this.#r.setEditingState(Re)}addCommands(Re){this.#r.addCommands(Re)}enable(){this.div.style.pointerEvents="auto";const Re=new Set;for(const t of this.#s.values())t.enableEditing(),t.annotationElementId&&Re.add(t.annotationElementId);if(!this.#n)return;const e=this.#n.getEditableAnnotations();for(const t of e){if(t.hide(),this.#r.isDeletedAnnotationElement(t.data.id)||Re.has(t.data.id))continue;const Te=this.deserialize(t);Te&&(this.addOrRebuild(Te),Te.enableEditing())}}disable(){this.#c=!0,this.div.style.pointerEvents="none";const Re=new Set;for(const e of this.#s.values()){if(e.disableEditing(),!e.annotationElementId||e.serialize()!==null){Re.add(e.annotationElementId);continue}this.getEditableAnnotation(e.annotationElementId)?.show(),e.remove()}if(this.#n){const e=this.#n.getEditableAnnotations();for(const t of e){const{id:Te}=t.data;Re.has(Te)||this.#r.isDeletedAnnotationElement(Te)||t.show()}}this.#f(),this.isEmpty&&(this.div.hidden=!0),this.#c=!1}getEditableAnnotation(Re){return this.#n?.getEditableAnnotation(Re)||null}setActiveEditor(Re){this.#r.getActive()!==Re&&this.#r.setActiveEditor(Re)}enableClick(){this.div.addEventListener("pointerdown",this.#o),this.div.addEventListener("pointerup",this.#i)}disableClick(){this.div.removeEventListener("pointerdown",this.#o),this.div.removeEventListener("pointerup",this.#i)}attach(Re){this.#s.set(Re.id,Re);const{annotationElementId:e}=Re;e&&this.#r.isDeletedAnnotationElement(e)&&this.#r.removeDeletedAnnotationElement(Re)}detach(Re){this.#s.delete(Re.id),this.#e?.removePointerInTextLayer(Re.contentDiv),!this.#c&&Re.annotationElementId&&this.#r.addDeletedAnnotationElement(Re)}remove(Re){this.detach(Re),this.#r.removeEditor(Re),Re.div.contains(document.activeElement)&&setTimeout(()=>{this.#r.focusMainContainer()},0),Re.div.remove(),Re.isAttachedToDOM=!1,this.#l||this.addInkEditorIfNeeded(!1)}changeParent(Re){Re.parent!==this&&(Re.annotationElementId&&(this.#r.addDeletedAnnotationElement(Re.annotationElementId),Fe.AnnotationEditor.deleteAnnotationElement(Re),Re.annotationElementId=null),this.attach(Re),Re.parent?.detach(Re),Re.setParent(this),Re.div&&Re.isAttachedToDOM&&(Re.div.remove(),this.div.append(Re.div)))}add(Re){if(this.changeParent(Re),this.#r.addEditor(Re),this.attach(Re),!Re.isAttachedToDOM){const e=Re.render();this.div.append(e),Re.isAttachedToDOM=!0}Re.fixAndSetPosition(),Re.onceAdded(),this.#r.addToAnnotationStorage(Re)}moveEditorInDOM(Re){if(!Re.isAttachedToDOM)return;const{activeElement:e}=document;Re.div.contains(e)&&(Re._focusEventsAllowed=!1,setTimeout(()=>{Re.div.contains(document.activeElement)?Re._focusEventsAllowed=!0:(Re.div.addEventListener("focusin",()=>{Re._focusEventsAllowed=!0},{once:!0}),e.focus())},0)),Re._structTreeParentId=this.#e?.moveElementInDOM(this.div,Re.div,Re.contentDiv,!0)}addOrRebuild(Re){Re.needsToBeRebuilt()?Re.rebuild():this.add(Re)}addUndoableEditor(Re){const e=()=>Re._uiManager.rebuild(Re),t=()=>{Re.remove()};this.addCommands({cmd:e,undo:t,mustExec:!1})}getNextId(){return this.#r.getId()}#p(Re){switch(this.#r.getMode()){case Ee.AnnotationEditorType.FREETEXT:return new Be.FreeTextEditor(Re);case Ee.AnnotationEditorType.INK:return new Ve.InkEditor(Re);case Ee.AnnotationEditorType.STAMP:return new ze.StampEditor(Re)}return null}pasteEditor(Re,e){this.#r.updateToolbar(Re),this.#r.updateMode(Re);const{offsetX:t,offsetY:Te}=this.#d(),Ye=this.getNextId(),en=this.#p({parent:this,id:Ye,x:t,y:Te,uiManager:this.#r,isCentered:!0,...e});en&&this.add(en)}deserialize(Re){switch(Re.annotationType??Re.annotationEditorType){case Ee.AnnotationEditorType.FREETEXT:return Be.FreeTextEditor.deserialize(Re,this,this.#r);case Ee.AnnotationEditorType.INK:return Ve.InkEditor.deserialize(Re,this,this.#r);case Ee.AnnotationEditorType.STAMP:return ze.StampEditor.deserialize(Re,this,this.#r)}return null}#h(Re,e){const t=this.getNextId(),Te=this.#p({parent:this,id:t,x:Re.offsetX,y:Re.offsetY,uiManager:this.#r,isCentered:e});return Te&&this.add(Te),Te}#d(){const{x:Re,y:e,width:t,height:Te}=this.div.getBoundingClientRect(),Ye=Math.max(0,Re),en=Math.max(0,e),je=Math.min(window.innerWidth,Re+t),nn=Math.min(window.innerHeight,e+Te),Ge=(Ye+je)/2-Re,Oe=(en+nn)/2-e,[Ce,St]=this.viewport.rotation%180===0?[Ge,Oe]:[Oe,Ge];return{offsetX:Ce,offsetY:St}}addNewEditor(){this.#h(this.#d(),!0)}setSelected(Re){this.#r.setSelected(Re)}toggleSelected(Re){this.#r.toggleSelected(Re)}isSelected(Re){return this.#r.isSelected(Re)}unselect(Re){this.#r.unselect(Re)}pointerup(Re){const{isMac:e}=Ee.FeatureTest.platform;if(!(Re.button!==0||Re.ctrlKey&&e)&&Re.target===this.div&&this.#a){if(this.#a=!1,!this.#t){this.#t=!0;return}if(this.#r.getMode()===Ee.AnnotationEditorType.STAMP){this.#r.unselectAll();return}this.#h(Re,!1)}}pointerdown(Re){if(this.#a){this.#a=!1;return}const{isMac:e}=Ee.FeatureTest.platform;if(Re.button!==0||Re.ctrlKey&&e||Re.target!==this.div)return;this.#a=!0;const t=this.#r.getActive();this.#t=!t||t.isEmpty()}findNewParent(Re,e,t){const Te=this.#r.findParent(e,t);return Te===null||Te===this?!1:(Te.changeParent(Re),!0)}destroy(){this.#r.getActive()?.parent===this&&(this.#r.commitOrRemove(),this.#r.setActiveEditor(null));for(const Re of this.#s.values())this.#e?.removePointerInTextLayer(Re.contentDiv),Re.setParent(null),Re.isAttachedToDOM=!1,Re.div.remove();this.div=null,this.#s.clear(),this.#r.removeLayer(this)}#f(){this.#l=!0;for(const Re of this.#s.values())Re.isEmpty()&&Re.remove();this.#l=!1}render({viewport:Re}){this.viewport=Re,(0,_e.setLayerDimensions)(this.div,Re);for(const e of this.#r.getEditors(this.pageIndex))this.add(e);this.updateMode()}update({viewport:Re}){this.#r.commitOrRemove(),this.viewport=Re,(0,_e.setLayerDimensions)(this.div,{rotation:Re.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:Re,pageHeight:e}=this.viewport.rawDims;return[Re,e]}}r.AnnotationEditorLayer=xe},(Ae,r,Se)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.FreeTextEditor=void 0;var Ee=Se(1),Fe=Se(5),Be=Se(4),Ve=Se(29);class _e extends Be.AnnotationEditor{#e=this.editorDivBlur.bind(this);#t=this.editorDivFocus.bind(this);#n=this.editorDivInput.bind(this);#i=this.editorDivKeydown.bind(this);#o;#s="";#a=`${this.id}-editor`;#l;#c=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const xe=_e.prototype,Ie=t=>t.isEmpty(),Re=Fe.AnnotationEditorUIManager.TRANSLATE_SMALL,e=Fe.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,Ee.shadow)(this,"_keyboardManager",new Fe.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],xe.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],xe.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],xe._translateEmpty,{args:[-Re,0],checker:Ie}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],xe._translateEmpty,{args:[-e,0],checker:Ie}],[["ArrowRight","mac+ArrowRight"],xe._translateEmpty,{args:[Re,0],checker:Ie}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],xe._translateEmpty,{args:[e,0],checker:Ie}],[["ArrowUp","mac+ArrowUp"],xe._translateEmpty,{args:[0,-Re],checker:Ie}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],xe._translateEmpty,{args:[0,-e],checker:Ie}],[["ArrowDown","mac+ArrowDown"],xe._translateEmpty,{args:[0,Re],checker:Ie}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],xe._translateEmpty,{args:[0,e],checker:Ie}]]))}static _type="freetext";constructor(xe){super({...xe,name:"freeTextEditor"}),this.#o=xe.color||_e._defaultColor||Be.AnnotationEditor._defaultLineColor,this.#l=xe.fontSize||_e._defaultFontSize}static initialize(xe){Be.AnnotationEditor.initialize(xe,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const Ie=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(Ie.getPropertyValue("--freetext-padding"))}static updateDefaultParams(xe,Ie){switch(xe){case Ee.AnnotationEditorParamsType.FREETEXT_SIZE:_e._defaultFontSize=Ie;break;case Ee.AnnotationEditorParamsType.FREETEXT_COLOR:_e._defaultColor=Ie;break}}updateParams(xe,Ie){switch(xe){case Ee.AnnotationEditorParamsType.FREETEXT_SIZE:this.#r(Ie);break;case Ee.AnnotationEditorParamsType.FREETEXT_COLOR:this.#p(Ie);break}}static get defaultPropertiesToUpdate(){return[[Ee.AnnotationEditorParamsType.FREETEXT_SIZE,_e._defaultFontSize],[Ee.AnnotationEditorParamsType.FREETEXT_COLOR,_e._defaultColor||Be.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[Ee.AnnotationEditorParamsType.FREETEXT_SIZE,this.#l],[Ee.AnnotationEditorParamsType.FREETEXT_COLOR,this.#o]]}#r(xe){const Ie=e=>{this.editorDiv.style.fontSize=`calc(${e}px * var(--scale-factor))`,this.translate(0,-(e-this.#l)*this.parentScale),this.#l=e,this.#d()},Re=this.#l;this.addCommands({cmd:()=>{Ie(xe)},undo:()=>{Ie(Re)},mustExec:!0,type:Ee.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#p(xe){const Ie=this.#o;this.addCommands({cmd:()=>{this.#o=this.editorDiv.style.color=xe},undo:()=>{this.#o=this.editorDiv.style.color=Ie},mustExec:!0,type:Ee.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(xe,Ie){this._uiManager.translateSelectedEditors(xe,Ie,!0)}getInitialTranslation(){const xe=this.parentScale;return[-_e._internalPadding*xe,-(_e._internalPadding+this.#l)*xe]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(Ee.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",this.#i),this.editorDiv.addEventListener("focus",this.#t),this.editorDiv.addEventListener("blur",this.#e),this.editorDiv.addEventListener("input",this.#n))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#a),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",this.#i),this.editorDiv.removeEventListener("focus",this.#t),this.editorDiv.removeEventListener("blur",this.#e),this.editorDiv.removeEventListener("input",this.#n),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(xe){this._focusEventsAllowed&&(super.focusin(xe),xe.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){if(this.width){this.#m();return}this.enableEditMode(),this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}#h(){const xe=this.editorDiv.getElementsByTagName("div");if(xe.length===0)return this.editorDiv.innerText;const Ie=[];for(const Re of xe)Ie.push(Re.innerText.replace(/\r\n?|\n/,""));return Ie.join(`
`)}#d(){const[xe,Ie]=this.parentDimensions;let Re;if(this.isAttachedToDOM)Re=this.div.getBoundingClientRect();else{const{currentLayer:e,div:t}=this,Te=t.style.display;t.style.display="hidden",e.div.append(this.div),Re=t.getBoundingClientRect(),t.remove(),t.style.display=Te}this.rotation%180===this.parentRotation%180?(this.width=Re.width/xe,this.height=Re.height/Ie):(this.width=Re.height/xe,this.height=Re.width/Ie),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const xe=this.#s,Ie=this.#s=this.#h().trimEnd();if(xe===Ie)return;const Re=e=>{if(this.#s=e,!e){this.remove();return}this.#f(),this._uiManager.rebuild(this),this.#d()};this.addCommands({cmd:()=>{Re(Ie)},undo:()=>{Re(xe)},mustExec:!1}),this.#d()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(xe){this.enterInEditMode()}keydown(xe){xe.target===this.div&&xe.key==="Enter"&&(this.enterInEditMode(),xe.preventDefault())}editorDivKeydown(xe){_e._keyboardManager.exec(this,xe)}editorDivFocus(xe){this.isEditing=!0}editorDivBlur(xe){this.isEditing=!1}editorDivInput(xe){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let xe,Ie;this.width&&(xe=this.x,Ie=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#a),this.enableEditing(),Be.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(e=>this.editorDiv?.setAttribute("aria-label",e)),Be.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(e=>this.editorDiv?.setAttribute("default-content",e)),this.editorDiv.contentEditable=!0;const{style:Re}=this.editorDiv;if(Re.fontSize=`calc(${this.#l}px * var(--scale-factor))`,Re.color=this.#o,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,Fe.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[e,t]=this.parentDimensions;if(this.annotationElementId){const{position:Te}=this.#c;let[Ye,en]=this.getInitialTranslation();[Ye,en]=this.pageTranslationToScreen(Ye,en);const[je,nn]=this.pageDimensions,[Ge,Oe]=this.pageTranslation;let Ce,St;switch(this.rotation){case 0:Ce=xe+(Te[0]-Ge)/je,St=Ie+this.height-(Te[1]-Oe)/nn;break;case 90:Ce=xe+(Te[0]-Ge)/je,St=Ie-(Te[1]-Oe)/nn,[Ye,en]=[en,-Ye];break;case 180:Ce=xe-this.width+(Te[0]-Ge)/je,St=Ie-(Te[1]-Oe)/nn,[Ye,en]=[-Ye,-en];break;case 270:Ce=xe+(Te[0]-Ge-this.height*nn)/je,St=Ie+(Te[1]-Oe-this.width*je)/nn,[Ye,en]=[-en,Ye];break}this.setAt(Ce*e,St*t,Ye,en)}else this.setAt(xe*e,Ie*t,this.width*e,this.height*t);this.#f(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}#f(){if(this.editorDiv.replaceChildren(),!!this.#s)for(const xe of this.#s.split(`
`)){const Ie=document.createElement("div");Ie.append(xe?document.createTextNode(xe):document.createElement("br")),this.editorDiv.append(Ie)}}get contentDiv(){return this.editorDiv}static deserialize(xe,Ie,Re){let e=null;if(xe instanceof Ve.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:Te,fontColor:Ye},rect:en,rotation:je,id:nn},textContent:Ge,textPosition:Oe,parent:{page:{pageNumber:Ce}}}=xe;if(!Ge||Ge.length===0)return null;e=xe={annotationType:Ee.AnnotationEditorType.FREETEXT,color:Array.from(Ye),fontSize:Te,value:Ge.join(`
`),position:Oe,pageIndex:Ce-1,rect:en,rotation:je,id:nn,deleted:!1}}const t=super.deserialize(xe,Ie,Re);return t.#l=xe.fontSize,t.#o=Ee.Util.makeHexColor(...xe.color),t.#s=xe.value,t.annotationElementId=xe.id||null,t.#c=e,t}serialize(xe=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const Ie=_e._internalPadding*this.parentScale,Re=this.getRect(Ie,Ie),e=Be.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#o),t={annotationType:Ee.AnnotationEditorType.FREETEXT,color:e,fontSize:this.#l,value:this.#s,pageIndex:this.pageIndex,rect:Re,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return xe?t:this.annotationElementId&&!this.#x(t)?null:(t.id=this.annotationElementId,t)}#x(xe){const{value:Ie,fontSize:Re,color:e,rect:t,pageIndex:Te}=this.#c;return xe.value!==Ie||xe.fontSize!==Re||xe.rect.some((Ye,en)=>Math.abs(Ye-t[en])>=1)||xe.color.some((Ye,en)=>Ye!==e[en])||xe.pageIndex!==Te}#m(xe=!1){if(!this.annotationElementId)return;if(this.#d(),!xe&&(this.width===0||this.height===0)){setTimeout(()=>this.#m(!0),0);return}const Ie=_e._internalPadding*this.parentScale;this.#c.rect=this.getRect(Ie,Ie)}}r.FreeTextEditor=_e},(Ae,r,Se)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.StampAnnotationElement=r.InkAnnotationElement=r.FreeTextAnnotationElement=r.AnnotationLayer=void 0;var Ee=Se(1),Fe=Se(6),Be=Se(3),Ve=Se(30),_e=Se(31),ze=Se(32);const xe=1e3,Ie=9,Re=new WeakSet;function e(an){return{width:an[2]-an[0],height:an[3]-an[1]}}class t{static create(Ke){switch(Ke.data.annotationType){case Ee.AnnotationType.LINK:return new Ye(Ke);case Ee.AnnotationType.TEXT:return new en(Ke);case Ee.AnnotationType.WIDGET:switch(Ke.data.fieldType){case"Tx":return new nn(Ke);case"Btn":return Ke.data.radioButton?new Ce(Ke):Ke.data.checkBox?new Oe(Ke):new St(Ke);case"Ch":return new rn(Ke);case"Sig":return new Ge(Ke)}return new je(Ke);case Ee.AnnotationType.POPUP:return new un(Ke);case Ee.AnnotationType.FREETEXT:return new hn(Ke);case Ee.AnnotationType.LINE:return new He(Ke);case Ee.AnnotationType.SQUARE:return new pn(Ke);case Ee.AnnotationType.CIRCLE:return new Xe(Ke);case Ee.AnnotationType.POLYLINE:return new fn(Ke);case Ee.AnnotationType.CARET:return new qe(Ke);case Ee.AnnotationType.INK:return new tn(Ke);case Ee.AnnotationType.POLYGON:return new dn(Ke);case Ee.AnnotationType.HIGHLIGHT:return new Me(Ke);case Ee.AnnotationType.UNDERLINE:return new De(Ke);case Ee.AnnotationType.SQUIGGLY:return new Ue(Ke);case Ee.AnnotationType.STRIKEOUT:return new We(Ke);case Ee.AnnotationType.STAMP:return new $e(Ke);case Ee.AnnotationType.FILEATTACHMENT:return new on(Ke);default:return new Te(Ke)}}}class Te{#e=!1;constructor(Ke,{isRenderable:sn=!1,ignoreBorder:gn=!1,createQuadrilaterals:mn=!1}={}){this.isRenderable=sn,this.data=Ke.data,this.layer=Ke.layer,this.linkService=Ke.linkService,this.downloadManager=Ke.downloadManager,this.imageResourcesPath=Ke.imageResourcesPath,this.renderForms=Ke.renderForms,this.svgFactory=Ke.svgFactory,this.annotationStorage=Ke.annotationStorage,this.enableScripting=Ke.enableScripting,this.hasJSActions=Ke.hasJSActions,this._fieldObjects=Ke.fieldObjects,this.parent=Ke.parent,sn&&(this.container=this._createContainer(gn)),mn&&this._createQuadrilaterals()}static _hasPopupData({titleObj:Ke,contentsObj:sn,richText:gn}){return!!(Ke?.str||sn?.str||gn?.str)}get hasPopupData(){return Te._hasPopupData(this.data)}_createContainer(Ke){const{data:sn,parent:{page:gn,viewport:mn}}=this,yn=document.createElement("section");yn.setAttribute("data-annotation-id",sn.id),this instanceof je||(yn.tabIndex=xe),yn.style.zIndex=this.parent.zIndex++,this.data.popupRef&&yn.setAttribute("aria-haspopup","dialog"),sn.noRotate&&yn.classList.add("norotate");const{pageWidth:Sn,pageHeight:_n,pageX:wn,pageY:Nn}=mn.rawDims;if(!sn.rect||this instanceof un){const{rotation:bn}=sn;return!sn.hasOwnCanvas&&bn!==0&&this.setRotation(bn,yn),yn}const{width:Tn,height:Cn}=e(sn.rect),In=Ee.Util.normalizeRect([sn.rect[0],gn.view[3]-sn.rect[1]+gn.view[1],sn.rect[2],gn.view[3]-sn.rect[3]+gn.view[1]]);if(!Ke&&sn.borderStyle.width>0){yn.style.borderWidth=`${sn.borderStyle.width}px`;const bn=sn.borderStyle.horizontalCornerRadius,kn=sn.borderStyle.verticalCornerRadius;if(bn>0||kn>0){const On=`calc(${bn}px * var(--scale-factor)) / calc(${kn}px * var(--scale-factor))`;yn.style.borderRadius=On}else if(this instanceof Ce){const On=`calc(${Tn}px * var(--scale-factor)) / calc(${Cn}px * var(--scale-factor))`;yn.style.borderRadius=On}switch(sn.borderStyle.style){case Ee.AnnotationBorderStyleType.SOLID:yn.style.borderStyle="solid";break;case Ee.AnnotationBorderStyleType.DASHED:yn.style.borderStyle="dashed";break;case Ee.AnnotationBorderStyleType.BEVELED:(0,Ee.warn)("Unimplemented border style: beveled");break;case Ee.AnnotationBorderStyleType.INSET:(0,Ee.warn)("Unimplemented border style: inset");break;case Ee.AnnotationBorderStyleType.UNDERLINE:yn.style.borderBottomStyle="solid";break}const En=sn.borderColor||null;En?(this.#e=!0,yn.style.borderColor=Ee.Util.makeHexColor(En[0]|0,En[1]|0,En[2]|0)):yn.style.borderWidth=0}yn.style.left=`${100*(In[0]-wn)/Sn}%`,yn.style.top=`${100*(In[1]-Nn)/_n}%`;const{rotation:Rn}=sn;return sn.hasOwnCanvas||Rn===0?(yn.style.width=`${100*Tn/Sn}%`,yn.style.height=`${100*Cn/_n}%`):this.setRotation(Rn,yn),yn}setRotation(Ke,sn=this.container){if(!this.data.rect)return;const{pageWidth:gn,pageHeight:mn}=this.parent.viewport.rawDims,{width:yn,height:Sn}=e(this.data.rect);let _n,wn;Ke%180===0?(_n=100*yn/gn,wn=100*Sn/mn):(_n=100*Sn/gn,wn=100*yn/mn),sn.style.width=`${_n}%`,sn.style.height=`${wn}%`,sn.setAttribute("data-main-rotation",(360-Ke)%360)}get _commonActions(){const Ke=(sn,gn,mn)=>{const yn=mn.detail[sn],Sn=yn[0],_n=yn.slice(1);mn.target.style[gn]=Ve.ColorConverters[`${Sn}_HTML`](_n),this.annotationStorage.setValue(this.data.id,{[gn]:Ve.ColorConverters[`${Sn}_rgb`](_n)})};return(0,Ee.shadow)(this,"_commonActions",{display:sn=>{const{display:gn}=sn.detail,mn=gn%2===1;this.container.style.visibility=mn?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:mn,noPrint:gn===1||gn===2})},print:sn=>{this.annotationStorage.setValue(this.data.id,{noPrint:!sn.detail.print})},hidden:sn=>{const{hidden:gn}=sn.detail;this.container.style.visibility=gn?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:gn,noView:gn})},focus:sn=>{setTimeout(()=>sn.target.focus({preventScroll:!1}),0)},userName:sn=>{sn.target.title=sn.detail.userName},readonly:sn=>{sn.target.disabled=sn.detail.readonly},required:sn=>{this._setRequired(sn.target,sn.detail.required)},bgColor:sn=>{Ke("bgColor","backgroundColor",sn)},fillColor:sn=>{Ke("fillColor","backgroundColor",sn)},fgColor:sn=>{Ke("fgColor","color",sn)},textColor:sn=>{Ke("textColor","color",sn)},borderColor:sn=>{Ke("borderColor","borderColor",sn)},strokeColor:sn=>{Ke("strokeColor","borderColor",sn)},rotation:sn=>{const gn=sn.detail.rotation;this.setRotation(gn),this.annotationStorage.setValue(this.data.id,{rotation:gn})}})}_dispatchEventFromSandbox(Ke,sn){const gn=this._commonActions;for(const mn of Object.keys(sn.detail))(Ke[mn]||gn[mn])?.(sn)}_setDefaultPropertiesFromJS(Ke){if(!this.enableScripting)return;const sn=this.annotationStorage.getRawValue(this.data.id);if(!sn)return;const gn=this._commonActions;for(const[mn,yn]of Object.entries(sn)){const Sn=gn[mn];if(Sn){const _n={detail:{[mn]:yn},target:Ke};Sn(_n),delete sn[mn]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:Ke}=this.data;if(!Ke)return;const[sn,gn,mn,yn]=this.data.rect;if(Ke.length===1){const[,{x:kn,y:En},{x:On,y:Mn}]=Ke[0];if(mn===kn&&yn===En&&sn===On&&gn===Mn)return}const{style:Sn}=this.container;let _n;if(this.#e){const{borderColor:kn,borderWidth:En}=Sn;Sn.borderWidth=0,_n=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${kn}" stroke-width="${En}">`],this.container.classList.add("hasBorder")}const wn=mn-sn,Nn=yn-gn,{svgFactory:Tn}=this,Cn=Tn.createElement("svg");Cn.classList.add("quadrilateralsContainer"),Cn.setAttribute("width",0),Cn.setAttribute("height",0);const In=Tn.createElement("defs");Cn.append(In);const Rn=Tn.createElement("clipPath"),bn=`clippath_${this.data.id}`;Rn.setAttribute("id",bn),Rn.setAttribute("clipPathUnits","objectBoundingBox"),In.append(Rn);for(const[,{x:kn,y:En},{x:On,y:Mn}]of Ke){const Bn=Tn.createElement("rect"),Hn=(On-sn)/wn,$n=(yn-En)/Nn,Un=(kn-On)/wn,qn=(En-Mn)/Nn;Bn.setAttribute("x",Hn),Bn.setAttribute("y",$n),Bn.setAttribute("width",Un),Bn.setAttribute("height",qn),Rn.append(Bn),_n?.push(`<rect vector-effect="non-scaling-stroke" x="${Hn}" y="${$n}" width="${Un}" height="${qn}"/>`)}this.#e&&(_n.push("</g></svg>')"),Sn.backgroundImage=_n.join("")),this.container.append(Cn),this.container.style.clipPath=`url(#${bn})`}_createPopup(){const{container:Ke,data:sn}=this;Ke.setAttribute("aria-haspopup","dialog");const gn=new un({data:{color:sn.color,titleObj:sn.titleObj,modificationDate:sn.modificationDate,contentsObj:sn.contentsObj,richText:sn.richText,parentRect:sn.rect,borderStyle:0,id:`popup_${sn.id}`,rotation:sn.rotation},parent:this.parent,elements:[this]});this.parent.div.append(gn.render())}render(){(0,Ee.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(Ke,sn=null){const gn=[];if(this._fieldObjects){const mn=this._fieldObjects[Ke];if(mn)for(const{page:yn,id:Sn,exportValues:_n}of mn){if(yn===-1||Sn===sn)continue;const wn=typeof _n=="string"?_n:null,Nn=document.querySelector(`[data-element-id="${Sn}"]`);if(Nn&&!Re.has(Nn)){(0,Ee.warn)(`_getElementsByName - element not allowed: ${Sn}`);continue}gn.push({id:Sn,exportValue:wn,domElement:Nn})}return gn}for(const mn of document.getElementsByName(Ke)){const{exportValue:yn}=mn,Sn=mn.getAttribute("data-element-id");Sn!==sn&&Re.has(mn)&&gn.push({id:Sn,exportValue:yn,domElement:mn})}return gn}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const Ke=this.getElementsToTriggerPopup();if(Array.isArray(Ke))for(const sn of Ke)sn.classList.add("highlightArea");else Ke.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:Ke,data:{id:sn}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:Ke,editId:sn})})}}class Ye extends Te{constructor(Ke,sn=null){super(Ke,{isRenderable:!0,ignoreBorder:!!sn?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=Ke.data.isTooltipOnly}render(){const{data:Ke,linkService:sn}=this,gn=document.createElement("a");gn.setAttribute("data-element-id",Ke.id);let mn=!1;return Ke.url?(sn.addLinkAttributes(gn,Ke.url,Ke.newWindow),mn=!0):Ke.action?(this._bindNamedAction(gn,Ke.action),mn=!0):Ke.attachment?(this._bindAttachment(gn,Ke.attachment),mn=!0):Ke.setOCGState?(this.#t(gn,Ke.setOCGState),mn=!0):Ke.dest?(this._bindLink(gn,Ke.dest),mn=!0):(Ke.actions&&(Ke.actions.Action||Ke.actions["Mouse Up"]||Ke.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(gn,Ke),mn=!0),Ke.resetForm?(this._bindResetFormAction(gn,Ke.resetForm),mn=!0):this.isTooltipOnly&&!mn&&(this._bindLink(gn,""),mn=!0)),this.container.classList.add("linkAnnotation"),mn&&this.container.append(gn),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(Ke,sn){Ke.href=this.linkService.getDestinationHash(sn),Ke.onclick=()=>(sn&&this.linkService.goToDestination(sn),!1),(sn||sn==="")&&this.#e()}_bindNamedAction(Ke,sn){Ke.href=this.linkService.getAnchorUrl(""),Ke.onclick=()=>(this.linkService.executeNamedAction(sn),!1),this.#e()}_bindAttachment(Ke,sn){Ke.href=this.linkService.getAnchorUrl(""),Ke.onclick=()=>(this.downloadManager?.openOrDownloadData(this.container,sn.content,sn.filename),!1),this.#e()}#t(Ke,sn){Ke.href=this.linkService.getAnchorUrl(""),Ke.onclick=()=>(this.linkService.executeSetOCGState(sn),!1),this.#e()}_bindJSAction(Ke,sn){Ke.href=this.linkService.getAnchorUrl("");const gn=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const mn of Object.keys(sn.actions)){const yn=gn.get(mn);yn&&(Ke[yn]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:sn.id,name:mn}}),!1))}Ke.onclick||(Ke.onclick=()=>!1),this.#e()}_bindResetFormAction(Ke,sn){const gn=Ke.onclick;if(gn||(Ke.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects){(0,Ee.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),gn||(Ke.onclick=()=>!1);return}Ke.onclick=()=>{gn?.();const{fields:mn,refs:yn,include:Sn}=sn,_n=[];if(mn.length!==0||yn.length!==0){const Tn=new Set(yn);for(const Cn of mn){const In=this._fieldObjects[Cn]||[];for(const{id:Rn}of In)Tn.add(Rn)}for(const Cn of Object.values(this._fieldObjects))for(const In of Cn)Tn.has(In.id)===Sn&&_n.push(In)}else for(const Tn of Object.values(this._fieldObjects))_n.push(...Tn);const wn=this.annotationStorage,Nn=[];for(const Tn of _n){const{id:Cn}=Tn;switch(Nn.push(Cn),Tn.type){case"text":{const Rn=Tn.defaultValue||"";wn.setValue(Cn,{value:Rn});break}case"checkbox":case"radiobutton":{const Rn=Tn.defaultValue===Tn.exportValues;wn.setValue(Cn,{value:Rn});break}case"combobox":case"listbox":{const Rn=Tn.defaultValue||"";wn.setValue(Cn,{value:Rn});break}default:continue}const In=document.querySelector(`[data-element-id="${Cn}"]`);if(In){if(!Re.has(In)){(0,Ee.warn)(`_bindResetFormAction - element not allowed: ${Cn}`);continue}}else continue;In.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Nn,name:"ResetForm"}}),!1}}}class en extends Te{constructor(Ke){super(Ke,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const Ke=document.createElement("img");return Ke.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",Ke.alt="[{{type}} Annotation]",Ke.dataset.l10nId="text_annotation_type",Ke.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(Ke),this.container}}class je extends Te{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(Ke){this.data.hasOwnCanvas&&(Ke.previousSibling?.nodeName==="CANVAS"&&(Ke.previousSibling.hidden=!0),Ke.hidden=!1)}_getKeyModifier(Ke){const{isWin:sn,isMac:gn}=Ee.FeatureTest.platform;return sn&&Ke.ctrlKey||gn&&Ke.metaKey}_setEventListener(Ke,sn,gn,mn,yn){gn.includes("mouse")?Ke.addEventListener(gn,Sn=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:mn,value:yn(Sn),shift:Sn.shiftKey,modifier:this._getKeyModifier(Sn)}})}):Ke.addEventListener(gn,Sn=>{if(gn==="blur"){if(!sn.focused||!Sn.relatedTarget)return;sn.focused=!1}else if(gn==="focus"){if(sn.focused)return;sn.focused=!0}yn&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:mn,value:yn(Sn)}})})}_setEventListeners(Ke,sn,gn,mn){for(const[yn,Sn]of gn)(Sn==="Action"||this.data.actions?.[Sn])&&((Sn==="Focus"||Sn==="Blur")&&(sn||={focused:!1}),this._setEventListener(Ke,sn,yn,Sn,mn),Sn==="Focus"&&!this.data.actions?.Blur?this._setEventListener(Ke,sn,"blur","Blur",null):Sn==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(Ke,sn,"focus","Focus",null))}_setBackgroundColor(Ke){const sn=this.data.backgroundColor||null;Ke.style.backgroundColor=sn===null?"transparent":Ee.Util.makeHexColor(sn[0],sn[1],sn[2])}_setTextStyle(Ke){const sn=["left","center","right"],{fontColor:gn}=this.data.defaultAppearanceData,mn=this.data.defaultAppearanceData.fontSize||Ie,yn=Ke.style;let Sn;const _n=2,wn=Nn=>Math.round(10*Nn)/10;if(this.data.multiLine){const Nn=Math.abs(this.data.rect[3]-this.data.rect[1]-_n),Tn=Math.round(Nn/(Ee.LINE_FACTOR*mn))||1,Cn=Nn/Tn;Sn=Math.min(mn,wn(Cn/Ee.LINE_FACTOR))}else{const Nn=Math.abs(this.data.rect[3]-this.data.rect[1]-_n);Sn=Math.min(mn,wn(Nn/Ee.LINE_FACTOR))}yn.fontSize=`calc(${Sn}px * var(--scale-factor))`,yn.color=Ee.Util.makeHexColor(gn[0],gn[1],gn[2]),this.data.textAlignment!==null&&(yn.textAlign=sn[this.data.textAlignment])}_setRequired(Ke,sn){sn?Ke.setAttribute("required",!0):Ke.removeAttribute("required"),Ke.setAttribute("aria-required",sn)}}class nn extends je{constructor(Ke){const sn=Ke.renderForms||!Ke.data.hasAppearance&&!!Ke.data.fieldValue;super(Ke,{isRenderable:sn})}setPropertyOnSiblings(Ke,sn,gn,mn){const yn=this.annotationStorage;for(const Sn of this._getElementsByName(Ke.name,Ke.id))Sn.domElement&&(Sn.domElement[sn]=gn),yn.setValue(Sn.id,{[mn]:gn})}render(){const Ke=this.annotationStorage,sn=this.data.id;this.container.classList.add("textWidgetAnnotation");let gn=null;if(this.renderForms){const mn=Ke.getValue(sn,{value:this.data.fieldValue});let yn=mn.value||"";const Sn=Ke.getValue(sn,{charLimit:this.data.maxLen}).charLimit;Sn&&yn.length>Sn&&(yn=yn.slice(0,Sn));let _n=mn.formattedValue||this.data.textContent?.join(`
`)||null;_n&&this.data.comb&&(_n=_n.replaceAll(/\s+/g,""));const wn={userValue:yn,formattedValue:_n,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(gn=document.createElement("textarea"),gn.textContent=_n??yn,this.data.doNotScroll&&(gn.style.overflowY="hidden")):(gn=document.createElement("input"),gn.type="text",gn.setAttribute("value",_n??yn),this.data.doNotScroll&&(gn.style.overflowX="hidden")),this.data.hasOwnCanvas&&(gn.hidden=!0),Re.add(gn),gn.setAttribute("data-element-id",sn),gn.disabled=this.data.readOnly,gn.name=this.data.fieldName,gn.tabIndex=xe,this._setRequired(gn,this.data.required),Sn&&(gn.maxLength=Sn),gn.addEventListener("input",Tn=>{Ke.setValue(sn,{value:Tn.target.value}),this.setPropertyOnSiblings(gn,"value",Tn.target.value,"value"),wn.formattedValue=null}),gn.addEventListener("resetform",Tn=>{const Cn=this.data.defaultFieldValue??"";gn.value=wn.userValue=Cn,wn.formattedValue=null});let Nn=Tn=>{const{formattedValue:Cn}=wn;Cn!=null&&(Tn.target.value=Cn),Tn.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){gn.addEventListener("focus",Cn=>{if(wn.focused)return;const{target:In}=Cn;wn.userValue&&(In.value=wn.userValue),wn.lastCommittedValue=In.value,wn.commitKey=1,wn.focused=!0}),gn.addEventListener("updatefromsandbox",Cn=>{this.showElementAndHideCanvas(Cn.target);const In={value(Rn){wn.userValue=Rn.detail.value??"",Ke.setValue(sn,{value:wn.userValue.toString()}),Rn.target.value=wn.userValue},formattedValue(Rn){const{formattedValue:bn}=Rn.detail;wn.formattedValue=bn,bn!=null&&Rn.target!==document.activeElement&&(Rn.target.value=bn),Ke.setValue(sn,{formattedValue:bn})},selRange(Rn){Rn.target.setSelectionRange(...Rn.detail.selRange)},charLimit:Rn=>{const{charLimit:bn}=Rn.detail,{target:kn}=Rn;if(bn===0){kn.removeAttribute("maxLength");return}kn.setAttribute("maxLength",bn);let En=wn.userValue;!En||En.length<=bn||(En=En.slice(0,bn),kn.value=wn.userValue=En,Ke.setValue(sn,{value:En}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:sn,name:"Keystroke",value:En,willCommit:!0,commitKey:1,selStart:kn.selectionStart,selEnd:kn.selectionEnd}}))}};this._dispatchEventFromSandbox(In,Cn)}),gn.addEventListener("keydown",Cn=>{wn.commitKey=1;let In=-1;if(Cn.key==="Escape"?In=0:Cn.key==="Enter"&&!this.data.multiLine?In=2:Cn.key==="Tab"&&(wn.commitKey=3),In===-1)return;const{value:Rn}=Cn.target;wn.lastCommittedValue!==Rn&&(wn.lastCommittedValue=Rn,wn.userValue=Rn,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:sn,name:"Keystroke",value:Rn,willCommit:!0,commitKey:In,selStart:Cn.target.selectionStart,selEnd:Cn.target.selectionEnd}}))});const Tn=Nn;Nn=null,gn.addEventListener("blur",Cn=>{if(!wn.focused||!Cn.relatedTarget)return;wn.focused=!1;const{value:In}=Cn.target;wn.userValue=In,wn.lastCommittedValue!==In&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:sn,name:"Keystroke",value:In,willCommit:!0,commitKey:wn.commitKey,selStart:Cn.target.selectionStart,selEnd:Cn.target.selectionEnd}}),Tn(Cn)}),this.data.actions?.Keystroke&&gn.addEventListener("beforeinput",Cn=>{wn.lastCommittedValue=null;const{data:In,target:Rn}=Cn,{value:bn,selectionStart:kn,selectionEnd:En}=Rn;let On=kn,Mn=En;switch(Cn.inputType){case"deleteWordBackward":{const Bn=bn.substring(0,kn).match(/\w*[^\w]*$/);Bn&&(On-=Bn[0].length);break}case"deleteWordForward":{const Bn=bn.substring(kn).match(/^[^\w]*\w*/);Bn&&(Mn+=Bn[0].length);break}case"deleteContentBackward":kn===En&&(On-=1);break;case"deleteContentForward":kn===En&&(Mn+=1);break}Cn.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:sn,name:"Keystroke",value:bn,change:In||"",willCommit:!1,selStart:On,selEnd:Mn}})}),this._setEventListeners(gn,wn,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Cn=>Cn.target.value)}if(Nn&&gn.addEventListener("blur",Nn),this.data.comb){const Cn=(this.data.rect[2]-this.data.rect[0])/Sn;gn.classList.add("comb"),gn.style.letterSpacing=`calc(${Cn}px * var(--scale-factor) - 1ch)`}}else gn=document.createElement("div"),gn.textContent=this.data.fieldValue,gn.style.verticalAlign="middle",gn.style.display="table-cell";return this._setTextStyle(gn),this._setBackgroundColor(gn),this._setDefaultPropertiesFromJS(gn),this.container.append(gn),this.container}}class Ge extends je{constructor(Ke){super(Ke,{isRenderable:!!Ke.data.hasOwnCanvas})}}class Oe extends je{constructor(Ke){super(Ke,{isRenderable:Ke.renderForms})}render(){const Ke=this.annotationStorage,sn=this.data,gn=sn.id;let mn=Ke.getValue(gn,{value:sn.exportValue===sn.fieldValue}).value;typeof mn=="string"&&(mn=mn!=="Off",Ke.setValue(gn,{value:mn})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const yn=document.createElement("input");return Re.add(yn),yn.setAttribute("data-element-id",gn),yn.disabled=sn.readOnly,this._setRequired(yn,this.data.required),yn.type="checkbox",yn.name=sn.fieldName,mn&&yn.setAttribute("checked",!0),yn.setAttribute("exportValue",sn.exportValue),yn.tabIndex=xe,yn.addEventListener("change",Sn=>{const{name:_n,checked:wn}=Sn.target;for(const Nn of this._getElementsByName(_n,gn)){const Tn=wn&&Nn.exportValue===sn.exportValue;Nn.domElement&&(Nn.domElement.checked=Tn),Ke.setValue(Nn.id,{value:Tn})}Ke.setValue(gn,{value:wn})}),yn.addEventListener("resetform",Sn=>{const _n=sn.defaultFieldValue||"Off";Sn.target.checked=_n===sn.exportValue}),this.enableScripting&&this.hasJSActions&&(yn.addEventListener("updatefromsandbox",Sn=>{const _n={value(wn){wn.target.checked=wn.detail.value!=="Off",Ke.setValue(gn,{value:wn.target.checked})}};this._dispatchEventFromSandbox(_n,Sn)}),this._setEventListeners(yn,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Sn=>Sn.target.checked)),this._setBackgroundColor(yn),this._setDefaultPropertiesFromJS(yn),this.container.append(yn),this.container}}class Ce extends je{constructor(Ke){super(Ke,{isRenderable:Ke.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const Ke=this.annotationStorage,sn=this.data,gn=sn.id;let mn=Ke.getValue(gn,{value:sn.fieldValue===sn.buttonValue}).value;typeof mn=="string"&&(mn=mn!==sn.buttonValue,Ke.setValue(gn,{value:mn}));const yn=document.createElement("input");if(Re.add(yn),yn.setAttribute("data-element-id",gn),yn.disabled=sn.readOnly,this._setRequired(yn,this.data.required),yn.type="radio",yn.name=sn.fieldName,mn&&yn.setAttribute("checked",!0),yn.tabIndex=xe,yn.addEventListener("change",Sn=>{const{name:_n,checked:wn}=Sn.target;for(const Nn of this._getElementsByName(_n,gn))Ke.setValue(Nn.id,{value:!1});Ke.setValue(gn,{value:wn})}),yn.addEventListener("resetform",Sn=>{const _n=sn.defaultFieldValue;Sn.target.checked=_n!=null&&_n===sn.buttonValue}),this.enableScripting&&this.hasJSActions){const Sn=sn.buttonValue;yn.addEventListener("updatefromsandbox",_n=>{const wn={value:Nn=>{const Tn=Sn===Nn.detail.value;for(const Cn of this._getElementsByName(Nn.target.name)){const In=Tn&&Cn.id===gn;Cn.domElement&&(Cn.domElement.checked=In),Ke.setValue(Cn.id,{value:In})}}};this._dispatchEventFromSandbox(wn,_n)}),this._setEventListeners(yn,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],_n=>_n.target.checked)}return this._setBackgroundColor(yn),this._setDefaultPropertiesFromJS(yn),this.container.append(yn),this.container}}class St extends Ye{constructor(Ke){super(Ke,{ignoreBorder:Ke.data.hasAppearance})}render(){const Ke=super.render();Ke.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(Ke.title=this.data.alternativeText);const sn=Ke.lastChild;return this.enableScripting&&this.hasJSActions&&sn&&(this._setDefaultPropertiesFromJS(sn),sn.addEventListener("updatefromsandbox",gn=>{this._dispatchEventFromSandbox({},gn)})),Ke}}class rn extends je{constructor(Ke){super(Ke,{isRenderable:Ke.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const Ke=this.annotationStorage,sn=this.data.id,gn=Ke.getValue(sn,{value:this.data.fieldValue}),mn=document.createElement("select");Re.add(mn),mn.setAttribute("data-element-id",sn),mn.disabled=this.data.readOnly,this._setRequired(mn,this.data.required),mn.name=this.data.fieldName,mn.tabIndex=xe;let yn=this.data.combo&&this.data.options.length>0;this.data.combo||(mn.size=this.data.options.length,this.data.multiSelect&&(mn.multiple=!0)),mn.addEventListener("resetform",Tn=>{const Cn=this.data.defaultFieldValue;for(const In of mn.options)In.selected=In.value===Cn});for(const Tn of this.data.options){const Cn=document.createElement("option");Cn.textContent=Tn.displayValue,Cn.value=Tn.exportValue,gn.value.includes(Tn.exportValue)&&(Cn.setAttribute("selected",!0),yn=!1),mn.append(Cn)}let Sn=null;if(yn){const Tn=document.createElement("option");Tn.value=" ",Tn.setAttribute("hidden",!0),Tn.setAttribute("selected",!0),mn.prepend(Tn),Sn=()=>{Tn.remove(),mn.removeEventListener("input",Sn),Sn=null},mn.addEventListener("input",Sn)}const _n=Tn=>{const Cn=Tn?"value":"textContent",{options:In,multiple:Rn}=mn;return Rn?Array.prototype.filter.call(In,bn=>bn.selected).map(bn=>bn[Cn]):In.selectedIndex===-1?null:In[In.selectedIndex][Cn]};let wn=_n(!1);const Nn=Tn=>{const Cn=Tn.target.options;return Array.prototype.map.call(Cn,In=>({displayValue:In.textContent,exportValue:In.value}))};return this.enableScripting&&this.hasJSActions?(mn.addEventListener("updatefromsandbox",Tn=>{const Cn={value(In){Sn?.();const Rn=In.detail.value,bn=new Set(Array.isArray(Rn)?Rn:[Rn]);for(const kn of mn.options)kn.selected=bn.has(kn.value);Ke.setValue(sn,{value:_n(!0)}),wn=_n(!1)},multipleSelection(In){mn.multiple=!0},remove(In){const Rn=mn.options,bn=In.detail.remove;Rn[bn].selected=!1,mn.remove(bn),Rn.length>0&&Array.prototype.findIndex.call(Rn,En=>En.selected)===-1&&(Rn[0].selected=!0),Ke.setValue(sn,{value:_n(!0),items:Nn(In)}),wn=_n(!1)},clear(In){for(;mn.length!==0;)mn.remove(0);Ke.setValue(sn,{value:null,items:[]}),wn=_n(!1)},insert(In){const{index:Rn,displayValue:bn,exportValue:kn}=In.detail.insert,En=mn.children[Rn],On=document.createElement("option");On.textContent=bn,On.value=kn,En?En.before(On):mn.append(On),Ke.setValue(sn,{value:_n(!0),items:Nn(In)}),wn=_n(!1)},items(In){const{items:Rn}=In.detail;for(;mn.length!==0;)mn.remove(0);for(const bn of Rn){const{displayValue:kn,exportValue:En}=bn,On=document.createElement("option");On.textContent=kn,On.value=En,mn.append(On)}mn.options.length>0&&(mn.options[0].selected=!0),Ke.setValue(sn,{value:_n(!0),items:Nn(In)}),wn=_n(!1)},indices(In){const Rn=new Set(In.detail.indices);for(const bn of In.target.options)bn.selected=Rn.has(bn.index);Ke.setValue(sn,{value:_n(!0)}),wn=_n(!1)},editable(In){In.target.disabled=!In.detail.editable}};this._dispatchEventFromSandbox(Cn,Tn)}),mn.addEventListener("input",Tn=>{const Cn=_n(!0);Ke.setValue(sn,{value:Cn}),Tn.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:sn,name:"Keystroke",value:wn,changeEx:Cn,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(mn,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],Tn=>Tn.target.value)):mn.addEventListener("input",function(Tn){Ke.setValue(sn,{value:_n(!0)})}),this.data.combo&&this._setTextStyle(mn),this._setBackgroundColor(mn),this._setDefaultPropertiesFromJS(mn),this.container.append(mn),this.container}}class un extends Te{constructor(Ke){const{data:sn,elements:gn}=Ke;super(Ke,{isRenderable:Te._hasPopupData(sn)}),this.elements=gn}render(){this.container.classList.add("popupAnnotation");const Ke=new Qe({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),sn=[];for(const gn of this.elements)gn.popup=Ke,sn.push(gn.data.id),gn.addHighlightArea();return this.container.setAttribute("aria-controls",sn.map(gn=>`${Ee.AnnotationPrefix}${gn}`).join(",")),this.container}}class Qe{#e=null;#t=this.#u.bind(this);#n=this.#S.bind(this);#i=this.#A.bind(this);#o=this.#b.bind(this);#s=null;#a=null;#l=null;#c=null;#r=null;#p=null;#h=!1;#d=null;#f=null;#x=null;#m=null;#g=!1;constructor({container:Ke,color:sn,elements:gn,titleObj:mn,modificationDate:yn,contentsObj:Sn,richText:_n,parent:wn,rect:Nn,parentRect:Tn,open:Cn}){this.#a=Ke,this.#m=mn,this.#l=Sn,this.#x=_n,this.#r=wn,this.#s=sn,this.#f=Nn,this.#p=Tn,this.#c=gn;const In=Fe.PDFDateString.toDateObject(yn);In&&(this.#e=wn.l10n.get("annotation_date_string",{date:In.toLocaleDateString(),time:In.toLocaleTimeString()})),this.trigger=gn.flatMap(Rn=>Rn.getElementsToTriggerPopup());for(const Rn of this.trigger)Rn.addEventListener("click",this.#o),Rn.addEventListener("mouseenter",this.#i),Rn.addEventListener("mouseleave",this.#n),Rn.classList.add("popupTriggerArea");for(const Rn of gn)Rn.container?.addEventListener("keydown",this.#t);this.#a.hidden=!0,Cn&&this.#b()}render(){if(this.#d)return;const{page:{view:Ke},viewport:{rawDims:{pageWidth:sn,pageHeight:gn,pageX:mn,pageY:yn}}}=this.#r,Sn=this.#d=document.createElement("div");if(Sn.className="popup",this.#s){const Bn=Sn.style.outlineColor=Ee.Util.makeHexColor(...this.#s);CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?Sn.style.backgroundColor=`color-mix(in srgb, ${Bn} 30%, white)`:Sn.style.backgroundColor=Ee.Util.makeHexColor(...this.#s.map($n=>Math.floor(.7*(255-$n)+$n)))}const _n=document.createElement("span");_n.className="header";const wn=document.createElement("h1");if(_n.append(wn),{dir:wn.dir,str:wn.textContent}=this.#m,Sn.append(_n),this.#e){const Bn=document.createElement("span");Bn.classList.add("popupDate"),this.#e.then(Hn=>{Bn.textContent=Hn}),_n.append(Bn)}const Nn=this.#l,Tn=this.#x;if(Tn?.str&&(!Nn?.str||Nn.str===Tn.str))ze.XfaLayer.render({xfaHtml:Tn.html,intent:"richText",div:Sn}),Sn.lastChild.classList.add("richText","popupContent");else{const Bn=this._formatContents(Nn);Sn.append(Bn)}let Cn=!!this.#p,In=Cn?this.#p:this.#f;for(const Bn of this.#c)if(!In||Ee.Util.intersect(Bn.data.rect,In)!==null){In=Bn.data.rect,Cn=!0;break}const Rn=Ee.Util.normalizeRect([In[0],Ke[3]-In[1]+Ke[1],In[2],Ke[3]-In[3]+Ke[1]]),kn=Cn?In[2]-In[0]+5:0,En=Rn[0]+kn,On=Rn[1],{style:Mn}=this.#a;Mn.left=`${100*(En-mn)/sn}%`,Mn.top=`${100*(On-yn)/gn}%`,this.#a.append(Sn)}_formatContents({str:Ke,dir:sn}){const gn=document.createElement("p");gn.classList.add("popupContent"),gn.dir=sn;const mn=Ke.split(/(?:\r\n?|\n)/);for(let yn=0,Sn=mn.length;yn<Sn;++yn){const _n=mn[yn];gn.append(document.createTextNode(_n)),yn<Sn-1&&gn.append(document.createElement("br"))}return gn}#u(Ke){Ke.altKey||Ke.shiftKey||Ke.ctrlKey||Ke.metaKey||(Ke.key==="Enter"||Ke.key==="Escape"&&this.#h)&&this.#b()}#b(){this.#h=!this.#h,this.#h?(this.#A(),this.#a.addEventListener("click",this.#o),this.#a.addEventListener("keydown",this.#t)):(this.#S(),this.#a.removeEventListener("click",this.#o),this.#a.removeEventListener("keydown",this.#t))}#A(){this.#d||this.render(),this.isVisible?this.#h&&this.#a.classList.add("focused"):(this.#a.hidden=!1,this.#a.style.zIndex=parseInt(this.#a.style.zIndex)+1e3)}#S(){this.#a.classList.remove("focused"),!(this.#h||!this.isVisible)&&(this.#a.hidden=!0,this.#a.style.zIndex=parseInt(this.#a.style.zIndex)-1e3)}forceHide(){this.#g=this.isVisible,this.#g&&(this.#a.hidden=!0)}maybeShow(){this.#g&&(this.#g=!1,this.#a.hidden=!1)}get isVisible(){return this.#a.hidden===!1}}class hn extends Te{constructor(Ke){super(Ke,{isRenderable:!0,ignoreBorder:!0}),this.textContent=Ke.data.textContent,this.textPosition=Ke.data.textPosition,this.annotationEditorType=Ee.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const Ke=document.createElement("div");Ke.classList.add("annotationTextContent"),Ke.setAttribute("role","comment");for(const sn of this.textContent){const gn=document.createElement("span");gn.textContent=sn,Ke.append(gn)}this.container.append(Ke)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}r.FreeTextAnnotationElement=hn;class He extends Te{#e=null;constructor(Ke){super(Ke,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const Ke=this.data,{width:sn,height:gn}=e(Ke.rect),mn=this.svgFactory.create(sn,gn,!0),yn=this.#e=this.svgFactory.createElement("svg:line");return yn.setAttribute("x1",Ke.rect[2]-Ke.lineCoordinates[0]),yn.setAttribute("y1",Ke.rect[3]-Ke.lineCoordinates[1]),yn.setAttribute("x2",Ke.rect[2]-Ke.lineCoordinates[2]),yn.setAttribute("y2",Ke.rect[3]-Ke.lineCoordinates[3]),yn.setAttribute("stroke-width",Ke.borderStyle.width||1),yn.setAttribute("stroke","transparent"),yn.setAttribute("fill","transparent"),mn.append(yn),this.container.append(mn),!Ke.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class pn extends Te{#e=null;constructor(Ke){super(Ke,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const Ke=this.data,{width:sn,height:gn}=e(Ke.rect),mn=this.svgFactory.create(sn,gn,!0),yn=Ke.borderStyle.width,Sn=this.#e=this.svgFactory.createElement("svg:rect");return Sn.setAttribute("x",yn/2),Sn.setAttribute("y",yn/2),Sn.setAttribute("width",sn-yn),Sn.setAttribute("height",gn-yn),Sn.setAttribute("stroke-width",yn||1),Sn.setAttribute("stroke","transparent"),Sn.setAttribute("fill","transparent"),mn.append(Sn),this.container.append(mn),!Ke.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class Xe extends Te{#e=null;constructor(Ke){super(Ke,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const Ke=this.data,{width:sn,height:gn}=e(Ke.rect),mn=this.svgFactory.create(sn,gn,!0),yn=Ke.borderStyle.width,Sn=this.#e=this.svgFactory.createElement("svg:ellipse");return Sn.setAttribute("cx",sn/2),Sn.setAttribute("cy",gn/2),Sn.setAttribute("rx",sn/2-yn/2),Sn.setAttribute("ry",gn/2-yn/2),Sn.setAttribute("stroke-width",yn||1),Sn.setAttribute("stroke","transparent"),Sn.setAttribute("fill","transparent"),mn.append(Sn),this.container.append(mn),!Ke.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class fn extends Te{#e=null;constructor(Ke){super(Ke,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const Ke=this.data,{width:sn,height:gn}=e(Ke.rect),mn=this.svgFactory.create(sn,gn,!0);let yn=[];for(const _n of Ke.vertices){const wn=_n.x-Ke.rect[0],Nn=Ke.rect[3]-_n.y;yn.push(wn+","+Nn)}yn=yn.join(" ");const Sn=this.#e=this.svgFactory.createElement(this.svgElementName);return Sn.setAttribute("points",yn),Sn.setAttribute("stroke-width",Ke.borderStyle.width||1),Sn.setAttribute("stroke","transparent"),Sn.setAttribute("fill","transparent"),mn.append(Sn),this.container.append(mn),!Ke.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class dn extends fn{constructor(Ke){super(Ke),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class qe extends Te{constructor(Ke){super(Ke,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class tn extends Te{#e=[];constructor(Ke){super(Ke,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=Ee.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const Ke=this.data,{width:sn,height:gn}=e(Ke.rect),mn=this.svgFactory.create(sn,gn,!0);for(const yn of Ke.inkLists){let Sn=[];for(const wn of yn){const Nn=wn.x-Ke.rect[0],Tn=Ke.rect[3]-wn.y;Sn.push(`${Nn},${Tn}`)}Sn=Sn.join(" ");const _n=this.svgFactory.createElement(this.svgElementName);this.#e.push(_n),_n.setAttribute("points",Sn),_n.setAttribute("stroke-width",Ke.borderStyle.width||1),_n.setAttribute("stroke","transparent"),_n.setAttribute("fill","transparent"),!Ke.popupRef&&this.hasPopupData&&this._createPopup(),mn.append(_n)}return this.container.append(mn),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}r.InkAnnotationElement=tn;class Me extends Te{constructor(Ke){super(Ke,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class De extends Te{constructor(Ke){super(Ke,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class Ue extends Te{constructor(Ke){super(Ke,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class We extends Te{constructor(Ke){super(Ke,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class $e extends Te{constructor(Ke){super(Ke,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}r.StampAnnotationElement=$e;class on extends Te{#e=null;constructor(Ke){super(Ke,{isRenderable:!0});const{filename:sn,content:gn}=this.data.file;this.filename=(0,Fe.getFilenameFromUrl)(sn,!0),this.content=gn,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:sn,content:gn})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:Ke,data:sn}=this;let gn;sn.hasAppearance||sn.fillAlpha===0?gn=document.createElement("div"):(gn=document.createElement("img"),gn.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(sn.name)?"paperclip":"pushpin"}.svg`,sn.fillAlpha&&sn.fillAlpha<1&&(gn.style=`filter: opacity(${Math.round(sn.fillAlpha*100)}%);`)),gn.addEventListener("dblclick",this.#t.bind(this)),this.#e=gn;const{isMac:mn}=Ee.FeatureTest.platform;return Ke.addEventListener("keydown",yn=>{yn.key==="Enter"&&(mn?yn.metaKey:yn.ctrlKey)&&this.#t()}),!sn.popupRef&&this.hasPopupData?this._createPopup():gn.classList.add("popupTriggerArea"),Ke.append(gn),Ke}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class Je{#e=null;#t=null;#n=new Map;constructor({div:Ke,accessibilityManager:sn,annotationCanvasMap:gn,l10n:mn,page:yn,viewport:Sn}){this.div=Ke,this.#e=sn,this.#t=gn,this.l10n=mn,this.page=yn,this.viewport=Sn,this.zIndex=0,this.l10n||=_e.NullL10n}#i(Ke,sn){const gn=Ke.firstChild||Ke;gn.id=`${Ee.AnnotationPrefix}${sn}`,this.div.append(Ke),this.#e?.moveElementInDOM(this.div,Ke,gn,!1)}async render(Ke){const{annotations:sn}=Ke,gn=this.div;(0,Fe.setLayerDimensions)(gn,this.viewport);const mn=new Map,yn={data:null,layer:gn,linkService:Ke.linkService,downloadManager:Ke.downloadManager,imageResourcesPath:Ke.imageResourcesPath||"",renderForms:Ke.renderForms!==!1,svgFactory:new Fe.DOMSVGFactory,annotationStorage:Ke.annotationStorage||new Be.AnnotationStorage,enableScripting:Ke.enableScripting===!0,hasJSActions:Ke.hasJSActions,fieldObjects:Ke.fieldObjects,parent:this,elements:null};for(const Sn of sn){if(Sn.noHTML)continue;const _n=Sn.annotationType===Ee.AnnotationType.POPUP;if(_n){const Tn=mn.get(Sn.id);if(!Tn)continue;yn.elements=Tn}else{const{width:Tn,height:Cn}=e(Sn.rect);if(Tn<=0||Cn<=0)continue}yn.data=Sn;const wn=t.create(yn);if(!wn.isRenderable)continue;if(!_n&&Sn.popupRef){const Tn=mn.get(Sn.popupRef);Tn?Tn.push(wn):mn.set(Sn.popupRef,[wn])}wn.annotationEditorType>0&&this.#n.set(wn.data.id,wn);const Nn=wn.render();Sn.hidden&&(Nn.style.visibility="hidden"),this.#i(Nn,Sn.id)}this.#o(),await this.l10n.translate(gn)}update({viewport:Ke}){const sn=this.div;this.viewport=Ke,(0,Fe.setLayerDimensions)(sn,{rotation:Ke.rotation}),this.#o(),sn.hidden=!1}#o(){if(!this.#t)return;const Ke=this.div;for(const[sn,gn]of this.#t){const mn=Ke.querySelector(`[data-annotation-id="${sn}"]`);if(!mn)continue;const{firstChild:yn}=mn;yn?yn.nodeName==="CANVAS"?yn.replaceWith(gn):yn.before(gn):mn.append(gn)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(Ke){return this.#n.get(Ke)}}r.AnnotationLayer=Je},(Ae,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.ColorConverters=void 0;function Se(Be){return Math.floor(Math.max(0,Math.min(1,Be))*255).toString(16).padStart(2,"0")}function Ee(Be){return Math.max(0,Math.min(255,255*Be))}class Fe{static CMYK_G([Ve,_e,ze,xe]){return["G",1-Math.min(1,.3*Ve+.59*ze+.11*_e+xe)]}static G_CMYK([Ve]){return["CMYK",0,0,0,1-Ve]}static G_RGB([Ve]){return["RGB",Ve,Ve,Ve]}static G_rgb([Ve]){return Ve=Ee(Ve),[Ve,Ve,Ve]}static G_HTML([Ve]){const _e=Se(Ve);return`#${_e}${_e}${_e}`}static RGB_G([Ve,_e,ze]){return["G",.3*Ve+.59*_e+.11*ze]}static RGB_rgb(Ve){return Ve.map(Ee)}static RGB_HTML(Ve){return`#${Ve.map(Se).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([Ve,_e,ze,xe]){return["RGB",1-Math.min(1,Ve+xe),1-Math.min(1,ze+xe),1-Math.min(1,_e+xe)]}static CMYK_rgb([Ve,_e,ze,xe]){return[Ee(1-Math.min(1,Ve+xe)),Ee(1-Math.min(1,ze+xe)),Ee(1-Math.min(1,_e+xe))]}static CMYK_HTML(Ve){const _e=this.CMYK_RGB(Ve).slice(1);return this.RGB_HTML(_e)}static RGB_CMYK([Ve,_e,ze]){const xe=1-Ve,Ie=1-_e,Re=1-ze,e=Math.min(xe,Ie,Re);return["CMYK",xe,Ie,Re,e]}}r.ColorConverters=Fe},(Ae,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.NullL10n=void 0,r.getL10nFallback=Ee;const Se={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} × {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} × {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing…",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};Se.print_progress_percent="{{progress}}%";function Ee(Ve,_e){switch(Ve){case"find_match_count":Ve=`find_match_count[${_e.total===1?"one":"other"}]`;break;case"find_match_count_limit":Ve=`find_match_count_limit[${_e.limit===1?"one":"other"}]`;break}return Se[Ve]||""}function Fe(Ve,_e){return _e?Ve.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(ze,xe)=>xe in _e?_e[xe]:"{{"+xe+"}}"):Ve}const Be={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(Ve,_e=null,ze=Ee(Ve,_e)){return Fe(ze,_e)},async translate(Ve){}};r.NullL10n=Be},(Ae,r,Se)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.XfaLayer=void 0;var Ee=Se(25);class Fe{static setupStorage(Ve,_e,ze,xe,Ie){const Re=xe.getValue(_e,{value:null});switch(ze.name){case"textarea":if(Re.value!==null&&(Ve.textContent=Re.value),Ie==="print")break;Ve.addEventListener("input",e=>{xe.setValue(_e,{value:e.target.value})});break;case"input":if(ze.attributes.type==="radio"||ze.attributes.type==="checkbox"){if(Re.value===ze.attributes.xfaOn?Ve.setAttribute("checked",!0):Re.value===ze.attributes.xfaOff&&Ve.removeAttribute("checked"),Ie==="print")break;Ve.addEventListener("change",e=>{xe.setValue(_e,{value:e.target.checked?e.target.getAttribute("xfaOn"):e.target.getAttribute("xfaOff")})})}else{if(Re.value!==null&&Ve.setAttribute("value",Re.value),Ie==="print")break;Ve.addEventListener("input",e=>{xe.setValue(_e,{value:e.target.value})})}break;case"select":if(Re.value!==null){Ve.setAttribute("value",Re.value);for(const e of ze.children)e.attributes.value===Re.value?e.attributes.selected=!0:e.attributes.hasOwnProperty("selected")&&delete e.attributes.selected}Ve.addEventListener("input",e=>{const t=e.target.options,Te=t.selectedIndex===-1?"":t[t.selectedIndex].value;xe.setValue(_e,{value:Te})});break}}static setAttributes({html:Ve,element:_e,storage:ze=null,intent:xe,linkService:Ie}){const{attributes:Re}=_e,e=Ve instanceof HTMLAnchorElement;Re.type==="radio"&&(Re.name=`${Re.name}-${xe}`);for(const[t,Te]of Object.entries(Re))if(Te!=null)switch(t){case"class":Te.length&&Ve.setAttribute(t,Te.join(" "));break;case"dataId":break;case"id":Ve.setAttribute("data-element-id",Te);break;case"style":Object.assign(Ve.style,Te);break;case"textContent":Ve.textContent=Te;break;default:(!e||t!=="href"&&t!=="newWindow")&&Ve.setAttribute(t,Te)}e&&Ie.addLinkAttributes(Ve,Re.href,Re.newWindow),ze&&Re.dataId&&this.setupStorage(Ve,Re.dataId,_e,ze)}static render(Ve){const _e=Ve.annotationStorage,ze=Ve.linkService,xe=Ve.xfaHtml,Ie=Ve.intent||"display",Re=document.createElement(xe.name);xe.attributes&&this.setAttributes({html:Re,element:xe,intent:Ie,linkService:ze});const e=[[xe,-1,Re]],t=Ve.div;if(t.append(Re),Ve.viewport){const Ye=`matrix(${Ve.viewport.transform.join(",")})`;t.style.transform=Ye}Ie!=="richText"&&t.setAttribute("class","xfaLayer xfaFont");const Te=[];for(;e.length>0;){const[Ye,en,je]=e.at(-1);if(en+1===Ye.children.length){e.pop();continue}const nn=Ye.children[++e.at(-1)[1]];if(nn===null)continue;const{name:Ge}=nn;if(Ge==="#text"){const Ce=document.createTextNode(nn.value);Te.push(Ce),je.append(Ce);continue}const Oe=nn?.attributes?.xmlns?document.createElementNS(nn.attributes.xmlns,Ge):document.createElement(Ge);if(je.append(Oe),nn.attributes&&this.setAttributes({html:Oe,element:nn,storage:_e,intent:Ie,linkService:ze}),nn.children&&nn.children.length>0)e.push([nn,-1,Oe]);else if(nn.value){const Ce=document.createTextNode(nn.value);Ee.XfaText.shouldBuildText(Ge)&&Te.push(Ce),Oe.append(Ce)}}for(const Ye of t.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))Ye.setAttribute("readOnly",!0);return{textDivs:Te}}static update(Ve){const _e=`matrix(${Ve.viewport.transform.join(",")})`;Ve.div.style.transform=_e,Ve.div.hidden=!1}}r.XfaLayer=Fe},(Ae,r,Se)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.InkEditor=void 0;var Ee=Se(1),Fe=Se(4),Be=Se(29),Ve=Se(6),_e=Se(5);class ze extends Fe.AnnotationEditor{#e=0;#t=0;#n=this.canvasPointermove.bind(this);#i=this.canvasPointerleave.bind(this);#o=this.canvasPointerup.bind(this);#s=this.canvasPointerdown.bind(this);#a=new Path2D;#l=!1;#c=!1;#r=!1;#p=null;#h=0;#d=0;#f=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _type="ink";constructor(Ie){super({...Ie,name:"inkEditor"}),this.color=Ie.color||null,this.thickness=Ie.thickness||null,this.opacity=Ie.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(Ie){Fe.AnnotationEditor.initialize(Ie,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(Ie,Re){switch(Ie){case Ee.AnnotationEditorParamsType.INK_THICKNESS:ze._defaultThickness=Re;break;case Ee.AnnotationEditorParamsType.INK_COLOR:ze._defaultColor=Re;break;case Ee.AnnotationEditorParamsType.INK_OPACITY:ze._defaultOpacity=Re/100;break}}updateParams(Ie,Re){switch(Ie){case Ee.AnnotationEditorParamsType.INK_THICKNESS:this.#x(Re);break;case Ee.AnnotationEditorParamsType.INK_COLOR:this.#m(Re);break;case Ee.AnnotationEditorParamsType.INK_OPACITY:this.#g(Re);break}}static get defaultPropertiesToUpdate(){return[[Ee.AnnotationEditorParamsType.INK_THICKNESS,ze._defaultThickness],[Ee.AnnotationEditorParamsType.INK_COLOR,ze._defaultColor||Fe.AnnotationEditor._defaultLineColor],[Ee.AnnotationEditorParamsType.INK_OPACITY,Math.round(ze._defaultOpacity*100)]]}get propertiesToUpdate(){return[[Ee.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||ze._defaultThickness],[Ee.AnnotationEditorParamsType.INK_COLOR,this.color||ze._defaultColor||Fe.AnnotationEditor._defaultLineColor],[Ee.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??ze._defaultOpacity))]]}#x(Ie){const Re=this.thickness;this.addCommands({cmd:()=>{this.thickness=Ie,this.#k()},undo:()=>{this.thickness=Re,this.#k()},mustExec:!0,type:Ee.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#m(Ie){const Re=this.color;this.addCommands({cmd:()=>{this.color=Ie,this.#y()},undo:()=>{this.color=Re,this.#y()},mustExec:!0,type:Ee.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#g(Ie){Ie/=100;const Re=this.opacity;this.addCommands({cmd:()=>{this.opacity=Ie,this.#y()},undo:()=>{this.opacity=Re,this.#y()},mustExec:!0,type:Ee.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(this.#T(),this.#P()),this.isAttachedToDOM||(this.parent.add(this),this.#w()),this.#k()))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#p.disconnect(),this.#p=null,super.remove())}setParent(Ie){!this.parent&&Ie?this._uiManager.removeShouldRescale(this):this.parent&&Ie===null&&this._uiManager.addShouldRescale(this),super.setParent(Ie)}onScaleChanging(){const[Ie,Re]=this.parentDimensions,e=this.width*Ie,t=this.height*Re;this.setDimensions(e,t)}enableEditMode(){this.#l||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",this.#s))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",this.#s))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}#u(){const{parentRotation:Ie,parentDimensions:[Re,e]}=this;switch(Ie){case 90:return[0,e,e,Re];case 180:return[Re,e,Re,e];case 270:return[Re,0,e,Re];default:return[0,0,Re,e]}}#b(){const{ctx:Ie,color:Re,opacity:e,thickness:t,parentScale:Te,scaleFactor:Ye}=this;Ie.lineWidth=t*Te/Ye,Ie.lineCap="round",Ie.lineJoin="round",Ie.miterLimit=10,Ie.strokeStyle=`${Re}${(0,_e.opacityToHex)(e)}`}#A(Ie,Re){this.canvas.addEventListener("contextmenu",Ve.noContextMenu),this.canvas.addEventListener("pointerleave",this.#i),this.canvas.addEventListener("pointermove",this.#n),this.canvas.addEventListener("pointerup",this.#o),this.canvas.removeEventListener("pointerdown",this.#s),this.isEditing=!0,this.#r||(this.#r=!0,this.#w(),this.thickness||=ze._defaultThickness,this.color||=ze._defaultColor||Fe.AnnotationEditor._defaultLineColor,this.opacity??=ze._defaultOpacity),this.currentPath.push([Ie,Re]),this.#c=!1,this.#b(),this.#f=()=>{this.#N(),this.#f&&window.requestAnimationFrame(this.#f)},window.requestAnimationFrame(this.#f)}#S(Ie,Re){const[e,t]=this.currentPath.at(-1);if(this.currentPath.length>1&&Ie===e&&Re===t)return;const Te=this.currentPath;let Ye=this.#a;if(Te.push([Ie,Re]),this.#c=!0,Te.length<=2){Ye.moveTo(...Te[0]),Ye.lineTo(Ie,Re);return}Te.length===3&&(this.#a=Ye=new Path2D,Ye.moveTo(...Te[0])),this.#L(Ye,...Te.at(-3),...Te.at(-2),Ie,Re)}#E(){if(this.currentPath.length===0)return;const Ie=this.currentPath.at(-1);this.#a.lineTo(...Ie)}#I(Ie,Re){this.#f=null,Ie=Math.min(Math.max(Ie,0),this.canvas.width),Re=Math.min(Math.max(Re,0),this.canvas.height),this.#S(Ie,Re),this.#E();let e;if(this.currentPath.length!==1)e=this.#M();else{const je=[Ie,Re];e=[[je,je.slice(),je.slice(),je]]}const t=this.#a,Te=this.currentPath;this.currentPath=[],this.#a=new Path2D;const Ye=()=>{this.allRawPaths.push(Te),this.paths.push(e),this.bezierPath2D.push(t),this.rebuild()},en=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(this.#T(),this.#P()),this.#k())};this.addCommands({cmd:Ye,undo:en,mustExec:!0})}#N(){if(!this.#c)return;this.#c=!1;const Ie=Math.ceil(this.thickness*this.parentScale),Re=this.currentPath.slice(-3),e=Re.map(Ye=>Ye[0]),t=Re.map(Ye=>Ye[1]);Math.min(...e)-Ie,Math.max(...e)+Ie,Math.min(...t)-Ie,Math.max(...t)+Ie;const{ctx:Te}=this;Te.save(),Te.clearRect(0,0,this.canvas.width,this.canvas.height);for(const Ye of this.bezierPath2D)Te.stroke(Ye);Te.stroke(this.#a),Te.restore()}#L(Ie,Re,e,t,Te,Ye,en){const je=(Re+t)/2,nn=(e+Te)/2,Ge=(t+Ye)/2,Oe=(Te+en)/2;Ie.bezierCurveTo(je+2*(t-je)/3,nn+2*(Te-nn)/3,Ge+2*(t-Ge)/3,Oe+2*(Te-Oe)/3,Ge,Oe)}#M(){const Ie=this.currentPath;if(Ie.length<=2)return[[Ie[0],Ie[0],Ie.at(-1),Ie.at(-1)]];const Re=[];let e,[t,Te]=Ie[0];for(e=1;e<Ie.length-2;e++){const[Ce,St]=Ie[e],[rn,un]=Ie[e+1],Qe=(Ce+rn)/2,hn=(St+un)/2,He=[t+2*(Ce-t)/3,Te+2*(St-Te)/3],pn=[Qe+2*(Ce-Qe)/3,hn+2*(St-hn)/3];Re.push([[t,Te],He,pn,[Qe,hn]]),[t,Te]=[Qe,hn]}const[Ye,en]=Ie[e],[je,nn]=Ie[e+1],Ge=[t+2*(Ye-t)/3,Te+2*(en-Te)/3],Oe=[je+2*(Ye-je)/3,nn+2*(en-nn)/3];return Re.push([[t,Te],Ge,Oe,[je,nn]]),Re}#y(){if(this.isEmpty()){this.#C();return}this.#b();const{canvas:Ie,ctx:Re}=this;Re.setTransform(1,0,0,1,0,0),Re.clearRect(0,0,Ie.width,Ie.height),this.#C();for(const e of this.bezierPath2D)Re.stroke(e)}commit(){this.#l||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#l=!0,this.div.classList.add("disabled"),this.#k(!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(Ie){this._focusEventsAllowed&&(super.focusin(Ie),this.enableEditMode())}canvasPointerdown(Ie){Ie.button!==0||!this.isInEditMode()||this.#l||(this.setInForeground(),Ie.preventDefault(),Ie.type!=="mouse"&&this.div.focus(),this.#A(Ie.offsetX,Ie.offsetY))}canvasPointermove(Ie){Ie.preventDefault(),this.#S(Ie.offsetX,Ie.offsetY)}canvasPointerup(Ie){Ie.preventDefault(),this.#O(Ie)}canvasPointerleave(Ie){this.#O(Ie)}#O(Ie){this.canvas.removeEventListener("pointerleave",this.#i),this.canvas.removeEventListener("pointermove",this.#n),this.canvas.removeEventListener("pointerup",this.#o),this.canvas.addEventListener("pointerdown",this.#s),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",Ve.noContextMenu)},10),this.#I(Ie.offsetX,Ie.offsetY),this.addToAnnotationStorage(),this.setInBackground()}#T(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",Fe.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(Ie=>this.canvas?.setAttribute("aria-label",Ie)),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#P(){this.#p=new ResizeObserver(Ie=>{const Re=Ie[0].contentRect;Re.width&&Re.height&&this.setDimensions(Re.width,Re.height)}),this.#p.observe(this.div)}get isResizable(){return!this.isEmpty()&&this.#l}render(){if(this.div)return this.div;let Ie,Re;this.width&&(Ie=this.x,Re=this.y),super.render(),Fe.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(en=>this.div?.setAttribute("aria-label",en));const[e,t,Te,Ye]=this.#u();if(this.setAt(e,t,0,0),this.setDims(Te,Ye),this.#T(),this.width){const[en,je]=this.parentDimensions;this.setAspectRatio(this.width*en,this.height*je),this.setAt(Ie*en,Re*je,this.width*en,this.height*je),this.#r=!0,this.#w(),this.setDims(this.width*en,this.height*je),this.#y(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#P(),this.div}#w(){if(!this.#r)return;const[Ie,Re]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*Ie),this.canvas.height=Math.ceil(this.height*Re),this.#C()}setDimensions(Ie,Re){const e=Math.round(Ie),t=Math.round(Re);if(this.#h===e&&this.#d===t)return;this.#h=e,this.#d=t,this.canvas.style.visibility="hidden";const[Te,Ye]=this.parentDimensions;this.width=Ie/Te,this.height=Re/Ye,this.fixAndSetPosition(),this.#l&&this.#_(Ie,Re),this.#w(),this.#y(),this.canvas.style.visibility="visible",this.fixDims()}#_(Ie,Re){const e=this.#R(),t=(Ie-e)/this.#t,Te=(Re-e)/this.#e;this.scaleFactor=Math.min(t,Te)}#C(){const Ie=this.#R()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+Ie,this.translationY*this.scaleFactor+Ie)}static#D(Ie){const Re=new Path2D;for(let e=0,t=Ie.length;e<t;e++){const[Te,Ye,en,je]=Ie[e];e===0&&Re.moveTo(...Te),Re.bezierCurveTo(Ye[0],Ye[1],en[0],en[1],je[0],je[1])}return Re}static#B(Ie,Re,e){const[t,Te,Ye,en]=Re;switch(e){case 0:for(let je=0,nn=Ie.length;je<nn;je+=2)Ie[je]+=t,Ie[je+1]=en-Ie[je+1];break;case 90:for(let je=0,nn=Ie.length;je<nn;je+=2){const Ge=Ie[je];Ie[je]=Ie[je+1]+t,Ie[je+1]=Ge+Te}break;case 180:for(let je=0,nn=Ie.length;je<nn;je+=2)Ie[je]=Ye-Ie[je],Ie[je+1]+=Te;break;case 270:for(let je=0,nn=Ie.length;je<nn;je+=2){const Ge=Ie[je];Ie[je]=Ye-Ie[je+1],Ie[je+1]=en-Ge}break;default:throw new Error("Invalid rotation")}return Ie}static#j(Ie,Re,e){const[t,Te,Ye,en]=Re;switch(e){case 0:for(let je=0,nn=Ie.length;je<nn;je+=2)Ie[je]-=t,Ie[je+1]=en-Ie[je+1];break;case 90:for(let je=0,nn=Ie.length;je<nn;je+=2){const Ge=Ie[je];Ie[je]=Ie[je+1]-Te,Ie[je+1]=Ge-t}break;case 180:for(let je=0,nn=Ie.length;je<nn;je+=2)Ie[je]=Ye-Ie[je],Ie[je+1]-=Te;break;case 270:for(let je=0,nn=Ie.length;je<nn;je+=2){const Ge=Ie[je];Ie[je]=en-Ie[je+1],Ie[je+1]=Ye-Ge}break;default:throw new Error("Invalid rotation")}return Ie}#U(Ie,Re,e,t){const Te=[],Ye=this.thickness/2,en=Ie*Re+Ye,je=Ie*e+Ye;for(const nn of this.paths){const Ge=[],Oe=[];for(let Ce=0,St=nn.length;Ce<St;Ce++){const[rn,un,Qe,hn]=nn[Ce],He=Ie*rn[0]+en,pn=Ie*rn[1]+je,Xe=Ie*un[0]+en,fn=Ie*un[1]+je,dn=Ie*Qe[0]+en,qe=Ie*Qe[1]+je,tn=Ie*hn[0]+en,Me=Ie*hn[1]+je;Ce===0&&(Ge.push(He,pn),Oe.push(He,pn)),Ge.push(Xe,fn,dn,qe,tn,Me),Oe.push(Xe,fn),Ce===St-1&&Oe.push(tn,Me)}Te.push({bezier:ze.#B(Ge,t,this.rotation),points:ze.#B(Oe,t,this.rotation)})}return Te}#F(){let Ie=1/0,Re=-1/0,e=1/0,t=-1/0;for(const Te of this.paths)for(const[Ye,en,je,nn]of Te){const Ge=Ee.Util.bezierBoundingBox(...Ye,...en,...je,...nn);Ie=Math.min(Ie,Ge[0]),e=Math.min(e,Ge[1]),Re=Math.max(Re,Ge[2]),t=Math.max(t,Ge[3])}return[Ie,e,Re,t]}#R(){return this.#l?Math.ceil(this.thickness*this.parentScale):0}#k(Ie=!1){if(this.isEmpty())return;if(!this.#l){this.#y();return}const Re=this.#F(),e=this.#R();this.#t=Math.max(Fe.AnnotationEditor.MIN_SIZE,Re[2]-Re[0]),this.#e=Math.max(Fe.AnnotationEditor.MIN_SIZE,Re[3]-Re[1]);const t=Math.ceil(e+this.#t*this.scaleFactor),Te=Math.ceil(e+this.#e*this.scaleFactor),[Ye,en]=this.parentDimensions;this.width=t/Ye,this.height=Te/en,this.setAspectRatio(t,Te);const je=this.translationX,nn=this.translationY;this.translationX=-Re[0],this.translationY=-Re[1],this.#w(),this.#y(),this.#h=t,this.#d=Te,this.setDims(t,Te);const Ge=Ie?e/this.scaleFactor/2:0;this.translate(je-this.translationX-Ge,nn-this.translationY-Ge)}static deserialize(Ie,Re,e){if(Ie instanceof Be.InkAnnotationElement)return null;const t=super.deserialize(Ie,Re,e);t.thickness=Ie.thickness,t.color=Ee.Util.makeHexColor(...Ie.color),t.opacity=Ie.opacity;const[Te,Ye]=t.pageDimensions,en=t.width*Te,je=t.height*Ye,nn=t.parentScale,Ge=Ie.thickness/2;t.#l=!0,t.#h=Math.round(en),t.#d=Math.round(je);const{paths:Oe,rect:Ce,rotation:St}=Ie;for(let{bezier:un}of Oe){un=ze.#j(un,Ce,St);const Qe=[];t.paths.push(Qe);let hn=nn*(un[0]-Ge),He=nn*(un[1]-Ge);for(let Xe=2,fn=un.length;Xe<fn;Xe+=6){const dn=nn*(un[Xe]-Ge),qe=nn*(un[Xe+1]-Ge),tn=nn*(un[Xe+2]-Ge),Me=nn*(un[Xe+3]-Ge),De=nn*(un[Xe+4]-Ge),Ue=nn*(un[Xe+5]-Ge);Qe.push([[hn,He],[dn,qe],[tn,Me],[De,Ue]]),hn=De,He=Ue}const pn=this.#D(Qe);t.bezierPath2D.push(pn)}const rn=t.#F();return t.#t=Math.max(Fe.AnnotationEditor.MIN_SIZE,rn[2]-rn[0]),t.#e=Math.max(Fe.AnnotationEditor.MIN_SIZE,rn[3]-rn[1]),t.#_(en,je),t}serialize(){if(this.isEmpty())return null;const Ie=this.getRect(0,0),Re=Fe.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:Ee.AnnotationEditorType.INK,color:Re,thickness:this.thickness,opacity:this.opacity,paths:this.#U(this.scaleFactor/this.parentScale,this.translationX,this.translationY,Ie),pageIndex:this.pageIndex,rect:Ie,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}}r.InkEditor=ze},(Ae,r,Se)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.StampEditor=void 0;var Ee=Se(1),Fe=Se(4),Be=Se(6),Ve=Se(29);class _e extends Fe.AnnotationEditor{#e=null;#t=null;#n=null;#i=null;#o=null;#s=null;#a=null;#l=null;#c=!1;#r=!1;static _type="stamp";constructor(xe){super({...xe,name:"stampEditor"}),this.#i=xe.bitmapUrl,this.#o=xe.bitmapFile}static initialize(xe){Fe.AnnotationEditor.initialize(xe)}static get supportedTypes(){const xe=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,Ee.shadow)(this,"supportedTypes",xe.map(Ie=>`image/${Ie}`))}static get supportedTypesStr(){return(0,Ee.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(xe){return this.supportedTypes.includes(xe)}static paste(xe,Ie){Ie.pasteEditor(Ee.AnnotationEditorType.STAMP,{bitmapFile:xe.getAsFile()})}#p(xe,Ie=!1){if(!xe){this.remove();return}this.#e=xe.bitmap,Ie||(this.#t=xe.id,this.#c=xe.isSvg),this.#f()}#h(){this.#n=null,this._uiManager.enableWaiting(!1),this.#s&&this.div.focus()}#d(){if(this.#t){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#t).then(Ie=>this.#p(Ie,!0)).finally(()=>this.#h());return}if(this.#i){const Ie=this.#i;this.#i=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromUrl(Ie).then(Re=>this.#p(Re)).finally(()=>this.#h());return}if(this.#o){const Ie=this.#o;this.#o=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromFile(Ie).then(Re=>this.#p(Re)).finally(()=>this.#h());return}const xe=document.createElement("input");xe.type="file",xe.accept=_e.supportedTypesStr,this.#n=new Promise(Ie=>{xe.addEventListener("change",async()=>{if(!xe.files||xe.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const Re=await this._uiManager.imageManager.getFromFile(xe.files[0]);this.#p(Re)}Ie()}),xe.addEventListener("cancel",()=>{this.remove(),Ie()})}).finally(()=>this.#h()),xe.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#s?.remove(),this.#s=null,this.#a?.disconnect(),this.#a=null),super.remove()}rebuild(){if(!this.parent){this.#t&&this.#d();return}super.rebuild(),this.div!==null&&(this.#t&&this.#d(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(this.#n||this.#e||this.#i||this.#o)}get isResizable(){return!0}render(){if(this.div)return this.div;let xe,Ie;if(this.width&&(xe=this.x,Ie=this.y),super.render(),this.div.hidden=!0,this.#e?this.#f():this.#d(),this.width){const[Re,e]=this.parentDimensions;this.setAt(xe*Re,Ie*e,this.width*Re,this.height*e)}return this.div}#f(){const{div:xe}=this;let{width:Ie,height:Re}=this.#e;const[e,t]=this.pageDimensions,Te=.75;if(this.width)Ie=this.width*e,Re=this.height*t;else if(Ie>Te*e||Re>Te*t){const nn=Math.min(Te*e/Ie,Te*t/Re);Ie*=nn,Re*=nn}const[Ye,en]=this.parentDimensions;this.setDims(Ie*Ye/e,Re*en/t),this._uiManager.enableWaiting(!1);const je=this.#s=document.createElement("canvas");xe.append(je),xe.hidden=!1,this.#g(Ie,Re),this.#b(),this.#r||(this.parent.addUndoableEditor(this),this.#r=!0),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()}#x(xe,Ie){const[Re,e]=this.parentDimensions;this.width=xe/Re,this.height=Ie/e,this.setDims(xe,Ie),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,this.#l!==null&&clearTimeout(this.#l);const t=200;this.#l=setTimeout(()=>{this.#l=null,this.#g(xe,Ie)},t)}#m(xe,Ie){const{width:Re,height:e}=this.#e;let t=Re,Te=e,Ye=this.#e;for(;t>2*xe||Te>2*Ie;){const en=t,je=Te;t>2*xe&&(t=t>=16384?Math.floor(t/2)-1:Math.ceil(t/2)),Te>2*Ie&&(Te=Te>=16384?Math.floor(Te/2)-1:Math.ceil(Te/2));const nn=new OffscreenCanvas(t,Te);nn.getContext("2d").drawImage(Ye,0,0,en,je,0,0,t,Te),Ye=nn.transferToImageBitmap()}return Ye}#g(xe,Ie){xe=Math.ceil(xe),Ie=Math.ceil(Ie);const Re=this.#s;if(!Re||Re.width===xe&&Re.height===Ie)return;Re.width=xe,Re.height=Ie;const e=this.#c?this.#e:this.#m(xe,Ie),t=Re.getContext("2d");t.filter=this._uiManager.hcmFilter,t.drawImage(e,0,0,e.width,e.height,0,0,xe,Ie)}#u(xe){if(xe){if(this.#c){const e=this._uiManager.imageManager.getSvgUrl(this.#t);if(e)return e}const Ie=document.createElement("canvas");return{width:Ie.width,height:Ie.height}=this.#e,Ie.getContext("2d").drawImage(this.#e,0,0),Ie.toDataURL()}if(this.#c){const[Ie,Re]=this.pageDimensions,e=Math.round(this.width*Ie*Be.PixelsPerInch.PDF_TO_CSS_UNITS),t=Math.round(this.height*Re*Be.PixelsPerInch.PDF_TO_CSS_UNITS),Te=new OffscreenCanvas(e,t);return Te.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,e,t),Te.transferToImageBitmap()}return structuredClone(this.#e)}#b(){this.#a=new ResizeObserver(xe=>{const Ie=xe[0].contentRect;Ie.width&&Ie.height&&this.#x(Ie.width,Ie.height)}),this.#a.observe(this.div)}static deserialize(xe,Ie,Re){if(xe instanceof Ve.StampAnnotationElement)return null;const e=super.deserialize(xe,Ie,Re),{rect:t,bitmapUrl:Te,bitmapId:Ye,isSvg:en,accessibilityData:je}=xe;Ye&&Re.imageManager.isValidId(Ye)?e.#t=Ye:e.#i=Te,e.#c=en;const[nn,Ge]=e.pageDimensions;return e.width=(t[2]-t[0])/nn,e.height=(t[3]-t[1])/Ge,je&&(e.altTextData=je),e}serialize(xe=!1,Ie=null){if(this.isEmpty())return null;const Re={annotationType:Ee.AnnotationEditorType.STAMP,bitmapId:this.#t,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#c,structTreeParentId:this._structTreeParentId};if(xe)return Re.bitmapUrl=this.#u(!0),Re.accessibilityData=this.altTextData,Re;const{decorative:e,altText:t}=this.altTextData;if(!e&&t&&(Re.accessibilityData={type:"Figure",alt:t}),Ie===null)return Re;Ie.stamps||=new Map;const Te=this.#c?(Re.rect[2]-Re.rect[0])*(Re.rect[3]-Re.rect[1]):null;if(!Ie.stamps.has(this.#t))Ie.stamps.set(this.#t,{area:Te,serialized:Re}),Re.bitmap=this.#u(!1);else if(this.#c){const Ye=Ie.stamps.get(this.#t);Te>Ye.area&&(Ye.area=Te,Ye.serialized.bitmap.close(),Ye.serialized.bitmap=this.#u(!1))}return Re}}r.StampEditor=_e}],__webpack_module_cache__={};function __w_pdfjs_require__(Ae){var r=__webpack_module_cache__[Ae];if(r!==void 0)return r.exports;var Se=__webpack_module_cache__[Ae]={exports:{}};return __webpack_modules__[Ae](Se,Se.exports,__w_pdfjs_require__),Se.exports}var __webpack_exports__={};return(()=>{var Ae=__webpack_exports__;Object.defineProperty(Ae,"__esModule",{value:!0}),Object.defineProperty(Ae,"AbortException",{enumerable:!0,get:function(){return r.AbortException}}),Object.defineProperty(Ae,"AnnotationEditorLayer",{enumerable:!0,get:function(){return Be.AnnotationEditorLayer}}),Object.defineProperty(Ae,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return r.AnnotationEditorParamsType}}),Object.defineProperty(Ae,"AnnotationEditorType",{enumerable:!0,get:function(){return r.AnnotationEditorType}}),Object.defineProperty(Ae,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return Ve.AnnotationEditorUIManager}}),Object.defineProperty(Ae,"AnnotationLayer",{enumerable:!0,get:function(){return _e.AnnotationLayer}}),Object.defineProperty(Ae,"AnnotationMode",{enumerable:!0,get:function(){return r.AnnotationMode}}),Object.defineProperty(Ae,"CMapCompressionType",{enumerable:!0,get:function(){return r.CMapCompressionType}}),Object.defineProperty(Ae,"DOMSVGFactory",{enumerable:!0,get:function(){return Ee.DOMSVGFactory}}),Object.defineProperty(Ae,"FeatureTest",{enumerable:!0,get:function(){return r.FeatureTest}}),Object.defineProperty(Ae,"GlobalWorkerOptions",{enumerable:!0,get:function(){return ze.GlobalWorkerOptions}}),Object.defineProperty(Ae,"ImageKind",{enumerable:!0,get:function(){return r.ImageKind}}),Object.defineProperty(Ae,"InvalidPDFException",{enumerable:!0,get:function(){return r.InvalidPDFException}}),Object.defineProperty(Ae,"MissingPDFException",{enumerable:!0,get:function(){return r.MissingPDFException}}),Object.defineProperty(Ae,"OPS",{enumerable:!0,get:function(){return r.OPS}}),Object.defineProperty(Ae,"PDFDataRangeTransport",{enumerable:!0,get:function(){return Se.PDFDataRangeTransport}}),Object.defineProperty(Ae,"PDFDateString",{enumerable:!0,get:function(){return Ee.PDFDateString}}),Object.defineProperty(Ae,"PDFWorker",{enumerable:!0,get:function(){return Se.PDFWorker}}),Object.defineProperty(Ae,"PasswordResponses",{enumerable:!0,get:function(){return r.PasswordResponses}}),Object.defineProperty(Ae,"PermissionFlag",{enumerable:!0,get:function(){return r.PermissionFlag}}),Object.defineProperty(Ae,"PixelsPerInch",{enumerable:!0,get:function(){return Ee.PixelsPerInch}}),Object.defineProperty(Ae,"PromiseCapability",{enumerable:!0,get:function(){return r.PromiseCapability}}),Object.defineProperty(Ae,"RenderingCancelledException",{enumerable:!0,get:function(){return Ee.RenderingCancelledException}}),Object.defineProperty(Ae,"SVGGraphics",{enumerable:!0,get:function(){return Se.SVGGraphics}}),Object.defineProperty(Ae,"UnexpectedResponseException",{enumerable:!0,get:function(){return r.UnexpectedResponseException}}),Object.defineProperty(Ae,"Util",{enumerable:!0,get:function(){return r.Util}}),Object.defineProperty(Ae,"VerbosityLevel",{enumerable:!0,get:function(){return r.VerbosityLevel}}),Object.defineProperty(Ae,"XfaLayer",{enumerable:!0,get:function(){return xe.XfaLayer}}),Object.defineProperty(Ae,"build",{enumerable:!0,get:function(){return Se.build}}),Object.defineProperty(Ae,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return r.createValidAbsoluteUrl}}),Object.defineProperty(Ae,"getDocument",{enumerable:!0,get:function(){return Se.getDocument}}),Object.defineProperty(Ae,"getFilenameFromUrl",{enumerable:!0,get:function(){return Ee.getFilenameFromUrl}}),Object.defineProperty(Ae,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return Ee.getPdfFilenameFromUrl}}),Object.defineProperty(Ae,"getXfaPageViewport",{enumerable:!0,get:function(){return Ee.getXfaPageViewport}}),Object.defineProperty(Ae,"isDataScheme",{enumerable:!0,get:function(){return Ee.isDataScheme}}),Object.defineProperty(Ae,"isPdfFile",{enumerable:!0,get:function(){return Ee.isPdfFile}}),Object.defineProperty(Ae,"loadScript",{enumerable:!0,get:function(){return Ee.loadScript}}),Object.defineProperty(Ae,"noContextMenu",{enumerable:!0,get:function(){return Ee.noContextMenu}}),Object.defineProperty(Ae,"normalizeUnicode",{enumerable:!0,get:function(){return r.normalizeUnicode}}),Object.defineProperty(Ae,"renderTextLayer",{enumerable:!0,get:function(){return Fe.renderTextLayer}}),Object.defineProperty(Ae,"setLayerDimensions",{enumerable:!0,get:function(){return Ee.setLayerDimensions}}),Object.defineProperty(Ae,"shadow",{enumerable:!0,get:function(){return r.shadow}}),Object.defineProperty(Ae,"updateTextLayer",{enumerable:!0,get:function(){return Fe.updateTextLayer}}),Object.defineProperty(Ae,"version",{enumerable:!0,get:function(){return Se.version}});var r=__w_pdfjs_require__(1),Se=__w_pdfjs_require__(2),Ee=__w_pdfjs_require__(6),Fe=__w_pdfjs_require__(26),Be=__w_pdfjs_require__(27),Ve=__w_pdfjs_require__(5),_e=__w_pdfjs_require__(29),ze=__w_pdfjs_require__(14),xe=__w_pdfjs_require__(32)})(),__webpack_exports__})())}(pdf)),pdf.exports}requirePdf();var pdf_worker_entry={},pdf_worker={exports:{}},hasRequiredPdf_worker;function requirePdf_worker(){return hasRequiredPdf_worker||(hasRequiredPdf_worker=1,function(Ae,r){(function(Ee,Fe){Ae.exports=Ee.pdfjsWorker=Fe()})(globalThis,()=>(()=>{var Se=[,(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.WorkerTask=_e.WorkerMessageHandler=void 0;var xe=ze(2),Ie=ze(3),Re=ze(4),e=ze(6),t=ze(10),Te=ze(68),Ye=ze(73),en=ze(104),je=ze(105),nn=ze(72);class Ge{constructor(rn){this.name=rn,this.terminated=!1,this._capability=new xe.PromiseCapability}get finished(){return this._capability.promise}finish(){this._capability.resolve()}terminate(){this.terminated=!0}ensureNotTerminated(){if(this.terminated)throw new Error("Worker task was terminated")}}_e.WorkerTask=Ge;class Oe{static setup(rn,un){let Qe=!1;rn.on("test",function(hn){Qe||(Qe=!0,rn.send("test",hn instanceof Uint8Array))}),rn.on("configure",function(hn){(0,xe.setVerbosityLevel)(hn.verbosity)}),rn.on("GetDocRequest",function(hn){return Oe.createDocumentHandler(hn,un)})}static createDocumentHandler(rn,un){let Qe,hn=!1,He=null;const pn=new Set,Xe=(0,xe.getVerbosityLevel)(),{docId:fn,apiVersion:dn}=rn,qe="3.11.174";if(dn!==qe)throw new Error(`The API version "${dn}" does not match the Worker version "${qe}".`);const tn=[];for(const Ke in[])tn.push(Ke);if(tn.length)throw new Error("The `Array.prototype` contains unexpected enumerable properties: "+tn.join(", ")+"; thus breaking e.g. `for...in` iteration of `Array`s.");const Me=fn+"_worker";let De=new en.MessageHandler(Me,fn,un);function Ue(){if(hn)throw new Error("Worker was terminated")}function We(Ke){pn.add(Ke)}function $e(Ke){Ke.finish(),pn.delete(Ke)}async function on(Ke){await Qe.ensureDoc("checkHeader"),await Qe.ensureDoc("parseStartXRef"),await Qe.ensureDoc("parse",[Ke]),await Qe.ensureDoc("checkFirstPage",[Ke]),await Qe.ensureDoc("checkLastPage",[Ke]);const sn=await Qe.ensureDoc("isPureXfa");if(sn){const Sn=new Ge("loadXfaFonts");We(Sn),await Promise.all([Qe.loadXfaFonts(De,Sn).catch(_n=>{}).then(()=>$e(Sn)),Qe.loadXfaImages()])}const[gn,mn]=await Promise.all([Qe.ensureDoc("numPages"),Qe.ensureDoc("fingerprints")]),yn=sn?await Qe.ensureDoc("htmlForXfa"):null;return{numPages:gn,fingerprints:mn,htmlForXfa:yn}}function Je({data:Ke,password:sn,disableAutoFetch:gn,rangeChunkSize:mn,length:yn,docBaseUrl:Sn,enableXfa:_n,evaluatorOptions:wn}){const Nn={source:null,disableAutoFetch:gn,docBaseUrl:Sn,docId:fn,enableXfa:_n,evaluatorOptions:wn,handler:De,length:yn,password:sn,rangeChunkSize:mn},Tn=new xe.PromiseCapability;let Cn;if(Ke){try{Nn.source=Ke,Cn=new e.LocalPdfManager(Nn),Tn.resolve(Cn)}catch(On){Tn.reject(On)}return Tn.promise}let In,Rn=[];try{In=new je.PDFWorkerStream(De)}catch(On){return Tn.reject(On),Tn.promise}const bn=In.getFullReader();bn.headersReady.then(function(){if(bn.isRangeSupported){Nn.source=In,Nn.length=bn.contentLength,Nn.disableAutoFetch||=bn.isStreamingSupported,Cn=new e.NetworkPdfManager(Nn);for(const On of Rn)Cn.sendProgressiveData(On);Rn=[],Tn.resolve(Cn),He=null}}).catch(function(On){Tn.reject(On),He=null});let kn=0;const En=function(){const On=(0,Ie.arrayBuffersToBytes)(Rn);yn&&On.length!==yn&&(0,xe.warn)("reported HTTP length is different from actual");try{Nn.source=On,Cn=new e.LocalPdfManager(Nn),Tn.resolve(Cn)}catch(Mn){Tn.reject(Mn)}Rn=[]};return new Promise(function(On,Mn){const Bn=function({value:Hn,done:$n}){try{if(Ue(),$n){Cn||En(),He=null;return}kn+=Hn.byteLength,bn.isStreamingSupported||De.send("DocProgress",{loaded:kn,total:Math.max(kn,bn.contentLength||0)}),Cn?Cn.sendProgressiveData(Hn):Rn.push(Hn),bn.read().then(Bn,Mn)}catch(Un){Mn(Un)}};bn.read().then(Bn,Mn)}).catch(function(On){Tn.reject(On),He=null}),He=function(On){In.cancelAllRequests(On)},Tn.promise}function an(Ke){function sn(yn){Ue(),De.send("GetDoc",{pdfInfo:yn})}function gn(yn){if(Ue(),yn instanceof xe.PasswordException){const Sn=new Ge(`PasswordException: response ${yn.code}`);We(Sn),De.sendWithPromise("PasswordRequest",yn).then(function({password:_n}){$e(Sn),Qe.updatePassword(_n),mn()}).catch(function(){$e(Sn),De.send("DocException",yn)})}else yn instanceof xe.InvalidPDFException||yn instanceof xe.MissingPDFException||yn instanceof xe.UnexpectedResponseException||yn instanceof xe.UnknownErrorException?De.send("DocException",yn):De.send("DocException",new xe.UnknownErrorException(yn.message,yn.toString()))}function mn(){Ue(),on(!1).then(sn,function(yn){if(Ue(),!(yn instanceof Ie.XRefParseException)){gn(yn);return}Qe.requestLoadedStream().then(function(){Ue(),on(!0).then(sn,gn)})})}Ue(),Je(Ke).then(function(yn){if(hn)throw yn.terminate(new xe.AbortException("Worker was terminated.")),new Error("Worker was terminated");Qe=yn,Qe.requestLoadedStream(!0).then(Sn=>{De.send("DataLoaded",{length:Sn.bytes.byteLength})})}).then(mn,gn)}return De.on("GetPage",function(Ke){return Qe.getPage(Ke.pageIndex).then(function(sn){return Promise.all([Qe.ensure(sn,"rotate"),Qe.ensure(sn,"ref"),Qe.ensure(sn,"userUnit"),Qe.ensure(sn,"view")]).then(function([gn,mn,yn,Sn]){return{rotate:gn,ref:mn,userUnit:yn,view:Sn}})})}),De.on("GetPageIndex",function(Ke){const sn=Re.Ref.get(Ke.num,Ke.gen);return Qe.ensureCatalog("getPageIndex",[sn])}),De.on("GetDestinations",function(Ke){return Qe.ensureCatalog("destinations")}),De.on("GetDestination",function(Ke){return Qe.ensureCatalog("getDestination",[Ke.id])}),De.on("GetPageLabels",function(Ke){return Qe.ensureCatalog("pageLabels")}),De.on("GetPageLayout",function(Ke){return Qe.ensureCatalog("pageLayout")}),De.on("GetPageMode",function(Ke){return Qe.ensureCatalog("pageMode")}),De.on("GetViewerPreferences",function(Ke){return Qe.ensureCatalog("viewerPreferences")}),De.on("GetOpenAction",function(Ke){return Qe.ensureCatalog("openAction")}),De.on("GetAttachments",function(Ke){return Qe.ensureCatalog("attachments")}),De.on("GetDocJSActions",function(Ke){return Qe.ensureCatalog("jsActions")}),De.on("GetPageJSActions",function({pageIndex:Ke}){return Qe.getPage(Ke).then(function(sn){return Qe.ensure(sn,"jsActions")})}),De.on("GetOutline",function(Ke){return Qe.ensureCatalog("documentOutline")}),De.on("GetOptionalContentConfig",function(Ke){return Qe.ensureCatalog("optionalContentConfig")}),De.on("GetPermissions",function(Ke){return Qe.ensureCatalog("permissions")}),De.on("GetMetadata",function(Ke){return Promise.all([Qe.ensureDoc("documentInfo"),Qe.ensureCatalog("metadata")])}),De.on("GetMarkInfo",function(Ke){return Qe.ensureCatalog("markInfo")}),De.on("GetData",function(Ke){return Qe.requestLoadedStream().then(function(sn){return sn.bytes})}),De.on("GetAnnotations",function({pageIndex:Ke,intent:sn}){return Qe.getPage(Ke).then(function(gn){const mn=new Ge(`GetAnnotations: page ${Ke}`);return We(mn),gn.getAnnotationsData(De,mn,sn).then(yn=>($e(mn),yn),yn=>{throw $e(mn),yn})})}),De.on("GetFieldObjects",function(Ke){return Qe.ensureDoc("fieldObjects")}),De.on("HasJSActions",function(Ke){return Qe.ensureDoc("hasJSActions")}),De.on("GetCalculationOrderIds",function(Ke){return Qe.ensureDoc("calculationOrderIds")}),De.on("SaveDocument",async function({isPureXfa:Ke,numPages:sn,annotationStorage:gn,filename:mn}){const yn=[Qe.requestLoadedStream(),Qe.ensureCatalog("acroForm"),Qe.ensureCatalog("acroFormRef"),Qe.ensureDoc("startXRef"),Qe.ensureDoc("xref"),Qe.ensureDoc("linearization"),Qe.ensureCatalog("structTreeRoot")],Sn=[],_n=Ke?null:(0,Ie.getNewAnnotationsMap)(gn),[wn,Nn,Tn,Cn,In,Rn,bn]=await Promise.all(yn),kn=In.trailer.getRaw("Root")||null;let En;if(_n){bn?await bn.canUpdateStructTree({pdfManager:Qe,newAnnotationsByPage:_n})&&(En=bn):await nn.StructTreeRoot.canCreateStructureTree({catalogRef:kn,pdfManager:Qe,newAnnotationsByPage:_n})&&(En=null);const Xn=t.AnnotationFactory.generateImages(gn.values(),In,Qe.evaluatorOptions.isOffscreenCanvasSupported),Gn=En===void 0?Sn:[];for(const[ri,ui]of _n)Gn.push(Qe.getPage(ri).then(ti=>{const Yn=new Ge(`Save (editor): page ${ri}`);return ti.saveNewAnnotations(De,Yn,ui,Xn).finally(function(){$e(Yn)})}));En===null?Sn.push(Promise.all(Gn).then(async ri=>(await nn.StructTreeRoot.createStructureTree({newAnnotationsByPage:_n,xref:In,catalogRef:kn,pdfManager:Qe,newRefs:ri}),ri))):En&&Sn.push(Promise.all(Gn).then(async ri=>(await En.updateStructureTree({newAnnotationsByPage:_n,pdfManager:Qe,newRefs:ri}),ri)))}if(Ke)Sn.push(Qe.serializeXfaData(gn));else for(let Xn=0;Xn<sn;Xn++)Sn.push(Qe.getPage(Xn).then(function(Gn){const ri=new Ge(`Save: page ${Xn}`);return Gn.save(De,ri,gn).finally(function(){$e(ri)})}));const On=await Promise.all(Sn);let Mn=[],Bn=null;if(Ke){if(Bn=On[0],!Bn)return wn.bytes}else if(Mn=On.flat(2),Mn.length===0)return wn.bytes;const Hn=Tn&&Nn instanceof Re.Dict&&Mn.some(Xn=>Xn.needAppearances),$n=Nn instanceof Re.Dict&&Nn.get("XFA")||null;let Un=null,qn=!1;if(Array.isArray($n)){for(let Xn=0,Gn=$n.length;Xn<Gn;Xn+=2)$n[Xn]==="datasets"&&(Un=$n[Xn+1],qn=!0);Un===null&&(Un=In.getNewTemporaryRef())}else $n&&(0,xe.warn)("Unsupported XFA type.");let jn=Object.create(null);if(In.trailer){const Xn=Object.create(null),Gn=In.trailer.get("Info")||null;Gn instanceof Re.Dict&&Gn.forEach((ri,ui)=>{typeof ui=="string"&&(Xn[ri]=(0,xe.stringToPDFString)(ui))}),jn={rootRef:kn,encryptRef:In.trailer.getRaw("Encrypt")||null,newRef:In.getNewTemporaryRef(),infoRef:In.trailer.getRaw("Info")||null,info:Xn,fileIds:In.trailer.get("ID")||null,startXRef:Rn?Cn:In.lastXRefStreamPos??Cn,filename:mn}}return(0,Ye.incrementalUpdate)({originalData:wn.bytes,xrefInfo:jn,newRefs:Mn,xref:In,hasXfa:!!$n,xfaDatasetsRef:Un,hasXfaDatasetsEntry:qn,needAppearances:Hn,acroFormRef:Tn,acroForm:Nn,xfaData:Bn}).finally(()=>{In.resetNewTemporaryRef()})}),De.on("GetOperatorList",function(Ke,sn){const gn=Ke.pageIndex;Qe.getPage(gn).then(function(mn){const yn=new Ge(`GetOperatorList: page ${gn}`);We(yn);const Sn=Xe>=xe.VerbosityLevel.INFOS?Date.now():0;mn.getOperatorList({handler:De,sink:sn,task:yn,intent:Ke.intent,cacheKey:Ke.cacheKey,annotationStorage:Ke.annotationStorage}).then(function(_n){$e(yn),Sn&&(0,xe.info)(`page=${gn+1} - getOperatorList: time=${Date.now()-Sn}ms, len=${_n.length}`),sn.close()},function(_n){$e(yn),!yn.terminated&&sn.error(_n)})})}),De.on("GetTextContent",function(Ke,sn){const{pageIndex:gn,includeMarkedContent:mn,disableNormalization:yn}=Ke;Qe.getPage(gn).then(function(Sn){const _n=new Ge("GetTextContent: page "+gn);We(_n);const wn=Xe>=xe.VerbosityLevel.INFOS?Date.now():0;Sn.extractTextContent({handler:De,task:_n,sink:sn,includeMarkedContent:mn,disableNormalization:yn}).then(function(){$e(_n),wn&&(0,xe.info)(`page=${gn+1} - getTextContent: time=${Date.now()-wn}ms`),sn.close()},function(Nn){$e(_n),!_n.terminated&&sn.error(Nn)})})}),De.on("GetStructTree",function(Ke){return Qe.getPage(Ke.pageIndex).then(function(sn){return Qe.ensure(sn,"getStructTree")})}),De.on("FontFallback",function(Ke){return Qe.fontFallback(Ke.id,De)}),De.on("Cleanup",function(Ke){return Qe.cleanup(!0)}),De.on("Terminate",function(Ke){hn=!0;const sn=[];if(Qe){Qe.terminate(new xe.AbortException("Worker was terminated."));const gn=Qe.cleanup();sn.push(gn),Qe=null}else(0,Te.clearGlobalCaches)();He&&He(new xe.AbortException("Worker was terminated."));for(const gn of pn)sn.push(gn.finished),gn.terminate();return Promise.all(sn).then(function(){De.destroy(),De=null})}),De.on("Ready",function(Ke){an(rn),rn=null}),Me}static initializeFromPort(rn){const un=new en.MessageHandler("worker","main",rn);Oe.setup(un,rn),un.send("ready",null)}}_e.WorkerMessageHandler=Oe;function Ce(St){return typeof St.postMessage=="function"&&"onmessage"in St}typeof window>"u"&&!xe.isNodeJS&&typeof self<"u"&&Ce(self)&&Oe.initializeFromPort(self)},(Ve,_e)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.VerbosityLevel=_e.Util=_e.UnknownErrorException=_e.UnexpectedResponseException=_e.TextRenderingMode=_e.RenderingIntentFlag=_e.PromiseCapability=_e.PermissionFlag=_e.PasswordResponses=_e.PasswordException=_e.PageActionEventType=_e.OPS=_e.MissingPDFException=_e.MAX_IMAGE_SIZE_TO_CACHE=_e.LINE_FACTOR=_e.LINE_DESCENT_FACTOR=_e.InvalidPDFException=_e.ImageKind=_e.IDENTITY_MATRIX=_e.FormatError=_e.FeatureTest=_e.FONT_IDENTITY_MATRIX=_e.DocumentActionEventType=_e.CMapCompressionType=_e.BaseException=_e.BASELINE_FACTOR=_e.AnnotationType=_e.AnnotationReplyType=_e.AnnotationPrefix=_e.AnnotationMode=_e.AnnotationFlag=_e.AnnotationFieldFlag=_e.AnnotationEditorType=_e.AnnotationEditorPrefix=_e.AnnotationEditorParamsType=_e.AnnotationBorderStyleType=_e.AnnotationActionEventType=_e.AbortException=void 0,_e.assert=an,_e.bytesToString=In,_e.createValidAbsoluteUrl=sn,_e.getModificationDate=ui,_e.getUuid=pi,_e.getVerbosityLevel=We,_e.info=$e,_e.isArrayBuffer=Gn,_e.isArrayEqual=ri,_e.isNodeJS=void 0,_e.normalizeUnicode=ci,_e.objectFromMap=En,_e.objectSize=kn,_e.setVerbosityLevel=Ue,_e.shadow=gn,_e.string32=bn,_e.stringToBytes=Rn,_e.stringToPDFString=qn,_e.stringToUTF8String=jn,_e.unreachable=Je,_e.utf8StringToString=Xn,_e.warn=on;const ze=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");_e.isNodeJS=ze;const xe=[1,0,0,1,0,0];_e.IDENTITY_MATRIX=xe;const Ie=[.001,0,0,.001,0,0];_e.FONT_IDENTITY_MATRIX=Ie;const Re=1e7;_e.MAX_IMAGE_SIZE_TO_CACHE=Re;const e=1.35;_e.LINE_FACTOR=e;const t=.35;_e.LINE_DESCENT_FACTOR=t;const Te=t/e;_e.BASELINE_FACTOR=Te;const Ye={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};_e.RenderingIntentFlag=Ye;const en={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};_e.AnnotationMode=en;const je="pdfjs_internal_editor_";_e.AnnotationEditorPrefix=je;const nn={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};_e.AnnotationEditorType=nn;const Ge={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};_e.AnnotationEditorParamsType=Ge;const Oe={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};_e.PermissionFlag=Oe;const Ce={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};_e.TextRenderingMode=Ce;const St={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};_e.ImageKind=St;const rn={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};_e.AnnotationType=rn;const un={GROUP:"Group",REPLY:"R"};_e.AnnotationReplyType=un;const Qe={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};_e.AnnotationFlag=Qe;const hn={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};_e.AnnotationFieldFlag=hn;const He={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};_e.AnnotationBorderStyleType=He;const pn={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};_e.AnnotationActionEventType=pn;const Xe={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};_e.DocumentActionEventType=Xe;const fn={O:"PageOpen",C:"PageClose"};_e.PageActionEventType=fn;const dn={ERRORS:0,WARNINGS:1,INFOS:5};_e.VerbosityLevel=dn;const qe={NONE:0,BINARY:1};_e.CMapCompressionType=qe;const tn={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};_e.OPS=tn;const Me={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};_e.PasswordResponses=Me;let De=dn.WARNINGS;function Ue(hi){Number.isInteger(hi)&&(De=hi)}function We(){return De}function $e(hi){De>=dn.INFOS&&console.log(`Info: ${hi}`)}function on(hi){De>=dn.WARNINGS&&console.log(`Warning: ${hi}`)}function Je(hi){throw new Error(hi)}function an(hi,si){hi||Je(si)}function Ke(hi){switch(hi?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function sn(hi,si=null,ai=null){if(!hi)return null;try{if(ai&&typeof hi=="string"&&(ai.addDefaultProtocol&&hi.startsWith("www.")&&hi.match(/\./g)?.length>=2&&(hi=`http://${hi}`),ai.tryConvertEncoding))try{hi=jn(hi)}catch{}const li=si?new URL(hi,si):new URL(hi);if(Ke(li))return li}catch{}return null}function gn(hi,si,ai,li=!1){return Object.defineProperty(hi,si,{value:ai,enumerable:!li,configurable:!0,writable:!1}),ai}const mn=function(){function si(ai,li){this.constructor===si&&Je("Cannot initialize BaseException."),this.message=ai,this.name=li}return si.prototype=new Error,si.constructor=si,si}();_e.BaseException=mn;class yn extends mn{constructor(si,ai){super(si,"PasswordException"),this.code=ai}}_e.PasswordException=yn;class Sn extends mn{constructor(si,ai){super(si,"UnknownErrorException"),this.details=ai}}_e.UnknownErrorException=Sn;class _n extends mn{constructor(si){super(si,"InvalidPDFException")}}_e.InvalidPDFException=_n;class wn extends mn{constructor(si){super(si,"MissingPDFException")}}_e.MissingPDFException=wn;class Nn extends mn{constructor(si,ai){super(si,"UnexpectedResponseException"),this.status=ai}}_e.UnexpectedResponseException=Nn;class Tn extends mn{constructor(si){super(si,"FormatError")}}_e.FormatError=Tn;class Cn extends mn{constructor(si){super(si,"AbortException")}}_e.AbortException=Cn;function In(hi){(typeof hi!="object"||hi?.length===void 0)&&Je("Invalid argument for bytesToString");const si=hi.length,ai=8192;if(si<ai)return String.fromCharCode.apply(null,hi);const li=[];for(let Ei=0;Ei<si;Ei+=ai){const $i=Math.min(Ei+ai,si),Qi=hi.subarray(Ei,$i);li.push(String.fromCharCode.apply(null,Qi))}return li.join("")}function Rn(hi){typeof hi!="string"&&Je("Invalid argument for stringToBytes");const si=hi.length,ai=new Uint8Array(si);for(let li=0;li<si;++li)ai[li]=hi.charCodeAt(li)&255;return ai}function bn(hi){return String.fromCharCode(hi>>24&255,hi>>16&255,hi>>8&255,hi&255)}function kn(hi){return Object.keys(hi).length}function En(hi){const si=Object.create(null);for(const[ai,li]of hi)si[ai]=li;return si}function On(){const hi=new Uint8Array(4);return hi[0]=1,new Uint32Array(hi.buffer,0,1)[0]===1}function Mn(){try{return new Function(""),!0}catch{return!1}}class Bn{static get isLittleEndian(){return gn(this,"isLittleEndian",On())}static get isEvalSupported(){return gn(this,"isEvalSupported",Mn())}static get isOffscreenCanvasSupported(){return gn(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?gn(this,"platform",{isWin:!1,isMac:!1}):gn(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){return gn(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}_e.FeatureTest=Bn;const Hn=[...Array(256).keys()].map(hi=>hi.toString(16).padStart(2,"0"));class $n{static makeHexColor(si,ai,li){return`#${Hn[si]}${Hn[ai]}${Hn[li]}`}static scaleMinMax(si,ai){let li;si[0]?(si[0]<0&&(li=ai[0],ai[0]=ai[1],ai[1]=li),ai[0]*=si[0],ai[1]*=si[0],si[3]<0&&(li=ai[2],ai[2]=ai[3],ai[3]=li),ai[2]*=si[3],ai[3]*=si[3]):(li=ai[0],ai[0]=ai[2],ai[2]=li,li=ai[1],ai[1]=ai[3],ai[3]=li,si[1]<0&&(li=ai[2],ai[2]=ai[3],ai[3]=li),ai[2]*=si[1],ai[3]*=si[1],si[2]<0&&(li=ai[0],ai[0]=ai[1],ai[1]=li),ai[0]*=si[2],ai[1]*=si[2]),ai[0]+=si[4],ai[1]+=si[4],ai[2]+=si[5],ai[3]+=si[5]}static transform(si,ai){return[si[0]*ai[0]+si[2]*ai[1],si[1]*ai[0]+si[3]*ai[1],si[0]*ai[2]+si[2]*ai[3],si[1]*ai[2]+si[3]*ai[3],si[0]*ai[4]+si[2]*ai[5]+si[4],si[1]*ai[4]+si[3]*ai[5]+si[5]]}static applyTransform(si,ai){const li=si[0]*ai[0]+si[1]*ai[2]+ai[4],Ei=si[0]*ai[1]+si[1]*ai[3]+ai[5];return[li,Ei]}static applyInverseTransform(si,ai){const li=ai[0]*ai[3]-ai[1]*ai[2],Ei=(si[0]*ai[3]-si[1]*ai[2]+ai[2]*ai[5]-ai[4]*ai[3])/li,$i=(-si[0]*ai[1]+si[1]*ai[0]+ai[4]*ai[1]-ai[5]*ai[0])/li;return[Ei,$i]}static getAxialAlignedBoundingBox(si,ai){const li=this.applyTransform(si,ai),Ei=this.applyTransform(si.slice(2,4),ai),$i=this.applyTransform([si[0],si[3]],ai),Qi=this.applyTransform([si[2],si[1]],ai);return[Math.min(li[0],Ei[0],$i[0],Qi[0]),Math.min(li[1],Ei[1],$i[1],Qi[1]),Math.max(li[0],Ei[0],$i[0],Qi[0]),Math.max(li[1],Ei[1],$i[1],Qi[1])]}static inverseTransform(si){const ai=si[0]*si[3]-si[1]*si[2];return[si[3]/ai,-si[1]/ai,-si[2]/ai,si[0]/ai,(si[2]*si[5]-si[4]*si[3])/ai,(si[4]*si[1]-si[5]*si[0])/ai]}static singularValueDecompose2dScale(si){const ai=[si[0],si[2],si[1],si[3]],li=si[0]*ai[0]+si[1]*ai[2],Ei=si[0]*ai[1]+si[1]*ai[3],$i=si[2]*ai[0]+si[3]*ai[2],Qi=si[2]*ai[1]+si[3]*ai[3],fr=(li+Qi)/2,ar=Math.sqrt((li+Qi)**2-4*(li*Qi-$i*Ei))/2,Ii=fr+ar||1,vi=fr-ar||1;return[Math.sqrt(Ii),Math.sqrt(vi)]}static normalizeRect(si){const ai=si.slice(0);return si[0]>si[2]&&(ai[0]=si[2],ai[2]=si[0]),si[1]>si[3]&&(ai[1]=si[3],ai[3]=si[1]),ai}static intersect(si,ai){const li=Math.max(Math.min(si[0],si[2]),Math.min(ai[0],ai[2])),Ei=Math.min(Math.max(si[0],si[2]),Math.max(ai[0],ai[2]));if(li>Ei)return null;const $i=Math.max(Math.min(si[1],si[3]),Math.min(ai[1],ai[3])),Qi=Math.min(Math.max(si[1],si[3]),Math.max(ai[1],ai[3]));return $i>Qi?null:[li,$i,Ei,Qi]}static bezierBoundingBox(si,ai,li,Ei,$i,Qi,fr,ar){const Ii=[],vi=[[],[]];let rr,dr,Xi,Gi,Yi,Nr,ha,sr;for(let Hr=0;Hr<2;++Hr){if(Hr===0?(dr=6*si-12*li+6*$i,rr=-3*si+9*li-9*$i+3*fr,Xi=3*li-3*si):(dr=6*ai-12*Ei+6*Qi,rr=-3*ai+9*Ei-9*Qi+3*ar,Xi=3*Ei-3*ai),Math.abs(rr)<1e-12){if(Math.abs(dr)<1e-12)continue;Gi=-Xi/dr,0<Gi&&Gi<1&&Ii.push(Gi);continue}ha=dr*dr-4*Xi*rr,sr=Math.sqrt(ha),!(ha<0)&&(Yi=(-dr+sr)/(2*rr),0<Yi&&Yi<1&&Ii.push(Yi),Nr=(-dr-sr)/(2*rr),0<Nr&&Nr<1&&Ii.push(Nr))}let xr=Ii.length,Zi;const Ar=xr;for(;xr--;)Gi=Ii[xr],Zi=1-Gi,vi[0][xr]=Zi*Zi*Zi*si+3*Zi*Zi*Gi*li+3*Zi*Gi*Gi*$i+Gi*Gi*Gi*fr,vi[1][xr]=Zi*Zi*Zi*ai+3*Zi*Zi*Gi*Ei+3*Zi*Gi*Gi*Qi+Gi*Gi*Gi*ar;return vi[0][Ar]=si,vi[1][Ar]=ai,vi[0][Ar+1]=fr,vi[1][Ar+1]=ar,vi[0].length=vi[1].length=Ar+2,[Math.min(...vi[0]),Math.min(...vi[1]),Math.max(...vi[0]),Math.max(...vi[1])]}}_e.Util=$n;const Un=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function qn(hi){if(hi[0]>="ï"){let ai;if(hi[0]==="þ"&&hi[1]==="ÿ"?ai="utf-16be":hi[0]==="ÿ"&&hi[1]==="þ"?ai="utf-16le":hi[0]==="ï"&&hi[1]==="»"&&hi[2]==="¿"&&(ai="utf-8"),ai)try{const li=new TextDecoder(ai,{fatal:!0}),Ei=Rn(hi);return li.decode(Ei)}catch(li){on(`stringToPDFString: "${li}".`)}}const si=[];for(let ai=0,li=hi.length;ai<li;ai++){const Ei=Un[hi.charCodeAt(ai)];si.push(Ei?String.fromCharCode(Ei):hi.charAt(ai))}return si.join("")}function jn(hi){return decodeURIComponent(escape(hi))}function Xn(hi){return unescape(encodeURIComponent(hi))}function Gn(hi){return typeof hi=="object"&&hi?.byteLength!==void 0}function ri(hi,si){if(hi.length!==si.length)return!1;for(let ai=0,li=hi.length;ai<li;ai++)if(hi[ai]!==si[ai])return!1;return!0}function ui(hi=new Date){return[hi.getUTCFullYear().toString(),(hi.getUTCMonth()+1).toString().padStart(2,"0"),hi.getUTCDate().toString().padStart(2,"0"),hi.getUTCHours().toString().padStart(2,"0"),hi.getUTCMinutes().toString().padStart(2,"0"),hi.getUTCSeconds().toString().padStart(2,"0")].join("")}class ti{#e=!1;constructor(){this.promise=new Promise((si,ai)=>{this.resolve=li=>{this.#e=!0,si(li)},this.reject=li=>{this.#e=!0,ai(li)}})}get settled(){return this.#e}}_e.PromiseCapability=ti;let Yn=null,Qn=null;function ci(hi){return Yn||(Yn=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Qn=new Map([["ﬅ","ſt"]])),hi.replaceAll(Yn,(si,ai,li)=>ai?ai.normalize("NFKC"):Qn.get(li))}function pi(){if(typeof crypto<"u"&&typeof crypto?.randomUUID=="function")return crypto.randomUUID();const hi=new Uint8Array(32);if(typeof crypto<"u"&&typeof crypto?.getRandomValues=="function")crypto.getRandomValues(hi);else for(let si=0;si<32;si++)hi[si]=Math.floor(Math.random()*255);return In(hi)}const ki="pdfjs_internal_id_";_e.AnnotationPrefix=ki},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.XRefParseException=_e.XRefEntryException=_e.ParserEOFException=_e.PDF_VERSION_REGEXP=_e.MissingDataException=void 0,_e.arrayBuffersToBytes=nn,_e.collectActions=dn,_e.encodeToXmlString=tn,_e.escapePDFName=pn,_e.escapeString=Xe,_e.getInheritableProperty=Ge,_e.getLookupTableFactory=t,_e.getNewAnnotationsMap=$e,_e.getRotationMatrix=Ke,_e.isAscii=on,_e.isWhiteSpace=hn,_e.log2=St,_e.numberToString=We,_e.parseXFAPath=He,_e.readInt8=rn,_e.readUint16=un,_e.readUint32=Qe,_e.recoverJsURL=Ue,_e.stringToUTF16HexString=Je,_e.stringToUTF16String=an,_e.toRomanNumerals=Ce,_e.validateCSSFont=De,_e.validateFontName=Me;var xe=ze(2),Ie=ze(4),Re=ze(5);const e=/^[1-9]\.\d$/;_e.PDF_VERSION_REGEXP=e;function t(sn){let gn;return function(){return sn&&(gn=Object.create(null),sn(gn),sn=null),gn}}class Te extends xe.BaseException{constructor(gn,mn){super(`Missing data [${gn}, ${mn})`,"MissingDataException"),this.begin=gn,this.end=mn}}_e.MissingDataException=Te;class Ye extends xe.BaseException{constructor(gn){super(gn,"ParserEOFException")}}_e.ParserEOFException=Ye;class en extends xe.BaseException{constructor(gn){super(gn,"XRefEntryException")}}_e.XRefEntryException=en;class je extends xe.BaseException{constructor(gn){super(gn,"XRefParseException")}}_e.XRefParseException=je;function nn(sn){const gn=sn.length;if(gn===0)return new Uint8Array(0);if(gn===1)return new Uint8Array(sn[0]);let mn=0;for(let _n=0;_n<gn;_n++)mn+=sn[_n].byteLength;const yn=new Uint8Array(mn);let Sn=0;for(let _n=0;_n<gn;_n++){const wn=new Uint8Array(sn[_n]);yn.set(wn,Sn),Sn+=wn.byteLength}return yn}function Ge({dict:sn,key:gn,getArray:mn=!1,stopWhenFound:yn=!0}){let Sn;const _n=new Ie.RefSet;for(;sn instanceof Ie.Dict&&!(sn.objId&&_n.has(sn.objId));){sn.objId&&_n.put(sn.objId);const wn=mn?sn.getArray(gn):sn.get(gn);if(wn!==void 0){if(yn)return wn;(Sn||=[]).push(wn)}sn=sn.get("Parent")}return Sn}const Oe=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"];function Ce(sn,gn=!1){(0,xe.assert)(Number.isInteger(sn)&&sn>0,"The number should be a positive integer.");const mn=[];let yn;for(;sn>=1e3;)sn-=1e3,mn.push("M");yn=sn/100|0,sn%=100,mn.push(Oe[yn]),yn=sn/10|0,sn%=10,mn.push(Oe[10+yn]),mn.push(Oe[20+sn]);const Sn=mn.join("");return gn?Sn.toLowerCase():Sn}function St(sn){return sn<=0?0:Math.ceil(Math.log2(sn))}function rn(sn,gn){return sn[gn]<<24>>24}function un(sn,gn){return sn[gn]<<8|sn[gn+1]}function Qe(sn,gn){return(sn[gn]<<24|sn[gn+1]<<16|sn[gn+2]<<8|sn[gn+3])>>>0}function hn(sn){return sn===32||sn===9||sn===13||sn===10}function He(sn){const gn=/(.+)\[(\d+)\]$/;return sn.split(".").map(mn=>{const yn=mn.match(gn);return yn?{name:yn[1],pos:parseInt(yn[2],10)}:{name:mn,pos:0}})}function pn(sn){const gn=[];let mn=0;for(let yn=0,Sn=sn.length;yn<Sn;yn++){const _n=sn.charCodeAt(yn);(_n<33||_n>126||_n===35||_n===40||_n===41||_n===60||_n===62||_n===91||_n===93||_n===123||_n===125||_n===47||_n===37)&&(mn<yn&&gn.push(sn.substring(mn,yn)),gn.push(`#${_n.toString(16)}`),mn=yn+1)}return gn.length===0?sn:(mn<sn.length&&gn.push(sn.substring(mn,sn.length)),gn.join(""))}function Xe(sn){return sn.replaceAll(/([()\\\n\r])/g,gn=>gn===`
`?"\\n":gn==="\r"?"\\r":`\\${gn}`)}function fn(sn,gn,mn,yn){if(!sn)return;let Sn=null;if(sn instanceof Ie.Ref){if(yn.has(sn))return;Sn=sn,yn.put(Sn),sn=gn.fetch(sn)}if(Array.isArray(sn))for(const _n of sn)fn(_n,gn,mn,yn);else if(sn instanceof Ie.Dict){if((0,Ie.isName)(sn.get("S"),"JavaScript")){const _n=sn.get("JS");let wn;_n instanceof Re.BaseStream?wn=_n.getString():typeof _n=="string"&&(wn=_n),wn&&=(0,xe.stringToPDFString)(wn).replaceAll("\0",""),wn&&mn.push(wn)}fn(sn.getRaw("Next"),gn,mn,yn)}Sn&&yn.remove(Sn)}function dn(sn,gn,mn){const yn=Object.create(null),Sn=Ge({dict:gn,key:"AA",stopWhenFound:!1});if(Sn)for(let _n=Sn.length-1;_n>=0;_n--){const wn=Sn[_n];if(wn instanceof Ie.Dict)for(const Nn of wn.getKeys()){const Tn=mn[Nn];if(!Tn)continue;const Cn=wn.getRaw(Nn),In=new Ie.RefSet,Rn=[];fn(Cn,sn,Rn,In),Rn.length>0&&(yn[Tn]=Rn)}}if(gn.has("A")){const _n=gn.get("A"),wn=new Ie.RefSet,Nn=[];fn(_n,sn,Nn,wn),Nn.length>0&&(yn.Action=Nn)}return(0,xe.objectSize)(yn)>0?yn:null}const qe={60:"&lt;",62:"&gt;",38:"&amp;",34:"&quot;",39:"&apos;"};function tn(sn){const gn=[];let mn=0;for(let yn=0,Sn=sn.length;yn<Sn;yn++){const _n=sn.codePointAt(yn);if(32<=_n&&_n<=126){const wn=qe[_n];wn&&(mn<yn&&gn.push(sn.substring(mn,yn)),gn.push(wn),mn=yn+1)}else mn<yn&&gn.push(sn.substring(mn,yn)),gn.push(`&#x${_n.toString(16).toUpperCase()};`),_n>55295&&(_n<57344||_n>65533)&&yn++,mn=yn+1}return gn.length===0?sn:(mn<sn.length&&gn.push(sn.substring(mn,sn.length)),gn.join(""))}function Me(sn,gn=!1){const mn=/^("|').*("|')$/.exec(sn);if(mn&&mn[1]===mn[2]){if(new RegExp(`[^\\\\]${mn[1]}`).test(sn.slice(1,-1)))return gn&&(0,xe.warn)(`FontFamily contains unescaped ${mn[1]}: ${sn}.`),!1}else for(const yn of sn.split(/[ \t]+/))if(/^(\d|(-(\d|-)))/.test(yn)||!/^[\w-\\]+$/.test(yn))return gn&&(0,xe.warn)(`FontFamily contains invalid <custom-ident>: ${sn}.`),!1;return!0}function De(sn){const yn=new Set(["100","200","300","400","500","600","700","800","900","1000","normal","bold","bolder","lighter"]),{fontFamily:Sn,fontWeight:_n,italicAngle:wn}=sn;if(!Me(Sn,!0))return!1;const Nn=_n?_n.toString():"";sn.fontWeight=yn.has(Nn)?Nn:"400";const Tn=parseFloat(wn);return sn.italicAngle=isNaN(Tn)||Tn<-90||Tn>90?"14":wn.toString(),!0}function Ue(sn){const gn=["app.launchURL","window.open","xfa.host.gotoURL"],yn=new RegExp("^\\s*("+gn.join("|").replaceAll(".","\\.")+`)\\((?:'|")([^'"]*)(?:'|")(?:,\\s*(\\w+)\\)|\\))`,"i").exec(sn);if(yn?.[2]){const Sn=yn[2];let _n=!1;return yn[3]==="true"&&yn[1]==="app.launchURL"&&(_n=!0),{url:Sn,newWindow:_n}}return null}function We(sn){if(Number.isInteger(sn))return sn.toString();const gn=Math.round(sn*100);return gn%100===0?(gn/100).toString():gn%10===0?sn.toFixed(1):sn.toFixed(2)}function $e(sn){if(!sn)return null;const gn=new Map;for(const[mn,yn]of sn){if(!mn.startsWith(xe.AnnotationEditorPrefix))continue;let Sn=gn.get(yn.pageIndex);Sn||(Sn=[],gn.set(yn.pageIndex,Sn)),Sn.push(yn)}return gn.size>0?gn:null}function on(sn){return/^[\x00-\x7F]*$/.test(sn)}function Je(sn){const gn=[];for(let mn=0,yn=sn.length;mn<yn;mn++){const Sn=sn.charCodeAt(mn);gn.push((Sn>>8&255).toString(16).padStart(2,"0"),(Sn&255).toString(16).padStart(2,"0"))}return gn.join("")}function an(sn,gn=!1){const mn=[];gn&&mn.push("þÿ");for(let yn=0,Sn=sn.length;yn<Sn;yn++){const _n=sn.charCodeAt(yn);mn.push(String.fromCharCode(_n>>8&255),String.fromCharCode(_n&255))}return mn.join("")}function Ke(sn,gn,mn){switch(sn){case 90:return[0,1,-1,0,gn,0];case 180:return[-1,0,0,-1,gn,mn];case 270:return[0,-1,1,0,0,mn];default:throw new Error("Invalid rotation")}}},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.RefSetCache=_e.RefSet=_e.Ref=_e.Name=_e.EOF=_e.Dict=_e.Cmd=_e.CIRCULAR_REF=void 0,_e.clearPrimitiveCaches=Ye,_e.isCmd=un,_e.isDict=Qe,_e.isName=rn,_e.isRefsEqual=hn;var xe=ze(2);const Ie=Symbol("CIRCULAR_REF");_e.CIRCULAR_REF=Ie;const Re=Symbol("EOF");_e.EOF=Re;let e=Object.create(null),t=Object.create(null),Te=Object.create(null);function Ye(){e=Object.create(null),t=Object.create(null),Te=Object.create(null)}class en{constructor(pn){this.name=pn}static get(pn){return t[pn]||=new en(pn)}}_e.Name=en;class je{constructor(pn){this.cmd=pn}static get(pn){return e[pn]||=new je(pn)}}_e.Cmd=je;const nn=function(){return nn};class Ge{constructor(pn=null){this._map=Object.create(null),this.xref=pn,this.objId=null,this.suppressEncryption=!1,this.__nonSerializable__=nn}assignXref(pn){this.xref=pn}get size(){return Object.keys(this._map).length}get(pn,Xe,fn){let dn=this._map[pn];return dn===void 0&&Xe!==void 0&&(dn=this._map[Xe],dn===void 0&&fn!==void 0&&(dn=this._map[fn])),dn instanceof Oe&&this.xref?this.xref.fetch(dn,this.suppressEncryption):dn}async getAsync(pn,Xe,fn){let dn=this._map[pn];return dn===void 0&&Xe!==void 0&&(dn=this._map[Xe],dn===void 0&&fn!==void 0&&(dn=this._map[fn])),dn instanceof Oe&&this.xref?this.xref.fetchAsync(dn,this.suppressEncryption):dn}getArray(pn,Xe,fn){let dn=this._map[pn];if(dn===void 0&&Xe!==void 0&&(dn=this._map[Xe],dn===void 0&&fn!==void 0&&(dn=this._map[fn])),dn instanceof Oe&&this.xref&&(dn=this.xref.fetch(dn,this.suppressEncryption)),Array.isArray(dn)){dn=dn.slice();for(let qe=0,tn=dn.length;qe<tn;qe++)dn[qe]instanceof Oe&&this.xref&&(dn[qe]=this.xref.fetch(dn[qe],this.suppressEncryption))}return dn}getRaw(pn){return this._map[pn]}getKeys(){return Object.keys(this._map)}getRawValues(){return Object.values(this._map)}set(pn,Xe){this._map[pn]=Xe}has(pn){return this._map[pn]!==void 0}forEach(pn){for(const Xe in this._map)pn(Xe,this.get(Xe))}static get empty(){const pn=new Ge(null);return pn.set=(Xe,fn)=>{(0,xe.unreachable)("Should not call `set` on the empty dictionary.")},(0,xe.shadow)(this,"empty",pn)}static merge({xref:pn,dictArray:Xe,mergeSubDicts:fn=!1}){const dn=new Ge(pn),qe=new Map;for(const tn of Xe)if(tn instanceof Ge)for(const[Me,De]of Object.entries(tn._map)){let Ue=qe.get(Me);if(Ue===void 0)Ue=[],qe.set(Me,Ue);else if(!fn||!(De instanceof Ge))continue;Ue.push(De)}for(const[tn,Me]of qe){if(Me.length===1||!(Me[0]instanceof Ge)){dn._map[tn]=Me[0];continue}const De=new Ge(pn);for(const Ue of Me)for(const[We,$e]of Object.entries(Ue._map))De._map[We]===void 0&&(De._map[We]=$e);De.size>0&&(dn._map[tn]=De)}return qe.clear(),dn.size>0?dn:Ge.empty}clone(){const pn=new Ge(this.xref);for(const Xe of this.getKeys())pn.set(Xe,this.getRaw(Xe));return pn}}_e.Dict=Ge;class Oe{constructor(pn,Xe){this.num=pn,this.gen=Xe}toString(){return this.gen===0?`${this.num}R`:`${this.num}R${this.gen}`}static fromString(pn){const Xe=Te[pn];if(Xe)return Xe;const fn=/^(\d+)R(\d*)$/.exec(pn);return!fn||fn[1]==="0"?null:Te[pn]=new Oe(parseInt(fn[1]),fn[2]?parseInt(fn[2]):0)}static get(pn,Xe){const fn=Xe===0?`${pn}R`:`${pn}R${Xe}`;return Te[fn]||=new Oe(pn,Xe)}}_e.Ref=Oe;class Ce{constructor(pn=null){this._set=new Set(pn?._set)}has(pn){return this._set.has(pn.toString())}put(pn){this._set.add(pn.toString())}remove(pn){this._set.delete(pn.toString())}[Symbol.iterator](){return this._set.values()}clear(){this._set.clear()}}_e.RefSet=Ce;class St{constructor(){this._map=new Map}get size(){return this._map.size}get(pn){return this._map.get(pn.toString())}has(pn){return this._map.has(pn.toString())}put(pn,Xe){this._map.set(pn.toString(),Xe)}putAlias(pn,Xe){this._map.set(pn.toString(),this.get(Xe))}[Symbol.iterator](){return this._map.values()}clear(){this._map.clear()}}_e.RefSetCache=St;function rn(He,pn){return He instanceof en&&(pn===void 0||He.name===pn)}function un(He,pn){return He instanceof je&&(pn===void 0||He.cmd===pn)}function Qe(He,pn){return He instanceof Ge&&(pn===void 0||rn(He.get("Type"),pn))}function hn(He,pn){return He.num===pn.num&&He.gen===pn.gen}},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.BaseStream=void 0;var xe=ze(2);class Ie{constructor(){this.constructor===Ie&&(0,xe.unreachable)("Cannot initialize BaseStream.")}get length(){(0,xe.unreachable)("Abstract getter `length` accessed")}get isEmpty(){(0,xe.unreachable)("Abstract getter `isEmpty` accessed")}get isDataLoaded(){return(0,xe.shadow)(this,"isDataLoaded",!0)}getByte(){(0,xe.unreachable)("Abstract method `getByte` called")}getBytes(e){(0,xe.unreachable)("Abstract method `getBytes` called")}peekByte(){const e=this.getByte();return e!==-1&&this.pos--,e}peekBytes(e){const t=this.getBytes(e);return this.pos-=t.length,t}getUint16(){const e=this.getByte(),t=this.getByte();return e===-1||t===-1?-1:(e<<8)+t}getInt32(){const e=this.getByte(),t=this.getByte(),Te=this.getByte(),Ye=this.getByte();return(e<<24)+(t<<16)+(Te<<8)+Ye}getByteRange(e,t){(0,xe.unreachable)("Abstract method `getByteRange` called")}getString(e){return(0,xe.bytesToString)(this.getBytes(e))}skip(e){this.pos+=e||1}reset(){(0,xe.unreachable)("Abstract method `reset` called")}moveStart(){(0,xe.unreachable)("Abstract method `moveStart` called")}makeSubStream(e,t,Te=null){(0,xe.unreachable)("Abstract method `makeSubStream` called")}getBaseStreams(){return null}}_e.BaseStream=Ie},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.NetworkPdfManager=_e.LocalPdfManager=void 0;var xe=ze(2),Ie=ze(7),Re=ze(3),e=ze(9),t=ze(8);function Te(nn){if(nn){const Ge=(0,xe.createValidAbsoluteUrl)(nn);if(Ge)return Ge.href;(0,xe.warn)(`Invalid absolute docBaseUrl: "${nn}".`)}return null}class Ye{constructor(Ge){this.constructor===Ye&&(0,xe.unreachable)("Cannot initialize BasePdfManager."),this._docBaseUrl=Te(Ge.docBaseUrl),this._docId=Ge.docId,this._password=Ge.password,this.enableXfa=Ge.enableXfa,Ge.evaluatorOptions.isOffscreenCanvasSupported&&=xe.FeatureTest.isOffscreenCanvasSupported,this.evaluatorOptions=Ge.evaluatorOptions}get docId(){return this._docId}get password(){return this._password}get docBaseUrl(){return this._docBaseUrl}get catalog(){return this.pdfDocument.catalog}ensureDoc(Ge,Oe){return this.ensure(this.pdfDocument,Ge,Oe)}ensureXRef(Ge,Oe){return this.ensure(this.pdfDocument.xref,Ge,Oe)}ensureCatalog(Ge,Oe){return this.ensure(this.pdfDocument.catalog,Ge,Oe)}getPage(Ge){return this.pdfDocument.getPage(Ge)}fontFallback(Ge,Oe){return this.pdfDocument.fontFallback(Ge,Oe)}loadXfaFonts(Ge,Oe){return this.pdfDocument.loadXfaFonts(Ge,Oe)}loadXfaImages(){return this.pdfDocument.loadXfaImages()}serializeXfaData(Ge){return this.pdfDocument.serializeXfaData(Ge)}cleanup(Ge=!1){return this.pdfDocument.cleanup(Ge)}async ensure(Ge,Oe,Ce){(0,xe.unreachable)("Abstract method `ensure` called")}requestRange(Ge,Oe){(0,xe.unreachable)("Abstract method `requestRange` called")}requestLoadedStream(Ge=!1){(0,xe.unreachable)("Abstract method `requestLoadedStream` called")}sendProgressiveData(Ge){(0,xe.unreachable)("Abstract method `sendProgressiveData` called")}updatePassword(Ge){this._password=Ge}terminate(Ge){(0,xe.unreachable)("Abstract method `terminate` called")}}class en extends Ye{constructor(Ge){super(Ge);const Oe=new t.Stream(Ge.source);this.pdfDocument=new e.PDFDocument(this,Oe),this._loadedStreamPromise=Promise.resolve(Oe)}async ensure(Ge,Oe,Ce){const St=Ge[Oe];return typeof St=="function"?St.apply(Ge,Ce):St}requestRange(Ge,Oe){return Promise.resolve()}requestLoadedStream(Ge=!1){return this._loadedStreamPromise}terminate(Ge){}}_e.LocalPdfManager=en;class je extends Ye{constructor(Ge){super(Ge),this.streamManager=new Ie.ChunkedStreamManager(Ge.source,{msgHandler:Ge.handler,length:Ge.length,disableAutoFetch:Ge.disableAutoFetch,rangeChunkSize:Ge.rangeChunkSize}),this.pdfDocument=new e.PDFDocument(this,this.streamManager.getStream())}async ensure(Ge,Oe,Ce){try{const St=Ge[Oe];return typeof St=="function"?St.apply(Ge,Ce):St}catch(St){if(!(St instanceof Re.MissingDataException))throw St;return await this.requestRange(St.begin,St.end),this.ensure(Ge,Oe,Ce)}}requestRange(Ge,Oe){return this.streamManager.requestRange(Ge,Oe)}requestLoadedStream(Ge=!1){return this.streamManager.requestAllChunks(Ge)}sendProgressiveData(Ge){this.streamManager.onReceiveData({chunk:Ge})}terminate(Ge){this.streamManager.abort(Ge)}}_e.NetworkPdfManager=je},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.ChunkedStreamManager=_e.ChunkedStream=void 0;var xe=ze(3),Ie=ze(2),Re=ze(8);class e extends Re.Stream{constructor(Ye,en,je){super(new Uint8Array(Ye),0,Ye,null),this.chunkSize=en,this._loadedChunks=new Set,this.numChunks=Math.ceil(Ye/en),this.manager=je,this.progressiveDataLength=0,this.lastSuccessfulEnsureByteChunk=-1}getMissingChunks(){const Ye=[];for(let en=0,je=this.numChunks;en<je;++en)this._loadedChunks.has(en)||Ye.push(en);return Ye}get numChunksLoaded(){return this._loadedChunks.size}get isDataLoaded(){return this.numChunksLoaded===this.numChunks}onReceiveData(Ye,en){const je=this.chunkSize;if(Ye%je!==0)throw new Error(`Bad begin offset: ${Ye}`);const nn=Ye+en.byteLength;if(nn%je!==0&&nn!==this.bytes.length)throw new Error(`Bad end offset: ${nn}`);this.bytes.set(new Uint8Array(en),Ye);const Ge=Math.floor(Ye/je),Oe=Math.floor((nn-1)/je)+1;for(let Ce=Ge;Ce<Oe;++Ce)this._loadedChunks.add(Ce)}onReceiveProgressiveData(Ye){let en=this.progressiveDataLength;const je=Math.floor(en/this.chunkSize);this.bytes.set(new Uint8Array(Ye),en),en+=Ye.byteLength,this.progressiveDataLength=en;const nn=en>=this.end?this.numChunks:Math.floor(en/this.chunkSize);for(let Ge=je;Ge<nn;++Ge)this._loadedChunks.add(Ge)}ensureByte(Ye){if(Ye<this.progressiveDataLength)return;const en=Math.floor(Ye/this.chunkSize);if(!(en>this.numChunks)&&en!==this.lastSuccessfulEnsureByteChunk){if(!this._loadedChunks.has(en))throw new xe.MissingDataException(Ye,Ye+1);this.lastSuccessfulEnsureByteChunk=en}}ensureRange(Ye,en){if(Ye>=en||en<=this.progressiveDataLength)return;const je=Math.floor(Ye/this.chunkSize);if(je>this.numChunks)return;const nn=Math.min(Math.floor((en-1)/this.chunkSize)+1,this.numChunks);for(let Ge=je;Ge<nn;++Ge)if(!this._loadedChunks.has(Ge))throw new xe.MissingDataException(Ye,en)}nextEmptyChunk(Ye){const en=this.numChunks;for(let je=0;je<en;++je){const nn=(Ye+je)%en;if(!this._loadedChunks.has(nn))return nn}return null}hasChunk(Ye){return this._loadedChunks.has(Ye)}getByte(){const Ye=this.pos;return Ye>=this.end?-1:(Ye>=this.progressiveDataLength&&this.ensureByte(Ye),this.bytes[this.pos++])}getBytes(Ye){const en=this.bytes,je=this.pos,nn=this.end;if(!Ye)return nn>this.progressiveDataLength&&this.ensureRange(je,nn),en.subarray(je,nn);let Ge=je+Ye;return Ge>nn&&(Ge=nn),Ge>this.progressiveDataLength&&this.ensureRange(je,Ge),this.pos=Ge,en.subarray(je,Ge)}getByteRange(Ye,en){return Ye<0&&(Ye=0),en>this.end&&(en=this.end),en>this.progressiveDataLength&&this.ensureRange(Ye,en),this.bytes.subarray(Ye,en)}makeSubStream(Ye,en,je=null){en?Ye+en>this.progressiveDataLength&&this.ensureRange(Ye,Ye+en):Ye>=this.progressiveDataLength&&this.ensureByte(Ye);function nn(){}nn.prototype=Object.create(this),nn.prototype.getMissingChunks=function(){const Oe=this.chunkSize,Ce=Math.floor(this.start/Oe),St=Math.floor((this.end-1)/Oe)+1,rn=[];for(let un=Ce;un<St;++un)this._loadedChunks.has(un)||rn.push(un);return rn},Object.defineProperty(nn.prototype,"isDataLoaded",{get(){return this.numChunksLoaded===this.numChunks?!0:this.getMissingChunks().length===0},configurable:!0});const Ge=new nn;return Ge.pos=Ge.start=Ye,Ge.end=Ye+en||this.end,Ge.dict=je,Ge}getBaseStreams(){return[this]}}_e.ChunkedStream=e;class t{constructor(Ye,en){this.length=en.length,this.chunkSize=en.rangeChunkSize,this.stream=new e(this.length,this.chunkSize,this),this.pdfNetworkStream=Ye,this.disableAutoFetch=en.disableAutoFetch,this.msgHandler=en.msgHandler,this.currRequestId=0,this._chunksNeededByRequest=new Map,this._requestsByChunk=new Map,this._promisesByRequest=new Map,this.progressiveDataLength=0,this.aborted=!1,this._loadedStreamCapability=new Ie.PromiseCapability}sendRequest(Ye,en){const je=this.pdfNetworkStream.getRangeReader(Ye,en);je.isStreamingSupported||(je.onProgress=this.onProgress.bind(this));let nn=[],Ge=0;return new Promise((Oe,Ce)=>{const St=({value:rn,done:un})=>{try{if(un){const Qe=(0,xe.arrayBuffersToBytes)(nn);nn=null,Oe(Qe);return}Ge+=rn.byteLength,je.isStreamingSupported&&this.onProgress({loaded:Ge}),nn.push(rn),je.read().then(St,Ce)}catch(Qe){Ce(Qe)}};je.read().then(St,Ce)}).then(Oe=>{this.aborted||this.onReceiveData({chunk:Oe,begin:Ye})})}requestAllChunks(Ye=!1){if(!Ye){const en=this.stream.getMissingChunks();this._requestChunks(en)}return this._loadedStreamCapability.promise}_requestChunks(Ye){const en=this.currRequestId++,je=new Set;this._chunksNeededByRequest.set(en,je);for(const Oe of Ye)this.stream.hasChunk(Oe)||je.add(Oe);if(je.size===0)return Promise.resolve();const nn=new Ie.PromiseCapability;this._promisesByRequest.set(en,nn);const Ge=[];for(const Oe of je){let Ce=this._requestsByChunk.get(Oe);Ce||(Ce=[],this._requestsByChunk.set(Oe,Ce),Ge.push(Oe)),Ce.push(en)}if(Ge.length>0){const Oe=this.groupChunks(Ge);for(const Ce of Oe){const St=Ce.beginChunk*this.chunkSize,rn=Math.min(Ce.endChunk*this.chunkSize,this.length);this.sendRequest(St,rn).catch(nn.reject)}}return nn.promise.catch(Oe=>{if(!this.aborted)throw Oe})}getStream(){return this.stream}requestRange(Ye,en){en=Math.min(en,this.length);const je=this.getBeginChunk(Ye),nn=this.getEndChunk(en),Ge=[];for(let Oe=je;Oe<nn;++Oe)Ge.push(Oe);return this._requestChunks(Ge)}requestRanges(Ye=[]){const en=[];for(const je of Ye){const nn=this.getBeginChunk(je.begin),Ge=this.getEndChunk(je.end);for(let Oe=nn;Oe<Ge;++Oe)en.includes(Oe)||en.push(Oe)}return en.sort(function(je,nn){return je-nn}),this._requestChunks(en)}groupChunks(Ye){const en=[];let je=-1,nn=-1;for(let Ge=0,Oe=Ye.length;Ge<Oe;++Ge){const Ce=Ye[Ge];je<0&&(je=Ce),nn>=0&&nn+1!==Ce&&(en.push({beginChunk:je,endChunk:nn+1}),je=Ce),Ge+1===Ye.length&&en.push({beginChunk:je,endChunk:Ce+1}),nn=Ce}return en}onProgress(Ye){this.msgHandler.send("DocProgress",{loaded:this.stream.numChunksLoaded*this.chunkSize+Ye.loaded,total:this.length})}onReceiveData(Ye){const en=Ye.chunk,je=Ye.begin===void 0,nn=je?this.progressiveDataLength:Ye.begin,Ge=nn+en.byteLength,Oe=Math.floor(nn/this.chunkSize),Ce=Ge<this.length?Math.floor(Ge/this.chunkSize):Math.ceil(Ge/this.chunkSize);je?(this.stream.onReceiveProgressiveData(en),this.progressiveDataLength=Ge):this.stream.onReceiveData(nn,en),this.stream.isDataLoaded&&this._loadedStreamCapability.resolve(this.stream);const St=[];for(let rn=Oe;rn<Ce;++rn){const un=this._requestsByChunk.get(rn);if(un){this._requestsByChunk.delete(rn);for(const Qe of un){const hn=this._chunksNeededByRequest.get(Qe);hn.has(rn)&&hn.delete(rn),!(hn.size>0)&&St.push(Qe)}}}if(!this.disableAutoFetch&&this._requestsByChunk.size===0){let rn;if(this.stream.numChunksLoaded===1){const un=this.stream.numChunks-1;this.stream.hasChunk(un)||(rn=un)}else rn=this.stream.nextEmptyChunk(Ce);Number.isInteger(rn)&&this._requestChunks([rn])}for(const rn of St){const un=this._promisesByRequest.get(rn);this._promisesByRequest.delete(rn),un.resolve()}this.msgHandler.send("DocProgress",{loaded:this.stream.numChunksLoaded*this.chunkSize,total:this.length})}onError(Ye){this._loadedStreamCapability.reject(Ye)}getBeginChunk(Ye){return Math.floor(Ye/this.chunkSize)}getEndChunk(Ye){return Math.floor((Ye-1)/this.chunkSize)+1}abort(Ye){this.aborted=!0,this.pdfNetworkStream?.cancelAllRequests(Ye);for(const en of this._promisesByRequest.values())en.reject(Ye)}}_e.ChunkedStreamManager=t},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.StringStream=_e.Stream=_e.NullStream=void 0;var xe=ze(5),Ie=ze(2);class Re extends xe.BaseStream{constructor(Ye,en,je,nn){super(),this.bytes=Ye instanceof Uint8Array?Ye:new Uint8Array(Ye),this.start=en||0,this.pos=this.start,this.end=en+je||this.bytes.length,this.dict=nn}get length(){return this.end-this.start}get isEmpty(){return this.length===0}getByte(){return this.pos>=this.end?-1:this.bytes[this.pos++]}getBytes(Ye){const en=this.bytes,je=this.pos,nn=this.end;if(!Ye)return en.subarray(je,nn);let Ge=je+Ye;return Ge>nn&&(Ge=nn),this.pos=Ge,en.subarray(je,Ge)}getByteRange(Ye,en){return Ye<0&&(Ye=0),en>this.end&&(en=this.end),this.bytes.subarray(Ye,en)}reset(){this.pos=this.start}moveStart(){this.start=this.pos}makeSubStream(Ye,en,je=null){return new Re(this.bytes.buffer,Ye,en,je)}}_e.Stream=Re;class e extends Re{constructor(Ye){super((0,Ie.stringToBytes)(Ye))}}_e.StringStream=e;class t extends Re{constructor(){super(new Uint8Array(0))}}_e.NullStream=t},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.Page=_e.PDFDocument=void 0;var xe=ze(2),Ie=ze(10),Re=ze(3),e=ze(4),t=ze(51),Te=ze(5),Ye=ze(74),en=ze(66),je=ze(68),nn=ze(102),Ge=ze(16),Oe=ze(8),Ce=ze(76),St=ze(64),rn=ze(13),un=ze(18),Qe=ze(72),hn=ze(73),He=ze(77),pn=ze(103);const Xe=1,fn=[0,0,612,792];class dn{constructor({pdfManager:Je,xref:an,pageIndex:Ke,pageDict:sn,ref:gn,globalIdFactory:mn,fontCache:yn,builtInCMapCache:Sn,standardFontDataCache:_n,globalImageCache:wn,systemFontCache:Nn,nonBlendModesSet:Tn,xfaFactory:Cn}){this.pdfManager=Je,this.pageIndex=Ke,this.pageDict=sn,this.xref=an,this.ref=gn,this.fontCache=yn,this.builtInCMapCache=Sn,this.standardFontDataCache=_n,this.globalImageCache=wn,this.systemFontCache=Nn,this.nonBlendModesSet=Tn,this.evaluatorOptions=Je.evaluatorOptions,this.resourcesPromise=null,this.xfaFactory=Cn;const In={obj:0};this._localIdFactory=class extends mn{static createObjId(){return`p${Ke}_${++In.obj}`}static getPageObjId(){return`p${gn.toString()}`}}}_getInheritableProperty(Je,an=!1){const Ke=(0,Re.getInheritableProperty)({dict:this.pageDict,key:Je,getArray:an,stopWhenFound:!1});return Array.isArray(Ke)?Ke.length===1||!(Ke[0]instanceof e.Dict)?Ke[0]:e.Dict.merge({xref:this.xref,dictArray:Ke}):Ke}get content(){return this.pageDict.getArray("Contents")}get resources(){const Je=this._getInheritableProperty("Resources");return(0,xe.shadow)(this,"resources",Je instanceof e.Dict?Je:e.Dict.empty)}_getBoundingBox(Je){if(this.xfaData)return this.xfaData.bbox;let an=this._getInheritableProperty(Je,!0);if(Array.isArray(an)&&an.length===4){if(an=xe.Util.normalizeRect(an),an[2]-an[0]>0&&an[3]-an[1]>0)return an;(0,xe.warn)(`Empty, or invalid, /${Je} entry.`)}return null}get mediaBox(){return(0,xe.shadow)(this,"mediaBox",this._getBoundingBox("MediaBox")||fn)}get cropBox(){return(0,xe.shadow)(this,"cropBox",this._getBoundingBox("CropBox")||this.mediaBox)}get userUnit(){let Je=this.pageDict.get("UserUnit");return(typeof Je!="number"||Je<=0)&&(Je=Xe),(0,xe.shadow)(this,"userUnit",Je)}get view(){const{cropBox:Je,mediaBox:an}=this;if(Je!==an&&!(0,xe.isArrayEqual)(Je,an)){const Ke=xe.Util.intersect(Je,an);if(Ke&&Ke[2]-Ke[0]>0&&Ke[3]-Ke[1]>0)return(0,xe.shadow)(this,"view",Ke);(0,xe.warn)("Empty /CropBox and /MediaBox intersection.")}return(0,xe.shadow)(this,"view",an)}get rotate(){let Je=this._getInheritableProperty("Rotate")||0;return Je%90!==0?Je=0:Je>=360?Je%=360:Je<0&&(Je=(Je%360+360)%360),(0,xe.shadow)(this,"rotate",Je)}_onSubStreamError(Je,an){if(this.evaluatorOptions.ignoreErrors){(0,xe.warn)(`getContentStream - ignoring sub-stream (${an}): "${Je}".`);return}throw Je}getContentStream(){return this.pdfManager.ensure(this,"content").then(Je=>Je instanceof Te.BaseStream?Je:Array.isArray(Je)?new un.StreamsSequenceStream(Je,this._onSubStreamError.bind(this)):new Oe.NullStream)}get xfaData(){return(0,xe.shadow)(this,"xfaData",this.xfaFactory?{bbox:this.xfaFactory.getBoundingBox(this.pageIndex)}:null)}#e(Je,an,Ke){for(const sn of Je)if(sn.id){const gn=e.Ref.fromString(sn.id);if(!gn){(0,xe.warn)(`A non-linked annotation cannot be modified: ${sn.id}`);continue}if(sn.deleted){an.put(gn);continue}Ke?.put(gn),sn.ref=gn,delete sn.id}}async saveNewAnnotations(Je,an,Ke,sn){if(this.xfaFactory)throw new Error("XFA: Cannot save new annotations.");const gn=new rn.PartialEvaluator({xref:this.xref,handler:Je,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions}),mn=new e.RefSet,yn=new e.RefSet;this.#e(Ke,mn,yn);const Sn=this.pageDict,_n=this.annotations.filter(In=>!(In instanceof e.Ref&&mn.has(In))),wn=await Ie.AnnotationFactory.saveNewAnnotations(gn,an,Ke,sn);for(const{ref:In}of wn.annotations)In instanceof e.Ref&&!yn.has(In)&&_n.push(In);const Nn=Sn.get("Annots");Sn.set("Annots",_n);const Tn=[];await(0,hn.writeObject)(this.ref,Sn,Tn,this.xref),Nn&&Sn.set("Annots",Nn);const Cn=wn.dependencies;return Cn.push({ref:this.ref,data:Tn.join("")},...wn.annotations),Cn}save(Je,an,Ke){const sn=new rn.PartialEvaluator({xref:this.xref,handler:Je,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions});return this._parsedAnnotations.then(function(gn){const mn=[];for(const yn of gn)yn.mustBePrinted(Ke)&&mn.push(yn.save(sn,an,Ke).catch(function(Sn){return(0,xe.warn)(`save - ignoring annotation data during "${an.name}" task: "${Sn}".`),null}));return Promise.all(mn).then(function(yn){return yn.filter(Sn=>!!Sn)})})}loadResources(Je){return this.resourcesPromise||(this.resourcesPromise=this.pdfManager.ensure(this,"resources")),this.resourcesPromise.then(()=>new Ce.ObjectLoader(this.resources,Je,this.xref).load())}getOperatorList({handler:Je,sink:an,task:Ke,intent:sn,cacheKey:gn,annotationStorage:mn=null}){const yn=this.getContentStream(),Sn=this.loadResources(["ColorSpace","ExtGState","Font","Pattern","Properties","Shading","XObject"]),_n=new rn.PartialEvaluator({xref:this.xref,handler:Je,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions}),wn=this.xfaFactory?null:(0,Re.getNewAnnotationsMap)(mn);let Nn=null,Tn=Promise.resolve(null);if(wn){const Rn=wn.get(this.pageIndex);if(Rn){const bn=this.pdfManager.ensureDoc("annotationGlobals");let kn;const En=new Set;for(const{bitmapId:Mn,bitmap:Bn}of Rn)Mn&&!Bn&&!En.has(Mn)&&En.add(Mn);const{isOffscreenCanvasSupported:On}=this.evaluatorOptions;if(En.size>0){const Mn=Rn.slice();for(const[Bn,Hn]of mn)Bn.startsWith(xe.AnnotationEditorPrefix)&&Hn.bitmap&&En.has(Hn.bitmapId)&&Mn.push(Hn);kn=Ie.AnnotationFactory.generateImages(Mn,this.xref,On)}else kn=Ie.AnnotationFactory.generateImages(Rn,this.xref,On);Nn=new e.RefSet,this.#e(Rn,Nn,null),Tn=bn.then(Mn=>Mn?Ie.AnnotationFactory.printNewAnnotations(Mn,_n,Ke,Rn,kn):null)}}const In=Promise.all([yn,Sn]).then(([Rn])=>{const bn=new St.OperatorList(sn,an);return Je.send("StartRenderPage",{transparency:_n.hasBlendModes(this.resources,this.nonBlendModesSet),pageIndex:this.pageIndex,cacheKey:gn}),_n.getOperatorList({stream:Rn,task:Ke,resources:this.resources,operatorList:bn}).then(function(){return bn})});return Promise.all([In,this._parsedAnnotations,Tn]).then(function([Rn,bn,kn]){if(kn){bn=bn.filter($n=>!($n.ref&&Nn.has($n.ref)));for(let $n=0,Un=kn.length;$n<Un;$n++){const qn=kn[$n];if(qn.refToReplace){const jn=bn.findIndex(Xn=>Xn.ref&&(0,e.isRefsEqual)(Xn.ref,qn.refToReplace));jn>=0&&(bn.splice(jn,1,qn),kn.splice($n--,1),Un--)}}bn=bn.concat(kn)}if(bn.length===0||sn&xe.RenderingIntentFlag.ANNOTATIONS_DISABLE)return Rn.flush(!0),{length:Rn.totalLength};const En=!!(sn&xe.RenderingIntentFlag.ANNOTATIONS_FORMS),On=!!(sn&xe.RenderingIntentFlag.ANY),Mn=!!(sn&xe.RenderingIntentFlag.DISPLAY),Bn=!!(sn&xe.RenderingIntentFlag.PRINT),Hn=[];for(const $n of bn)(On||Mn&&$n.mustBeViewed(mn,En)||Bn&&$n.mustBePrinted(mn))&&Hn.push($n.getOperatorList(_n,Ke,sn,En,mn).catch(function(Un){return(0,xe.warn)(`getOperatorList - ignoring annotation data during "${Ke.name}" task: "${Un}".`),{opList:null,separateForm:!1,separateCanvas:!1}}));return Promise.all(Hn).then(function($n){let Un=!1,qn=!1;for(const{opList:jn,separateForm:Xn,separateCanvas:Gn}of $n)Rn.addOpList(jn),Un||=Xn,qn||=Gn;return Rn.flush(!0,{form:Un,canvas:qn}),{length:Rn.totalLength}})})}extractTextContent({handler:Je,task:an,includeMarkedContent:Ke,disableNormalization:sn,sink:gn}){const mn=this.getContentStream(),yn=this.loadResources(["ExtGState","Font","Properties","XObject"]);return Promise.all([mn,yn]).then(([_n])=>new rn.PartialEvaluator({xref:this.xref,handler:Je,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions}).getTextContent({stream:_n,task:an,resources:this.resources,includeMarkedContent:Ke,disableNormalization:sn,sink:gn,viewBox:this.view}))}async getStructTree(){const Je=await this.pdfManager.ensureCatalog("structTreeRoot");return Je?(await this._parsedAnnotations,(await this.pdfManager.ensure(this,"_parseStructTree",[Je])).serializable):null}_parseStructTree(Je){const an=new Qe.StructTreePage(Je,this.pageDict);return an.parse(this.ref),an}async getAnnotationsData(Je,an,Ke){const sn=await this._parsedAnnotations;if(sn.length===0)return sn;const gn=[],mn=[];let yn;const Sn=!!(Ke&xe.RenderingIntentFlag.ANY),_n=!!(Ke&xe.RenderingIntentFlag.DISPLAY),wn=!!(Ke&xe.RenderingIntentFlag.PRINT);for(const Nn of sn){const Tn=Sn||_n&&Nn.viewable;(Tn||wn&&Nn.printable)&&gn.push(Nn.data),Nn.hasTextContent&&Tn&&(yn||=new rn.PartialEvaluator({xref:this.xref,handler:Je,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions}),mn.push(Nn.extractTextContent(yn,an,[-1/0,-1/0,1/0,1/0]).catch(function(Cn){(0,xe.warn)(`getAnnotationsData - ignoring textContent during "${an.name}" task: "${Cn}".`)})))}return await Promise.all(mn),gn}get annotations(){const Je=this._getInheritableProperty("Annots");return(0,xe.shadow)(this,"annotations",Array.isArray(Je)?Je:[])}get _parsedAnnotations(){const Je=this.pdfManager.ensure(this,"annotations").then(async an=>{if(an.length===0)return an;const Ke=await this.pdfManager.ensureDoc("annotationGlobals");if(!Ke)return[];const sn=[];for(const yn of an)sn.push(Ie.AnnotationFactory.create(this.xref,yn,Ke,this._localIdFactory,!1,this.ref).catch(function(Sn){return(0,xe.warn)(`_parsedAnnotations: "${Sn}".`),null}));const gn=[];let mn;for(const yn of await Promise.all(sn))if(yn){if(yn instanceof Ie.PopupAnnotation){(mn||=[]).push(yn);continue}gn.push(yn)}return mn&&gn.push(...mn),gn});return(0,xe.shadow)(this,"_parsedAnnotations",Je)}get jsActions(){const Je=(0,Re.collectActions)(this.xref,this.pageDict,xe.PageActionEventType);return(0,xe.shadow)(this,"jsActions",Je)}}_e.Page=dn;const qe=new Uint8Array([37,80,68,70,45]),tn=new Uint8Array([115,116,97,114,116,120,114,101,102]),Me=new Uint8Array([101,110,100,111,98,106]),De=1024,Ue="\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0";function We(on,Je,an=1024,Ke=!1){const sn=Je.length,gn=on.peekBytes(an),mn=gn.length-sn;if(mn<=0)return!1;if(Ke){const yn=sn-1;let Sn=gn.length-1;for(;Sn>=yn;){let _n=0;for(;_n<sn&&gn[Sn-_n]===Je[yn-_n];)_n++;if(_n>=sn)return on.pos+=Sn-yn,!0;Sn--}}else{let yn=0;for(;yn<=mn;){let Sn=0;for(;Sn<sn&&gn[yn+Sn]===Je[Sn];)Sn++;if(Sn>=sn)return on.pos+=yn,!0;yn++}}return!1}class $e{constructor(Je,an){if(an.length<=0)throw new xe.InvalidPDFException("The PDF file is empty, i.e. its size is zero bytes.");this.pdfManager=Je,this.stream=an,this.xref=new pn.XRef(an,Je),this._pagePromises=new Map,this._version=null;const Ke={font:0};this._globalIdFactory=class{static getDocId(){return`g_${Je.docId}`}static createFontId(){return`f${++Ke.font}`}static createObjId(){(0,xe.unreachable)("Abstract method `createObjId` called.")}static getPageObjId(){(0,xe.unreachable)("Abstract method `getPageObjId` called.")}}}parse(Je){this.xref.parse(Je),this.catalog=new en.Catalog(this.pdfManager,this.xref)}get linearization(){let Je=null;try{Je=Ge.Linearization.create(this.stream)}catch(an){if(an instanceof Re.MissingDataException)throw an;(0,xe.info)(an)}return(0,xe.shadow)(this,"linearization",Je)}get startXRef(){const Je=this.stream;let an=0;if(this.linearization)Je.reset(),We(Je,Me)&&(an=Je.pos+6-Je.start);else{const sn=tn.length;let gn=!1,mn=Je.end;for(;!gn&&mn>0;)mn-=1024-sn,mn<0&&(mn=0),Je.pos=mn,gn=We(Je,tn,1024,!0);if(gn){Je.skip(9);let yn;do yn=Je.getByte();while((0,Re.isWhiteSpace)(yn));let Sn="";for(;yn>=32&&yn<=57;)Sn+=String.fromCharCode(yn),yn=Je.getByte();an=parseInt(Sn,10),isNaN(an)&&(an=0)}}return(0,xe.shadow)(this,"startXRef",an)}checkHeader(){const Je=this.stream;if(Je.reset(),!We(Je,qe))return;Je.moveStart(),Je.skip(qe.length);let an="",Ke;for(;(Ke=Je.getByte())>32&&an.length<7;)an+=String.fromCharCode(Ke);Re.PDF_VERSION_REGEXP.test(an)?this._version=an:(0,xe.warn)(`Invalid PDF header version: ${an}`)}parseStartXRef(){this.xref.setStartXRef(this.startXRef)}get numPages(){let Je=0;return this.catalog.hasActualNumPages?Je=this.catalog.numPages:this.xfaFactory?Je=this.xfaFactory.getNumPages():this.linearization?Je=this.linearization.numPages:Je=this.catalog.numPages,(0,xe.shadow)(this,"numPages",Je)}_hasOnlyDocumentSignatures(Je,an=0){return Array.isArray(Je)?Je.every(sn=>{if(sn=this.xref.fetchIfRef(sn),!(sn instanceof e.Dict))return!1;if(sn.has("Kids"))return++an>10?((0,xe.warn)("_hasOnlyDocumentSignatures: maximum recursion depth reached"),!1):this._hasOnlyDocumentSignatures(sn.get("Kids"),an);const gn=(0,e.isName)(sn.get("FT"),"Sig"),mn=sn.get("Rect"),yn=Array.isArray(mn)&&mn.every(Sn=>Sn===0);return gn&&yn}):!1}get _xfaStreams(){const Je=this.catalog.acroForm;if(!Je)return null;const an=Je.get("XFA"),Ke={"xdp:xdp":"",template:"",datasets:"",config:"",connectionSet:"",localeSet:"",stylesheet:"","/xdp:xdp":""};if(an instanceof Te.BaseStream&&!an.isEmpty)return Ke["xdp:xdp"]=an,Ke;if(!Array.isArray(an)||an.length===0)return null;for(let sn=0,gn=an.length;sn<gn;sn+=2){let mn;if(sn===0?mn="xdp:xdp":sn===gn-2?mn="/xdp:xdp":mn=an[sn],!Ke.hasOwnProperty(mn))continue;const yn=this.xref.fetchIfRef(an[sn+1]);!(yn instanceof Te.BaseStream)||yn.isEmpty||(Ke[mn]=yn)}return Ke}get xfaDatasets(){const Je=this._xfaStreams;if(!Je)return(0,xe.shadow)(this,"xfaDatasets",null);for(const an of["datasets","xdp:xdp"]){const Ke=Je[an];if(Ke)try{const sn=(0,xe.stringToUTF8String)(Ke.getString()),gn={[an]:sn};return(0,xe.shadow)(this,"xfaDatasets",new nn.DatasetReader(gn))}catch{(0,xe.warn)("XFA - Invalid utf-8 string.");break}}return(0,xe.shadow)(this,"xfaDatasets",null)}get xfaData(){const Je=this._xfaStreams;if(!Je)return null;const an=Object.create(null);for(const[Ke,sn]of Object.entries(Je))if(sn)try{an[Ke]=(0,xe.stringToUTF8String)(sn.getString())}catch{return(0,xe.warn)("XFA - Invalid utf-8 string."),null}return an}get xfaFactory(){let Je;return this.pdfManager.enableXfa&&this.catalog.needsRendering&&this.formInfo.hasXfa&&!this.formInfo.hasAcroForm&&(Je=this.xfaData),(0,xe.shadow)(this,"xfaFactory",Je?new He.XFAFactory(Je):null)}get isPureXfa(){return this.xfaFactory?this.xfaFactory.isValid():!1}get htmlForXfa(){return this.xfaFactory?this.xfaFactory.getPages():null}async loadXfaImages(){const Je=await this.pdfManager.ensureCatalog("xfaImages");if(!Je)return;const an=Je.getKeys();await new Ce.ObjectLoader(Je,an,this.xref).load();const sn=new Map;for(const gn of an){const mn=Je.get(gn);mn instanceof Te.BaseStream&&sn.set(gn,mn.getBytes())}this.xfaFactory.setImages(sn)}async loadXfaFonts(Je,an){const Ke=await this.pdfManager.ensureCatalog("acroForm");if(!Ke)return;const sn=await Ke.getAsync("DR");if(!(sn instanceof e.Dict))return;await new Ce.ObjectLoader(sn,["Font"],this.xref).load();const mn=sn.get("Font");if(!(mn instanceof e.Dict))return;const yn=Object.assign(Object.create(null),this.pdfManager.evaluatorOptions);yn.useSystemFonts=!1;const Sn=new rn.PartialEvaluator({xref:this.xref,handler:Je,pageIndex:-1,idFactory:this._globalIdFactory,fontCache:this.catalog.fontCache,builtInCMapCache:this.catalog.builtInCMapCache,standardFontDataCache:this.catalog.standardFontDataCache,options:yn}),_n=new St.OperatorList,wn=[],Nn={get font(){return wn.at(-1)},set font(bn){wn.push(bn)},clone(){return this}},Tn=new Map;mn.forEach((bn,kn)=>{Tn.set(bn,kn)});const Cn=[];for(const[bn,kn]of Tn){const En=kn.get("FontDescriptor");if(!(En instanceof e.Dict))continue;let On=En.get("FontFamily");On=On.replaceAll(/[ ]+(\d)/g,"$1");const Mn=En.get("FontWeight"),Bn=-En.get("ItalicAngle"),Hn={fontFamily:On,fontWeight:Mn,italicAngle:Bn};(0,Re.validateCSSFont)(Hn)&&Cn.push(Sn.handleSetFont(sn,[e.Name.get(bn),1],null,_n,an,Nn,null,Hn).catch(function($n){return(0,xe.warn)(`loadXfaFonts: "${$n}".`),null}))}await Promise.all(Cn);const In=this.xfaFactory.setFonts(wn);if(!In)return;yn.ignoreErrors=!0,Cn.length=0,wn.length=0;const Rn=new Set;for(const bn of In)(0,t.getXfaFontName)(`${bn}-Regular`)||Rn.add(bn);Rn.size&&In.push("PdfJS-Fallback");for(const bn of In)if(!Rn.has(bn))for(const kn of[{name:"Regular",fontWeight:400,italicAngle:0},{name:"Bold",fontWeight:700,italicAngle:0},{name:"Italic",fontWeight:400,italicAngle:12},{name:"BoldItalic",fontWeight:700,italicAngle:12}]){const En=`${bn}-${kn.name}`,On=(0,t.getXfaFontDict)(En);Cn.push(Sn.handleSetFont(sn,[e.Name.get(En),1],null,_n,an,Nn,On,{fontFamily:bn,fontWeight:kn.fontWeight,italicAngle:kn.italicAngle}).catch(function(Mn){return(0,xe.warn)(`loadXfaFonts: "${Mn}".`),null}))}await Promise.all(Cn),this.xfaFactory.appendFonts(wn,Rn)}async serializeXfaData(Je){return this.xfaFactory?this.xfaFactory.serializeData(Je):null}get version(){return this.catalog.version||this._version}get formInfo(){const Je={hasFields:!1,hasAcroForm:!1,hasXfa:!1,hasSignatures:!1},an=this.catalog.acroForm;if(!an)return(0,xe.shadow)(this,"formInfo",Je);try{const Ke=an.get("Fields"),sn=Array.isArray(Ke)&&Ke.length>0;Je.hasFields=sn;const gn=an.get("XFA");Je.hasXfa=Array.isArray(gn)&&gn.length>0||gn instanceof Te.BaseStream&&!gn.isEmpty;const yn=!!(an.get("SigFlags")&1),Sn=yn&&this._hasOnlyDocumentSignatures(Ke);Je.hasAcroForm=sn&&!Sn,Je.hasSignatures=yn}catch(Ke){if(Ke instanceof Re.MissingDataException)throw Ke;(0,xe.warn)(`Cannot fetch form information: "${Ke}".`)}return(0,xe.shadow)(this,"formInfo",Je)}get documentInfo(){const Je={PDFFormatVersion:this.version,Language:this.catalog.lang,EncryptFilterName:this.xref.encrypt?this.xref.encrypt.filterName:null,IsLinearized:!!this.linearization,IsAcroFormPresent:this.formInfo.hasAcroForm,IsXFAPresent:this.formInfo.hasXfa,IsCollectionPresent:!!this.catalog.collection,IsSignaturesPresent:this.formInfo.hasSignatures};let an;try{an=this.xref.trailer.get("Info")}catch(Ke){if(Ke instanceof Re.MissingDataException)throw Ke;(0,xe.info)("The document information dictionary is invalid.")}if(!(an instanceof e.Dict))return(0,xe.shadow)(this,"documentInfo",Je);for(const Ke of an.getKeys()){const sn=an.get(Ke);switch(Ke){case"Title":case"Author":case"Subject":case"Keywords":case"Creator":case"Producer":case"CreationDate":case"ModDate":if(typeof sn=="string"){Je[Ke]=(0,xe.stringToPDFString)(sn);continue}break;case"Trapped":if(sn instanceof e.Name){Je[Ke]=sn;continue}break;default:let gn;switch(typeof sn){case"string":gn=(0,xe.stringToPDFString)(sn);break;case"number":case"boolean":gn=sn;break;default:sn instanceof e.Name&&(gn=sn);break}if(gn===void 0){(0,xe.warn)(`Bad value, for custom key "${Ke}", in Info: ${sn}.`);continue}Je.Custom||(Je.Custom=Object.create(null)),Je.Custom[Ke]=gn;continue}(0,xe.warn)(`Bad value, for key "${Ke}", in Info: ${sn}.`)}return(0,xe.shadow)(this,"documentInfo",Je)}get fingerprints(){function Je(mn){return typeof mn=="string"&&mn.length>0&&mn!==Ue}function an(mn){const yn=[];for(const Sn of mn){const _n=Sn.toString(16);yn.push(_n.padStart(2,"0"))}return yn.join("")}const Ke=this.xref.trailer.get("ID");let sn,gn;return Array.isArray(Ke)&&Je(Ke[0])?(sn=(0,xe.stringToBytes)(Ke[0]),Ke[1]!==Ke[0]&&Je(Ke[1])&&(gn=(0,xe.stringToBytes)(Ke[1]))):sn=(0,Ye.calculateMD5)(this.stream.getByteRange(0,De),0,De),(0,xe.shadow)(this,"fingerprints",[an(sn),gn?an(gn):null])}async _getLinearizationPage(Je){const{catalog:an,linearization:Ke,xref:sn}=this,gn=e.Ref.get(Ke.objectNumberFirst,0);try{const mn=await sn.fetchAsync(gn);if(mn instanceof e.Dict){let yn=mn.getRaw("Type");if(yn instanceof e.Ref&&(yn=await sn.fetchAsync(yn)),(0,e.isName)(yn,"Page")||!mn.has("Type")&&!mn.has("Kids"))return an.pageKidsCountCache.has(gn)||an.pageKidsCountCache.put(gn,1),an.pageIndexCache.has(gn)||an.pageIndexCache.put(gn,0),[mn,gn]}throw new xe.FormatError("The Linearization dictionary doesn't point to a valid Page dictionary.")}catch(mn){return(0,xe.warn)(`_getLinearizationPage: "${mn.message}".`),an.getPageDict(Je)}}getPage(Je){const an=this._pagePromises.get(Je);if(an)return an;const{catalog:Ke,linearization:sn,xfaFactory:gn}=this;let mn;return gn?mn=Promise.resolve([e.Dict.empty,null]):sn?.pageFirst===Je?mn=this._getLinearizationPage(Je):mn=Ke.getPageDict(Je),mn=mn.then(([yn,Sn])=>new dn({pdfManager:this.pdfManager,xref:this.xref,pageIndex:Je,pageDict:yn,ref:Sn,globalIdFactory:this._globalIdFactory,fontCache:Ke.fontCache,builtInCMapCache:Ke.builtInCMapCache,standardFontDataCache:Ke.standardFontDataCache,globalImageCache:Ke.globalImageCache,systemFontCache:Ke.systemFontCache,nonBlendModesSet:Ke.nonBlendModesSet,xfaFactory:gn})),this._pagePromises.set(Je,mn),mn}async checkFirstPage(Je=!1){if(!Je)try{await this.getPage(0)}catch(an){if(an instanceof Re.XRefEntryException)throw this._pagePromises.delete(0),await this.cleanup(),new Re.XRefParseException}}async checkLastPage(Je=!1){const{catalog:an,pdfManager:Ke}=this;an.setActualNumPages();let sn;try{if(await Promise.all([Ke.ensureDoc("xfaFactory"),Ke.ensureDoc("linearization"),Ke.ensureCatalog("numPages")]),this.xfaFactory)return;if(this.linearization?sn=this.linearization.numPages:sn=an.numPages,Number.isInteger(sn)){if(sn<=1)return}else throw new xe.FormatError("Page count is not an integer.");await this.getPage(sn-1)}catch(gn){if(this._pagePromises.delete(sn-1),await this.cleanup(),gn instanceof Re.XRefEntryException&&!Je)throw new Re.XRefParseException;(0,xe.warn)(`checkLastPage - invalid /Pages tree /Count: ${sn}.`);let mn;try{mn=await an.getAllPageDicts(Je)}catch(yn){if(yn instanceof Re.XRefEntryException&&!Je)throw new Re.XRefParseException;an.setActualNumPages(1);return}for(const[yn,[Sn,_n]]of mn){let wn;Sn instanceof Error?(wn=Promise.reject(Sn),wn.catch(()=>{})):wn=Promise.resolve(new dn({pdfManager:Ke,xref:this.xref,pageIndex:yn,pageDict:Sn,ref:_n,globalIdFactory:this._globalIdFactory,fontCache:an.fontCache,builtInCMapCache:an.builtInCMapCache,standardFontDataCache:an.standardFontDataCache,globalImageCache:an.globalImageCache,systemFontCache:an.systemFontCache,nonBlendModesSet:an.nonBlendModesSet,xfaFactory:null})),this._pagePromises.set(yn,wn)}an.setActualNumPages(mn.size)}}fontFallback(Je,an){return this.catalog.fontFallback(Je,an)}async cleanup(Je=!1){return this.catalog?this.catalog.cleanup(Je):(0,je.clearGlobalCaches)()}#e(Je,an,Ke,sn){const gn=this.xref.fetchIfRef(an);if(gn.has("T")){const mn=(0,xe.stringToPDFString)(gn.get("T"));Je=Je===""?mn:`${Je}.${mn}`}if(Ke.has(Je)||Ke.set(Je,[]),Ke.get(Je).push(Ie.AnnotationFactory.create(this.xref,an,sn,this._localIdFactory,!0,null).then(mn=>mn?.getFieldObject()).catch(function(mn){return(0,xe.warn)(`#collectFieldObjects: "${mn}".`),null})),gn.has("Kids"))for(const mn of gn.get("Kids"))this.#e(Je,mn,Ke,sn)}get fieldObjects(){if(!this.formInfo.hasFields)return(0,xe.shadow)(this,"fieldObjects",Promise.resolve(null));const Je=this.pdfManager.ensureDoc("annotationGlobals").then(async an=>{if(!an)return null;const Ke=Object.create(null),sn=new Map;for(const mn of this.catalog.acroForm.get("Fields"))this.#e("",mn,sn,an);const gn=[];for(const[mn,yn]of sn)gn.push(Promise.all(yn).then(Sn=>{Sn=Sn.filter(_n=>!!_n),Sn.length>0&&(Ke[mn]=Sn)}));return await Promise.all(gn),Ke});return(0,xe.shadow)(this,"fieldObjects",Je)}get hasJSActions(){const Je=this.pdfManager.ensureDoc("_parseHasJSActions");return(0,xe.shadow)(this,"hasJSActions",Je)}async _parseHasJSActions(){const[Je,an]=await Promise.all([this.pdfManager.ensureCatalog("jsActions"),this.pdfManager.ensureDoc("fieldObjects")]);return Je?!0:an?Object.values(an).some(Ke=>Ke.some(sn=>sn.actions!==null)):!1}get calculationOrderIds(){const Je=this.catalog.acroForm;if(!Je?.has("CO"))return(0,xe.shadow)(this,"calculationOrderIds",null);const an=Je.get("CO");if(!Array.isArray(an)||an.length===0)return(0,xe.shadow)(this,"calculationOrderIds",null);const Ke=[];for(const sn of an)sn instanceof e.Ref&&Ke.push(sn.toString());return Ke.length===0?(0,xe.shadow)(this,"calculationOrderIds",null):(0,xe.shadow)(this,"calculationOrderIds",Ke)}get annotationGlobals(){return(0,xe.shadow)(this,"annotationGlobals",Ie.AnnotationFactory.createGlobals(this.pdfManager))}}_e.PDFDocument=$e},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.PopupAnnotation=_e.MarkupAnnotation=_e.AnnotationFactory=_e.AnnotationBorderStyle=_e.Annotation=void 0,_e.getQuadPoints=He;var xe=ze(2),Ie=ze(3),Re=ze(11),e=ze(4),t=ze(8),Te=ze(5),Ye=ze(60),en=ze(66),je=ze(12),nn=ze(69),Ge=ze(26),Oe=ze(76),Ce=ze(64),St=ze(73),rn=ze(77);class un{static createGlobals(bn){return Promise.all([bn.ensureCatalog("acroForm"),bn.ensureDoc("xfaDatasets"),bn.ensureCatalog("structTreeRoot"),bn.ensureCatalog("baseUrl"),bn.ensureCatalog("attachments")]).then(([kn,En,On,Mn,Bn])=>({pdfManager:bn,acroForm:kn instanceof e.Dict?kn:e.Dict.empty,xfaDatasets:En,structTreeRoot:On,baseUrl:Mn,attachments:Bn}),kn=>((0,xe.warn)(`createGlobals: "${kn}".`),null))}static async create(bn,kn,En,On,Mn,Bn){const Hn=Mn?await this._getPageIndex(bn,kn,En.pdfManager):null;return En.pdfManager.ensure(this,"_create",[bn,kn,En,On,Mn,Hn,Bn])}static _create(bn,kn,En,On,Mn=!1,Bn=null,Hn=null){const $n=bn.fetchIfRef(kn);if(!($n instanceof e.Dict))return;const{acroForm:Un,pdfManager:qn}=En,jn=kn instanceof e.Ref?kn.toString():`annot_${On.createObjId()}`;let Xn=$n.get("Subtype");Xn=Xn instanceof e.Name?Xn.name:null;const Gn={xref:bn,ref:kn,dict:$n,subtype:Xn,id:jn,annotationGlobals:En,collectFields:Mn,needAppearances:!Mn&&Un.get("NeedAppearances")===!0,pageIndex:Bn,evaluatorOptions:qn.evaluatorOptions,pageRef:Hn};switch(Xn){case"Link":return new $e(Gn);case"Text":return new We(Gn);case"Widget":let ri=(0,Ie.getInheritableProperty)({dict:$n,key:"FT"});switch(ri=ri instanceof e.Name?ri.name:null,ri){case"Tx":return new tn(Gn);case"Btn":return new Me(Gn);case"Ch":return new De(Gn);case"Sig":return new Ue(Gn)}return(0,xe.warn)(`Unimplemented widget field type "${ri}", falling back to base field type.`),new qe(Gn);case"Popup":return new on(Gn);case"FreeText":return new Je(Gn);case"Line":return new an(Gn);case"Square":return new Ke(Gn);case"Circle":return new sn(Gn);case"PolyLine":return new gn(Gn);case"Polygon":return new mn(Gn);case"Caret":return new yn(Gn);case"Ink":return new Sn(Gn);case"Highlight":return new _n(Gn);case"Underline":return new wn(Gn);case"Squiggly":return new Nn(Gn);case"StrikeOut":return new Tn(Gn);case"Stamp":return new Cn(Gn);case"FileAttachment":return new In(Gn);default:return Mn||(Xn?(0,xe.warn)(`Unimplemented annotation type "${Xn}", falling back to base annotation.`):(0,xe.warn)("Annotation is missing the required /Subtype.")),new Xe(Gn)}}static async _getPageIndex(bn,kn,En){try{const On=await bn.fetchIfRefAsync(kn);if(!(On instanceof e.Dict))return-1;const Mn=On.getRaw("P");if(Mn instanceof e.Ref)try{return await En.ensureCatalog("getPageIndex",[Mn])}catch(Hn){(0,xe.info)(`_getPageIndex -- not a valid page reference: "${Hn}".`)}if(On.has("Kids"))return-1;const Bn=await En.ensureDoc("numPages");for(let Hn=0;Hn<Bn;Hn++){const $n=await En.getPage(Hn),Un=await En.ensure($n,"annotations");for(const qn of Un)if(qn instanceof e.Ref&&(0,e.isRefsEqual)(qn,kn))return Hn}}catch(On){(0,xe.warn)(`_getPageIndex: "${On}".`)}return-1}static generateImages(bn,kn,En){if(!En)return(0,xe.warn)("generateImages: OffscreenCanvas is not supported, cannot save or print some annotations with images."),null;let On;for(const{bitmapId:Mn,bitmap:Bn}of bn)Bn&&(On||=new Map,On.set(Mn,Cn.createImage(Bn,kn)));return On}static async saveNewAnnotations(bn,kn,En,On){const Mn=bn.xref;let Bn;const Hn=[],$n=[],{isOffscreenCanvasSupported:Un}=bn.options;for(const qn of En)if(!qn.deleted)switch(qn.annotationType){case xe.AnnotationEditorType.FREETEXT:if(!Bn){const Xn=new e.Dict(Mn);Xn.set("BaseFont",e.Name.get("Helvetica")),Xn.set("Type",e.Name.get("Font")),Xn.set("Subtype",e.Name.get("Type1")),Xn.set("Encoding",e.Name.get("WinAnsiEncoding"));const Gn=[];Bn=Mn.getNewTemporaryRef(),await(0,St.writeObject)(Bn,Xn,Gn,Mn),Hn.push({ref:Bn,data:Gn.join("")})}$n.push(Je.createNewAnnotation(Mn,qn,Hn,{evaluator:bn,task:kn,baseFontRef:Bn}));break;case xe.AnnotationEditorType.INK:$n.push(Sn.createNewAnnotation(Mn,qn,Hn));break;case xe.AnnotationEditorType.STAMP:if(!Un)break;const jn=await On.get(qn.bitmapId);if(jn.imageStream){const{imageStream:Xn,smaskStream:Gn}=jn,ri=[];if(Gn){const ti=Mn.getNewTemporaryRef();await(0,St.writeObject)(ti,Gn,ri,Mn),Hn.push({ref:ti,data:ri.join("")}),Xn.dict.set("SMask",ti),ri.length=0}const ui=jn.imageRef=Mn.getNewTemporaryRef();await(0,St.writeObject)(ui,Xn,ri,Mn),Hn.push({ref:ui,data:ri.join("")}),jn.imageStream=jn.smaskStream=null}$n.push(Cn.createNewAnnotation(Mn,qn,Hn,{image:jn}));break}return{annotations:await Promise.all($n),dependencies:Hn}}static async printNewAnnotations(bn,kn,En,On,Mn){if(!On)return null;const{options:Bn,xref:Hn}=kn,$n=[];for(const Un of On)if(!Un.deleted)switch(Un.annotationType){case xe.AnnotationEditorType.FREETEXT:$n.push(Je.createNewPrintAnnotation(bn,Hn,Un,{evaluator:kn,task:En,evaluatorOptions:Bn}));break;case xe.AnnotationEditorType.INK:$n.push(Sn.createNewPrintAnnotation(bn,Hn,Un,{evaluatorOptions:Bn}));break;case xe.AnnotationEditorType.STAMP:if(!Bn.isOffscreenCanvasSupported)break;const qn=await Mn.get(Un.bitmapId);if(qn.imageStream){const{imageStream:jn,smaskStream:Xn}=qn;Xn&&jn.dict.set("SMask",Xn),qn.imageRef=new Ge.JpegStream(jn,jn.length),qn.imageStream=qn.smaskStream=null}$n.push(Cn.createNewPrintAnnotation(bn,Hn,Un,{image:qn,evaluatorOptions:Bn}));break}return Promise.all($n)}}_e.AnnotationFactory=un;function Qe(Rn,bn=new Uint8ClampedArray(3)){if(!Array.isArray(Rn))return bn;const kn=bn||new Uint8ClampedArray(3);switch(Rn.length){case 0:return null;case 1:return je.ColorSpace.singletons.gray.getRgbItem(Rn,0,kn,0),kn;case 3:return je.ColorSpace.singletons.rgb.getRgbItem(Rn,0,kn,0),kn;case 4:return je.ColorSpace.singletons.cmyk.getRgbItem(Rn,0,kn,0),kn;default:return bn}}function hn(Rn){return Array.from(Rn,bn=>bn/255)}function He(Rn,bn){const kn=Rn.getArray("QuadPoints");if(!Array.isArray(kn)||kn.length===0||kn.length%8>0)return null;const En=[];for(let On=0,Mn=kn.length/8;On<Mn;On++){let Bn=1/0,Hn=-1/0,$n=1/0,Un=-1/0;for(let qn=On*8,jn=On*8+8;qn<jn;qn+=2){const Xn=kn[qn],Gn=kn[qn+1];Bn=Math.min(Xn,Bn),Hn=Math.max(Xn,Hn),$n=Math.min(Gn,$n),Un=Math.max(Gn,Un)}if(bn!==null&&(Bn<bn[0]||Hn>bn[2]||$n<bn[1]||Un>bn[3]))return null;En.push([{x:Bn,y:Un},{x:Hn,y:Un},{x:Bn,y:$n},{x:Hn,y:$n}])}return En}function pn(Rn,bn,kn){const[En,On,Mn,Bn]=xe.Util.getAxialAlignedBoundingBox(bn,kn);if(En===Mn||On===Bn)return[1,0,0,1,Rn[0],Rn[1]];const Hn=(Rn[2]-Rn[0])/(Mn-En),$n=(Rn[3]-Rn[1])/(Bn-On);return[Hn,0,0,$n,Rn[0]-En*Hn,Rn[1]-On*$n]}class Xe{constructor(bn){const{dict:kn,xref:En,annotationGlobals:On}=bn;this.setTitle(kn.get("T")),this.setContents(kn.get("Contents")),this.setModificationDate(kn.get("M")),this.setFlags(kn.get("F")),this.setRectangle(kn.getArray("Rect")),this.setColor(kn.getArray("C")),this.setBorderStyle(kn),this.setAppearance(kn),this.setOptionalContent(kn);const Mn=kn.get("MK");this.setBorderAndBackgroundColors(Mn),this.setRotation(Mn,kn),this.ref=bn.ref instanceof e.Ref?bn.ref:null,this._streams=[],this.appearance&&this._streams.push(this.appearance);const Bn=!!(this.flags&xe.AnnotationFlag.LOCKED),Hn=!!(this.flags&xe.AnnotationFlag.LOCKEDCONTENTS);if(On.structTreeRoot){let $n=kn.get("StructParent");$n=Number.isInteger($n)&&$n>=0?$n:-1,On.structTreeRoot.addAnnotationIdToPage(bn.pageRef,$n)}if(this.data={annotationFlags:this.flags,borderStyle:this.borderStyle,color:this.color,backgroundColor:this.backgroundColor,borderColor:this.borderColor,rotation:this.rotation,contentsObj:this._contents,hasAppearance:!!this.appearance,id:bn.id,modificationDate:this.modificationDate,rect:this.rectangle,subtype:bn.subtype,hasOwnCanvas:!1,noRotate:!!(this.flags&xe.AnnotationFlag.NOROTATE),noHTML:Bn&&Hn},bn.collectFields){const $n=kn.get("Kids");if(Array.isArray($n)){const Un=[];for(const qn of $n)qn instanceof e.Ref&&Un.push(qn.toString());Un.length!==0&&(this.data.kidIds=Un)}this.data.actions=(0,Ie.collectActions)(En,kn,xe.AnnotationActionEventType),this.data.fieldName=this._constructFieldName(kn),this.data.pageIndex=bn.pageIndex}this._isOffscreenCanvasSupported=bn.evaluatorOptions.isOffscreenCanvasSupported,this._fallbackFontDict=null,this._needAppearances=!1}_hasFlag(bn,kn){return!!(bn&kn)}_isViewable(bn){return!this._hasFlag(bn,xe.AnnotationFlag.INVISIBLE)&&!this._hasFlag(bn,xe.AnnotationFlag.NOVIEW)}_isPrintable(bn){return this._hasFlag(bn,xe.AnnotationFlag.PRINT)&&!this._hasFlag(bn,xe.AnnotationFlag.HIDDEN)&&!this._hasFlag(bn,xe.AnnotationFlag.INVISIBLE)}mustBeViewed(bn,kn){const En=bn?.get(this.data.id)?.noView;return En!==void 0?!En:this.viewable&&!this._hasFlag(this.flags,xe.AnnotationFlag.HIDDEN)}mustBePrinted(bn){const kn=bn?.get(this.data.id)?.noPrint;return kn!==void 0?!kn:this.printable}get viewable(){return this.data.quadPoints===null?!1:this.flags===0?!0:this._isViewable(this.flags)}get printable(){return this.data.quadPoints===null||this.flags===0?!1:this._isPrintable(this.flags)}_parseStringHelper(bn){const kn=typeof bn=="string"?(0,xe.stringToPDFString)(bn):"",En=kn&&(0,Ye.bidi)(kn).dir==="rtl"?"rtl":"ltr";return{str:kn,dir:En}}setDefaultAppearance(bn){const{dict:kn,annotationGlobals:En}=bn,On=(0,Ie.getInheritableProperty)({dict:kn,key:"DA"})||En.acroForm.get("DA");this._defaultAppearance=typeof On=="string"?On:"",this.data.defaultAppearanceData=(0,Re.parseDefaultAppearance)(this._defaultAppearance)}setTitle(bn){this._title=this._parseStringHelper(bn)}setContents(bn){this._contents=this._parseStringHelper(bn)}setModificationDate(bn){this.modificationDate=typeof bn=="string"?bn:null}setFlags(bn){this.flags=Number.isInteger(bn)&&bn>0?bn:0}hasFlag(bn){return this._hasFlag(this.flags,bn)}setRectangle(bn){this.rectangle=Array.isArray(bn)&&bn.length===4?xe.Util.normalizeRect(bn):[0,0,0,0]}setColor(bn){this.color=Qe(bn)}setLineEndings(bn){if(this.lineEndings=["None","None"],Array.isArray(bn)&&bn.length===2)for(let kn=0;kn<2;kn++){const En=bn[kn];if(En instanceof e.Name)switch(En.name){case"None":continue;case"Square":case"Circle":case"Diamond":case"OpenArrow":case"ClosedArrow":case"Butt":case"ROpenArrow":case"RClosedArrow":case"Slash":this.lineEndings[kn]=En.name;continue}(0,xe.warn)(`Ignoring invalid lineEnding: ${En}`)}}setRotation(bn,kn){this.rotation=0;let En=bn instanceof e.Dict?bn.get("R")||0:kn.get("Rotate")||0;Number.isInteger(En)&&En!==0&&(En%=360,En<0&&(En+=360),En%90===0&&(this.rotation=En))}setBorderAndBackgroundColors(bn){bn instanceof e.Dict?(this.borderColor=Qe(bn.getArray("BC"),null),this.backgroundColor=Qe(bn.getArray("BG"),null)):this.borderColor=this.backgroundColor=null}setBorderStyle(bn){if(this.borderStyle=new fn,bn instanceof e.Dict)if(bn.has("BS")){const kn=bn.get("BS"),En=kn.get("Type");(!En||(0,e.isName)(En,"Border"))&&(this.borderStyle.setWidth(kn.get("W"),this.rectangle),this.borderStyle.setStyle(kn.get("S")),this.borderStyle.setDashArray(kn.getArray("D")))}else if(bn.has("Border")){const kn=bn.getArray("Border");Array.isArray(kn)&&kn.length>=3&&(this.borderStyle.setHorizontalCornerRadius(kn[0]),this.borderStyle.setVerticalCornerRadius(kn[1]),this.borderStyle.setWidth(kn[2],this.rectangle),kn.length===4&&this.borderStyle.setDashArray(kn[3],!0))}else this.borderStyle.setWidth(0)}setAppearance(bn){this.appearance=null;const kn=bn.get("AP");if(!(kn instanceof e.Dict))return;const En=kn.get("N");if(En instanceof Te.BaseStream){this.appearance=En;return}if(!(En instanceof e.Dict))return;const On=bn.get("AS");if(!(On instanceof e.Name)||!En.has(On.name))return;const Mn=En.get(On.name);Mn instanceof Te.BaseStream&&(this.appearance=Mn)}setOptionalContent(bn){this.oc=null;const kn=bn.get("OC");kn instanceof e.Name?(0,xe.warn)("setOptionalContent: Support for /Name-entry is not implemented."):kn instanceof e.Dict&&(this.oc=kn)}loadResources(bn,kn){return kn.dict.getAsync("Resources").then(En=>En?new Oe.ObjectLoader(En,bn,En.xref).load().then(function(){return En}):void 0)}async getOperatorList(bn,kn,En,On,Mn){const Bn=this.data;let Hn=this.appearance;const $n=!!(this.data.hasOwnCanvas&&En&xe.RenderingIntentFlag.DISPLAY);if(!Hn){if(!$n)return{opList:new Ce.OperatorList,separateForm:!1,separateCanvas:!1};Hn=new t.StringStream(""),Hn.dict=new e.Dict}const Un=Hn.dict,qn=await this.loadResources(["ExtGState","ColorSpace","Pattern","Shading","XObject","Font"],Hn),jn=Un.getArray("BBox")||[0,0,1,1],Xn=Un.getArray("Matrix")||[1,0,0,1,0,0],Gn=pn(Bn.rect,jn,Xn),ri=new Ce.OperatorList;let ui;return this.oc&&(ui=await bn.parseMarkedContentProps(this.oc,null)),ui!==void 0&&ri.addOp(xe.OPS.beginMarkedContentProps,["OC",ui]),ri.addOp(xe.OPS.beginAnnotation,[Bn.id,Bn.rect,Gn,Xn,$n]),await bn.getOperatorList({stream:Hn,task:kn,resources:qn,operatorList:ri,fallbackFontDict:this._fallbackFontDict}),ri.addOp(xe.OPS.endAnnotation,[]),ui!==void 0&&ri.addOp(xe.OPS.endMarkedContent,[]),this.reset(),{opList:ri,separateForm:!1,separateCanvas:$n}}async save(bn,kn,En){return null}get hasTextContent(){return!1}async extractTextContent(bn,kn,En){if(!this.appearance)return;const On=await this.loadResources(["ExtGState","Font","Properties","XObject"],this.appearance),Mn=[],Bn=[];let Hn=null;const $n={desiredSize:Math.Infinity,ready:!0,enqueue(Un,qn){for(const jn of Un.items)jn.str!==void 0&&(Hn||=jn.transform.slice(-2),Bn.push(jn.str),jn.hasEOL&&(Mn.push(Bn.join("")),Bn.length=0))}};if(await bn.getTextContent({stream:this.appearance,task:kn,resources:On,includeMarkedContent:!0,sink:$n,viewBox:En}),this.reset(),Bn.length&&Mn.push(Bn.join("")),Mn.length>1||Mn[0]){const Un=this.appearance.dict,qn=Un.getArray("BBox")||[0,0,1,1],jn=Un.getArray("Matrix")||[1,0,0,1,0,0],Xn=this.data.rect,Gn=pn(Xn,qn,jn);Gn[4]-=Xn[0],Gn[5]-=Xn[1],Hn=xe.Util.applyTransform(Hn,Gn),Hn=xe.Util.applyTransform(Hn,jn),this.data.textPosition=Hn,this.data.textContent=Mn}}getFieldObject(){return this.data.kidIds?{id:this.data.id,actions:this.data.actions,name:this.data.fieldName,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,type:"",kidIds:this.data.kidIds,page:this.data.pageIndex,rotation:this.rotation}:null}reset(){for(const bn of this._streams)bn.reset()}_constructFieldName(bn){if(!bn.has("T")&&!bn.has("Parent"))return(0,xe.warn)("Unknown field name, falling back to empty field name."),"";if(!bn.has("Parent"))return(0,xe.stringToPDFString)(bn.get("T"));const kn=[];bn.has("T")&&kn.unshift((0,xe.stringToPDFString)(bn.get("T")));let En=bn;const On=new e.RefSet;for(bn.objId&&On.put(bn.objId);En.has("Parent")&&(En=En.get("Parent"),!(!(En instanceof e.Dict)||En.objId&&On.has(En.objId)));)En.objId&&On.put(En.objId),En.has("T")&&kn.unshift((0,xe.stringToPDFString)(En.get("T")));return kn.join(".")}}_e.Annotation=Xe;class fn{constructor(){this.width=1,this.style=xe.AnnotationBorderStyleType.SOLID,this.dashArray=[3],this.horizontalCornerRadius=0,this.verticalCornerRadius=0}setWidth(bn,kn=[0,0,0,0]){if(bn instanceof e.Name){this.width=0;return}if(typeof bn=="number"){if(bn>0){const En=(kn[2]-kn[0])/2,On=(kn[3]-kn[1])/2;En>0&&On>0&&(bn>En||bn>On)&&((0,xe.warn)(`AnnotationBorderStyle.setWidth - ignoring width: ${bn}`),bn=1)}this.width=bn}}setStyle(bn){if(bn instanceof e.Name)switch(bn.name){case"S":this.style=xe.AnnotationBorderStyleType.SOLID;break;case"D":this.style=xe.AnnotationBorderStyleType.DASHED;break;case"B":this.style=xe.AnnotationBorderStyleType.BEVELED;break;case"I":this.style=xe.AnnotationBorderStyleType.INSET;break;case"U":this.style=xe.AnnotationBorderStyleType.UNDERLINE;break}}setDashArray(bn,kn=!1){if(Array.isArray(bn)&&bn.length>0){let En=!0,On=!0;for(const Mn of bn)if(+Mn>=0)Mn>0&&(On=!1);else{En=!1;break}En&&!On?(this.dashArray=bn,kn&&this.setStyle(e.Name.get("D"))):this.width=0}else bn&&(this.width=0)}setHorizontalCornerRadius(bn){Number.isInteger(bn)&&(this.horizontalCornerRadius=bn)}setVerticalCornerRadius(bn){Number.isInteger(bn)&&(this.verticalCornerRadius=bn)}}_e.AnnotationBorderStyle=fn;class dn extends Xe{constructor(bn){super(bn);const{dict:kn}=bn;if(kn.has("IRT")){const On=kn.getRaw("IRT");this.data.inReplyTo=On instanceof e.Ref?On.toString():null;const Mn=kn.get("RT");this.data.replyType=Mn instanceof e.Name?Mn.name:xe.AnnotationReplyType.REPLY}let En=null;if(this.data.replyType===xe.AnnotationReplyType.GROUP){const On=kn.get("IRT");this.setTitle(On.get("T")),this.data.titleObj=this._title,this.setContents(On.get("Contents")),this.data.contentsObj=this._contents,On.has("CreationDate")?(this.setCreationDate(On.get("CreationDate")),this.data.creationDate=this.creationDate):this.data.creationDate=null,On.has("M")?(this.setModificationDate(On.get("M")),this.data.modificationDate=this.modificationDate):this.data.modificationDate=null,En=On.getRaw("Popup"),On.has("C")?(this.setColor(On.getArray("C")),this.data.color=this.color):this.data.color=null}else this.data.titleObj=this._title,this.setCreationDate(kn.get("CreationDate")),this.data.creationDate=this.creationDate,En=kn.getRaw("Popup"),kn.has("C")||(this.data.color=null);this.data.popupRef=En instanceof e.Ref?En.toString():null,kn.has("RC")&&(this.data.richText=rn.XFAFactory.getRichTextAsHtml(kn.get("RC")))}setCreationDate(bn){this.creationDate=typeof bn=="string"?bn:null}_setDefaultAppearance({xref:bn,extra:kn,strokeColor:En,fillColor:On,blendMode:Mn,strokeAlpha:Bn,fillAlpha:Hn,pointsCallback:$n}){let Un=Number.MAX_VALUE,qn=Number.MAX_VALUE,jn=Number.MIN_VALUE,Xn=Number.MIN_VALUE;const Gn=["q"];kn&&Gn.push(kn),En&&Gn.push(`${En[0]} ${En[1]} ${En[2]} RG`),On&&Gn.push(`${On[0]} ${On[1]} ${On[2]} rg`);let ri=this.data.quadPoints;ri||(ri=[[{x:this.rectangle[0],y:this.rectangle[3]},{x:this.rectangle[2],y:this.rectangle[3]},{x:this.rectangle[0],y:this.rectangle[1]},{x:this.rectangle[2],y:this.rectangle[1]}]]);for(const si of ri){const[ai,li,Ei,$i]=$n(Gn,si);Un=Math.min(Un,ai),jn=Math.max(jn,li),qn=Math.min(qn,Ei),Xn=Math.max(Xn,$i)}Gn.push("Q");const ui=new e.Dict(bn),ti=new e.Dict(bn);ti.set("Subtype",e.Name.get("Form"));const Yn=new t.StringStream(Gn.join(" "));Yn.dict=ti,ui.set("Fm0",Yn);const Qn=new e.Dict(bn);Mn&&Qn.set("BM",e.Name.get(Mn)),typeof Bn=="number"&&Qn.set("CA",Bn),typeof Hn=="number"&&Qn.set("ca",Hn);const ci=new e.Dict(bn);ci.set("GS0",Qn);const pi=new e.Dict(bn);pi.set("ExtGState",ci),pi.set("XObject",ui);const ki=new e.Dict(bn);ki.set("Resources",pi);const hi=this.data.rect=[Un,qn,jn,Xn];ki.set("BBox",hi),this.appearance=new t.StringStream("/GS0 gs /Fm0 Do"),this.appearance.dict=ki,this._streams.push(this.appearance,Yn)}static async createNewAnnotation(bn,kn,En,On){const Mn=kn.ref||=bn.getNewTemporaryRef(),Bn=await this.createNewAppearanceStream(kn,bn,On),Hn=[];let $n;if(Bn){const Un=bn.getNewTemporaryRef();$n=this.createNewDict(kn,bn,{apRef:Un}),await(0,St.writeObject)(Un,Bn,Hn,bn),En.push({ref:Un,data:Hn.join("")})}else $n=this.createNewDict(kn,bn,{});return Number.isInteger(kn.parentTreeId)&&$n.set("StructParent",kn.parentTreeId),Hn.length=0,await(0,St.writeObject)(Mn,$n,Hn,bn),{ref:Mn,data:Hn.join("")}}static async createNewPrintAnnotation(bn,kn,En,On){const Mn=await this.createNewAppearanceStream(En,kn,On),Bn=this.createNewDict(En,kn,{ap:Mn}),Hn=new this.prototype.constructor({dict:Bn,xref:kn,annotationGlobals:bn,evaluatorOptions:On.evaluatorOptions});return En.ref&&(Hn.ref=Hn.refToReplace=En.ref),Hn}}_e.MarkupAnnotation=dn;class qe extends Xe{constructor(bn){super(bn);const{dict:kn,xref:En,annotationGlobals:On}=bn,Mn=this.data;this._needAppearances=bn.needAppearances,Mn.annotationType=xe.AnnotationType.WIDGET,Mn.fieldName===void 0&&(Mn.fieldName=this._constructFieldName(kn)),Mn.actions===void 0&&(Mn.actions=(0,Ie.collectActions)(En,kn,xe.AnnotationActionEventType));let Bn=(0,Ie.getInheritableProperty)({dict:kn,key:"V",getArray:!0});Mn.fieldValue=this._decodeFormValue(Bn);const Hn=(0,Ie.getInheritableProperty)({dict:kn,key:"DV",getArray:!0});if(Mn.defaultFieldValue=this._decodeFormValue(Hn),Bn===void 0&&On.xfaDatasets){const Xn=this._title.str;Xn&&(this._hasValueFromXFA=!0,Mn.fieldValue=Bn=On.xfaDatasets.getValue(Xn))}Bn===void 0&&Mn.defaultFieldValue!==null&&(Mn.fieldValue=Mn.defaultFieldValue),Mn.alternativeText=(0,xe.stringToPDFString)(kn.get("TU")||""),this.setDefaultAppearance(bn),Mn.hasAppearance||=this._needAppearances&&Mn.fieldValue!==void 0&&Mn.fieldValue!==null;const $n=(0,Ie.getInheritableProperty)({dict:kn,key:"FT"});Mn.fieldType=$n instanceof e.Name?$n.name:null;const Un=(0,Ie.getInheritableProperty)({dict:kn,key:"DR"}),qn=On.acroForm.get("DR"),jn=this.appearance?.dict.get("Resources");this._fieldResources={localResources:Un,acroFormResources:qn,appearanceResources:jn,mergedResources:e.Dict.merge({xref:En,dictArray:[Un,jn,qn],mergeSubDicts:!0})},Mn.fieldFlags=(0,Ie.getInheritableProperty)({dict:kn,key:"Ff"}),(!Number.isInteger(Mn.fieldFlags)||Mn.fieldFlags<0)&&(Mn.fieldFlags=0),Mn.readOnly=this.hasFieldFlag(xe.AnnotationFieldFlag.READONLY),Mn.required=this.hasFieldFlag(xe.AnnotationFieldFlag.REQUIRED),Mn.hidden=this._hasFlag(Mn.annotationFlags,xe.AnnotationFlag.HIDDEN)||this._hasFlag(Mn.annotationFlags,xe.AnnotationFlag.NOVIEW)}_decodeFormValue(bn){return Array.isArray(bn)?bn.filter(kn=>typeof kn=="string").map(kn=>(0,xe.stringToPDFString)(kn)):bn instanceof e.Name?(0,xe.stringToPDFString)(bn.name):typeof bn=="string"?(0,xe.stringToPDFString)(bn):null}hasFieldFlag(bn){return!!(this.data.fieldFlags&bn)}_isViewable(bn){return!this._hasFlag(bn,xe.AnnotationFlag.INVISIBLE)}mustBeViewed(bn,kn){return kn?this.viewable:super.mustBeViewed(bn,kn)&&!this._hasFlag(this.flags,xe.AnnotationFlag.NOVIEW)}getRotationMatrix(bn){let kn=bn?.get(this.data.id)?.rotation;if(kn===void 0&&(kn=this.rotation),kn===0)return xe.IDENTITY_MATRIX;const En=this.data.rect[2]-this.data.rect[0],On=this.data.rect[3]-this.data.rect[1];return(0,Ie.getRotationMatrix)(kn,En,On)}getBorderAndBackgroundAppearances(bn){let kn=bn?.get(this.data.id)?.rotation;if(kn===void 0&&(kn=this.rotation),!this.backgroundColor&&!this.borderColor)return"";const En=this.data.rect[2]-this.data.rect[0],On=this.data.rect[3]-this.data.rect[1],Mn=kn===0||kn===180?`0 0 ${En} ${On} re`:`0 0 ${On} ${En} re`;let Bn="";if(this.backgroundColor&&(Bn=`${(0,Re.getPdfColor)(this.backgroundColor,!0)} ${Mn} f `),this.borderColor){const Hn=this.borderStyle.width||1;Bn+=`${Hn} w ${(0,Re.getPdfColor)(this.borderColor,!1)} ${Mn} S `}return Bn}async getOperatorList(bn,kn,En,On,Mn){if(On&&!(this instanceof Ue)&&!this.data.noHTML&&!this.data.hasOwnCanvas)return{opList:new Ce.OperatorList,separateForm:!0,separateCanvas:!1};if(!this._hasText)return super.getOperatorList(bn,kn,En,On,Mn);const Bn=await this._getAppearance(bn,kn,En,Mn);if(this.appearance&&Bn===null)return super.getOperatorList(bn,kn,En,On,Mn);const Hn=new Ce.OperatorList;if(!this._defaultAppearance||Bn===null)return{opList:Hn,separateForm:!1,separateCanvas:!1};const $n=!!(this.data.hasOwnCanvas&&En&xe.RenderingIntentFlag.DISPLAY),Un=[1,0,0,1,0,0],qn=[0,0,this.data.rect[2]-this.data.rect[0],this.data.rect[3]-this.data.rect[1]],jn=pn(this.data.rect,qn,Un);let Xn;this.oc&&(Xn=await bn.parseMarkedContentProps(this.oc,null)),Xn!==void 0&&Hn.addOp(xe.OPS.beginMarkedContentProps,["OC",Xn]),Hn.addOp(xe.OPS.beginAnnotation,[this.data.id,this.data.rect,jn,this.getRotationMatrix(Mn),$n]);const Gn=new t.StringStream(Bn);return await bn.getOperatorList({stream:Gn,task:kn,resources:this._fieldResources.mergedResources,operatorList:Hn}),Hn.addOp(xe.OPS.endAnnotation,[]),Xn!==void 0&&Hn.addOp(xe.OPS.endMarkedContent,[]),{opList:Hn,separateForm:!1,separateCanvas:$n}}_getMKDict(bn){const kn=new e.Dict(null);return bn&&kn.set("R",bn),this.borderColor&&kn.set("BC",hn(this.borderColor)),this.backgroundColor&&kn.set("BG",hn(this.backgroundColor)),kn.size>0?kn:null}amendSavedDict(bn,kn){}async save(bn,kn,En){const On=En?.get(this.data.id);let Mn=On?.value,Bn=On?.rotation;if(Mn===this.data.fieldValue||Mn===void 0){if(!this._hasValueFromXFA&&Bn===void 0)return null;Mn||=this.data.fieldValue}if(Bn===void 0&&!this._hasValueFromXFA&&Array.isArray(Mn)&&Array.isArray(this.data.fieldValue)&&Mn.length===this.data.fieldValue.length&&Mn.every((Yn,Qn)=>Yn===this.data.fieldValue[Qn]))return null;Bn===void 0&&(Bn=this.rotation);let Hn=null;if(!this._needAppearances&&(Hn=await this._getAppearance(bn,kn,xe.RenderingIntentFlag.SAVE,En),Hn===null))return null;let $n=!1;Hn?.needAppearances&&($n=!0,Hn=null);const{xref:Un}=bn,qn=Un.fetchIfRef(this.ref);if(!(qn instanceof e.Dict))return null;const jn=new e.Dict(Un);for(const Yn of qn.getKeys())Yn!=="AP"&&jn.set(Yn,qn.getRaw(Yn));const Xn={path:this.data.fieldName,value:Mn},Gn=Yn=>(0,Ie.isAscii)(Yn)?Yn:(0,Ie.stringToUTF16String)(Yn,!0);jn.set("V",Array.isArray(Mn)?Mn.map(Gn):Gn(Mn)),this.amendSavedDict(En,jn);const ri=this._getMKDict(Bn);ri&&jn.set("MK",ri);const ui=[],ti=[{ref:this.ref,data:"",xfa:Xn,needAppearances:$n}];if(Hn!==null){const Yn=Un.getNewTemporaryRef(),Qn=new e.Dict(Un);jn.set("AP",Qn),Qn.set("N",Yn);const ci=this._getSaveFieldResources(Un),pi=new t.StringStream(Hn),ki=pi.dict=new e.Dict(Un);ki.set("Subtype",e.Name.get("Form")),ki.set("Resources",ci),ki.set("BBox",[0,0,this.data.rect[2]-this.data.rect[0],this.data.rect[3]-this.data.rect[1]]);const hi=this.getRotationMatrix(En);hi!==xe.IDENTITY_MATRIX&&ki.set("Matrix",hi),await(0,St.writeObject)(Yn,pi,ui,Un),ti.push({ref:Yn,data:ui.join(""),xfa:null,needAppearances:!1}),ui.length=0}return jn.set("M",`D:${(0,xe.getModificationDate)()}`),await(0,St.writeObject)(this.ref,jn,ui,Un),ti[0].data=ui.join(""),ti}async _getAppearance(bn,kn,En,On){if(this.hasFieldFlag(xe.AnnotationFieldFlag.PASSWORD))return null;const Bn=On?.get(this.data.id);let Hn,$n;if(Bn&&(Hn=Bn.formattedValue||Bn.value,$n=Bn.rotation),$n===void 0&&Hn===void 0&&!this._needAppearances&&(!this._hasValueFromXFA||this.appearance))return null;const Un=this.getBorderAndBackgroundAppearances(On);if(Hn===void 0&&(Hn=this.data.fieldValue,!Hn))return`/Tx BMC q ${Un}Q EMC`;if(Array.isArray(Hn)&&Hn.length===1&&(Hn=Hn[0]),(0,xe.assert)(typeof Hn=="string","Expected `value` to be a string."),Hn=Hn.trim(),this.data.combo&&(Hn=this.data.options.find(({exportValue:fr})=>Hn===fr)?.displayValue||Hn),Hn==="")return`/Tx BMC q ${Un}Q EMC`;$n===void 0&&($n=this.rotation);let qn=-1,jn;this.data.multiLine?(jn=Hn.split(/\r\n?|\n/).map(Qi=>Qi.normalize("NFC")),qn=jn.length):jn=[Hn.replace(/\r\n?|\n/,"").normalize("NFC")];const Xn=1,Gn=2;let ri=this.data.rect[3]-this.data.rect[1],ui=this.data.rect[2]-this.data.rect[0];($n===90||$n===270)&&([ui,ri]=[ri,ui]),this._defaultAppearance||(this.data.defaultAppearanceData=(0,Re.parseDefaultAppearance)(this._defaultAppearance="/Helvetica 0 Tf 0 g"));let ti=await qe._getFontData(bn,kn,this.data.defaultAppearanceData,this._fieldResources.mergedResources),Yn,Qn,ci;const pi=[];let ki=!1;for(const Qi of jn){const fr=ti.encodeString(Qi);fr.length>1&&(ki=!0),pi.push(fr.join(""))}if(ki&&En&xe.RenderingIntentFlag.SAVE)return{needAppearances:!0};if(ki&&this._isOffscreenCanvasSupported){const Qi=this.data.comb?"monospace":"sans-serif",fr=new Re.FakeUnicodeFont(bn.xref,Qi),ar=fr.createFontResources(jn.join("")),Ii=ar.getRaw("Font");if(this._fieldResources.mergedResources.has("Font")){const dr=this._fieldResources.mergedResources.get("Font");for(const Xi of Ii.getKeys())dr.set(Xi,Ii.getRaw(Xi))}else this._fieldResources.mergedResources.set("Font",Ii);const vi=fr.fontName.name;ti=await qe._getFontData(bn,kn,{fontName:vi,fontSize:0},ar);for(let dr=0,Xi=pi.length;dr<Xi;dr++)pi[dr]=(0,Ie.stringToUTF16String)(jn[dr]);const rr=Object.assign(Object.create(null),this.data.defaultAppearanceData);this.data.defaultAppearanceData.fontSize=0,this.data.defaultAppearanceData.fontName=vi,[Yn,Qn,ci]=this._computeFontSize(ri-2*Xn,ui-2*Gn,Hn,ti,qn),this.data.defaultAppearanceData=rr}else this._isOffscreenCanvasSupported||(0,xe.warn)("_getAppearance: OffscreenCanvas is not supported, annotation may not render correctly."),[Yn,Qn,ci]=this._computeFontSize(ri-2*Xn,ui-2*Gn,Hn,ti,qn);let hi=ti.descent;isNaN(hi)?hi=xe.BASELINE_FACTOR*ci:hi=Math.max(xe.BASELINE_FACTOR*ci,Math.abs(hi)*Qn);const si=Math.min(Math.floor((ri-Qn)/2),Xn),ai=this.data.textAlignment;if(this.data.multiLine)return this._getMultilineAppearance(Yn,pi,ti,Qn,ui,ri,ai,Gn,si,hi,ci,On);if(this.data.comb)return this._getCombAppearance(Yn,ti,pi[0],Qn,ui,ri,Gn,si,hi,ci,On);const li=si+hi;if(ai===0||ai>2)return`/Tx BMC q ${Un}BT `+Yn+` 1 0 0 1 ${(0,Ie.numberToString)(Gn)} ${(0,Ie.numberToString)(li)} Tm (${(0,Ie.escapeString)(pi[0])}) Tj ET Q EMC`;const Ei={shift:0},$i=this._renderText(pi[0],ti,Qn,ui,ai,Ei,Gn,li);return`/Tx BMC q ${Un}BT `+Yn+` 1 0 0 1 0 0 Tm ${$i} ET Q EMC`}static async _getFontData(bn,kn,En,On){const Mn=new Ce.OperatorList,Bn={font:null,clone(){return this}},{fontName:Hn,fontSize:$n}=En;return await bn.handleSetFont(On,[Hn&&e.Name.get(Hn),$n],null,Mn,kn,Bn,null),Bn.font}_getTextWidth(bn,kn){return kn.charsToGlyphs(bn).reduce((En,On)=>En+On.width,0)/1e3}_computeFontSize(bn,kn,En,On,Mn){let{fontSize:Bn}=this.data.defaultAppearanceData,Hn=(Bn||12)*xe.LINE_FACTOR,$n=Math.round(bn/Hn);if(!Bn){const Un=Xn=>Math.floor(Xn*100)/100;if(Mn===-1){const Xn=this._getTextWidth(En,On);Bn=Un(Math.min(bn/xe.LINE_FACTOR,Xn>kn?kn/Xn:1/0)),$n=1}else{const Xn=En.split(/\r\n?|\n/),Gn=[];for(const ui of Xn){const ti=On.encodeString(ui).join(""),Yn=On.charsToGlyphs(ti),Qn=On.getCharPositions(ti);Gn.push({line:ti,glyphs:Yn,positions:Qn})}const ri=ui=>{let ti=0;for(const Yn of Gn){const Qn=this._splitLine(null,On,ui,kn,Yn);if(ti+=Qn.length*ui,ti>bn)return!0}return!1};for($n=Math.max($n,Mn);;){if(Hn=bn/$n,Bn=Un(Hn/xe.LINE_FACTOR),ri(Bn)){$n++;continue}break}}const{fontName:qn,fontColor:jn}=this.data.defaultAppearanceData;this._defaultAppearance=(0,Re.createDefaultAppearance)({fontSize:Bn,fontName:qn,fontColor:jn})}return[this._defaultAppearance,Bn,bn/$n]}_renderText(bn,kn,En,On,Mn,Bn,Hn,$n){let Un;if(Mn===1){const jn=this._getTextWidth(bn,kn)*En;Un=(On-jn)/2}else if(Mn===2){const jn=this._getTextWidth(bn,kn)*En;Un=On-jn-Hn}else Un=Hn;const qn=(0,Ie.numberToString)(Un-Bn.shift);return Bn.shift=Un,$n=(0,Ie.numberToString)($n),`${qn} ${$n} Td (${(0,Ie.escapeString)(bn)}) Tj`}_getSaveFieldResources(bn){const{localResources:kn,appearanceResources:En,acroFormResources:On}=this._fieldResources,Mn=this.data.defaultAppearanceData?.fontName;if(!Mn)return kn||e.Dict.empty;for(const Bn of[kn,En])if(Bn instanceof e.Dict){const Hn=Bn.get("Font");if(Hn instanceof e.Dict&&Hn.has(Mn))return Bn}if(On instanceof e.Dict){const Bn=On.get("Font");if(Bn instanceof e.Dict&&Bn.has(Mn)){const Hn=new e.Dict(bn);Hn.set(Mn,Bn.getRaw(Mn));const $n=new e.Dict(bn);return $n.set("Font",Hn),e.Dict.merge({xref:bn,dictArray:[$n,kn],mergeSubDicts:!0})}}return kn||e.Dict.empty}getFieldObject(){return null}}class tn extends qe{constructor(bn){super(bn),this.data.hasOwnCanvas=this.data.readOnly&&!this.data.noHTML,this._hasText=!0;const kn=bn.dict;typeof this.data.fieldValue!="string"&&(this.data.fieldValue="");let En=(0,Ie.getInheritableProperty)({dict:kn,key:"Q"});(!Number.isInteger(En)||En<0||En>2)&&(En=null),this.data.textAlignment=En;let On=(0,Ie.getInheritableProperty)({dict:kn,key:"MaxLen"});(!Number.isInteger(On)||On<0)&&(On=0),this.data.maxLen=On,this.data.multiLine=this.hasFieldFlag(xe.AnnotationFieldFlag.MULTILINE),this.data.comb=this.hasFieldFlag(xe.AnnotationFieldFlag.COMB)&&!this.hasFieldFlag(xe.AnnotationFieldFlag.MULTILINE)&&!this.hasFieldFlag(xe.AnnotationFieldFlag.PASSWORD)&&!this.hasFieldFlag(xe.AnnotationFieldFlag.FILESELECT)&&this.data.maxLen!==0,this.data.doNotScroll=this.hasFieldFlag(xe.AnnotationFieldFlag.DONOTSCROLL)}get hasTextContent(){return!!this.appearance&&!this._needAppearances}_getCombAppearance(bn,kn,En,On,Mn,Bn,Hn,$n,Un,qn,jn){const Xn=Mn/this.data.maxLen,Gn=this.getBorderAndBackgroundAppearances(jn),ri=[],ui=kn.getCharPositions(En);for(const[Yn,Qn]of ui)ri.push(`(${(0,Ie.escapeString)(En.substring(Yn,Qn))}) Tj`);const ti=ri.join(` ${(0,Ie.numberToString)(Xn)} 0 Td `);return`/Tx BMC q ${Gn}BT `+bn+` 1 0 0 1 ${(0,Ie.numberToString)(Hn)} ${(0,Ie.numberToString)($n+Un)} Tm ${ti} ET Q EMC`}_getMultilineAppearance(bn,kn,En,On,Mn,Bn,Hn,$n,Un,qn,jn,Xn){const Gn=[],ri=Mn-2*$n,ui={shift:0};for(let Qn=0,ci=kn.length;Qn<ci;Qn++){const pi=kn[Qn],ki=this._splitLine(pi,En,On,ri);for(let hi=0,si=ki.length;hi<si;hi++){const ai=ki[hi],li=Qn===0&&hi===0?-Un-(jn-qn):-jn;Gn.push(this._renderText(ai,En,On,Mn,Hn,ui,$n,li))}}const ti=this.getBorderAndBackgroundAppearances(Xn),Yn=Gn.join(`
`);return`/Tx BMC q ${ti}BT `+bn+` 1 0 0 1 0 ${(0,Ie.numberToString)(Bn)} Tm ${Yn} ET Q EMC`}_splitLine(bn,kn,En,On,Mn={}){bn=Mn.line||bn;const Bn=Mn.glyphs||kn.charsToGlyphs(bn);if(Bn.length<=1)return[bn];const Hn=Mn.positions||kn.getCharPositions(bn),$n=En/1e3,Un=[];let qn=-1,jn=-1,Xn=-1,Gn=0,ri=0;for(let ui=0,ti=Bn.length;ui<ti;ui++){const[Yn,Qn]=Hn[ui],ci=Bn[ui],pi=ci.width*$n;ci.unicode===" "?ri+pi>On?(Un.push(bn.substring(Gn,Yn)),Gn=Yn,ri=pi,qn=-1,Xn=-1):(ri+=pi,qn=Yn,jn=Qn,Xn=ui):ri+pi>On?qn!==-1?(Un.push(bn.substring(Gn,jn)),Gn=jn,ui=Xn+1,qn=-1,ri=0):(Un.push(bn.substring(Gn,Yn)),Gn=Yn,ri=pi):ri+=pi}return Gn<bn.length&&Un.push(bn.substring(Gn,bn.length)),Un}getFieldObject(){return{id:this.data.id,value:this.data.fieldValue,defaultValue:this.data.defaultFieldValue||"",multiline:this.data.multiLine,password:this.hasFieldFlag(xe.AnnotationFieldFlag.PASSWORD),charLimit:this.data.maxLen,comb:this.data.comb,editable:!this.data.readOnly,hidden:this.data.hidden,name:this.data.fieldName,rect:this.data.rect,actions:this.data.actions,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:"text"}}}class Me extends qe{constructor(bn){super(bn),this.checkedAppearance=null,this.uncheckedAppearance=null,this.data.checkBox=!this.hasFieldFlag(xe.AnnotationFieldFlag.RADIO)&&!this.hasFieldFlag(xe.AnnotationFieldFlag.PUSHBUTTON),this.data.radioButton=this.hasFieldFlag(xe.AnnotationFieldFlag.RADIO)&&!this.hasFieldFlag(xe.AnnotationFieldFlag.PUSHBUTTON),this.data.pushButton=this.hasFieldFlag(xe.AnnotationFieldFlag.PUSHBUTTON),this.data.isTooltipOnly=!1,this.data.checkBox?this._processCheckBox(bn):this.data.radioButton?this._processRadioButton(bn):this.data.pushButton?(this.data.hasOwnCanvas=!0,this._processPushButton(bn)):(0,xe.warn)("Invalid field flags for button widget annotation")}async getOperatorList(bn,kn,En,On,Mn){if(this.data.pushButton)return super.getOperatorList(bn,kn,En,!1,Mn);let Bn=null,Hn=null;if(Mn){const Un=Mn.get(this.data.id);Bn=Un?Un.value:null,Hn=Un?Un.rotation:null}if(Bn===null&&this.appearance)return super.getOperatorList(bn,kn,En,On,Mn);Bn==null&&(Bn=this.data.checkBox?this.data.fieldValue===this.data.exportValue:this.data.fieldValue===this.data.buttonValue);const $n=Bn?this.checkedAppearance:this.uncheckedAppearance;if($n){const Un=this.appearance,qn=$n.dict.getArray("Matrix")||xe.IDENTITY_MATRIX;Hn&&$n.dict.set("Matrix",this.getRotationMatrix(Mn)),this.appearance=$n;const jn=super.getOperatorList(bn,kn,En,On,Mn);return this.appearance=Un,$n.dict.set("Matrix",qn),jn}return{opList:new Ce.OperatorList,separateForm:!1,separateCanvas:!1}}async save(bn,kn,En){return this.data.checkBox?this._saveCheckbox(bn,kn,En):this.data.radioButton?this._saveRadioButton(bn,kn,En):null}async _saveCheckbox(bn,kn,En){if(!En)return null;const On=En.get(this.data.id);let Mn=On?.rotation,Bn=On?.value;if(Mn===void 0&&(Bn===void 0||this.data.fieldValue===this.data.exportValue===Bn))return null;const Hn=bn.xref.fetchIfRef(this.ref);if(!(Hn instanceof e.Dict))return null;Mn===void 0&&(Mn=this.rotation),Bn===void 0&&(Bn=this.data.fieldValue===this.data.exportValue);const $n={path:this.data.fieldName,value:Bn?this.data.exportValue:""},Un=e.Name.get(Bn?this.data.exportValue:"Off");Hn.set("V",Un),Hn.set("AS",Un),Hn.set("M",`D:${(0,xe.getModificationDate)()}`);const qn=this._getMKDict(Mn);qn&&Hn.set("MK",qn);const jn=[];return await(0,St.writeObject)(this.ref,Hn,jn,bn.xref),[{ref:this.ref,data:jn.join(""),xfa:$n}]}async _saveRadioButton(bn,kn,En){if(!En)return null;const On=En.get(this.data.id);let Mn=On?.rotation,Bn=On?.value;if(Mn===void 0&&(Bn===void 0||this.data.fieldValue===this.data.buttonValue===Bn))return null;const Hn=bn.xref.fetchIfRef(this.ref);if(!(Hn instanceof e.Dict))return null;Bn===void 0&&(Bn=this.data.fieldValue===this.data.buttonValue),Mn===void 0&&(Mn=this.rotation);const $n={path:this.data.fieldName,value:Bn?this.data.buttonValue:""},Un=e.Name.get(Bn?this.data.buttonValue:"Off"),qn=[];let jn=null;if(Bn)if(this.parent instanceof e.Ref){const ri=bn.xref.fetch(this.parent);ri.set("V",Un),await(0,St.writeObject)(this.parent,ri,qn,bn.xref),jn=qn.join(""),qn.length=0}else this.parent instanceof e.Dict&&this.parent.set("V",Un);Hn.set("AS",Un),Hn.set("M",`D:${(0,xe.getModificationDate)()}`);const Xn=this._getMKDict(Mn);Xn&&Hn.set("MK",Xn),await(0,St.writeObject)(this.ref,Hn,qn,bn.xref);const Gn=[{ref:this.ref,data:qn.join(""),xfa:$n}];return jn&&Gn.push({ref:this.parent,data:jn,xfa:null}),Gn}_getDefaultCheckedAppearance(bn,kn){const En=this.data.rect[2]-this.data.rect[0],On=this.data.rect[3]-this.data.rect[1],Mn=[0,0,En,On],Hn=Math.min(En,On)*.8;let $n,Un;kn==="check"?($n={width:.755*Hn,height:.705*Hn},Un="3"):kn==="disc"?($n={width:.791*Hn,height:.705*Hn},Un="l"):(0,xe.unreachable)(`_getDefaultCheckedAppearance - unsupported type: ${kn}`);const qn=(0,Ie.numberToString)((En-$n.width)/2),jn=(0,Ie.numberToString)((On-$n.height)/2),Xn=`q BT /PdfJsZaDb ${Hn} Tf 0 g ${qn} ${jn} Td (${Un}) Tj ET Q`,Gn=new e.Dict(bn.xref);Gn.set("FormType",1),Gn.set("Subtype",e.Name.get("Form")),Gn.set("Type",e.Name.get("XObject")),Gn.set("BBox",Mn),Gn.set("Matrix",[1,0,0,1,0,0]),Gn.set("Length",Xn.length);const ri=new e.Dict(bn.xref),ui=new e.Dict(bn.xref);ui.set("PdfJsZaDb",this.fallbackFontDict),ri.set("Font",ui),Gn.set("Resources",ri),this.checkedAppearance=new t.StringStream(Xn),this.checkedAppearance.dict=Gn,this._streams.push(this.checkedAppearance)}_processCheckBox(bn){const kn=bn.dict.get("AP");if(!(kn instanceof e.Dict))return;const En=kn.get("N");if(!(En instanceof e.Dict))return;const On=this._decodeFormValue(bn.dict.get("AS"));typeof On=="string"&&(this.data.fieldValue=On);const Mn=this.data.fieldValue!==null&&this.data.fieldValue!=="Off"?this.data.fieldValue:"Yes",Bn=En.getKeys();if(Bn.length===0)Bn.push("Off",Mn);else if(Bn.length===1)Bn[0]==="Off"?Bn.push(Mn):Bn.unshift("Off");else if(Bn.includes(Mn))Bn.length=0,Bn.push("Off",Mn);else{const Un=Bn.find(qn=>qn!=="Off");Bn.length=0,Bn.push("Off",Un)}Bn.includes(this.data.fieldValue)||(this.data.fieldValue="Off"),this.data.exportValue=Bn[1];const Hn=En.get(this.data.exportValue);this.checkedAppearance=Hn instanceof Te.BaseStream?Hn:null;const $n=En.get("Off");this.uncheckedAppearance=$n instanceof Te.BaseStream?$n:null,this.checkedAppearance?this._streams.push(this.checkedAppearance):this._getDefaultCheckedAppearance(bn,"check"),this.uncheckedAppearance&&this._streams.push(this.uncheckedAppearance),this._fallbackFontDict=this.fallbackFontDict,this.data.defaultFieldValue===null&&(this.data.defaultFieldValue="Off")}_processRadioButton(bn){this.data.fieldValue=this.data.buttonValue=null;const kn=bn.dict.get("Parent");if(kn instanceof e.Dict){this.parent=bn.dict.getRaw("Parent");const Hn=kn.get("V");Hn instanceof e.Name&&(this.data.fieldValue=this._decodeFormValue(Hn))}const En=bn.dict.get("AP");if(!(En instanceof e.Dict))return;const On=En.get("N");if(!(On instanceof e.Dict))return;for(const Hn of On.getKeys())if(Hn!=="Off"){this.data.buttonValue=this._decodeFormValue(Hn);break}const Mn=On.get(this.data.buttonValue);this.checkedAppearance=Mn instanceof Te.BaseStream?Mn:null;const Bn=On.get("Off");this.uncheckedAppearance=Bn instanceof Te.BaseStream?Bn:null,this.checkedAppearance?this._streams.push(this.checkedAppearance):this._getDefaultCheckedAppearance(bn,"disc"),this.uncheckedAppearance&&this._streams.push(this.uncheckedAppearance),this._fallbackFontDict=this.fallbackFontDict,this.data.defaultFieldValue===null&&(this.data.defaultFieldValue="Off")}_processPushButton(bn){const{dict:kn,annotationGlobals:En}=bn;if(!kn.has("A")&&!kn.has("AA")&&!this.data.alternativeText){(0,xe.warn)("Push buttons without action dictionaries are not supported");return}this.data.isTooltipOnly=!kn.has("A")&&!kn.has("AA"),en.Catalog.parseDestDictionary({destDict:kn,resultObj:this.data,docBaseUrl:En.baseUrl,docAttachments:En.attachments})}getFieldObject(){let bn="button",kn;return this.data.checkBox?(bn="checkbox",kn=this.data.exportValue):this.data.radioButton&&(bn="radiobutton",kn=this.data.buttonValue),{id:this.data.id,value:this.data.fieldValue||"Off",defaultValue:this.data.defaultFieldValue,exportValues:kn,editable:!this.data.readOnly,name:this.data.fieldName,rect:this.data.rect,hidden:this.data.hidden,actions:this.data.actions,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:bn}}get fallbackFontDict(){const bn=new e.Dict;return bn.set("BaseFont",e.Name.get("ZapfDingbats")),bn.set("Type",e.Name.get("FallbackType")),bn.set("Subtype",e.Name.get("FallbackType")),bn.set("Encoding",e.Name.get("ZapfDingbatsEncoding")),(0,xe.shadow)(this,"fallbackFontDict",bn)}}class De extends qe{constructor(bn){super(bn);const{dict:kn,xref:En}=bn;this.indices=kn.getArray("I"),this.hasIndices=Array.isArray(this.indices)&&this.indices.length>0,this.data.options=[];const On=(0,Ie.getInheritableProperty)({dict:kn,key:"Opt"});if(Array.isArray(On))for(let Mn=0,Bn=On.length;Mn<Bn;Mn++){const Hn=En.fetchIfRef(On[Mn]),$n=Array.isArray(Hn);this.data.options[Mn]={exportValue:this._decodeFormValue($n?En.fetchIfRef(Hn[0]):Hn),displayValue:this._decodeFormValue($n?En.fetchIfRef(Hn[1]):Hn)}}if(!this.hasIndices)typeof this.data.fieldValue=="string"?this.data.fieldValue=[this.data.fieldValue]:this.data.fieldValue||(this.data.fieldValue=[]);else{this.data.fieldValue=[];const Mn=this.data.options.length;for(const Bn of this.indices)Number.isInteger(Bn)&&Bn>=0&&Bn<Mn&&this.data.fieldValue.push(this.data.options[Bn].exportValue)}this.data.combo=this.hasFieldFlag(xe.AnnotationFieldFlag.COMBO),this.data.multiSelect=this.hasFieldFlag(xe.AnnotationFieldFlag.MULTISELECT),this._hasText=!0}getFieldObject(){const bn=this.data.combo?"combobox":"listbox",kn=this.data.fieldValue.length>0?this.data.fieldValue[0]:null;return{id:this.data.id,value:kn,defaultValue:this.data.defaultFieldValue,editable:!this.data.readOnly,name:this.data.fieldName,rect:this.data.rect,numItems:this.data.fieldValue.length,multipleSelection:this.data.multiSelect,hidden:this.data.hidden,actions:this.data.actions,items:this.data.options,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:bn}}amendSavedDict(bn,kn){if(!this.hasIndices)return;let En=bn?.get(this.data.id)?.value;Array.isArray(En)||(En=[En]);const On=[],{options:Mn}=this.data;for(let Bn=0,Hn=0,$n=Mn.length;Bn<$n;Bn++)Mn[Bn].exportValue===En[Hn]&&(On.push(Bn),Hn+=1);kn.set("I",On)}async _getAppearance(bn,kn,En,On){if(this.data.combo)return super._getAppearance(bn,kn,En,On);let Mn,Bn;const Hn=On?.get(this.data.id);if(Hn&&(Bn=Hn.rotation,Mn=Hn.value),Bn===void 0&&Mn===void 0&&!this._needAppearances)return null;Mn===void 0?Mn=this.data.fieldValue:Array.isArray(Mn)||(Mn=[Mn]);const $n=1,Un=2;let qn=this.data.rect[3]-this.data.rect[1],jn=this.data.rect[2]-this.data.rect[0];(Bn===90||Bn===270)&&([jn,qn]=[qn,jn]);const Xn=this.data.options.length,Gn=[];for(let ai=0;ai<Xn;ai++){const{exportValue:li}=this.data.options[ai];Mn.includes(li)&&Gn.push(ai)}this._defaultAppearance||(this.data.defaultAppearanceData=(0,Re.parseDefaultAppearance)(this._defaultAppearance="/Helvetica 0 Tf 0 g"));const ri=await qe._getFontData(bn,kn,this.data.defaultAppearanceData,this._fieldResources.mergedResources);let ui,{fontSize:ti}=this.data.defaultAppearanceData;if(ti)ui=this._defaultAppearance;else{const ai=(qn-$n)/Xn;let li=-1,Ei;for(const{displayValue:$i}of this.data.options){const Qi=this._getTextWidth($i,ri);Qi>li&&(li=Qi,Ei=$i)}[ui,ti]=this._computeFontSize(ai,jn-2*Un,Ei,ri,-1)}const Yn=ti*xe.LINE_FACTOR,Qn=(Yn-ti)/2,ci=Math.floor(qn/Yn);let pi=0;if(Gn.length>0){const ai=Math.min(...Gn),li=Math.max(...Gn);pi=Math.max(0,li-ci+1),pi>ai&&(pi=ai)}const ki=Math.min(pi+ci+1,Xn),hi=["/Tx BMC q",`1 1 ${jn} ${qn} re W n`];if(Gn.length){hi.push("0.600006 0.756866 0.854904 rg");for(const ai of Gn)pi<=ai&&ai<ki&&hi.push(`1 ${qn-(ai-pi+1)*Yn} ${jn} ${Yn} re f`)}hi.push("BT",ui,`1 0 0 1 0 ${qn} Tm`);const si={shift:0};for(let ai=pi;ai<ki;ai++){const{displayValue:li}=this.data.options[ai],Ei=ai===pi?Qn:0;hi.push(this._renderText(li,ri,ti,jn,0,si,Un,-Yn+Ei))}return hi.push("ET Q EMC"),hi.join(`
`)}}class Ue extends qe{constructor(bn){super(bn),this.data.fieldValue=null,this.data.hasOwnCanvas=this.data.noRotate}getFieldObject(){return{id:this.data.id,value:null,page:this.data.pageIndex,type:"signature"}}}class We extends dn{constructor(bn){super(bn),this.data.noRotate=!0,this.data.hasOwnCanvas=this.data.noRotate;const{dict:En}=bn;this.data.annotationType=xe.AnnotationType.TEXT,this.data.hasAppearance?this.data.name="NoIcon":(this.data.rect[1]=this.data.rect[3]-22,this.data.rect[2]=this.data.rect[0]+22,this.data.name=En.has("Name")?En.get("Name").name:"Note"),En.has("State")?(this.data.state=En.get("State")||null,this.data.stateModel=En.get("StateModel")||null):(this.data.state=null,this.data.stateModel=null)}}class $e extends Xe{constructor(bn){super(bn);const{dict:kn,annotationGlobals:En}=bn;this.data.annotationType=xe.AnnotationType.LINK;const On=He(kn,this.rectangle);On&&(this.data.quadPoints=On),this.data.borderColor||=this.data.color,en.Catalog.parseDestDictionary({destDict:kn,resultObj:this.data,docBaseUrl:En.baseUrl,docAttachments:En.attachments})}}class on extends Xe{constructor(bn){super(bn);const{dict:kn}=bn;this.data.annotationType=xe.AnnotationType.POPUP,(this.data.rect[0]===this.data.rect[2]||this.data.rect[1]===this.data.rect[3])&&(this.data.rect=null);let En=kn.get("Parent");if(!En){(0,xe.warn)("Popup annotation has a missing or invalid parent annotation.");return}const On=En.getArray("Rect");this.data.parentRect=Array.isArray(On)&&On.length===4?xe.Util.normalizeRect(On):null;const Mn=En.get("RT");if((0,e.isName)(Mn,xe.AnnotationReplyType.GROUP)&&(En=En.get("IRT")),En.has("M")?(this.setModificationDate(En.get("M")),this.data.modificationDate=this.modificationDate):this.data.modificationDate=null,En.has("C")?(this.setColor(En.getArray("C")),this.data.color=this.color):this.data.color=null,!this.viewable){const Bn=En.get("F");this._isViewable(Bn)&&this.setFlags(Bn)}this.setTitle(En.get("T")),this.data.titleObj=this._title,this.setContents(En.get("Contents")),this.data.contentsObj=this._contents,En.has("RC")&&(this.data.richText=rn.XFAFactory.getRichTextAsHtml(En.get("RC"))),this.data.open=!!kn.get("Open")}}_e.PopupAnnotation=on;class Je extends dn{constructor(bn){super(bn),this.data.hasOwnCanvas=!0;const{evaluatorOptions:kn,xref:En}=bn;if(this.data.annotationType=xe.AnnotationType.FREETEXT,this.setDefaultAppearance(bn),this.appearance){const{fontColor:On,fontSize:Mn}=(0,Re.parseAppearanceStream)(this.appearance,kn,En);this.data.defaultAppearanceData.fontColor=On,this.data.defaultAppearanceData.fontSize=Mn||10}else if(this._isOffscreenCanvasSupported){const On=bn.dict.get("CA"),Mn=new Re.FakeUnicodeFont(En,"sans-serif");this.data.defaultAppearanceData.fontSize||=10;const{fontColor:Bn,fontSize:Hn}=this.data.defaultAppearanceData;this.appearance=Mn.createAppearance(this._contents.str,this.rectangle,this.rotation,Hn,Bn,On),this._streams.push(this.appearance,Re.FakeUnicodeFont.toUnicodeStream)}else(0,xe.warn)("FreeTextAnnotation: OffscreenCanvas is not supported, annotation may not render correctly.")}get hasTextContent(){return!!this.appearance}static createNewDict(bn,kn,{apRef:En,ap:On}){const{color:Mn,fontSize:Bn,rect:Hn,rotation:$n,user:Un,value:qn}=bn,jn=new e.Dict(kn);jn.set("Type",e.Name.get("Annot")),jn.set("Subtype",e.Name.get("FreeText")),jn.set("CreationDate",`D:${(0,xe.getModificationDate)()}`),jn.set("Rect",Hn);const Xn=`/Helv ${Bn} Tf ${(0,Re.getPdfColor)(Mn,!0)}`;if(jn.set("DA",Xn),jn.set("Contents",(0,Ie.isAscii)(qn)?qn:(0,Ie.stringToUTF16String)(qn,!0)),jn.set("F",4),jn.set("Border",[0,0,0]),jn.set("Rotate",$n),Un&&jn.set("T",(0,Ie.isAscii)(Un)?Un:(0,Ie.stringToUTF16String)(Un,!0)),En||On){const Gn=new e.Dict(kn);jn.set("AP",Gn),En?Gn.set("N",En):Gn.set("N",On)}return jn}static async createNewAppearanceStream(bn,kn,En){const{baseFontRef:On,evaluator:Mn,task:Bn}=En,{color:Hn,fontSize:$n,rect:Un,rotation:qn,value:jn}=bn,Xn=new e.Dict(kn),Gn=new e.Dict(kn);if(On)Gn.set("Helv",On);else{const sr=new e.Dict(kn);sr.set("BaseFont",e.Name.get("Helvetica")),sr.set("Type",e.Name.get("Font")),sr.set("Subtype",e.Name.get("Type1")),sr.set("Encoding",e.Name.get("WinAnsiEncoding")),Gn.set("Helv",sr)}Xn.set("Font",Gn);const ri=await qe._getFontData(Mn,Bn,{fontName:"Helv",fontSize:$n},Xn),[ui,ti,Yn,Qn]=Un;let ci=Yn-ui,pi=Qn-ti;qn%180!==0&&([ci,pi]=[pi,ci]);const ki=jn.split(`
`),hi=$n/1e3;let si=-1/0;const ai=[];for(let sr of ki){const xr=ri.encodeString(sr);if(xr.length>1)return null;sr=xr.join(""),ai.push(sr);let Zi=0;const Ar=ri.charsToGlyphs(sr);for(const Hr of Ar)Zi+=Hr.width*hi;si=Math.max(si,Zi)}let li=1;si>ci&&(li=ci/si);let Ei=1;const $i=xe.LINE_FACTOR*$n,Qi=(xe.LINE_FACTOR-xe.LINE_DESCENT_FACTOR)*$n,fr=$i*ki.length;fr>pi&&(Ei=pi/fr);const ar=Math.min(li,Ei),Ii=$n*ar;let vi,rr,dr;switch(qn){case 0:dr=[1,0,0,1],rr=[Un[0],Un[1],ci,pi],vi=[Un[0],Un[3]-Qi];break;case 90:dr=[0,1,-1,0],rr=[Un[1],-Un[2],ci,pi],vi=[Un[1],-Un[0]-Qi];break;case 180:dr=[-1,0,0,-1],rr=[-Un[2],-Un[3],ci,pi],vi=[-Un[2],-Un[1]-Qi];break;case 270:dr=[0,-1,1,0],rr=[-Un[3],Un[0],ci,pi],vi=[-Un[3],Un[2]-Qi];break}const Xi=["q",`${dr.join(" ")} 0 0 cm`,`${rr.join(" ")} re W n`,"BT",`${(0,Re.getPdfColor)(Hn,!0)}`,`0 Tc /Helv ${(0,Ie.numberToString)(Ii)} Tf`];Xi.push(`${vi.join(" ")} Td (${(0,Ie.escapeString)(ai[0])}) Tj`);const Gi=(0,Ie.numberToString)($i);for(let sr=1,xr=ai.length;sr<xr;sr++){const Zi=ai[sr];Xi.push(`0 -${Gi} Td (${(0,Ie.escapeString)(Zi)}) Tj`)}Xi.push("ET","Q");const Yi=Xi.join(`
`),Nr=new e.Dict(kn);Nr.set("FormType",1),Nr.set("Subtype",e.Name.get("Form")),Nr.set("Type",e.Name.get("XObject")),Nr.set("BBox",Un),Nr.set("Resources",Xn),Nr.set("Matrix",[1,0,0,1,-Un[0],-Un[1]]);const ha=new t.StringStream(Yi);return ha.dict=Nr,ha}}class an extends dn{constructor(bn){super(bn);const{dict:kn,xref:En}=bn;this.data.annotationType=xe.AnnotationType.LINE,this.data.hasOwnCanvas=this.data.noRotate;const On=kn.getArray("L");if(this.data.lineCoordinates=xe.Util.normalizeRect(On),this.setLineEndings(kn.getArray("LE")),this.data.lineEndings=this.lineEndings,!this.appearance){const Mn=this.color?hn(this.color):[0,0,0],Bn=kn.get("CA"),Hn=Qe(kn.getArray("IC"),null),$n=Hn?hn(Hn):null,Un=$n?Bn:null,qn=this.borderStyle.width||1,jn=2*qn,Xn=[this.data.lineCoordinates[0]-jn,this.data.lineCoordinates[1]-jn,this.data.lineCoordinates[2]+jn,this.data.lineCoordinates[3]+jn];xe.Util.intersect(this.rectangle,Xn)||(this.rectangle=Xn),this._setDefaultAppearance({xref:En,extra:`${qn} w`,strokeColor:Mn,fillColor:$n,strokeAlpha:Bn,fillAlpha:Un,pointsCallback:(Gn,ri)=>(Gn.push(`${On[0]} ${On[1]} m`,`${On[2]} ${On[3]} l`,"S"),[ri[0].x-qn,ri[1].x+qn,ri[3].y-qn,ri[1].y+qn])})}}}class Ke extends dn{constructor(bn){super(bn);const{dict:kn,xref:En}=bn;if(this.data.annotationType=xe.AnnotationType.SQUARE,this.data.hasOwnCanvas=this.data.noRotate,!this.appearance){const On=this.color?hn(this.color):[0,0,0],Mn=kn.get("CA"),Bn=Qe(kn.getArray("IC"),null),Hn=Bn?hn(Bn):null,$n=Hn?Mn:null;if(this.borderStyle.width===0&&!Hn)return;this._setDefaultAppearance({xref:En,extra:`${this.borderStyle.width} w`,strokeColor:On,fillColor:Hn,strokeAlpha:Mn,fillAlpha:$n,pointsCallback:(Un,qn)=>{const jn=qn[2].x+this.borderStyle.width/2,Xn=qn[2].y+this.borderStyle.width/2,Gn=qn[3].x-qn[2].x-this.borderStyle.width,ri=qn[1].y-qn[3].y-this.borderStyle.width;return Un.push(`${jn} ${Xn} ${Gn} ${ri} re`),Hn?Un.push("B"):Un.push("S"),[qn[0].x,qn[1].x,qn[3].y,qn[1].y]}})}}}class sn extends dn{constructor(bn){super(bn);const{dict:kn,xref:En}=bn;if(this.data.annotationType=xe.AnnotationType.CIRCLE,!this.appearance){const On=this.color?hn(this.color):[0,0,0],Mn=kn.get("CA"),Bn=Qe(kn.getArray("IC"),null),Hn=Bn?hn(Bn):null,$n=Hn?Mn:null;if(this.borderStyle.width===0&&!Hn)return;const Un=4/3*Math.tan(Math.PI/8);this._setDefaultAppearance({xref:En,extra:`${this.borderStyle.width} w`,strokeColor:On,fillColor:Hn,strokeAlpha:Mn,fillAlpha:$n,pointsCallback:(qn,jn)=>{const Xn=jn[0].x+this.borderStyle.width/2,Gn=jn[0].y-this.borderStyle.width/2,ri=jn[3].x-this.borderStyle.width/2,ui=jn[3].y+this.borderStyle.width/2,ti=Xn+(ri-Xn)/2,Yn=Gn+(ui-Gn)/2,Qn=(ri-Xn)/2*Un,ci=(ui-Gn)/2*Un;return qn.push(`${ti} ${ui} m`,`${ti+Qn} ${ui} ${ri} ${Yn+ci} ${ri} ${Yn} c`,`${ri} ${Yn-ci} ${ti+Qn} ${Gn} ${ti} ${Gn} c`,`${ti-Qn} ${Gn} ${Xn} ${Yn-ci} ${Xn} ${Yn} c`,`${Xn} ${Yn+ci} ${ti-Qn} ${ui} ${ti} ${ui} c`,"h"),Hn?qn.push("B"):qn.push("S"),[jn[0].x,jn[1].x,jn[3].y,jn[1].y]}})}}}class gn extends dn{constructor(bn){super(bn);const{dict:kn,xref:En}=bn;this.data.annotationType=xe.AnnotationType.POLYLINE,this.data.hasOwnCanvas=this.data.noRotate,this.data.vertices=[],this instanceof mn||(this.setLineEndings(kn.getArray("LE")),this.data.lineEndings=this.lineEndings);const On=kn.getArray("Vertices");if(Array.isArray(On)){for(let Mn=0,Bn=On.length;Mn<Bn;Mn+=2)this.data.vertices.push({x:On[Mn],y:On[Mn+1]});if(!this.appearance){const Mn=this.color?hn(this.color):[0,0,0],Bn=kn.get("CA"),Hn=this.borderStyle.width||1,$n=2*Hn,Un=[1/0,1/0,-1/0,-1/0];for(const qn of this.data.vertices)Un[0]=Math.min(Un[0],qn.x-$n),Un[1]=Math.min(Un[1],qn.y-$n),Un[2]=Math.max(Un[2],qn.x+$n),Un[3]=Math.max(Un[3],qn.y+$n);xe.Util.intersect(this.rectangle,Un)||(this.rectangle=Un),this._setDefaultAppearance({xref:En,extra:`${Hn} w`,strokeColor:Mn,strokeAlpha:Bn,pointsCallback:(qn,jn)=>{const Xn=this.data.vertices;for(let Gn=0,ri=Xn.length;Gn<ri;Gn++)qn.push(`${Xn[Gn].x} ${Xn[Gn].y} ${Gn===0?"m":"l"}`);return qn.push("S"),[jn[0].x,jn[1].x,jn[3].y,jn[1].y]}})}}}}class mn extends gn{constructor(bn){super(bn),this.data.annotationType=xe.AnnotationType.POLYGON}}class yn extends dn{constructor(bn){super(bn),this.data.annotationType=xe.AnnotationType.CARET}}class Sn extends dn{constructor(bn){super(bn),this.data.hasOwnCanvas=this.data.noRotate;const{dict:kn,xref:En}=bn;this.data.annotationType=xe.AnnotationType.INK,this.data.inkLists=[];const On=kn.getArray("InkList");if(Array.isArray(On)){for(let Mn=0,Bn=On.length;Mn<Bn;++Mn){this.data.inkLists.push([]);for(let Hn=0,$n=On[Mn].length;Hn<$n;Hn+=2)this.data.inkLists[Mn].push({x:En.fetchIfRef(On[Mn][Hn]),y:En.fetchIfRef(On[Mn][Hn+1])})}if(!this.appearance){const Mn=this.color?hn(this.color):[0,0,0],Bn=kn.get("CA"),Hn=this.borderStyle.width||1,$n=2*Hn,Un=[1/0,1/0,-1/0,-1/0];for(const qn of this.data.inkLists)for(const jn of qn)Un[0]=Math.min(Un[0],jn.x-$n),Un[1]=Math.min(Un[1],jn.y-$n),Un[2]=Math.max(Un[2],jn.x+$n),Un[3]=Math.max(Un[3],jn.y+$n);xe.Util.intersect(this.rectangle,Un)||(this.rectangle=Un),this._setDefaultAppearance({xref:En,extra:`${Hn} w`,strokeColor:Mn,strokeAlpha:Bn,pointsCallback:(qn,jn)=>{for(const Xn of this.data.inkLists){for(let Gn=0,ri=Xn.length;Gn<ri;Gn++)qn.push(`${Xn[Gn].x} ${Xn[Gn].y} ${Gn===0?"m":"l"}`);qn.push("S")}return[jn[0].x,jn[1].x,jn[3].y,jn[1].y]}})}}}static createNewDict(bn,kn,{apRef:En,ap:On}){const{color:Mn,opacity:Bn,paths:Hn,rect:$n,rotation:Un,thickness:qn}=bn,jn=new e.Dict(kn);jn.set("Type",e.Name.get("Annot")),jn.set("Subtype",e.Name.get("Ink")),jn.set("CreationDate",`D:${(0,xe.getModificationDate)()}`),jn.set("Rect",$n),jn.set("InkList",Hn.map(ri=>ri.points)),jn.set("F",4),jn.set("Rotate",Un);const Xn=new e.Dict(kn);jn.set("BS",Xn),Xn.set("W",qn),jn.set("C",Array.from(Mn,ri=>ri/255)),jn.set("CA",Bn);const Gn=new e.Dict(kn);return jn.set("AP",Gn),En?Gn.set("N",En):Gn.set("N",On),jn}static async createNewAppearanceStream(bn,kn,En){const{color:On,rect:Mn,paths:Bn,thickness:Hn,opacity:$n}=bn,Un=[`${Hn} w 1 J 1 j`,`${(0,Re.getPdfColor)(On,!1)}`];$n!==1&&Un.push("/R0 gs");const qn=[];for(const{bezier:ri}of Bn){qn.length=0,qn.push(`${(0,Ie.numberToString)(ri[0])} ${(0,Ie.numberToString)(ri[1])} m`);for(let ui=2,ti=ri.length;ui<ti;ui+=6){const Yn=ri.slice(ui,ui+6).map(Ie.numberToString).join(" ");qn.push(`${Yn} c`)}qn.push("S"),Un.push(qn.join(`
`))}const jn=Un.join(`
`),Xn=new e.Dict(kn);if(Xn.set("FormType",1),Xn.set("Subtype",e.Name.get("Form")),Xn.set("Type",e.Name.get("XObject")),Xn.set("BBox",Mn),Xn.set("Length",jn.length),$n!==1){const ri=new e.Dict(kn),ui=new e.Dict(kn),ti=new e.Dict(kn);ti.set("CA",$n),ti.set("Type",e.Name.get("ExtGState")),ui.set("R0",ti),ri.set("ExtGState",ui),Xn.set("Resources",ri)}const Gn=new t.StringStream(jn);return Gn.dict=Xn,Gn}}class _n extends dn{constructor(bn){super(bn);const{dict:kn,xref:En}=bn;if(this.data.annotationType=xe.AnnotationType.HIGHLIGHT,this.data.quadPoints=He(kn,null)){const Mn=this.appearance?.dict.get("Resources");if(!this.appearance||!Mn?.has("ExtGState")){this.appearance&&(0,xe.warn)("HighlightAnnotation - ignoring built-in appearance stream.");const Bn=this.color?hn(this.color):[1,1,0],Hn=kn.get("CA");this._setDefaultAppearance({xref:En,fillColor:Bn,blendMode:"Multiply",fillAlpha:Hn,pointsCallback:($n,Un)=>($n.push(`${Un[0].x} ${Un[0].y} m`,`${Un[1].x} ${Un[1].y} l`,`${Un[3].x} ${Un[3].y} l`,`${Un[2].x} ${Un[2].y} l`,"f"),[Un[0].x,Un[1].x,Un[3].y,Un[1].y])})}}else this.data.popupRef=null}}class wn extends dn{constructor(bn){super(bn);const{dict:kn,xref:En}=bn;if(this.data.annotationType=xe.AnnotationType.UNDERLINE,this.data.quadPoints=He(kn,null)){if(!this.appearance){const Mn=this.color?hn(this.color):[0,0,0],Bn=kn.get("CA");this._setDefaultAppearance({xref:En,extra:"[] 0 d 0.571 w",strokeColor:Mn,strokeAlpha:Bn,pointsCallback:(Hn,$n)=>(Hn.push(`${$n[2].x} ${$n[2].y+1.3} m`,`${$n[3].x} ${$n[3].y+1.3} l`,"S"),[$n[0].x,$n[1].x,$n[3].y,$n[1].y])})}}else this.data.popupRef=null}}class Nn extends dn{constructor(bn){super(bn);const{dict:kn,xref:En}=bn;if(this.data.annotationType=xe.AnnotationType.SQUIGGLY,this.data.quadPoints=He(kn,null)){if(!this.appearance){const Mn=this.color?hn(this.color):[0,0,0],Bn=kn.get("CA");this._setDefaultAppearance({xref:En,extra:"[] 0 d 1 w",strokeColor:Mn,strokeAlpha:Bn,pointsCallback:(Hn,$n)=>{const Un=($n[0].y-$n[2].y)/6;let qn=Un,jn=$n[2].x;const Xn=$n[2].y,Gn=$n[3].x;Hn.push(`${jn} ${Xn+qn} m`);do jn+=2,qn=qn===0?Un:0,Hn.push(`${jn} ${Xn+qn} l`);while(jn<Gn);return Hn.push("S"),[$n[2].x,Gn,Xn-2*Un,Xn+2*Un]}})}}else this.data.popupRef=null}}class Tn extends dn{constructor(bn){super(bn);const{dict:kn,xref:En}=bn;if(this.data.annotationType=xe.AnnotationType.STRIKEOUT,this.data.quadPoints=He(kn,null)){if(!this.appearance){const Mn=this.color?hn(this.color):[0,0,0],Bn=kn.get("CA");this._setDefaultAppearance({xref:En,extra:"[] 0 d 1 w",strokeColor:Mn,strokeAlpha:Bn,pointsCallback:(Hn,$n)=>(Hn.push(`${($n[0].x+$n[2].x)/2} ${($n[0].y+$n[2].y)/2} m`,`${($n[1].x+$n[3].x)/2} ${($n[1].y+$n[3].y)/2} l`,"S"),[$n[0].x,$n[1].x,$n[3].y,$n[1].y])})}}else this.data.popupRef=null}}class Cn extends dn{constructor(bn){super(bn),this.data.annotationType=xe.AnnotationType.STAMP,this.data.hasOwnCanvas=this.data.noRotate}static async createImage(bn,kn){const{width:En,height:On}=bn,Mn=new OffscreenCanvas(En,On),Bn=Mn.getContext("2d",{alpha:!0});Bn.drawImage(bn,0,0);const Hn=Bn.getImageData(0,0,En,On).data,$n=new Uint32Array(Hn.buffer),Un=$n.some(xe.FeatureTest.isLittleEndian?ti=>ti>>>24!==255:ti=>(ti&255)!==255);Un&&(Bn.fillStyle="white",Bn.fillRect(0,0,En,On),Bn.drawImage(bn,0,0));const qn=Mn.convertToBlob({type:"image/jpeg",quality:1}).then(ti=>ti.arrayBuffer()),jn=e.Name.get("XObject"),Xn=e.Name.get("Image"),Gn=new e.Dict(kn);Gn.set("Type",jn),Gn.set("Subtype",Xn),Gn.set("BitsPerComponent",8),Gn.set("ColorSpace",e.Name.get("DeviceRGB")),Gn.set("Filter",e.Name.get("DCTDecode")),Gn.set("BBox",[0,0,En,On]),Gn.set("Width",En),Gn.set("Height",On);let ri=null;if(Un){const ti=new Uint8Array($n.length);if(xe.FeatureTest.isLittleEndian)for(let Qn=0,ci=$n.length;Qn<ci;Qn++)ti[Qn]=$n[Qn]>>>24;else for(let Qn=0,ci=$n.length;Qn<ci;Qn++)ti[Qn]=$n[Qn]&255;const Yn=new e.Dict(kn);Yn.set("Type",jn),Yn.set("Subtype",Xn),Yn.set("BitsPerComponent",8),Yn.set("ColorSpace",e.Name.get("DeviceGray")),Yn.set("Width",En),Yn.set("Height",On),ri=new t.Stream(ti,0,0,Yn)}return{imageStream:new t.Stream(await qn,0,0,Gn),smaskStream:ri,width:En,height:On}}static createNewDict(bn,kn,{apRef:En,ap:On}){const{rect:Mn,rotation:Bn,user:Hn}=bn,$n=new e.Dict(kn);if($n.set("Type",e.Name.get("Annot")),$n.set("Subtype",e.Name.get("Stamp")),$n.set("CreationDate",`D:${(0,xe.getModificationDate)()}`),$n.set("Rect",Mn),$n.set("F",4),$n.set("Border",[0,0,0]),$n.set("Rotate",Bn),Hn&&$n.set("T",(0,Ie.isAscii)(Hn)?Hn:(0,Ie.stringToUTF16String)(Hn,!0)),En||On){const Un=new e.Dict(kn);$n.set("AP",Un),En?Un.set("N",En):Un.set("N",On)}return $n}static async createNewAppearanceStream(bn,kn,En){const{rotation:On}=bn,{imageRef:Mn,width:Bn,height:Hn}=En.image,$n=new e.Dict(kn),Un=new e.Dict(kn);$n.set("XObject",Un),Un.set("Im0",Mn);const qn=`q ${Bn} 0 0 ${Hn} 0 0 cm /Im0 Do Q`,jn=new e.Dict(kn);if(jn.set("FormType",1),jn.set("Subtype",e.Name.get("Form")),jn.set("Type",e.Name.get("XObject")),jn.set("BBox",[0,0,Bn,Hn]),jn.set("Resources",$n),On){const Gn=(0,Ie.getRotationMatrix)(On,Bn,Hn);jn.set("Matrix",Gn)}const Xn=new t.StringStream(qn);return Xn.dict=jn,Xn}}class In extends dn{constructor(bn){super(bn);const{dict:kn,xref:En}=bn,On=new nn.FileSpec(kn.get("FS"),En);this.data.annotationType=xe.AnnotationType.FILEATTACHMENT,this.data.hasOwnCanvas=this.data.noRotate,this.data.file=On.serializable;const Mn=kn.get("Name");this.data.name=Mn instanceof e.Name?(0,xe.stringToPDFString)(Mn.name):"PushPin";const Bn=kn.get("ca");this.data.fillAlpha=typeof Bn=="number"&&Bn>=0&&Bn<=1?Bn:null}}},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.FakeUnicodeFont=void 0,_e.createDefaultAppearance=St,_e.getPdfColor=Ce,_e.parseAppearanceStream=Oe,_e.parseDefaultAppearance=nn;var xe=ze(4),Ie=ze(3),Re=ze(2),e=ze(12),t=ze(13),Te=ze(59),Ye=ze(57),en=ze(8);class je extends t.EvaluatorPreprocessor{constructor(Qe){super(new en.StringStream(Qe))}parse(){const Qe={fn:0,args:[]},hn={fontSize:0,fontName:"",fontColor:new Uint8ClampedArray(3)};try{for(;Qe.args.length=0,!!this.read(Qe);){if(this.savedStatesDepth!==0)continue;const{fn:He,args:pn}=Qe;switch(He|0){case Re.OPS.setFont:const[Xe,fn]=pn;Xe instanceof xe.Name&&(hn.fontName=Xe.name),typeof fn=="number"&&fn>0&&(hn.fontSize=fn);break;case Re.OPS.setFillRGBColor:e.ColorSpace.singletons.rgb.getRgbItem(pn,0,hn.fontColor,0);break;case Re.OPS.setFillGray:e.ColorSpace.singletons.gray.getRgbItem(pn,0,hn.fontColor,0);break;case Re.OPS.setFillCMYKColor:e.ColorSpace.singletons.cmyk.getRgbItem(pn,0,hn.fontColor,0);break}}}catch(He){(0,Re.warn)(`parseDefaultAppearance - ignoring errors: "${He}".`)}return hn}}function nn(un){return new je(un).parse()}class Ge extends t.EvaluatorPreprocessor{constructor(Qe,hn,He){super(Qe),this.stream=Qe,this.evaluatorOptions=hn,this.xref=He,this.resources=Qe.dict?.get("Resources")}parse(){const Qe={fn:0,args:[]};let hn={scaleFactor:1,fontSize:0,fontName:"",fontColor:new Uint8ClampedArray(3),fillColorSpace:e.ColorSpace.singletons.gray},He=!1;const pn=[];try{for(;Qe.args.length=0,!(He||!this.read(Qe));){const{fn:Xe,args:fn}=Qe;switch(Xe|0){case Re.OPS.save:pn.push({scaleFactor:hn.scaleFactor,fontSize:hn.fontSize,fontName:hn.fontName,fontColor:hn.fontColor.slice(),fillColorSpace:hn.fillColorSpace});break;case Re.OPS.restore:hn=pn.pop()||hn;break;case Re.OPS.setTextMatrix:hn.scaleFactor*=Math.hypot(fn[0],fn[1]);break;case Re.OPS.setFont:const[dn,qe]=fn;dn instanceof xe.Name&&(hn.fontName=dn.name),typeof qe=="number"&&qe>0&&(hn.fontSize=qe*hn.scaleFactor);break;case Re.OPS.setFillColorSpace:hn.fillColorSpace=e.ColorSpace.parse({cs:fn[0],xref:this.xref,resources:this.resources,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:this._localColorSpaceCache});break;case Re.OPS.setFillColor:hn.fillColorSpace.getRgbItem(fn,0,hn.fontColor,0);break;case Re.OPS.setFillRGBColor:e.ColorSpace.singletons.rgb.getRgbItem(fn,0,hn.fontColor,0);break;case Re.OPS.setFillGray:e.ColorSpace.singletons.gray.getRgbItem(fn,0,hn.fontColor,0);break;case Re.OPS.setFillCMYKColor:e.ColorSpace.singletons.cmyk.getRgbItem(fn,0,hn.fontColor,0);break;case Re.OPS.showText:case Re.OPS.showSpacedText:case Re.OPS.nextLineShowText:case Re.OPS.nextLineSetSpacingShowText:He=!0;break}}}catch(Xe){(0,Re.warn)(`parseAppearanceStream - ignoring errors: "${Xe}".`)}return this.stream.reset(),delete hn.scaleFactor,delete hn.fillColorSpace,hn}get _localColorSpaceCache(){return(0,Re.shadow)(this,"_localColorSpaceCache",new Te.LocalColorSpaceCache)}get _pdfFunctionFactory(){const Qe=new Ye.PDFFunctionFactory({xref:this.xref,isEvalSupported:this.evaluatorOptions.isEvalSupported});return(0,Re.shadow)(this,"_pdfFunctionFactory",Qe)}}function Oe(un,Qe,hn){return new Ge(un,Qe,hn).parse()}function Ce(un,Qe){if(un[0]===un[1]&&un[1]===un[2]){const hn=un[0]/255;return`${(0,Ie.numberToString)(hn)} ${Qe?"g":"G"}`}return Array.from(un,hn=>(0,Ie.numberToString)(hn/255)).join(" ")+` ${Qe?"rg":"RG"}`}function St({fontSize:un,fontName:Qe,fontColor:hn}){return`/${(0,Ie.escapePDFName)(Qe)} ${un} Tf ${Ce(hn,!0)}`}class rn{constructor(Qe,hn){this.xref=Qe,this.widths=null,this.firstChar=1/0,this.lastChar=-1/0,this.fontFamily=hn;const He=new OffscreenCanvas(1,1);this.ctxMeasure=He.getContext("2d"),rn._fontNameId||(rn._fontNameId=1),this.fontName=xe.Name.get(`InvalidPDFjsFont_${hn}_${rn._fontNameId++}`)}get toUnicodeRef(){if(!rn._toUnicodeRef){const Qe=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo
<< /Registry (Adobe)
/Ordering (UCS) /Supplement 0 >> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000> <FFFF>
endcodespacerange
1 beginbfrange
<0000> <FFFF> <0000>
endbfrange
endcmap CMapName currentdict /CMap defineresource pop end end`,hn=rn.toUnicodeStream=new en.StringStream(Qe),He=new xe.Dict(this.xref);hn.dict=He,He.set("Length",Qe.length),rn._toUnicodeRef=this.xref.getNewPersistentRef(hn)}return rn._toUnicodeRef}get fontDescriptorRef(){if(!rn._fontDescriptorRef){const Qe=new xe.Dict(this.xref);Qe.set("Type",xe.Name.get("FontDescriptor")),Qe.set("FontName",this.fontName),Qe.set("FontFamily","MyriadPro Regular"),Qe.set("FontBBox",[0,0,0,0]),Qe.set("FontStretch",xe.Name.get("Normal")),Qe.set("FontWeight",400),Qe.set("ItalicAngle",0),rn._fontDescriptorRef=this.xref.getNewPersistentRef(Qe)}return rn._fontDescriptorRef}get descendantFontRef(){const Qe=new xe.Dict(this.xref);Qe.set("BaseFont",this.fontName),Qe.set("Type",xe.Name.get("Font")),Qe.set("Subtype",xe.Name.get("CIDFontType0")),Qe.set("CIDToGIDMap",xe.Name.get("Identity")),Qe.set("FirstChar",this.firstChar),Qe.set("LastChar",this.lastChar),Qe.set("FontDescriptor",this.fontDescriptorRef),Qe.set("DW",1e3);const hn=[],He=[...this.widths.entries()].sort();let pn=null,Xe=null;for(const[dn,qe]of He){if(!pn){pn=dn,Xe=[qe];continue}dn===pn+Xe.length?Xe.push(qe):(hn.push(pn,Xe),pn=dn,Xe=[qe])}pn&&hn.push(pn,Xe),Qe.set("W",hn);const fn=new xe.Dict(this.xref);return fn.set("Ordering","Identity"),fn.set("Registry","Adobe"),fn.set("Supplement",0),Qe.set("CIDSystemInfo",fn),this.xref.getNewPersistentRef(Qe)}get baseFontRef(){const Qe=new xe.Dict(this.xref);return Qe.set("BaseFont",this.fontName),Qe.set("Type",xe.Name.get("Font")),Qe.set("Subtype",xe.Name.get("Type0")),Qe.set("Encoding",xe.Name.get("Identity-H")),Qe.set("DescendantFonts",[this.descendantFontRef]),Qe.set("ToUnicode",this.toUnicodeRef),this.xref.getNewPersistentRef(Qe)}get resources(){const Qe=new xe.Dict(this.xref),hn=new xe.Dict(this.xref);return hn.set(this.fontName.name,this.baseFontRef),Qe.set("Font",hn),Qe}_createContext(){return this.widths=new Map,this.ctxMeasure.font=`1000px ${this.fontFamily}`,this.ctxMeasure}createFontResources(Qe){const hn=this._createContext();for(const He of Qe.split(/\r\n?|\n/))for(const pn of He.split("")){const Xe=pn.charCodeAt(0);if(this.widths.has(Xe))continue;const fn=hn.measureText(pn),dn=Math.ceil(fn.width);this.widths.set(Xe,dn),this.firstChar=Math.min(Xe,this.firstChar),this.lastChar=Math.max(Xe,this.lastChar)}return this.resources}createAppearance(Qe,hn,He,pn,Xe,fn){const dn=this._createContext(),qe=[];let tn=-1/0;for(const In of Qe.split(/\r\n?|\n/)){qe.push(In);const Rn=dn.measureText(In).width;tn=Math.max(tn,Rn);for(const bn of In.split("")){const kn=bn.charCodeAt(0);let En=this.widths.get(kn);if(En===void 0){const On=dn.measureText(bn);En=Math.ceil(On.width),this.widths.set(kn,En),this.firstChar=Math.min(kn,this.firstChar),this.lastChar=Math.max(kn,this.lastChar)}}}tn*=pn/1e3;const[Me,De,Ue,We]=hn;let $e=Ue-Me,on=We-De;He%180!==0&&([$e,on]=[on,$e]);let Je=1;tn>$e&&(Je=$e/tn);let an=1;const Ke=Re.LINE_FACTOR*pn,sn=Re.LINE_DESCENT_FACTOR*pn,gn=Ke*qe.length;gn>on&&(an=on/gn);const mn=Math.min(Je,an),yn=pn*mn,Sn=["q",`0 0 ${(0,Ie.numberToString)($e)} ${(0,Ie.numberToString)(on)} re W n`,"BT",`1 0 0 1 0 ${(0,Ie.numberToString)(on+sn)} Tm 0 Tc ${Ce(Xe,!0)}`,`/${this.fontName.name} ${(0,Ie.numberToString)(yn)} Tf`],{resources:_n}=this;if(fn=typeof fn=="number"&&fn>=0&&fn<=1?fn:1,fn!==1){Sn.push("/R0 gs");const In=new xe.Dict(this.xref),Rn=new xe.Dict(this.xref);Rn.set("ca",fn),Rn.set("CA",fn),Rn.set("Type",xe.Name.get("ExtGState")),In.set("R0",Rn),_n.set("ExtGState",In)}const wn=(0,Ie.numberToString)(Ke);for(const In of qe)Sn.push(`0 -${wn} Td <${(0,Ie.stringToUTF16HexString)(In)}> Tj`);Sn.push("ET","Q");const Nn=Sn.join(`
`),Tn=new xe.Dict(this.xref);if(Tn.set("Subtype",xe.Name.get("Form")),Tn.set("Type",xe.Name.get("XObject")),Tn.set("BBox",[0,0,$e,on]),Tn.set("Length",Nn.length),Tn.set("Resources",_n),He){const In=(0,Ie.getRotationMatrix)(He,$e,on);Tn.set("Matrix",In)}const Cn=new en.StringStream(Nn);return Cn.dict=Tn,Cn}}_e.FakeUnicodeFont=rn},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.ColorSpace=void 0;var xe=ze(2),Ie=ze(4),Re=ze(5),e=ze(3);function t(un,Qe,hn,He,pn,Xe,fn){fn=fn!==1?0:fn;const qe=hn/pn,tn=He/Xe;let Me=0,De;const Ue=new Uint16Array(pn),We=hn*3;for(let $e=0;$e<pn;$e++)Ue[$e]=Math.floor($e*qe)*3;for(let $e=0;$e<Xe;$e++){const on=Math.floor($e*tn)*We;for(let Je=0;Je<pn;Je++)De=on+Ue[Je],Qe[Me++]=un[De++],Qe[Me++]=un[De++],Qe[Me++]=un[De++],Me+=fn}}class Te{constructor(Qe,hn){this.constructor===Te&&(0,xe.unreachable)("Cannot initialize ColorSpace."),this.name=Qe,this.numComps=hn}getRgb(Qe,hn){const He=new Uint8ClampedArray(3);return this.getRgbItem(Qe,hn,He,0),He}getRgbItem(Qe,hn,He,pn){(0,xe.unreachable)("Should not call ColorSpace.getRgbItem")}getRgbBuffer(Qe,hn,He,pn,Xe,fn,dn){(0,xe.unreachable)("Should not call ColorSpace.getRgbBuffer")}getOutputLength(Qe,hn){(0,xe.unreachable)("Should not call ColorSpace.getOutputLength")}isPassthrough(Qe){return!1}isDefaultDecode(Qe,hn){return Te.isDefaultDecode(Qe,this.numComps)}fillRgb(Qe,hn,He,pn,Xe,fn,dn,qe,tn){const Me=hn*He;let De=null;const Ue=1<<dn,We=He!==Xe||hn!==pn;if(this.isPassthrough(dn))De=qe;else if(this.numComps===1&&Me>Ue&&this.name!=="DeviceGray"&&this.name!=="DeviceRGB"){const $e=dn<=8?new Uint8Array(Ue):new Uint16Array(Ue);for(let Je=0;Je<Ue;Je++)$e[Je]=Je;const on=new Uint8ClampedArray(Ue*3);if(this.getRgbBuffer($e,0,Ue,on,0,dn,0),We){De=new Uint8Array(Me*3);let Je=0;for(let an=0;an<Me;++an){const Ke=qe[an]*3;De[Je++]=on[Ke],De[Je++]=on[Ke+1],De[Je++]=on[Ke+2]}}else{let Je=0;for(let an=0;an<Me;++an){const Ke=qe[an]*3;Qe[Je++]=on[Ke],Qe[Je++]=on[Ke+1],Qe[Je++]=on[Ke+2],Je+=tn}}}else We?(De=new Uint8ClampedArray(Me*3),this.getRgbBuffer(qe,0,Me,De,0,dn,0)):this.getRgbBuffer(qe,0,pn*fn,Qe,0,dn,tn);if(De)if(We)t(De,Qe,hn,He,pn,Xe,tn);else{let $e=0,on=0;for(let Je=0,an=pn*fn;Je<an;Je++)Qe[$e++]=De[on++],Qe[$e++]=De[on++],Qe[$e++]=De[on++],$e+=tn}}get usesZeroToOneRange(){return(0,xe.shadow)(this,"usesZeroToOneRange",!0)}static _cache(Qe,hn,He,pn){if(!He)throw new Error('ColorSpace._cache - expected "localColorSpaceCache" argument.');if(!pn)throw new Error('ColorSpace._cache - expected "parsedColorSpace" argument.');let Xe,fn;Qe instanceof Ie.Ref&&(fn=Qe,Qe=hn.fetch(Qe)),Qe instanceof Ie.Name&&(Xe=Qe.name),(Xe||fn)&&He.set(Xe,fn,pn)}static getCached(Qe,hn,He){if(!He)throw new Error('ColorSpace.getCached - expected "localColorSpaceCache" argument.');if(Qe instanceof Ie.Ref){const pn=He.getByRef(Qe);if(pn)return pn;try{Qe=hn.fetch(Qe)}catch(Xe){if(Xe instanceof e.MissingDataException)throw Xe}}if(Qe instanceof Ie.Name){const pn=He.getByName(Qe.name);if(pn)return pn}return null}static async parseAsync({cs:Qe,xref:hn,resources:He=null,pdfFunctionFactory:pn,localColorSpaceCache:Xe}){const fn=this._parse(Qe,hn,He,pn);return this._cache(Qe,hn,Xe,fn),fn}static parse({cs:Qe,xref:hn,resources:He=null,pdfFunctionFactory:pn,localColorSpaceCache:Xe}){const fn=this.getCached(Qe,hn,Xe);if(fn)return fn;const dn=this._parse(Qe,hn,He,pn);return this._cache(Qe,hn,Xe,dn),dn}static _parse(Qe,hn,He=null,pn){if(Qe=hn.fetchIfRef(Qe),Qe instanceof Ie.Name)switch(Qe.name){case"G":case"DeviceGray":return this.singletons.gray;case"RGB":case"DeviceRGB":return this.singletons.rgb;case"CMYK":case"DeviceCMYK":return this.singletons.cmyk;case"Pattern":return new en(null);default:if(He instanceof Ie.Dict){const Xe=He.get("ColorSpace");if(Xe instanceof Ie.Dict){const fn=Xe.get(Qe.name);if(fn){if(fn instanceof Ie.Name)return this._parse(fn,hn,He,pn);Qe=fn;break}}}throw new xe.FormatError(`Unrecognized ColorSpace: ${Qe.name}`)}if(Array.isArray(Qe)){const Xe=hn.fetchIfRef(Qe[0]).name;let fn,dn,qe,tn,Me,De;switch(Xe){case"G":case"DeviceGray":return this.singletons.gray;case"RGB":case"DeviceRGB":return this.singletons.rgb;case"CMYK":case"DeviceCMYK":return this.singletons.cmyk;case"CalGray":return fn=hn.fetchIfRef(Qe[1]),tn=fn.getArray("WhitePoint"),Me=fn.getArray("BlackPoint"),De=fn.get("Gamma"),new Ce(tn,Me,De);case"CalRGB":fn=hn.fetchIfRef(Qe[1]),tn=fn.getArray("WhitePoint"),Me=fn.getArray("BlackPoint"),De=fn.getArray("Gamma");const Ue=fn.getArray("Matrix");return new St(tn,Me,De,Ue);case"ICCBased":const $e=hn.fetchIfRef(Qe[1]).dict;dn=$e.get("N");const on=$e.get("Alternate");if(on){const mn=this._parse(on,hn,He,pn);if(mn.numComps===dn)return mn;(0,xe.warn)("ICCBased color space: Ignoring incorrect /Alternate entry.")}if(dn===1)return this.singletons.gray;if(dn===3)return this.singletons.rgb;if(dn===4)return this.singletons.cmyk;break;case"Pattern":return qe=Qe[1]||null,qe&&(qe=this._parse(qe,hn,He,pn)),new en(qe);case"I":case"Indexed":qe=this._parse(Qe[1],hn,He,pn);const Je=hn.fetchIfRef(Qe[2])+1,an=hn.fetchIfRef(Qe[3]);return new je(qe,Je,an);case"Separation":case"DeviceN":const Ke=hn.fetchIfRef(Qe[1]);dn=Array.isArray(Ke)?Ke.length:1,qe=this._parse(Qe[2],hn,He,pn);const sn=pn.create(Qe[3]);return new Ye(dn,qe,sn);case"Lab":fn=hn.fetchIfRef(Qe[1]),tn=fn.getArray("WhitePoint"),Me=fn.getArray("BlackPoint");const gn=fn.getArray("Range");return new rn(tn,Me,gn);default:throw new xe.FormatError(`Unimplemented ColorSpace object: ${Xe}`)}}throw new xe.FormatError(`Unrecognized ColorSpace object: ${Qe}`)}static isDefaultDecode(Qe,hn){if(!Array.isArray(Qe))return!0;if(hn*2!==Qe.length)return(0,xe.warn)("The decode map is not the correct length"),!0;for(let He=0,pn=Qe.length;He<pn;He+=2)if(Qe[He]!==0||Qe[He+1]!==1)return!1;return!0}static get singletons(){return(0,xe.shadow)(this,"singletons",{get gray(){return(0,xe.shadow)(this,"gray",new nn)},get rgb(){return(0,xe.shadow)(this,"rgb",new Ge)},get cmyk(){return(0,xe.shadow)(this,"cmyk",new Oe)}})}}_e.ColorSpace=Te;class Ye extends Te{constructor(Qe,hn,He){super("Alternate",Qe),this.base=hn,this.tintFn=He,this.tmpBuf=new Float32Array(hn.numComps)}getRgbItem(Qe,hn,He,pn){const Xe=this.tmpBuf;this.tintFn(Qe,hn,Xe,0),this.base.getRgbItem(Xe,0,He,pn)}getRgbBuffer(Qe,hn,He,pn,Xe,fn,dn){const qe=this.tintFn,tn=this.base,Me=1/((1<<fn)-1),De=tn.numComps,Ue=tn.usesZeroToOneRange,We=(tn.isPassthrough(8)||!Ue)&&dn===0;let $e=We?Xe:0;const on=We?pn:new Uint8ClampedArray(De*He),Je=this.numComps,an=new Float32Array(Je),Ke=new Float32Array(De);let sn,gn;for(sn=0;sn<He;sn++){for(gn=0;gn<Je;gn++)an[gn]=Qe[hn++]*Me;if(qe(an,0,Ke,0),Ue)for(gn=0;gn<De;gn++)on[$e++]=Ke[gn]*255;else tn.getRgbItem(Ke,0,on,$e),$e+=De}We||tn.getRgbBuffer(on,0,He,pn,Xe,8,dn)}getOutputLength(Qe,hn){return this.base.getOutputLength(Qe*this.base.numComps/this.numComps,hn)}}class en extends Te{constructor(Qe){super("Pattern",null),this.base=Qe}isDefaultDecode(Qe,hn){(0,xe.unreachable)("Should not call PatternCS.isDefaultDecode")}}class je extends Te{constructor(Qe,hn,He){super("Indexed",1),this.base=Qe,this.highVal=hn;const pn=Qe.numComps*hn;if(this.lookup=new Uint8Array(pn),He instanceof Re.BaseStream){const Xe=He.getBytes(pn);this.lookup.set(Xe)}else if(typeof He=="string")for(let Xe=0;Xe<pn;++Xe)this.lookup[Xe]=He.charCodeAt(Xe)&255;else throw new xe.FormatError(`IndexedCS - unrecognized lookup table: ${He}`)}getRgbItem(Qe,hn,He,pn){const Xe=this.base.numComps,fn=Qe[hn]*Xe;this.base.getRgbBuffer(this.lookup,fn,1,He,pn,8,0)}getRgbBuffer(Qe,hn,He,pn,Xe,fn,dn){const qe=this.base,tn=qe.numComps,Me=qe.getOutputLength(tn,dn),De=this.lookup;for(let Ue=0;Ue<He;++Ue){const We=Qe[hn++]*tn;qe.getRgbBuffer(De,We,1,pn,Xe,8,dn),Xe+=Me}}getOutputLength(Qe,hn){return this.base.getOutputLength(Qe*this.base.numComps,hn)}isDefaultDecode(Qe,hn){return Array.isArray(Qe)?Qe.length!==2?((0,xe.warn)("Decode map length is not correct"),!0):!Number.isInteger(hn)||hn<1?((0,xe.warn)("Bits per component is not correct"),!0):Qe[0]===0&&Qe[1]===(1<<hn)-1:!0}}class nn extends Te{constructor(){super("DeviceGray",1)}getRgbItem(Qe,hn,He,pn){const Xe=Qe[hn]*255;He[pn]=He[pn+1]=He[pn+2]=Xe}getRgbBuffer(Qe,hn,He,pn,Xe,fn,dn){const qe=255/((1<<fn)-1);let tn=hn,Me=Xe;for(let De=0;De<He;++De){const Ue=qe*Qe[tn++];pn[Me++]=Ue,pn[Me++]=Ue,pn[Me++]=Ue,Me+=dn}}getOutputLength(Qe,hn){return Qe*(3+hn)}}class Ge extends Te{constructor(){super("DeviceRGB",3)}getRgbItem(Qe,hn,He,pn){He[pn]=Qe[hn]*255,He[pn+1]=Qe[hn+1]*255,He[pn+2]=Qe[hn+2]*255}getRgbBuffer(Qe,hn,He,pn,Xe,fn,dn){if(fn===8&&dn===0){pn.set(Qe.subarray(hn,hn+He*3),Xe);return}const qe=255/((1<<fn)-1);let tn=hn,Me=Xe;for(let De=0;De<He;++De)pn[Me++]=qe*Qe[tn++],pn[Me++]=qe*Qe[tn++],pn[Me++]=qe*Qe[tn++],Me+=dn}getOutputLength(Qe,hn){return Qe*(3+hn)/3|0}isPassthrough(Qe){return Qe===8}}class Oe extends Te{constructor(){super("DeviceCMYK",4)}#e(Qe,hn,He,pn,Xe){const fn=Qe[hn]*He,dn=Qe[hn+1]*He,qe=Qe[hn+2]*He,tn=Qe[hn+3]*He;pn[Xe]=255+fn*(-4.387332384609988*fn+54.48615194189176*dn+18.82290502165302*qe+212.25662451639585*tn+-285.2331026137004)+dn*(1.7149763477362134*dn-5.6096736904047315*qe+-17.873870861415444*tn-5.497006427196366)+qe*(-2.5217340131683033*qe-21.248923337353073*tn+17.5119270841813)+tn*(-21.86122147463605*tn-189.48180835922747),pn[Xe+1]=255+fn*(8.841041422036149*fn+60.118027045597366*dn+6.871425592049007*qe+31.159100130055922*tn+-79.2970844816548)+dn*(-15.310361306967817*dn+17.575251261109482*qe+131.35250912493976*tn-190.9453302588951)+qe*(4.444339102852739*qe+9.8632861493405*tn-24.86741582555878)+tn*(-20.737325471181034*tn-187.80453709719578),pn[Xe+2]=255+fn*(.8842522430003296*fn+8.078677503112928*dn+30.89978309703729*qe-.23883238689178934*tn+-14.183576799673286)+dn*(10.49593273432072*dn+63.02378494754052*qe+50.606957656360734*tn-112.23884253719248)+qe*(.03296041114873217*qe+115.60384449646641*tn+-193.58209356861505)+tn*(-22.33816807309886*tn-180.12613974708367)}getRgbItem(Qe,hn,He,pn){this.#e(Qe,hn,1,He,pn)}getRgbBuffer(Qe,hn,He,pn,Xe,fn,dn){const qe=1/((1<<fn)-1);for(let tn=0;tn<He;tn++)this.#e(Qe,hn,qe,pn,Xe),hn+=4,Xe+=3+dn}getOutputLength(Qe,hn){return Qe/4*(3+hn)|0}}class Ce extends Te{constructor(Qe,hn,He){if(super("CalGray",1),!Qe)throw new xe.FormatError("WhitePoint missing - required for color space CalGray");if([this.XW,this.YW,this.ZW]=Qe,[this.XB,this.YB,this.ZB]=hn||[0,0,0],this.G=He||1,this.XW<0||this.ZW<0||this.YW!==1)throw new xe.FormatError(`Invalid WhitePoint components for ${this.name}, no fallback available`);(this.XB<0||this.YB<0||this.ZB<0)&&((0,xe.info)(`Invalid BlackPoint for ${this.name}, falling back to default.`),this.XB=this.YB=this.ZB=0),(this.XB!==0||this.YB!==0||this.ZB!==0)&&(0,xe.warn)(`${this.name}, BlackPoint: XB: ${this.XB}, YB: ${this.YB}, ZB: ${this.ZB}, only default values are supported.`),this.G<1&&((0,xe.info)(`Invalid Gamma: ${this.G} for ${this.name}, falling back to default.`),this.G=1)}#e(Qe,hn,He,pn,Xe){const dn=(Qe[hn]*Xe)**this.G,qe=this.YW*dn,tn=Math.max(295.8*qe**.3333333333333333-40.8,0);He[pn]=tn,He[pn+1]=tn,He[pn+2]=tn}getRgbItem(Qe,hn,He,pn){this.#e(Qe,hn,He,pn,1)}getRgbBuffer(Qe,hn,He,pn,Xe,fn,dn){const qe=1/((1<<fn)-1);for(let tn=0;tn<He;++tn)this.#e(Qe,hn,pn,Xe,qe),hn+=1,Xe+=3+dn}getOutputLength(Qe,hn){return Qe*(3+hn)}}class St extends Te{static#e=new Float32Array([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]);static#t=new Float32Array([.9869929,-.1470543,.1599627,.4323053,.5183603,.0492912,-.0085287,.0400428,.9684867]);static#n=new Float32Array([3.2404542,-1.5371385,-.4985314,-.969266,1.8760108,.041556,.0556434,-.2040259,1.0572252]);static#i=new Float32Array([1,1,1]);static#o=new Float32Array(3);static#s=new Float32Array(3);static#a=new Float32Array(3);static#l=.0011070564598794539;constructor(Qe,hn,He,pn){if(super("CalRGB",3),!Qe)throw new xe.FormatError("WhitePoint missing - required for color space CalRGB");const[Xe,fn,dn]=this.whitePoint=Qe,[qe,tn,Me]=this.blackPoint=hn||new Float32Array(3);if([this.GR,this.GG,this.GB]=He||new Float32Array([1,1,1]),[this.MXA,this.MYA,this.MZA,this.MXB,this.MYB,this.MZB,this.MXC,this.MYC,this.MZC]=pn||new Float32Array([1,0,0,0,1,0,0,0,1]),Xe<0||dn<0||fn!==1)throw new xe.FormatError(`Invalid WhitePoint components for ${this.name}, no fallback available`);(qe<0||tn<0||Me<0)&&((0,xe.info)(`Invalid BlackPoint for ${this.name} [${qe}, ${tn}, ${Me}], falling back to default.`),this.blackPoint=new Float32Array(3)),(this.GR<0||this.GG<0||this.GB<0)&&((0,xe.info)(`Invalid Gamma [${this.GR}, ${this.GG}, ${this.GB}] for ${this.name}, falling back to default.`),this.GR=this.GG=this.GB=1)}#c(Qe,hn,He){He[0]=Qe[0]*hn[0]+Qe[1]*hn[1]+Qe[2]*hn[2],He[1]=Qe[3]*hn[0]+Qe[4]*hn[1]+Qe[5]*hn[2],He[2]=Qe[6]*hn[0]+Qe[7]*hn[1]+Qe[8]*hn[2]}#r(Qe,hn,He){He[0]=hn[0]*1/Qe[0],He[1]=hn[1]*1/Qe[1],He[2]=hn[2]*1/Qe[2]}#p(Qe,hn,He){He[0]=hn[0]*.95047/Qe[0],He[1]=hn[1]*1/Qe[1],He[2]=hn[2]*1.08883/Qe[2]}#h(Qe){return Qe<=.0031308?this.#d(0,1,12.92*Qe):Qe>=.99554525?1:this.#d(0,1,1.055*Qe**.4166666666666667-.055)}#d(Qe,hn,He){return Math.max(Qe,Math.min(hn,He))}#f(Qe){return Qe<0?-this.#f(-Qe):Qe>8?((Qe+16)/116)**3:Qe*St.#l}#x(Qe,hn,He){if(Qe[0]===0&&Qe[1]===0&&Qe[2]===0){He[0]=hn[0],He[1]=hn[1],He[2]=hn[2];return}const pn=this.#f(0),Xe=pn,fn=this.#f(Qe[0]),dn=pn,qe=this.#f(Qe[1]),tn=pn,Me=this.#f(Qe[2]),De=(1-Xe)/(1-fn),Ue=1-De,We=(1-dn)/(1-qe),$e=1-We,on=(1-tn)/(1-Me),Je=1-on;He[0]=hn[0]*De+Ue,He[1]=hn[1]*We+$e,He[2]=hn[2]*on+Je}#m(Qe,hn,He){if(Qe[0]===1&&Qe[2]===1){He[0]=hn[0],He[1]=hn[1],He[2]=hn[2];return}const pn=He;this.#c(St.#e,hn,pn);const Xe=St.#o;this.#r(Qe,pn,Xe),this.#c(St.#t,Xe,He)}#g(Qe,hn,He){const pn=He;this.#c(St.#e,hn,pn);const Xe=St.#o;this.#p(Qe,pn,Xe),this.#c(St.#t,Xe,He)}#u(Qe,hn,He,pn,Xe){const fn=this.#d(0,1,Qe[hn]*Xe),dn=this.#d(0,1,Qe[hn+1]*Xe),qe=this.#d(0,1,Qe[hn+2]*Xe),tn=fn===1?1:fn**this.GR,Me=dn===1?1:dn**this.GG,De=qe===1?1:qe**this.GB,Ue=this.MXA*tn+this.MXB*Me+this.MXC*De,We=this.MYA*tn+this.MYB*Me+this.MYC*De,$e=this.MZA*tn+this.MZB*Me+this.MZC*De,on=St.#s;on[0]=Ue,on[1]=We,on[2]=$e;const Je=St.#a;this.#m(this.whitePoint,on,Je);const an=St.#s;this.#x(this.blackPoint,Je,an);const Ke=St.#a;this.#g(St.#i,an,Ke);const sn=St.#s;this.#c(St.#n,Ke,sn),He[pn]=this.#h(sn[0])*255,He[pn+1]=this.#h(sn[1])*255,He[pn+2]=this.#h(sn[2])*255}getRgbItem(Qe,hn,He,pn){this.#u(Qe,hn,He,pn,1)}getRgbBuffer(Qe,hn,He,pn,Xe,fn,dn){const qe=1/((1<<fn)-1);for(let tn=0;tn<He;++tn)this.#u(Qe,hn,pn,Xe,qe),hn+=3,Xe+=3+dn}getOutputLength(Qe,hn){return Qe*(3+hn)/3|0}}class rn extends Te{constructor(Qe,hn,He){if(super("Lab",3),!Qe)throw new xe.FormatError("WhitePoint missing - required for color space Lab");if([this.XW,this.YW,this.ZW]=Qe,[this.amin,this.amax,this.bmin,this.bmax]=He||[-100,100,-100,100],[this.XB,this.YB,this.ZB]=hn||[0,0,0],this.XW<0||this.ZW<0||this.YW!==1)throw new xe.FormatError("Invalid WhitePoint components, no fallback available");(this.XB<0||this.YB<0||this.ZB<0)&&((0,xe.info)("Invalid BlackPoint, falling back to default"),this.XB=this.YB=this.ZB=0),(this.amin>this.amax||this.bmin>this.bmax)&&((0,xe.info)("Invalid Range, falling back to defaults"),this.amin=-100,this.amax=100,this.bmin=-100,this.bmax=100)}#e(Qe){return Qe>=.20689655172413793?Qe**3:.12841854934601665*(Qe-.13793103448275862)}#t(Qe,hn,He,pn){return He+Qe*(pn-He)/hn}#n(Qe,hn,He,pn,Xe){let fn=Qe[hn],dn=Qe[hn+1],qe=Qe[hn+2];He!==!1&&(fn=this.#t(fn,He,0,100),dn=this.#t(dn,He,this.amin,this.amax),qe=this.#t(qe,He,this.bmin,this.bmax)),dn>this.amax?dn=this.amax:dn<this.amin&&(dn=this.amin),qe>this.bmax?qe=this.bmax:qe<this.bmin&&(qe=this.bmin);const tn=(fn+16)/116,Me=tn+dn/500,De=tn-qe/200,Ue=this.XW*this.#e(Me),We=this.YW*this.#e(tn),$e=this.ZW*this.#e(De);let on,Je,an;this.ZW<1?(on=Ue*3.1339+We*-1.617+$e*-.4906,Je=Ue*-.9785+We*1.916+$e*.0333,an=Ue*.072+We*-.229+$e*1.4057):(on=Ue*3.2406+We*-1.5372+$e*-.4986,Je=Ue*-.9689+We*1.8758+$e*.0415,an=Ue*.0557+We*-.204+$e*1.057),pn[Xe]=Math.sqrt(on)*255,pn[Xe+1]=Math.sqrt(Je)*255,pn[Xe+2]=Math.sqrt(an)*255}getRgbItem(Qe,hn,He,pn){this.#n(Qe,hn,!1,He,pn)}getRgbBuffer(Qe,hn,He,pn,Xe,fn,dn){const qe=(1<<fn)-1;for(let tn=0;tn<He;tn++)this.#n(Qe,hn,qe,pn,Xe),hn+=3,Xe+=3+dn}getOutputLength(Qe,hn){return Qe*(3+hn)/3|0}isDefaultDecode(Qe,hn){return!0}get usesZeroToOneRange(){return(0,xe.shadow)(this,"usesZeroToOneRange",!1)}}},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.PartialEvaluator=_e.EvaluatorPreprocessor=void 0;var xe=ze(2),Ie=ze(14),Re=ze(4),e=ze(34),t=ze(37),Te=ze(41),Ye=ze(50),en=ze(51),je=ze(42),nn=ze(57),Ge=ze(16),Oe=ze(59),Ce=ze(8),St=ze(5),rn=ze(60),un=ze(12),Qe=ze(18),hn=ze(38),He=ze(61),pn=ze(39),Xe=ze(45),fn=ze(40),dn=ze(62),qe=ze(63),tn=ze(64),Me=ze(65);const De=Object.freeze({maxImageSize:-1,disableFontFace:!1,ignoreErrors:!1,isEvalSupported:!0,isOffscreenCanvasSupported:!1,canvasMaxAreaInBytes:-1,fontExtraProperties:!1,useSystemFonts:!0,cMapUrl:null,standardFontDataUrl:null}),Ue={TILING:1,SHADING:2},We=10,$e=Promise.resolve();function on(_n,wn=!1){if(Array.isArray(_n)){for(const Nn of _n){const Tn=on(Nn,!0);if(Tn)return Tn}return(0,xe.warn)(`Unsupported blend mode Array: ${_n}`),"source-over"}if(!(_n instanceof Re.Name))return wn?null:"source-over";switch(_n.name){case"Normal":case"Compatible":return"source-over";case"Multiply":return"multiply";case"Screen":return"screen";case"Overlay":return"overlay";case"Darken":return"darken";case"Lighten":return"lighten";case"ColorDodge":return"color-dodge";case"ColorBurn":return"color-burn";case"HardLight":return"hard-light";case"SoftLight":return"soft-light";case"Difference":return"difference";case"Exclusion":return"exclusion";case"Hue":return"hue";case"Saturation":return"saturation";case"Color":return"color";case"Luminosity":return"luminosity"}return wn?null:((0,xe.warn)(`Unsupported blend mode: ${_n.name}`),"source-over")}function Je(_n){_n.fn===xe.OPS.paintImageMaskXObject&&_n.args[0]?.count>0&&_n.args[0].count++}class an{static TIME_SLOT_DURATION_MS=20;static CHECK_TIME_EVERY=100;constructor(){this.reset()}check(){return++this.checked<an.CHECK_TIME_EVERY?!1:(this.checked=0,this.endTime<=Date.now())}reset(){this.endTime=Date.now()+an.TIME_SLOT_DURATION_MS,this.checked=0}}class Ke{constructor({xref:wn,handler:Nn,pageIndex:Tn,idFactory:Cn,fontCache:In,builtInCMapCache:Rn,standardFontDataCache:bn,globalImageCache:kn,systemFontCache:En,options:On=null}){this.xref=wn,this.handler=Nn,this.pageIndex=Tn,this.idFactory=Cn,this.fontCache=In,this.builtInCMapCache=Rn,this.standardFontDataCache=bn,this.globalImageCache=kn,this.systemFontCache=En,this.options=On||De,this.parsingType3Font=!1,this._regionalImageCache=new Oe.RegionalImageCache,this._fetchBuiltInCMapBound=this.fetchBuiltInCMap.bind(this),dn.ImageResizer.setMaxArea(this.options.canvasMaxAreaInBytes)}get _pdfFunctionFactory(){const wn=new nn.PDFFunctionFactory({xref:this.xref,isEvalSupported:this.options.isEvalSupported});return(0,xe.shadow)(this,"_pdfFunctionFactory",wn)}clone(wn=null){const Nn=Object.create(this);return Nn.options=Object.assign(Object.create(null),this.options,wn),Nn}hasBlendModes(wn,Nn){if(!(wn instanceof Re.Dict)||wn.objId&&Nn.has(wn.objId))return!1;const Tn=new Re.RefSet(Nn);wn.objId&&Tn.put(wn.objId);const Cn=[wn],In=this.xref;for(;Cn.length;){const Rn=Cn.shift(),bn=Rn.get("ExtGState");if(bn instanceof Re.Dict)for(let En of bn.getRawValues()){if(En instanceof Re.Ref){if(Tn.has(En))continue;try{En=In.fetch(En)}catch(Mn){Tn.put(En),(0,xe.info)(`hasBlendModes - ignoring ExtGState: "${Mn}".`);continue}}if(!(En instanceof Re.Dict))continue;En.objId&&Tn.put(En.objId);const On=En.get("BM");if(On instanceof Re.Name){if(On.name!=="Normal")return!0;continue}if(On!==void 0&&Array.isArray(On)){for(const Mn of On)if(Mn instanceof Re.Name&&Mn.name!=="Normal")return!0}}const kn=Rn.get("XObject");if(kn instanceof Re.Dict)for(let En of kn.getRawValues()){if(En instanceof Re.Ref){if(Tn.has(En))continue;try{En=In.fetch(En)}catch(Mn){Tn.put(En),(0,xe.info)(`hasBlendModes - ignoring XObject: "${Mn}".`);continue}}if(!(En instanceof St.BaseStream))continue;En.dict.objId&&Tn.put(En.dict.objId);const On=En.dict.get("Resources");On instanceof Re.Dict&&(On.objId&&Tn.has(On.objId)||(Cn.push(On),On.objId&&Tn.put(On.objId)))}}for(const Rn of Tn)Nn.put(Rn);return!1}async fetchBuiltInCMap(wn){const Nn=this.builtInCMapCache.get(wn);if(Nn)return Nn;let Tn;if(this.options.cMapUrl!==null){const Cn=`${this.options.cMapUrl}${wn}.bcmap`,In=await fetch(Cn);if(!In.ok)throw new Error(`fetchBuiltInCMap: failed to fetch file "${Cn}" with "${In.statusText}".`);Tn={cMapData:new Uint8Array(await In.arrayBuffer()),compressionType:xe.CMapCompressionType.BINARY}}else Tn=await this.handler.sendWithPromise("FetchBuiltInCMap",{name:wn});return Tn.compressionType!==xe.CMapCompressionType.NONE&&this.builtInCMapCache.set(wn,Tn),Tn}async fetchStandardFontData(wn){const Nn=this.standardFontDataCache.get(wn);if(Nn)return new Ce.Stream(Nn);if(this.options.useSystemFonts&&wn!=="Symbol"&&wn!=="ZapfDingbats")return null;const Tn=(0,Te.getFontNameToFileMap)(),Cn=Tn[wn];let In;if(this.options.standardFontDataUrl!==null){const Rn=`${this.options.standardFontDataUrl}${Cn}`,bn=await fetch(Rn);bn.ok?In=await bn.arrayBuffer():(0,xe.warn)(`fetchStandardFontData: failed to fetch file "${Rn}" with "${bn.statusText}".`)}else try{In=await this.handler.sendWithPromise("FetchStandardFontData",{filename:Cn})}catch(Rn){(0,xe.warn)(`fetchStandardFontData: failed to fetch file "${Cn}" with "${Rn}".`)}return In?(this.standardFontDataCache.set(wn,In),new Ce.Stream(In)):null}async buildFormXObject(wn,Nn,Tn,Cn,In,Rn,bn){const kn=Nn.dict,En=kn.getArray("Matrix");let On=kn.getArray("BBox");On=Array.isArray(On)&&On.length===4?xe.Util.normalizeRect(On):null;let Mn,Bn;kn.has("OC")&&(Mn=await this.parseMarkedContentProps(kn.get("OC"),wn)),Mn!==void 0&&Cn.addOp(xe.OPS.beginMarkedContentProps,["OC",Mn]);const Hn=kn.get("Group");if(Hn){Bn={matrix:En,bbox:On,smask:Tn,isolated:!1,knockout:!1};const Un=Hn.get("S");let qn=null;if((0,Re.isName)(Un,"Transparency")&&(Bn.isolated=Hn.get("I")||!1,Bn.knockout=Hn.get("K")||!1,Hn.has("CS"))){const jn=Hn.getRaw("CS"),Xn=un.ColorSpace.getCached(jn,this.xref,bn);Xn?qn=Xn:qn=await this.parseColorSpace({cs:jn,resources:wn,localColorSpaceCache:bn})}Tn?.backdrop&&(qn||=un.ColorSpace.singletons.rgb,Tn.backdrop=qn.getRgb(Tn.backdrop,0)),Cn.addOp(xe.OPS.beginGroup,[Bn])}const $n=Hn?[En,null]:[En,On];return Cn.addOp(xe.OPS.paintFormXObjectBegin,$n),this.getOperatorList({stream:Nn,task:In,resources:kn.get("Resources")||wn,operatorList:Cn,initialState:Rn}).then(function(){Cn.addOp(xe.OPS.paintFormXObjectEnd,[]),Hn&&Cn.addOp(xe.OPS.endGroup,[Bn]),Mn!==void 0&&Cn.addOp(xe.OPS.endMarkedContent,[])})}_sendImgData(wn,Nn,Tn=!1){const Cn=Nn?[Nn.bitmap||Nn.data.buffer]:null;return this.parsingType3Font||Tn?this.handler.send("commonobj",[wn,"Image",Nn],Cn):this.handler.send("obj",[wn,this.pageIndex,"Image",Nn],Cn)}async buildPaintImageXObject({resources:wn,image:Nn,isInline:Tn=!1,operatorList:Cn,cacheKey:In,localImageCache:Rn,localColorSpaceCache:bn}){const kn=Nn.dict,En=kn.objId,On=kn.get("W","Width"),Mn=kn.get("H","Height");if(!(On&&typeof On=="number")||!(Mn&&typeof Mn=="number")){(0,xe.warn)("Image dimensions are missing, or not numbers.");return}const Bn=this.options.maxImageSize;if(Bn!==-1&&On*Mn>Bn){const ri="Image exceeded maximum allowed size and was removed.";if(this.options.ignoreErrors){(0,xe.warn)(ri);return}throw new Error(ri)}let Hn;kn.has("OC")&&(Hn=await this.parseMarkedContentProps(kn.get("OC"),wn));const $n=kn.get("IM","ImageMask")||!1;let Un,qn;if($n){const ri=kn.get("I","Interpolate"),ui=On+7>>3,ti=Nn.getBytes(ui*Mn),Yn=kn.getArray("D","Decode");if(this.parsingType3Font){if(Un=Me.PDFImage.createRawMask({imgArray:ti,width:On,height:Mn,imageIsFromDecodeStream:Nn instanceof Qe.DecodeStream,inverseDecode:Yn?.[0]>0,interpolate:ri}),Un.cached=!!In,qn=[Un],Cn.addImageOps(xe.OPS.paintImageMaskXObject,qn,Hn),In){const ci={fn:xe.OPS.paintImageMaskXObject,args:qn,optionalContent:Hn};Rn.set(In,En,ci),En&&this._regionalImageCache.set(null,En,ci)}return}if(Un=await Me.PDFImage.createMask({imgArray:ti,width:On,height:Mn,imageIsFromDecodeStream:Nn instanceof Qe.DecodeStream,inverseDecode:Yn?.[0]>0,interpolate:ri,isOffscreenCanvasSupported:this.options.isOffscreenCanvasSupported}),Un.isSingleOpaquePixel){if(Cn.addImageOps(xe.OPS.paintSolidColorImageMask,[],Hn),In){const ci={fn:xe.OPS.paintSolidColorImageMask,args:[],optionalContent:Hn};Rn.set(In,En,ci),En&&this._regionalImageCache.set(null,En,ci)}return}const Qn=`mask_${this.idFactory.createObjId()}`;if(Cn.addDependency(Qn),this._sendImgData(Qn,Un),qn=[{data:Qn,width:Un.width,height:Un.height,interpolate:Un.interpolate,count:1}],Cn.addImageOps(xe.OPS.paintImageMaskXObject,qn,Hn),In){const ci={fn:xe.OPS.paintImageMaskXObject,args:qn,optionalContent:Hn};Rn.set(In,En,ci),En&&this._regionalImageCache.set(null,En,ci)}return}if(Tn&&!kn.has("SMask")&&!kn.has("Mask")&&On+Mn<200){Un=await new Me.PDFImage({xref:this.xref,res:wn,image:Nn,isInline:Tn,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:bn}).createImageData(!0,!1),Cn.isOffscreenCanvasSupported=this.options.isOffscreenCanvasSupported,Cn.addImageOps(xe.OPS.paintInlineImageXObject,[Un],Hn);return}let Xn=`img_${this.idFactory.createObjId()}`,Gn=!1;if(this.parsingType3Font?Xn=`${this.idFactory.getDocId()}_type3_${Xn}`:En&&(Gn=this.globalImageCache.shouldCache(En,this.pageIndex),Gn&&(Xn=`${this.idFactory.getDocId()}_${Xn}`)),Cn.addDependency(Xn),qn=[Xn,On,Mn],Me.PDFImage.buildImage({xref:this.xref,res:wn,image:Nn,isInline:Tn,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:bn}).then(async ri=>{if(Un=await ri.createImageData(!1,this.options.isOffscreenCanvasSupported),In&&En&&Gn){const ui=Un.bitmap?Un.width*Un.height*4:Un.data.length;this.globalImageCache.addByteSize(En,ui)}return this._sendImgData(Xn,Un,Gn)}).catch(ri=>((0,xe.warn)(`Unable to decode image "${Xn}": "${ri}".`),this._sendImgData(Xn,null,Gn))),Cn.addImageOps(xe.OPS.paintImageXObject,qn,Hn),In){const ri={fn:xe.OPS.paintImageXObject,args:qn,optionalContent:Hn};Rn.set(In,En,ri),En&&(this._regionalImageCache.set(null,En,ri),Gn&&((0,xe.assert)(!Tn,"Cannot cache an inline image globally."),this.globalImageCache.setData(En,{objId:Xn,fn:xe.OPS.paintImageXObject,args:qn,optionalContent:Hn,byteSize:0})))}}handleSMask(wn,Nn,Tn,Cn,In,Rn){const bn=wn.get("G"),kn={subtype:wn.get("S").name,backdrop:wn.get("BC")},En=wn.get("TR");if((0,nn.isPDFFunction)(En)){const On=this._pdfFunctionFactory.create(En),Mn=new Uint8Array(256),Bn=new Float32Array(1);for(let Hn=0;Hn<256;Hn++)Bn[0]=Hn/255,On(Bn,0,Bn,0),Mn[Hn]=Bn[0]*255|0;kn.transferMap=Mn}return this.buildFormXObject(Nn,bn,kn,Tn,Cn,In.state.clone(),Rn)}handleTransferFunction(wn){let Nn;if(Array.isArray(wn))Nn=wn;else if((0,nn.isPDFFunction)(wn))Nn=[wn];else return null;const Tn=[];let Cn=0,In=0;for(const Rn of Nn){const bn=this.xref.fetchIfRef(Rn);if(Cn++,(0,Re.isName)(bn,"Identity")){Tn.push(null);continue}else if(!(0,nn.isPDFFunction)(bn))return null;const kn=this._pdfFunctionFactory.create(bn),En=new Uint8Array(256),On=new Float32Array(1);for(let Mn=0;Mn<256;Mn++)On[0]=Mn/255,kn(On,0,On,0),En[Mn]=On[0]*255|0;Tn.push(En),In++}return!(Cn===1||Cn===4)||In===0?null:Tn}handleTilingType(wn,Nn,Tn,Cn,In,Rn,bn,kn){const En=new tn.OperatorList,On=Re.Dict.merge({xref:this.xref,dictArray:[In.get("Resources"),Tn]});return this.getOperatorList({stream:Cn,task:bn,resources:On,operatorList:En}).then(function(){const Mn=En.getIR(),Bn=(0,Ye.getTilingPatternIR)(Mn,In,Nn);Rn.addDependencies(En.dependencies),Rn.addOp(wn,Bn),In.objId&&kn.set(null,In.objId,{operatorListIR:Mn,dict:In})}).catch(Mn=>{if(!(Mn instanceof xe.AbortException)){if(this.options.ignoreErrors){(0,xe.warn)(`handleTilingType - ignoring pattern: "${Mn}".`);return}throw Mn}})}handleSetFont(wn,Nn,Tn,Cn,In,Rn,bn=null,kn=null){const En=Nn?.[0]instanceof Re.Name?Nn[0].name:null;return this.loadFont(En,Tn,wn,bn,kn).then(On=>On.font.isType3Font?On.loadType3Data(this,wn,In).then(function(){return Cn.addDependencies(On.type3Dependencies),On}).catch(Mn=>new sn({loadedName:"g_font_error",font:new e.ErrorFont(`Type3 font load error: ${Mn}`),dict:On.font,evaluatorOptions:this.options})):On).then(On=>(Rn.font=On.font,On.send(this.handler),On.loadedName))}handleText(wn,Nn){const Tn=Nn.font,Cn=Tn.charsToGlyphs(wn);return Tn.data&&(Nn.textRenderingMode&xe.TextRenderingMode.ADD_TO_PATH_FLAG||Nn.fillColorSpace.name==="Pattern"||Tn.disableFontFace||this.options.disableFontFace)&&Ke.buildFontPaths(Tn,Cn,this.handler,this.options),Cn}ensureStateFont(wn){if(wn.font)return;const Nn=new xe.FormatError("Missing setFont (Tf) operator before text rendering operator.");if(this.options.ignoreErrors){(0,xe.warn)(`ensureStateFont: "${Nn}".`);return}throw Nn}async setGState({resources:wn,gState:Nn,operatorList:Tn,cacheKey:Cn,task:In,stateManager:Rn,localGStateCache:bn,localColorSpaceCache:kn}){const En=Nn.objId;let On=!0;const Mn=[];let Bn=Promise.resolve();for(const Hn of Nn.getKeys()){const $n=Nn.get(Hn);switch(Hn){case"Type":break;case"LW":case"LC":case"LJ":case"ML":case"D":case"RI":case"FL":case"CA":case"ca":Mn.push([Hn,$n]);break;case"Font":On=!1,Bn=Bn.then(()=>this.handleSetFont(wn,null,$n[0],Tn,In,Rn.state).then(function(qn){Tn.addDependency(qn),Mn.push([Hn,[qn,$n[1]]])}));break;case"BM":Mn.push([Hn,on($n)]);break;case"SMask":if((0,Re.isName)($n,"None")){Mn.push([Hn,!1]);break}$n instanceof Re.Dict?(On=!1,Bn=Bn.then(()=>this.handleSMask($n,wn,Tn,In,Rn,kn)),Mn.push([Hn,!0])):(0,xe.warn)("Unsupported SMask type");break;case"TR":const Un=this.handleTransferFunction($n);Mn.push([Hn,Un]);break;case"OP":case"op":case"OPM":case"BG":case"BG2":case"UCR":case"UCR2":case"TR2":case"HT":case"SM":case"SA":case"AIS":case"TK":(0,xe.info)("graphic state operator "+Hn);break;default:(0,xe.info)("Unknown graphic state operator "+Hn);break}}return Bn.then(function(){Mn.length>0&&Tn.addOp(xe.OPS.setGState,[Mn]),On&&bn.set(Cn,En,Mn)})}loadFont(wn,Nn,Tn,Cn=null,In=null){const Rn=async()=>new sn({loadedName:"g_font_error",font:new e.ErrorFont(`Font "${wn}" is not available.`),dict:Nn,evaluatorOptions:this.options});let bn;if(Nn)Nn instanceof Re.Ref&&(bn=Nn);else{const $n=Tn.get("Font");$n&&(bn=$n.getRaw(wn))}if(bn){if(this.parsingType3Font&&this.type3FontRefs.has(bn))return Rn();if(this.fontCache.has(bn))return this.fontCache.get(bn);Nn=this.xref.fetchIfRef(bn)}if(!(Nn instanceof Re.Dict)){if(!this.options.ignoreErrors&&!this.parsingType3Font)return(0,xe.warn)(`Font "${wn}" is not available.`),Rn();(0,xe.warn)(`Font "${wn}" is not available -- attempting to fallback to a default font.`),Nn=Cn||Ke.fallbackFontDict}if(Nn.cacheKey&&this.fontCache.has(Nn.cacheKey))return this.fontCache.get(Nn.cacheKey);const kn=new xe.PromiseCapability;let En;try{En=this.preEvaluateFont(Nn),En.cssFontInfo=In}catch($n){return(0,xe.warn)(`loadFont - preEvaluateFont failed: "${$n}".`),Rn()}const{descriptor:On,hash:Mn}=En,Bn=bn instanceof Re.Ref;let Hn;if(Mn&&On instanceof Re.Dict){const $n=On.fontAliases||=Object.create(null);if($n[Mn]){const Un=$n[Mn].aliasRef;if(Bn&&Un&&this.fontCache.has(Un))return this.fontCache.putAlias(bn,Un),this.fontCache.get(bn)}else $n[Mn]={fontID:this.idFactory.createFontId()};Bn&&($n[Mn].aliasRef=bn),Hn=$n[Mn].fontID}else Hn=this.idFactory.createFontId();return(0,xe.assert)(Hn?.startsWith("f"),'The "fontID" must be (correctly) defined.'),Bn?this.fontCache.put(bn,kn.promise):(Nn.cacheKey=`cacheKey_${Hn}`,this.fontCache.put(Nn.cacheKey,kn.promise)),Nn.loadedName=`${this.idFactory.getDocId()}_${Hn}`,this.translateFont(En).then($n=>{kn.resolve(new sn({loadedName:Nn.loadedName,font:$n,dict:Nn,evaluatorOptions:this.options}))}).catch($n=>{(0,xe.warn)(`loadFont - translateFont failed: "${$n}".`),kn.resolve(new sn({loadedName:Nn.loadedName,font:new e.ErrorFont($n instanceof Error?$n.message:$n),dict:Nn,evaluatorOptions:this.options}))}),kn.promise}buildPath(wn,Nn,Tn,Cn=!1){const In=wn.length-1;if(Tn||(Tn=[]),In<0||wn.fnArray[In]!==xe.OPS.constructPath){Cn&&((0,xe.warn)(`Encountered path operator "${Nn}" inside of a text object.`),wn.addOp(xe.OPS.save,null));let Rn;switch(Nn){case xe.OPS.rectangle:const bn=Tn[0]+Tn[2],kn=Tn[1]+Tn[3];Rn=[Math.min(Tn[0],bn),Math.max(Tn[0],bn),Math.min(Tn[1],kn),Math.max(Tn[1],kn)];break;case xe.OPS.moveTo:case xe.OPS.lineTo:Rn=[Tn[0],Tn[0],Tn[1],Tn[1]];break;default:Rn=[1/0,-1/0,1/0,-1/0];break}wn.addOp(xe.OPS.constructPath,[[Nn],Tn,Rn]),Cn&&wn.addOp(xe.OPS.restore,null)}else{const Rn=wn.argsArray[In];Rn[0].push(Nn),Rn[1].push(...Tn);const bn=Rn[2];switch(Nn){case xe.OPS.rectangle:const kn=Tn[0]+Tn[2],En=Tn[1]+Tn[3];bn[0]=Math.min(bn[0],Tn[0],kn),bn[1]=Math.max(bn[1],Tn[0],kn),bn[2]=Math.min(bn[2],Tn[1],En),bn[3]=Math.max(bn[3],Tn[1],En);break;case xe.OPS.moveTo:case xe.OPS.lineTo:bn[0]=Math.min(bn[0],Tn[0]),bn[1]=Math.max(bn[1],Tn[0]),bn[2]=Math.min(bn[2],Tn[1]),bn[3]=Math.max(bn[3],Tn[1]);break}}}parseColorSpace({cs:wn,resources:Nn,localColorSpaceCache:Tn}){return un.ColorSpace.parseAsync({cs:wn,xref:this.xref,resources:Nn,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:Tn}).catch(Cn=>{if(Cn instanceof xe.AbortException)return null;if(this.options.ignoreErrors)return(0,xe.warn)(`parseColorSpace - ignoring ColorSpace: "${Cn}".`),null;throw Cn})}parseShading({shading:wn,resources:Nn,localColorSpaceCache:Tn,localShadingPatternCache:Cn}){let In=Cn.get(wn);if(!In){var Rn=Ye.Pattern.parseShading(wn,this.xref,Nn,this._pdfFunctionFactory,Tn);const bn=Rn.getIR();In=`pattern_${this.idFactory.createObjId()}`,this.parsingType3Font&&(In=`${this.idFactory.getDocId()}_type3_${In}`),Cn.set(wn,In),this.parsingType3Font?this.handler.send("commonobj",[In,"Pattern",bn]):this.handler.send("obj",[In,this.pageIndex,"Pattern",bn])}return In}handleColorN(wn,Nn,Tn,Cn,In,Rn,bn,kn,En,On){const Mn=Tn.pop();if(Mn instanceof Re.Name){const Bn=In.getRaw(Mn.name),Hn=Bn instanceof Re.Ref&&En.getByRef(Bn);if(Hn)try{const Un=Cn.base?Cn.base.getRgb(Tn,0):null,qn=(0,Ye.getTilingPatternIR)(Hn.operatorListIR,Hn.dict,Un);wn.addOp(Nn,qn);return}catch{}const $n=this.xref.fetchIfRef(Bn);if($n){const Un=$n instanceof St.BaseStream?$n.dict:$n,qn=Un.get("PatternType");if(qn===Ue.TILING){const jn=Cn.base?Cn.base.getRgb(Tn,0):null;return this.handleTilingType(Nn,jn,Rn,$n,Un,wn,bn,En)}else if(qn===Ue.SHADING){const jn=Un.get("Shading"),Xn=Un.getArray("Matrix"),Gn=this.parseShading({shading:jn,resources:Rn,localColorSpaceCache:kn,localShadingPatternCache:On});wn.addOp(Nn,["Shading",Gn,Xn]);return}throw new xe.FormatError(`Unknown PatternType: ${qn}`)}}throw new xe.FormatError(`Unknown PatternName: ${Mn}`)}_parseVisibilityExpression(wn,Nn,Tn){if(++Nn>10){(0,xe.warn)("Visibility expression is too deeply nested");return}const In=wn.length,Rn=this.xref.fetchIfRef(wn[0]);if(In<2||!(Rn instanceof Re.Name)){(0,xe.warn)("Invalid visibility expression");return}switch(Rn.name){case"And":case"Or":case"Not":Tn.push(Rn.name);break;default:(0,xe.warn)(`Invalid operator ${Rn.name} in visibility expression`);return}for(let bn=1;bn<In;bn++){const kn=wn[bn],En=this.xref.fetchIfRef(kn);if(Array.isArray(En)){const On=[];Tn.push(On),this._parseVisibilityExpression(En,Nn,On)}else kn instanceof Re.Ref&&Tn.push(kn.toString())}}async parseMarkedContentProps(wn,Nn){let Tn;if(wn instanceof Re.Name)Tn=Nn.get("Properties").get(wn.name);else if(wn instanceof Re.Dict)Tn=wn;else throw new xe.FormatError("Optional content properties malformed.");const Cn=Tn.get("Type")?.name;if(Cn==="OCG")return{type:Cn,id:Tn.objId};if(Cn==="OCMD"){const In=Tn.get("VE");if(Array.isArray(In)){const bn=[];if(this._parseVisibilityExpression(In,0,bn),bn.length>0)return{type:"OCMD",expression:bn}}const Rn=Tn.get("OCGs");if(Array.isArray(Rn)||Rn instanceof Re.Dict){const bn=[];if(Array.isArray(Rn))for(const kn of Rn)bn.push(kn.toString());else bn.push(Rn.objId);return{type:Cn,ids:bn,policy:Tn.get("P")instanceof Re.Name?Tn.get("P").name:null,expression:null}}else if(Rn instanceof Re.Ref)return{type:Cn,id:Rn.toString()}}return null}getOperatorList({stream:wn,task:Nn,resources:Tn,operatorList:Cn,initialState:In=null,fallbackFontDict:Rn=null}){if(Tn||=Re.Dict.empty,In||=new yn,!Cn)throw new Error('getOperatorList: missing "operatorList" parameter');const bn=this,kn=this.xref;let En=!1;const On=new Oe.LocalImageCache,Mn=new Oe.LocalColorSpaceCache,Bn=new Oe.LocalGStateCache,Hn=new Oe.LocalTilingPatternCache,$n=new Map,Un=Tn.get("XObject")||Re.Dict.empty,qn=Tn.get("Pattern")||Re.Dict.empty,jn=new gn(In),Xn=new Sn(wn,kn,jn),Gn=new an;function ri(ui){for(let ti=0,Yn=Xn.savedStatesDepth;ti<Yn;ti++)Cn.addOp(xe.OPS.restore,[])}return new Promise(function ui(ti,Yn){const Qn=function(vi){Promise.all([vi,Cn.ready]).then(function(){try{ui(ti,Yn)}catch(rr){Yn(rr)}},Yn)};Nn.ensureNotTerminated(),Gn.reset();const ci={};let pi,ki,hi,si,ai,li;for(;!(pi=Gn.check())&&(ci.args=null,!!Xn.read(ci));){let vi=ci.args,rr=ci.fn;switch(rr|0){case xe.OPS.paintXObject:if(li=vi[0]instanceof Re.Name,ai=vi[0].name,li){const Xi=On.getByName(ai);if(Xi){Cn.addImageOps(Xi.fn,Xi.args,Xi.optionalContent),Je(Xi),vi=null;continue}}Qn(new Promise(function(Xi,Gi){if(!li)throw new xe.FormatError("XObject must be referred to by name.");let Yi=Un.getRaw(ai);if(Yi instanceof Re.Ref){const ha=On.getByRef(Yi)||bn._regionalImageCache.getByRef(Yi);if(ha){Cn.addImageOps(ha.fn,ha.args,ha.optionalContent),Je(ha),Xi();return}const sr=bn.globalImageCache.getData(Yi,bn.pageIndex);if(sr){Cn.addDependency(sr.objId),Cn.addImageOps(sr.fn,sr.args,sr.optionalContent),Xi();return}Yi=kn.fetch(Yi)}if(!(Yi instanceof St.BaseStream))throw new xe.FormatError("XObject should be a stream");const Nr=Yi.dict.get("Subtype");if(!(Nr instanceof Re.Name))throw new xe.FormatError("XObject should have a Name subtype");if(Nr.name==="Form"){jn.save(),bn.buildFormXObject(Tn,Yi,null,Cn,Nn,jn.state.clone(),Mn).then(function(){jn.restore(),Xi()},Gi);return}else if(Nr.name==="Image"){bn.buildPaintImageXObject({resources:Tn,image:Yi,operatorList:Cn,cacheKey:ai,localImageCache:On,localColorSpaceCache:Mn}).then(Xi,Gi);return}else if(Nr.name==="PS")(0,xe.info)("Ignored XObject subtype PS");else throw new xe.FormatError(`Unhandled XObject subtype ${Nr.name}`);Xi()}).catch(function(Xi){if(!(Xi instanceof xe.AbortException)){if(bn.options.ignoreErrors){(0,xe.warn)(`getOperatorList - ignoring XObject: "${Xi}".`);return}throw Xi}}));return;case xe.OPS.setFont:var Ei=vi[1];Qn(bn.handleSetFont(Tn,vi,null,Cn,Nn,jn.state,Rn).then(function(Xi){Cn.addDependency(Xi),Cn.addOp(xe.OPS.setFont,[Xi,Ei])}));return;case xe.OPS.beginText:En=!0;break;case xe.OPS.endText:En=!1;break;case xe.OPS.endInlineImage:var $i=vi[0].cacheKey;if($i){const Xi=On.getByName($i);if(Xi){Cn.addImageOps(Xi.fn,Xi.args,Xi.optionalContent),Je(Xi),vi=null;continue}}Qn(bn.buildPaintImageXObject({resources:Tn,image:vi[0],isInline:!0,operatorList:Cn,cacheKey:$i,localImageCache:On,localColorSpaceCache:Mn}));return;case xe.OPS.showText:if(!jn.state.font){bn.ensureStateFont(jn.state);continue}vi[0]=bn.handleText(vi[0],jn.state);break;case xe.OPS.showSpacedText:if(!jn.state.font){bn.ensureStateFont(jn.state);continue}var Qi=[],fr=jn.state;for(const Xi of vi[0])typeof Xi=="string"?Qi.push(...bn.handleText(Xi,fr)):typeof Xi=="number"&&Qi.push(Xi);vi[0]=Qi,rr=xe.OPS.showText;break;case xe.OPS.nextLineShowText:if(!jn.state.font){bn.ensureStateFont(jn.state);continue}Cn.addOp(xe.OPS.nextLine),vi[0]=bn.handleText(vi[0],jn.state),rr=xe.OPS.showText;break;case xe.OPS.nextLineSetSpacingShowText:if(!jn.state.font){bn.ensureStateFont(jn.state);continue}Cn.addOp(xe.OPS.nextLine),Cn.addOp(xe.OPS.setWordSpacing,[vi.shift()]),Cn.addOp(xe.OPS.setCharSpacing,[vi.shift()]),vi[0]=bn.handleText(vi[0],jn.state),rr=xe.OPS.showText;break;case xe.OPS.setTextRenderingMode:jn.state.textRenderingMode=vi[0];break;case xe.OPS.setFillColorSpace:{const Xi=un.ColorSpace.getCached(vi[0],kn,Mn);if(Xi){jn.state.fillColorSpace=Xi;continue}Qn(bn.parseColorSpace({cs:vi[0],resources:Tn,localColorSpaceCache:Mn}).then(function(Gi){Gi&&(jn.state.fillColorSpace=Gi)}));return}case xe.OPS.setStrokeColorSpace:{const Xi=un.ColorSpace.getCached(vi[0],kn,Mn);if(Xi){jn.state.strokeColorSpace=Xi;continue}Qn(bn.parseColorSpace({cs:vi[0],resources:Tn,localColorSpaceCache:Mn}).then(function(Gi){Gi&&(jn.state.strokeColorSpace=Gi)}));return}case xe.OPS.setFillColor:si=jn.state.fillColorSpace,vi=si.getRgb(vi,0),rr=xe.OPS.setFillRGBColor;break;case xe.OPS.setStrokeColor:si=jn.state.strokeColorSpace,vi=si.getRgb(vi,0),rr=xe.OPS.setStrokeRGBColor;break;case xe.OPS.setFillGray:jn.state.fillColorSpace=un.ColorSpace.singletons.gray,vi=un.ColorSpace.singletons.gray.getRgb(vi,0),rr=xe.OPS.setFillRGBColor;break;case xe.OPS.setStrokeGray:jn.state.strokeColorSpace=un.ColorSpace.singletons.gray,vi=un.ColorSpace.singletons.gray.getRgb(vi,0),rr=xe.OPS.setStrokeRGBColor;break;case xe.OPS.setFillCMYKColor:jn.state.fillColorSpace=un.ColorSpace.singletons.cmyk,vi=un.ColorSpace.singletons.cmyk.getRgb(vi,0),rr=xe.OPS.setFillRGBColor;break;case xe.OPS.setStrokeCMYKColor:jn.state.strokeColorSpace=un.ColorSpace.singletons.cmyk,vi=un.ColorSpace.singletons.cmyk.getRgb(vi,0),rr=xe.OPS.setStrokeRGBColor;break;case xe.OPS.setFillRGBColor:jn.state.fillColorSpace=un.ColorSpace.singletons.rgb,vi=un.ColorSpace.singletons.rgb.getRgb(vi,0);break;case xe.OPS.setStrokeRGBColor:jn.state.strokeColorSpace=un.ColorSpace.singletons.rgb,vi=un.ColorSpace.singletons.rgb.getRgb(vi,0);break;case xe.OPS.setFillColorN:if(si=jn.state.fillColorSpace,si.name==="Pattern"){Qn(bn.handleColorN(Cn,xe.OPS.setFillColorN,vi,si,qn,Tn,Nn,Mn,Hn,$n));return}vi=si.getRgb(vi,0),rr=xe.OPS.setFillRGBColor;break;case xe.OPS.setStrokeColorN:if(si=jn.state.strokeColorSpace,si.name==="Pattern"){Qn(bn.handleColorN(Cn,xe.OPS.setStrokeColorN,vi,si,qn,Tn,Nn,Mn,Hn,$n));return}vi=si.getRgb(vi,0),rr=xe.OPS.setStrokeRGBColor;break;case xe.OPS.shadingFill:var ar=Tn.get("Shading");if(!ar)throw new xe.FormatError("No shading resource found");var Ii=ar.get(vi[0].name);if(!Ii)throw new xe.FormatError("No shading object found");vi=[bn.parseShading({shading:Ii,resources:Tn,localColorSpaceCache:Mn,localShadingPatternCache:$n})],rr=xe.OPS.shadingFill;break;case xe.OPS.setGState:if(li=vi[0]instanceof Re.Name,ai=vi[0].name,li){const Xi=Bn.getByName(ai);if(Xi){Xi.length>0&&Cn.addOp(xe.OPS.setGState,[Xi]),vi=null;continue}}Qn(new Promise(function(Xi,Gi){if(!li)throw new xe.FormatError("GState must be referred to by name.");const Yi=Tn.get("ExtGState");if(!(Yi instanceof Re.Dict))throw new xe.FormatError("ExtGState should be a dictionary.");const Nr=Yi.get(ai);if(!(Nr instanceof Re.Dict))throw new xe.FormatError("GState should be a dictionary.");bn.setGState({resources:Tn,gState:Nr,operatorList:Cn,cacheKey:ai,task:Nn,stateManager:jn,localGStateCache:Bn,localColorSpaceCache:Mn}).then(Xi,Gi)}).catch(function(Xi){if(!(Xi instanceof xe.AbortException)){if(bn.options.ignoreErrors){(0,xe.warn)(`getOperatorList - ignoring ExtGState: "${Xi}".`);return}throw Xi}}));return;case xe.OPS.moveTo:case xe.OPS.lineTo:case xe.OPS.curveTo:case xe.OPS.curveTo2:case xe.OPS.curveTo3:case xe.OPS.closePath:case xe.OPS.rectangle:bn.buildPath(Cn,rr,vi,En);continue;case xe.OPS.markPoint:case xe.OPS.markPointProps:case xe.OPS.beginCompat:case xe.OPS.endCompat:continue;case xe.OPS.beginMarkedContentProps:if(!(vi[0]instanceof Re.Name)){(0,xe.warn)(`Expected name for beginMarkedContentProps arg0=${vi[0]}`);continue}if(vi[0].name==="OC"){Qn(bn.parseMarkedContentProps(vi[1],Tn).then(Xi=>{Cn.addOp(xe.OPS.beginMarkedContentProps,["OC",Xi])}).catch(Xi=>{if(!(Xi instanceof xe.AbortException)){if(bn.options.ignoreErrors){(0,xe.warn)(`getOperatorList - ignoring beginMarkedContentProps: "${Xi}".`);return}throw Xi}}));return}vi=[vi[0].name,vi[1]instanceof Re.Dict?vi[1].get("MCID"):null];break;case xe.OPS.beginMarkedContent:case xe.OPS.endMarkedContent:default:if(vi!==null){for(ki=0,hi=vi.length;ki<hi&&!(vi[ki]instanceof Re.Dict);ki++);if(ki<hi){(0,xe.warn)("getOperatorList - ignoring operator: "+rr);continue}}}Cn.addOp(rr,vi)}if(pi){Qn($e);return}ri(),ti()}).catch(ui=>{if(!(ui instanceof xe.AbortException)){if(this.options.ignoreErrors){(0,xe.warn)(`getOperatorList - ignoring errors during "${Nn.name}" task: "${ui}".`),ri();return}throw ui}})}getTextContent({stream:wn,task:Nn,resources:Tn,stateManager:Cn=null,includeMarkedContent:In=!1,sink:Rn,seenStyles:bn=new Set,viewBox:kn,markedContentData:En=null,disableNormalization:On=!1}){Tn||=Re.Dict.empty,Cn||=new gn(new mn),In&&(En||={level:0});const Mn={items:[],styles:Object.create(null)},Bn={initialized:!1,str:[],totalWidth:0,totalHeight:0,width:0,height:0,vertical:!1,prevTransform:null,textAdvanceScale:0,spaceInFlowMin:0,spaceInFlowMax:0,trackingSpaceMin:1/0,negativeSpaceMax:-1/0,notASpace:-1/0,transform:null,fontName:null,hasEOL:!1},Hn=[" "," "];let $n=0;function Un(sr){const xr=($n+1)%2,Zi=Hn[$n]!==" "&&Hn[xr]===" ";return Hn[$n]=sr,$n=xr,Zi}function qn(){return Hn[$n]!==" "&&Hn[($n+1)%2]===" "}function jn(){Hn[0]=Hn[1]=" ",$n=0}const Xn=.102,Gn=.03,ri=-.2,ui=.102,ti=.6,Yn=.25,Qn=this,ci=this.xref,pi=[];let ki=null;const hi=new Oe.LocalImageCache,si=new Oe.LocalGStateCache,ai=new Sn(wn,ci,Cn);let li;function Ei({width:sr=0,height:xr=0,transform:Zi=Bn.prevTransform,fontName:Ar=Bn.fontName}){Mn.items.push({str:" ",dir:"ltr",width:sr,height:xr,transform:Zi,fontName:Ar,hasEOL:!1})}function $i(){const sr=li.font,xr=[li.fontSize*li.textHScale,0,0,li.fontSize,0,li.textRise];if(sr.isType3Font&&(li.fontSize<=1||sr.isCharBBox)&&!(0,xe.isArrayEqual)(li.fontMatrix,xe.FONT_IDENTITY_MATRIX)){const Zi=sr.bbox[3]-sr.bbox[1];Zi>0&&(xr[3]*=Zi*li.fontMatrix[3])}return xe.Util.transform(li.ctm,xe.Util.transform(li.textMatrix,xr))}function Qi(){if(Bn.initialized)return Bn;const{font:sr,loadedName:xr}=li;bn.has(xr)||(bn.add(xr),Mn.styles[xr]={fontFamily:sr.fallbackName,ascent:sr.ascent,descent:sr.descent,vertical:sr.vertical}),Bn.fontName=xr;const Zi=Bn.transform=$i();sr.vertical?(Bn.width=Bn.totalWidth=Math.hypot(Zi[0],Zi[1]),Bn.height=Bn.totalHeight=0,Bn.vertical=!0):(Bn.width=Bn.totalWidth=0,Bn.height=Bn.totalHeight=Math.hypot(Zi[2],Zi[3]),Bn.vertical=!1);const Ar=Math.hypot(li.textLineMatrix[0],li.textLineMatrix[1]),Hr=Math.hypot(li.ctm[0],li.ctm[1]);Bn.textAdvanceScale=Hr*Ar;const{fontSize:Xr}=li;return Bn.trackingSpaceMin=Xr*Xn,Bn.notASpace=Xr*Gn,Bn.negativeSpaceMax=Xr*ri,Bn.spaceInFlowMin=Xr*ui,Bn.spaceInFlowMax=Xr*ti,Bn.hasEOL=!1,Bn.initialized=!0,Bn}function fr(){if(!Bn.initialized)return;const sr=Math.hypot(li.textLineMatrix[0],li.textLineMatrix[1]),Zi=Math.hypot(li.ctm[0],li.ctm[1])*sr;Zi!==Bn.textAdvanceScale&&(Bn.vertical?(Bn.totalHeight+=Bn.height*Bn.textAdvanceScale,Bn.height=0):(Bn.totalWidth+=Bn.width*Bn.textAdvanceScale,Bn.width=0),Bn.textAdvanceScale=Zi)}function ar(sr){let xr=sr.str.join("");On||(xr=(0,xe.normalizeUnicode)(xr));const Zi=(0,rn.bidi)(xr,-1,sr.vertical);return{str:Zi.str,dir:Zi.dir,width:Math.abs(sr.totalWidth),height:Math.abs(sr.totalHeight),transform:sr.transform,fontName:sr.fontName,hasEOL:sr.hasEOL}}function Ii(sr,xr){return Qn.loadFont(sr,xr,Tn).then(function(Zi){return Zi.font.isType3Font?Zi.loadType3Data(Qn,Tn,Nn).catch(function(){}).then(function(){return Zi}):Zi}).then(function(Zi){li.loadedName=Zi.loadedName,li.font=Zi.font,li.fontMatrix=Zi.font.fontMatrix||xe.FONT_IDENTITY_MATRIX})}function vi(sr,xr,Zi){const Ar=Math.hypot(Zi[0],Zi[1]);return[(Zi[0]*sr+Zi[1]*xr)/Ar,(Zi[2]*sr+Zi[3]*xr)/Ar]}function rr(sr){const xr=$i();let Zi=xr[4],Ar=xr[5];if(li.font?.vertical){if(Zi<kn[0]||Zi>kn[2]||Ar+sr<kn[1]||Ar>kn[3])return!1}else if(Zi+sr<kn[0]||Zi>kn[2]||Ar<kn[1]||Ar>kn[3])return!1;if(!li.font||!Bn.prevTransform)return!0;let Hr=Bn.prevTransform[4],Xr=Bn.prevTransform[5];if(Hr===Zi&&Xr===Ar)return!0;let kr=-1;switch(xr[0]&&xr[1]===0&&xr[2]===0?kr=xr[0]>0?0:180:xr[1]&&xr[0]===0&&xr[3]===0&&(kr=xr[1]>0?90:270),kr){case 0:break;case 90:[Zi,Ar]=[Ar,Zi],[Hr,Xr]=[Xr,Hr];break;case 180:[Zi,Ar,Hr,Xr]=[-Zi,-Ar,-Hr,-Xr];break;case 270:[Zi,Ar]=[-Ar,-Zi],[Hr,Xr]=[-Xr,-Hr];break;default:[Zi,Ar]=vi(Zi,Ar,xr),[Hr,Xr]=vi(Hr,Xr,Bn.prevTransform)}if(li.font.vertical){const Ui=(Xr-Ar)/Bn.textAdvanceScale,Bi=Zi-Hr,Ji=Math.sign(Bn.height);return Ui<Ji*Bn.negativeSpaceMax?Math.abs(Bi)>.5*Bn.width?(Xi(),!0):(jn(),Yi(),!0):Math.abs(Bi)>Bn.width?(Xi(),!0):(Ui<=Ji*Bn.notASpace&&jn(),Ui<=Ji*Bn.trackingSpaceMin?qn()?(jn(),Yi(),Ei({height:Math.abs(Ui)})):Bn.height+=Ui:Gi(Ui,Bn.prevTransform,Ji)||(Bn.str.length===0?(jn(),Ei({height:Math.abs(Ui)})):Bn.height+=Ui),Math.abs(Bi)>Bn.width*Yn&&Yi(),!0)}const da=(Zi-Hr)/Bn.textAdvanceScale,Mi=Ar-Xr,Ri=Math.sign(Bn.width);return da<Ri*Bn.negativeSpaceMax?Math.abs(Mi)>.5*Bn.height?(Xi(),!0):(jn(),Yi(),!0):Math.abs(Mi)>Bn.height?(Xi(),!0):(da<=Ri*Bn.notASpace&&jn(),da<=Ri*Bn.trackingSpaceMin?qn()?(jn(),Yi(),Ei({width:Math.abs(da)})):Bn.width+=da:Gi(da,Bn.prevTransform,Ri)||(Bn.str.length===0?(jn(),Ei({width:Math.abs(da)})):Bn.width+=da),Math.abs(Mi)>Bn.height*Yn&&Yi(),!0)}function dr({chars:sr,extraSpacing:xr}){const Zi=li.font;if(!sr){const Xr=li.charSpacing+xr;Xr&&(Zi.vertical?li.translateTextMatrix(0,-Xr):li.translateTextMatrix(Xr*li.textHScale,0));return}const Ar=Zi.charsToGlyphs(sr),Hr=li.fontMatrix[0]*li.fontSize;for(let Xr=0,kr=Ar.length;Xr<kr;Xr++){const da=Ar[Xr],{category:Mi}=da;if(Mi.isInvisibleFormatMark)continue;let Ri=li.charSpacing+(Xr+1===kr?xr:0),Ui=da.width;Zi.vertical&&(Ui=da.vmetric?da.vmetric[0]:-Ui);let Bi=Ui*Hr;if(Mi.isWhitespace){Zi.vertical?(Ri+=-Bi+li.wordSpacing,li.translateTextMatrix(0,-Ri)):(Ri+=Bi+li.wordSpacing,li.translateTextMatrix(Ri*li.textHScale,0)),Un(" ");continue}if(!Mi.isZeroWidthDiacritic&&!rr(Bi)){Zi.vertical?li.translateTextMatrix(0,Bi):li.translateTextMatrix(Bi*li.textHScale,0);continue}const Ji=Qi();Mi.isZeroWidthDiacritic&&(Bi=0),Zi.vertical?(li.translateTextMatrix(0,Bi),Bi=Math.abs(Bi),Ji.height+=Bi):(Bi*=li.textHScale,li.translateTextMatrix(Bi,0),Ji.width+=Bi),Bi&&(Ji.prevTransform=$i());const or=da.unicode;Un(or)&&Ji.str.push(" "),Ji.str.push(or),Ri&&(Zi.vertical?li.translateTextMatrix(0,-Ri):li.translateTextMatrix(Ri*li.textHScale,0))}}function Xi(){jn(),Bn.initialized?(Bn.hasEOL=!0,Yi()):Mn.items.push({str:"",dir:"ltr",width:0,height:0,transform:$i(),fontName:li.loadedName,hasEOL:!0})}function Gi(sr,xr,Zi){if(Zi*Bn.spaceInFlowMin<=sr&&sr<=Zi*Bn.spaceInFlowMax)return Bn.initialized&&(jn(),Bn.str.push(" ")),!1;const Ar=Bn.fontName;let Hr=0;return Bn.vertical&&(Hr=sr,sr=0),Yi(),jn(),Ei({width:Math.abs(sr),height:Math.abs(Hr),transform:xr||$i(),fontName:Ar}),!0}function Yi(){!Bn.initialized||!Bn.str||(Bn.vertical?Bn.totalHeight+=Bn.height*Bn.textAdvanceScale:Bn.totalWidth+=Bn.width*Bn.textAdvanceScale,Mn.items.push(ar(Bn)),Bn.initialized=!1,Bn.str.length=0)}function Nr(sr=!1){const xr=Mn.items.length;xr!==0&&(sr&&xr<We||(Rn.enqueue(Mn,xr),Mn.items=[],Mn.styles=Object.create(null)))}const ha=new an;return new Promise(function sr(xr,Zi){const Ar=function(Bi){Nr(!0),Promise.all([Bi,Rn.ready]).then(function(){try{sr(xr,Zi)}catch(Ji){Zi(Ji)}},Zi)};Nn.ensureNotTerminated(),ha.reset();const Hr={};let Xr,kr=[];for(;!(Xr=ha.check())&&(kr.length=0,Hr.args=kr,!!ai.read(Hr));){const Bi=li;li=Cn.state;const Ji=Hr.fn;switch(kr=Hr.args,Ji|0){case xe.OPS.setFont:var da=kr[0].name,Mi=kr[1];if(li.font&&da===li.fontName&&Mi===li.fontSize)break;Yi(),li.fontName=da,li.fontSize=Mi,Ar(Ii(da,null));return;case xe.OPS.setTextRise:li.textRise=kr[0];break;case xe.OPS.setHScale:li.textHScale=kr[0]/100;break;case xe.OPS.setLeading:li.leading=kr[0];break;case xe.OPS.moveText:li.translateTextLineMatrix(kr[0],kr[1]),li.textMatrix=li.textLineMatrix.slice();break;case xe.OPS.setLeadingMoveText:li.leading=-kr[1],li.translateTextLineMatrix(kr[0],kr[1]),li.textMatrix=li.textLineMatrix.slice();break;case xe.OPS.nextLine:li.carriageReturn();break;case xe.OPS.setTextMatrix:li.setTextMatrix(kr[0],kr[1],kr[2],kr[3],kr[4],kr[5]),li.setTextLineMatrix(kr[0],kr[1],kr[2],kr[3],kr[4],kr[5]),fr();break;case xe.OPS.setCharSpacing:li.charSpacing=kr[0];break;case xe.OPS.setWordSpacing:li.wordSpacing=kr[0];break;case xe.OPS.beginText:li.textMatrix=xe.IDENTITY_MATRIX.slice(),li.textLineMatrix=xe.IDENTITY_MATRIX.slice();break;case xe.OPS.showSpacedText:if(!Cn.state.font){Qn.ensureStateFont(Cn.state);continue}const or=(li.font.vertical?1:-1)*li.fontSize/1e3,ur=kr[0];for(let Li=0,Er=ur.length;Li<Er;Li++){const br=ur[Li];if(typeof br=="string")pi.push(br);else if(typeof br=="number"&&br!==0){const $r=pi.join("");pi.length=0,dr({chars:$r,extraSpacing:br*or})}}if(pi.length>0){const Li=pi.join("");pi.length=0,dr({chars:Li,extraSpacing:0})}break;case xe.OPS.showText:if(!Cn.state.font){Qn.ensureStateFont(Cn.state);continue}dr({chars:kr[0],extraSpacing:0});break;case xe.OPS.nextLineShowText:if(!Cn.state.font){Qn.ensureStateFont(Cn.state);continue}li.carriageReturn(),dr({chars:kr[0],extraSpacing:0});break;case xe.OPS.nextLineSetSpacingShowText:if(!Cn.state.font){Qn.ensureStateFont(Cn.state);continue}li.wordSpacing=kr[0],li.charSpacing=kr[1],li.carriageReturn(),dr({chars:kr[2],extraSpacing:0});break;case xe.OPS.paintXObject:Yi(),ki||(ki=Tn.get("XObject")||Re.Dict.empty);var Ri=kr[0]instanceof Re.Name,Ui=kr[0].name;if(Ri&&hi.getByName(Ui))break;Ar(new Promise(function(Li,Er){if(!Ri)throw new xe.FormatError("XObject must be referred to by name.");let br=ki.getRaw(Ui);if(br instanceof Re.Ref){if(hi.getByRef(br)){Li();return}if(Qn.globalImageCache.getData(br,Qn.pageIndex)){Li();return}br=ci.fetch(br)}if(!(br instanceof St.BaseStream))throw new xe.FormatError("XObject should be a stream");const $r=br.dict.get("Subtype");if(!($r instanceof Re.Name))throw new xe.FormatError("XObject should have a Name subtype");if($r.name!=="Form"){hi.set(Ui,br.dict.objId,!0),Li();return}const _r=Cn.state.clone(),Fr=new gn(_r),Ir=br.dict.getArray("Matrix");Array.isArray(Ir)&&Ir.length===6&&Fr.transform(Ir),Nr();const cr={enqueueInvoked:!1,enqueue(yr,er){this.enqueueInvoked=!0,Rn.enqueue(yr,er)},get desiredSize(){return Rn.desiredSize},get ready(){return Rn.ready}};Qn.getTextContent({stream:br,task:Nn,resources:br.dict.get("Resources")||Tn,stateManager:Fr,includeMarkedContent:In,sink:cr,seenStyles:bn,viewBox:kn,markedContentData:En,disableNormalization:On}).then(function(){cr.enqueueInvoked||hi.set(Ui,br.dict.objId,!0),Li()},Er)}).catch(function(Li){if(!(Li instanceof xe.AbortException)){if(Qn.options.ignoreErrors){(0,xe.warn)(`getTextContent - ignoring XObject: "${Li}".`);return}throw Li}}));return;case xe.OPS.setGState:if(Ri=kr[0]instanceof Re.Name,Ui=kr[0].name,Ri&&si.getByName(Ui))break;Ar(new Promise(function(Li,Er){if(!Ri)throw new xe.FormatError("GState must be referred to by name.");const br=Tn.get("ExtGState");if(!(br instanceof Re.Dict))throw new xe.FormatError("ExtGState should be a dictionary.");const $r=br.get(Ui);if(!($r instanceof Re.Dict))throw new xe.FormatError("GState should be a dictionary.");const _r=$r.get("Font");if(!_r){si.set(Ui,$r.objId,!0),Li();return}Yi(),li.fontName=null,li.fontSize=_r[1],Ii(null,_r[0]).then(Li,Er)}).catch(function(Li){if(!(Li instanceof xe.AbortException)){if(Qn.options.ignoreErrors){(0,xe.warn)(`getTextContent - ignoring ExtGState: "${Li}".`);return}throw Li}}));return;case xe.OPS.beginMarkedContent:Yi(),In&&(En.level++,Mn.items.push({type:"beginMarkedContent",tag:kr[0]instanceof Re.Name?kr[0].name:null}));break;case xe.OPS.beginMarkedContentProps:if(Yi(),In){En.level++;let Li=null;kr[1]instanceof Re.Dict&&(Li=kr[1].get("MCID")),Mn.items.push({type:"beginMarkedContentProps",id:Number.isInteger(Li)?`${Qn.idFactory.getPageObjId()}_mc${Li}`:null,tag:kr[0]instanceof Re.Name?kr[0].name:null})}break;case xe.OPS.endMarkedContent:if(Yi(),In){if(En.level===0)break;En.level--,Mn.items.push({type:"endMarkedContent"})}break;case xe.OPS.restore:Bi&&(Bi.font!==li.font||Bi.fontSize!==li.fontSize||Bi.fontName!==li.fontName)&&Yi();break}if(Mn.items.length>=Rn.desiredSize){Xr=!0;break}}if(Xr){Ar($e);return}Yi(),Nr(),xr()}).catch(sr=>{if(!(sr instanceof xe.AbortException)){if(this.options.ignoreErrors){(0,xe.warn)(`getTextContent - ignoring errors during "${Nn.name}" task: "${sr}".`),Yi(),Nr();return}throw sr}})}extractDataStructures(wn,Nn,Tn){const Cn=this.xref;let In;const Rn=this.readToUnicode(Tn.toUnicode||wn.get("ToUnicode")||Nn.get("ToUnicode"));if(Tn.composite){const Bn=wn.get("CIDSystemInfo");Bn instanceof Re.Dict&&(Tn.cidSystemInfo={registry:(0,xe.stringToPDFString)(Bn.get("Registry")),ordering:(0,xe.stringToPDFString)(Bn.get("Ordering")),supplement:Bn.get("Supplement")});try{const Hn=wn.get("CIDToGIDMap");Hn instanceof St.BaseStream&&(In=Hn.getBytes())}catch(Hn){if(!this.options.ignoreErrors)throw Hn;(0,xe.warn)(`extractDataStructures - ignoring CIDToGIDMap data: "${Hn}".`)}}const bn=[];let kn=null,En;if(wn.has("Encoding")){if(En=wn.get("Encoding"),En instanceof Re.Dict){if(kn=En.get("BaseEncoding"),kn=kn instanceof Re.Name?kn.name:null,En.has("Differences")){const Bn=En.get("Differences");let Hn=0;for(const $n of Bn){const Un=Cn.fetchIfRef($n);if(typeof Un=="number")Hn=Un;else if(Un instanceof Re.Name)bn[Hn++]=Un.name;else throw new xe.FormatError(`Invalid entry in 'Differences' array: ${Un}`)}}}else if(En instanceof Re.Name)kn=En.name;else{const Bn="Encoding is not a Name nor a Dict";if(!this.options.ignoreErrors)throw new xe.FormatError(Bn);(0,xe.warn)(Bn)}kn!=="MacRomanEncoding"&&kn!=="MacExpertEncoding"&&kn!=="WinAnsiEncoding"&&(kn=null)}const On=!Tn.file||Tn.isInternalFont,Mn=(0,Te.getSymbolsFonts)()[Tn.name];if(kn&&On&&Mn&&(kn=null),kn)Tn.defaultEncoding=(0,t.getEncoding)(kn);else{const Bn=!!(Tn.flags&hn.FontFlags.Symbolic),Hn=!!(Tn.flags&hn.FontFlags.Nonsymbolic);En=t.StandardEncoding,Tn.type==="TrueType"&&!Hn&&(En=t.WinAnsiEncoding),(Bn||Mn)&&(En=t.MacRomanEncoding,On&&(/Symbol/i.test(Tn.name)?En=t.SymbolSetEncoding:/Dingbats/i.test(Tn.name)?En=t.ZapfDingbatsEncoding:/Wingdings/i.test(Tn.name)&&(En=t.WinAnsiEncoding))),Tn.defaultEncoding=En}return Tn.differences=bn,Tn.baseEncodingName=kn,Tn.hasEncoding=!!kn||bn.length>0,Tn.dict=wn,Rn.then(Bn=>(Tn.toUnicode=Bn,this.buildToUnicode(Tn))).then(Bn=>(Tn.toUnicode=Bn,In&&(Tn.cidToGidMap=this.readCidToGidMap(In,Bn)),Tn))}_simpleFontToUnicode(wn,Nn=!1){(0,xe.assert)(!wn.composite,"Must be a simple font.");const Tn=[],Cn=wn.defaultEncoding.slice(),In=wn.baseEncodingName,Rn=wn.differences;for(const kn in Rn){const En=Rn[kn];En!==".notdef"&&(Cn[kn]=En)}const bn=(0,pn.getGlyphsUnicode)();for(const kn in Cn){let En=Cn[kn];if(En==="")continue;let On=bn[En];if(On!==void 0){Tn[kn]=String.fromCharCode(On);continue}let Mn=0;switch(En[0]){case"G":En.length===3&&(Mn=parseInt(En.substring(1),16));break;case"g":En.length===5&&(Mn=parseInt(En.substring(1),16));break;case"C":case"c":if(En.length>=3&&En.length<=4){const Bn=En.substring(1);if(Nn){Mn=parseInt(Bn,16);break}if(Mn=+Bn,Number.isNaN(Mn)&&Number.isInteger(parseInt(Bn,16)))return this._simpleFontToUnicode(wn,!0)}break;case"u":On=(0,fn.getUnicodeForGlyph)(En,bn),On!==-1&&(Mn=On);break;default:switch(En){case"f_h":case"f_t":case"T_h":Tn[kn]=En.replaceAll("_","");continue}break}if(Mn>0&&Mn<=1114111&&Number.isInteger(Mn)){if(In&&Mn===+kn){const Bn=(0,t.getEncoding)(In);if(Bn&&(En=Bn[kn])){Tn[kn]=String.fromCharCode(bn[En]);continue}}Tn[kn]=String.fromCodePoint(Mn)}}return Tn}async buildToUnicode(wn){if(wn.hasIncludedToUnicodeMap=wn.toUnicode?.length>0,wn.hasIncludedToUnicodeMap)return!wn.composite&&wn.hasEncoding&&(wn.fallbackToUnicode=this._simpleFontToUnicode(wn)),wn.toUnicode;if(!wn.composite)return new je.ToUnicodeMap(this._simpleFontToUnicode(wn));if(wn.composite&&(wn.cMap.builtInCMap&&!(wn.cMap instanceof Ie.IdentityCMap)||wn.cidSystemInfo.registry==="Adobe"&&(wn.cidSystemInfo.ordering==="GB1"||wn.cidSystemInfo.ordering==="CNS1"||wn.cidSystemInfo.ordering==="Japan1"||wn.cidSystemInfo.ordering==="Korea1"))){const{registry:Nn,ordering:Tn}=wn.cidSystemInfo,Cn=Re.Name.get(`${Nn}-${Tn}-UCS2`),In=await Ie.CMapFactory.create({encoding:Cn,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}),Rn=[],bn=[];return wn.cMap.forEach(function(kn,En){if(En>65535)throw new xe.FormatError("Max size of CID is 65,535");const On=In.lookup(En);if(On){bn.length=0;for(let Mn=0,Bn=On.length;Mn<Bn;Mn+=2)bn.push((On.charCodeAt(Mn)<<8)+On.charCodeAt(Mn+1));Rn[kn]=String.fromCharCode(...bn)}}),new je.ToUnicodeMap(Rn)}return new je.IdentityToUnicodeMap(wn.firstChar,wn.lastChar)}readToUnicode(wn){return wn?wn instanceof Re.Name?Ie.CMapFactory.create({encoding:wn,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}).then(function(Nn){return Nn instanceof Ie.IdentityCMap?new je.IdentityToUnicodeMap(0,65535):new je.ToUnicodeMap(Nn.getMap())}):wn instanceof St.BaseStream?Ie.CMapFactory.create({encoding:wn,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}).then(function(Nn){if(Nn instanceof Ie.IdentityCMap)return new je.IdentityToUnicodeMap(0,65535);const Tn=new Array(Nn.length);return Nn.forEach(function(Cn,In){if(typeof In=="number"){Tn[Cn]=String.fromCodePoint(In);return}const Rn=[];for(let bn=0;bn<In.length;bn+=2){const kn=In.charCodeAt(bn)<<8|In.charCodeAt(bn+1);if((kn&63488)!==55296){Rn.push(kn);continue}bn+=2;const En=In.charCodeAt(bn)<<8|In.charCodeAt(bn+1);Rn.push(((kn&1023)<<10)+(En&1023)+65536)}Tn[Cn]=String.fromCodePoint(...Rn)}),new je.ToUnicodeMap(Tn)},Nn=>{if(Nn instanceof xe.AbortException)return null;if(this.options.ignoreErrors)return(0,xe.warn)(`readToUnicode - ignoring ToUnicode data: "${Nn}".`),null;throw Nn}):Promise.resolve(null):Promise.resolve(null)}readCidToGidMap(wn,Nn){const Tn=[];for(let Cn=0,In=wn.length;Cn<In;Cn++){const Rn=wn[Cn++]<<8|wn[Cn],bn=Cn>>1;Rn===0&&!Nn.has(bn)||(Tn[bn]=Rn)}return Tn}extractWidths(wn,Nn,Tn){const Cn=this.xref;let In=[],Rn=0;const bn=[];let kn,En,On,Mn,Bn,Hn,$n,Un;if(Tn.composite){if(Rn=wn.has("DW")?wn.get("DW"):1e3,Un=wn.get("W"),Un)for(En=0,On=Un.length;En<On;En++)if(Hn=Cn.fetchIfRef(Un[En++]),$n=Cn.fetchIfRef(Un[En]),Array.isArray($n))for(Mn=0,Bn=$n.length;Mn<Bn;Mn++)In[Hn++]=Cn.fetchIfRef($n[Mn]);else{const Xn=Cn.fetchIfRef(Un[++En]);for(Mn=Hn;Mn<=$n;Mn++)In[Mn]=Xn}if(Tn.vertical){let Xn=wn.getArray("DW2")||[880,-1e3];if(kn=[Xn[1],Rn*.5,Xn[0]],Xn=wn.get("W2"),Xn)for(En=0,On=Xn.length;En<On;En++)if(Hn=Cn.fetchIfRef(Xn[En++]),$n=Cn.fetchIfRef(Xn[En]),Array.isArray($n))for(Mn=0,Bn=$n.length;Mn<Bn;Mn++)bn[Hn++]=[Cn.fetchIfRef($n[Mn++]),Cn.fetchIfRef($n[Mn++]),Cn.fetchIfRef($n[Mn])];else{const Gn=[Cn.fetchIfRef(Xn[++En]),Cn.fetchIfRef(Xn[++En]),Cn.fetchIfRef(Xn[++En])];for(Mn=Hn;Mn<=$n;Mn++)bn[Mn]=Gn}}}else{const Xn=Tn.firstChar;if(Un=wn.get("Widths"),Un){for(Mn=Xn,En=0,On=Un.length;En<On;En++)In[Mn++]=Cn.fetchIfRef(Un[En]);Rn=parseFloat(Nn.get("MissingWidth"))||0}else{const Gn=wn.get("BaseFont");if(Gn instanceof Re.Name){const ri=this.getBaseFontMetrics(Gn.name);In=this.buildCharCodeToWidth(ri.widths,Tn),Rn=ri.defaultWidth}}}let qn=!0,jn=Rn;for(const Xn in In){const Gn=In[Xn];if(Gn){if(!jn){jn=Gn;continue}if(jn!==Gn){qn=!1;break}}}qn?Tn.flags|=hn.FontFlags.FixedPitch:Tn.flags&=~hn.FontFlags.FixedPitch,Tn.defaultWidth=Rn,Tn.widths=In,Tn.defaultVMetrics=kn,Tn.vmetrics=bn}isSerifFont(wn){const Nn=wn.split("-")[0];return Nn in(0,Te.getSerifFonts)()||/serif/gi.test(Nn)}getBaseFontMetrics(wn){let Nn=0,Tn=Object.create(null),Cn=!1,Rn=(0,Te.getStdFontMap)()[wn]||wn;const bn=(0,Xe.getMetrics)();Rn in bn||(Rn=this.isSerifFont(wn)?"Times-Roman":"Helvetica");const kn=bn[Rn];return typeof kn=="number"?(Nn=kn,Cn=!0):Tn=kn(),{defaultWidth:Nn,monospace:Cn,widths:Tn}}buildCharCodeToWidth(wn,Nn){const Tn=Object.create(null),Cn=Nn.differences,In=Nn.defaultEncoding;for(let Rn=0;Rn<256;Rn++){if(Rn in Cn&&wn[Cn[Rn]]){Tn[Rn]=wn[Cn[Rn]];continue}if(Rn in In&&wn[In[Rn]]){Tn[Rn]=wn[In[Rn]];continue}}return Tn}preEvaluateFont(wn){const Nn=wn;let Tn=wn.get("Subtype");if(!(Tn instanceof Re.Name))throw new xe.FormatError("invalid font Subtype");let Cn=!1,In,Rn;if(Tn.name==="Type0"){const On=wn.get("DescendantFonts");if(!On)throw new xe.FormatError("Descendant fonts are not specified");if(wn=Array.isArray(On)?this.xref.fetchIfRef(On[0]):On,!(wn instanceof Re.Dict))throw new xe.FormatError("Descendant font is not a dictionary.");if(Tn=wn.get("Subtype"),!(Tn instanceof Re.Name))throw new xe.FormatError("invalid font Subtype");Cn=!0}const bn=wn.get("FirstChar")||0,kn=wn.get("LastChar")||(Cn?65535:255),En=wn.get("FontDescriptor");if(En){In=new qe.MurmurHash3_64;const On=Nn.getRaw("Encoding");if(On instanceof Re.Name)In.update(On.name);else if(On instanceof Re.Ref)In.update(On.toString());else if(On instanceof Re.Dict){for(const Bn of On.getRawValues())if(Bn instanceof Re.Name)In.update(Bn.name);else if(Bn instanceof Re.Ref)In.update(Bn.toString());else if(Array.isArray(Bn)){const Hn=Bn.length,$n=new Array(Hn);for(let Un=0;Un<Hn;Un++){const qn=Bn[Un];qn instanceof Re.Name?$n[Un]=qn.name:(typeof qn=="number"||qn instanceof Re.Ref)&&($n[Un]=qn.toString())}In.update($n.join())}}if(In.update(`${bn}-${kn}`),Rn=wn.get("ToUnicode")||Nn.get("ToUnicode"),Rn instanceof St.BaseStream){const Bn=Rn.str||Rn,Hn=Bn.buffer?new Uint8Array(Bn.buffer.buffer,0,Bn.bufferLength):new Uint8Array(Bn.bytes.buffer,Bn.start,Bn.end-Bn.start);In.update(Hn)}else Rn instanceof Re.Name&&In.update(Rn.name);const Mn=wn.get("Widths")||Nn.get("Widths");if(Array.isArray(Mn)){const Bn=[];for(const Hn of Mn)(typeof Hn=="number"||Hn instanceof Re.Ref)&&Bn.push(Hn.toString());In.update(Bn.join())}if(Cn){In.update("compositeFont");const Bn=wn.get("W")||Nn.get("W");if(Array.isArray(Bn)){const $n=[];for(const Un of Bn)if(typeof Un=="number"||Un instanceof Re.Ref)$n.push(Un.toString());else if(Array.isArray(Un)){const qn=[];for(const jn of Un)(typeof jn=="number"||jn instanceof Re.Ref)&&qn.push(jn.toString());$n.push(`[${qn.join()}]`)}In.update($n.join())}const Hn=wn.getRaw("CIDToGIDMap")||Nn.getRaw("CIDToGIDMap");Hn instanceof Re.Name?In.update(Hn.name):Hn instanceof Re.Ref?In.update(Hn.toString()):Hn instanceof St.BaseStream&&In.update(Hn.peekBytes())}}return{descriptor:En,dict:wn,baseDict:Nn,composite:Cn,type:Tn.name,firstChar:bn,lastChar:kn,toUnicode:Rn,hash:In?In.hexdigest():""}}async translateFont({descriptor:wn,dict:Nn,baseDict:Tn,composite:Cn,type:In,firstChar:Rn,lastChar:bn,toUnicode:kn,cssFontInfo:En}){const On=In==="Type3";let Mn;if(!wn)if(On)wn=new Re.Dict(null),wn.set("FontName",Re.Name.get(In)),wn.set("FontBBox",Nn.getArray("FontBBox")||[0,0,0,0]);else{let Qn=Nn.get("BaseFont");if(!(Qn instanceof Re.Name))throw new xe.FormatError("Base font is not specified");Qn=Qn.name.replaceAll(/[,_]/g,"-");const ci=this.getBaseFontMetrics(Qn),pi=Qn.split("-")[0],ki=(this.isSerifFont(pi)?hn.FontFlags.Serif:0)|(ci.monospace?hn.FontFlags.FixedPitch:0)|((0,Te.getSymbolsFonts)()[pi]?hn.FontFlags.Symbolic:hn.FontFlags.Nonsymbolic);Mn={type:In,name:Qn,loadedName:Tn.loadedName,systemFontInfo:null,widths:ci.widths,defaultWidth:ci.defaultWidth,isSimulatedFlags:!0,flags:ki,firstChar:Rn,lastChar:bn,toUnicode:kn,xHeight:0,capHeight:0,italicAngle:0,isType3Font:On};const hi=Nn.get("Widths"),si=(0,Te.getStandardFontName)(Qn);let ai=null;return si&&(ai=await this.fetchStandardFontData(si),Mn.isInternalFont=!!ai),!Mn.isInternalFont&&this.options.useSystemFonts&&(Mn.systemFontInfo=(0,He.getFontSubstitution)(this.systemFontCache,this.idFactory,this.options.standardFontDataUrl,Qn,si)),this.extractDataStructures(Nn,Nn,Mn).then(li=>{if(hi){const Ei=[];let $i=Rn;for(const Qi of hi)Ei[$i++]=this.xref.fetchIfRef(Qi);li.widths=Ei}else li.widths=this.buildCharCodeToWidth(ci.widths,li);return new e.Font(Qn,ai,li)})}let Bn=wn.get("FontName"),Hn=Nn.get("BaseFont");typeof Bn=="string"&&(Bn=Re.Name.get(Bn)),typeof Hn=="string"&&(Hn=Re.Name.get(Hn));const $n=Bn?.name,Un=Hn?.name;if(!On&&$n!==Un&&((0,xe.info)(`The FontDescriptor's FontName is "${$n}" but should be the same as the Font's BaseFont "${Un}".`),$n&&Un&&(Un.startsWith($n)||!(0,Te.isKnownFontName)($n)&&(0,Te.isKnownFontName)(Un))&&(Bn=null)),Bn||=Hn,!(Bn instanceof Re.Name))throw new xe.FormatError("invalid font name");let qn,jn,Xn,Gn,ri;try{qn=wn.get("FontFile","FontFile2","FontFile3")}catch(Qn){if(!this.options.ignoreErrors)throw Qn;(0,xe.warn)(`translateFont - fetching "${Bn.name}" font file: "${Qn}".`),qn=new Ce.NullStream}let ui=!1,ti=null,Yn=null;if(qn){if(qn.dict){const Qn=qn.dict.get("Subtype");Qn instanceof Re.Name&&(jn=Qn.name),Xn=qn.dict.get("Length1"),Gn=qn.dict.get("Length2"),ri=qn.dict.get("Length3")}}else if(En){const Qn=(0,en.getXfaFontName)(Bn.name);Qn&&(En.fontFamily=`${En.fontFamily}-PdfJS-XFA`,En.metrics=Qn.metrics||null,ti=Qn.factors||null,qn=await this.fetchStandardFontData(Qn.name),ui=!!qn,Tn=Nn=(0,en.getXfaFontDict)(Bn.name),Cn=!0)}else if(!On){const Qn=(0,Te.getStandardFontName)(Bn.name);Qn&&(qn=await this.fetchStandardFontData(Qn),ui=!!qn),!ui&&this.options.useSystemFonts&&(Yn=(0,He.getFontSubstitution)(this.systemFontCache,this.idFactory,this.options.standardFontDataUrl,Bn.name,Qn))}if(Mn={type:In,name:Bn.name,subtype:jn,file:qn,length1:Xn,length2:Gn,length3:ri,isInternalFont:ui,loadedName:Tn.loadedName,composite:Cn,fixedPitch:!1,fontMatrix:Nn.getArray("FontMatrix")||xe.FONT_IDENTITY_MATRIX,firstChar:Rn,lastChar:bn,toUnicode:kn,bbox:wn.getArray("FontBBox")||Nn.getArray("FontBBox"),ascent:wn.get("Ascent"),descent:wn.get("Descent"),xHeight:wn.get("XHeight")||0,capHeight:wn.get("CapHeight")||0,flags:wn.get("Flags"),italicAngle:wn.get("ItalicAngle")||0,isType3Font:On,cssFontInfo:En,scaleFactors:ti,systemFontInfo:Yn},Cn){const Qn=Tn.get("Encoding");Qn instanceof Re.Name&&(Mn.cidEncoding=Qn.name);const ci=await Ie.CMapFactory.create({encoding:Qn,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null});Mn.cMap=ci,Mn.vertical=Mn.cMap.vertical}return this.extractDataStructures(Nn,Tn,Mn).then(Qn=>(this.extractWidths(Nn,wn,Qn),new e.Font(Bn.name,qn,Qn)))}static buildFontPaths(wn,Nn,Tn,Cn){function In(Rn){const bn=`${wn.loadedName}_path_${Rn}`;try{if(wn.renderer.hasBuiltPath(Rn))return;Tn.send("commonobj",[bn,"FontPath",wn.renderer.getPathJs(Rn)])}catch(kn){if(Cn.ignoreErrors){(0,xe.warn)(`buildFontPaths - ignoring ${bn} glyph: "${kn}".`);return}throw kn}}for(const Rn of Nn){In(Rn.fontChar);const bn=Rn.accent;bn?.fontChar&&In(bn.fontChar)}}static get fallbackFontDict(){const wn=new Re.Dict;return wn.set("BaseFont",Re.Name.get("Helvetica")),wn.set("Type",Re.Name.get("FallbackType")),wn.set("Subtype",Re.Name.get("FallbackType")),wn.set("Encoding",Re.Name.get("WinAnsiEncoding")),(0,xe.shadow)(this,"fallbackFontDict",wn)}}_e.PartialEvaluator=Ke;class sn{constructor({loadedName:wn,font:Nn,dict:Tn,evaluatorOptions:Cn}){this.loadedName=wn,this.font=Nn,this.dict=Tn,this._evaluatorOptions=Cn||De,this.type3Loaded=null,this.type3Dependencies=Nn.isType3Font?new Set:null,this.sent=!1}send(wn){this.sent||(this.sent=!0,wn.send("commonobj",[this.loadedName,"Font",this.font.exportData(this._evaluatorOptions.fontExtraProperties)]))}fallback(wn){this.font.data&&(this.font.disableFontFace=!0,Ke.buildFontPaths(this.font,this.font.glyphCacheValues,wn,this._evaluatorOptions))}loadType3Data(wn,Nn,Tn){if(this.type3Loaded)return this.type3Loaded;if(!this.font.isType3Font)throw new Error("Must be a Type3 font.");const Cn=wn.clone({ignoreErrors:!1});Cn.parsingType3Font=!0;const In=new Re.RefSet(wn.type3FontRefs);this.dict.objId&&!In.has(this.dict.objId)&&In.put(this.dict.objId),Cn.type3FontRefs=In;const Rn=this.font,bn=this.type3Dependencies;let kn=Promise.resolve();const En=this.dict.get("CharProcs"),On=this.dict.get("Resources")||Nn,Mn=Object.create(null),Bn=xe.Util.normalizeRect(Rn.bbox||[0,0,0,0]),Hn=Bn[2]-Bn[0],$n=Bn[3]-Bn[1],Un=Math.hypot(Hn,$n);for(const qn of En.getKeys())kn=kn.then(()=>{const jn=En.get(qn),Xn=new tn.OperatorList;return Cn.getOperatorList({stream:jn,task:Tn,resources:On,operatorList:Xn}).then(()=>{Xn.fnArray[0]===xe.OPS.setCharWidthAndBounds&&this._removeType3ColorOperators(Xn,Un),Mn[qn]=Xn.getIR();for(const Gn of Xn.dependencies)bn.add(Gn)}).catch(function(Gn){(0,xe.warn)(`Type3 font resource "${qn}" is not available.`);const ri=new tn.OperatorList;Mn[qn]=ri.getIR()})});return this.type3Loaded=kn.then(()=>{Rn.charProcOperatorList=Mn,this._bbox&&(Rn.isCharBBox=!0,Rn.bbox=this._bbox)}),this.type3Loaded}_removeType3ColorOperators(wn,Nn=NaN){const Tn=xe.Util.normalizeRect(wn.argsArray[0].slice(2)),Cn=Tn[2]-Tn[0],In=Tn[3]-Tn[1],Rn=Math.hypot(Cn,In);Cn===0||In===0?(wn.fnArray.splice(0,1),wn.argsArray.splice(0,1)):(Nn===0||Math.round(Rn/Nn)>=10)&&(this._bbox||(this._bbox=[1/0,1/0,-1/0,-1/0]),this._bbox[0]=Math.min(this._bbox[0],Tn[0]),this._bbox[1]=Math.min(this._bbox[1],Tn[1]),this._bbox[2]=Math.max(this._bbox[2],Tn[2]),this._bbox[3]=Math.max(this._bbox[3],Tn[3]));let bn=0,kn=wn.length;for(;bn<kn;){switch(wn.fnArray[bn]){case xe.OPS.setCharWidthAndBounds:break;case xe.OPS.setStrokeColorSpace:case xe.OPS.setFillColorSpace:case xe.OPS.setStrokeColor:case xe.OPS.setStrokeColorN:case xe.OPS.setFillColor:case xe.OPS.setFillColorN:case xe.OPS.setStrokeGray:case xe.OPS.setFillGray:case xe.OPS.setStrokeRGBColor:case xe.OPS.setFillRGBColor:case xe.OPS.setStrokeCMYKColor:case xe.OPS.setFillCMYKColor:case xe.OPS.shadingFill:case xe.OPS.setRenderingIntent:wn.fnArray.splice(bn,1),wn.argsArray.splice(bn,1),kn--;continue;case xe.OPS.setGState:const[En]=wn.argsArray[bn];let On=0,Mn=En.length;for(;On<Mn;){const[Bn]=En[On];switch(Bn){case"TR":case"TR2":case"HT":case"BG":case"BG2":case"UCR":case"UCR2":En.splice(On,1),Mn--;continue}On++}break}bn++}}}class gn{constructor(wn=new yn){this.state=wn,this.stateStack=[]}save(){const wn=this.state;this.stateStack.push(this.state),this.state=wn.clone()}restore(){const wn=this.stateStack.pop();wn&&(this.state=wn)}transform(wn){this.state.ctm=xe.Util.transform(this.state.ctm,wn)}}class mn{constructor(){this.ctm=new Float32Array(xe.IDENTITY_MATRIX),this.fontName=null,this.fontSize=0,this.loadedName=null,this.font=null,this.fontMatrix=xe.FONT_IDENTITY_MATRIX,this.textMatrix=xe.IDENTITY_MATRIX.slice(),this.textLineMatrix=xe.IDENTITY_MATRIX.slice(),this.charSpacing=0,this.wordSpacing=0,this.leading=0,this.textHScale=1,this.textRise=0}setTextMatrix(wn,Nn,Tn,Cn,In,Rn){const bn=this.textMatrix;bn[0]=wn,bn[1]=Nn,bn[2]=Tn,bn[3]=Cn,bn[4]=In,bn[5]=Rn}setTextLineMatrix(wn,Nn,Tn,Cn,In,Rn){const bn=this.textLineMatrix;bn[0]=wn,bn[1]=Nn,bn[2]=Tn,bn[3]=Cn,bn[4]=In,bn[5]=Rn}translateTextMatrix(wn,Nn){const Tn=this.textMatrix;Tn[4]=Tn[0]*wn+Tn[2]*Nn+Tn[4],Tn[5]=Tn[1]*wn+Tn[3]*Nn+Tn[5]}translateTextLineMatrix(wn,Nn){const Tn=this.textLineMatrix;Tn[4]=Tn[0]*wn+Tn[2]*Nn+Tn[4],Tn[5]=Tn[1]*wn+Tn[3]*Nn+Tn[5]}carriageReturn(){this.translateTextLineMatrix(0,-this.leading),this.textMatrix=this.textLineMatrix.slice()}clone(){const wn=Object.create(this);return wn.textMatrix=this.textMatrix.slice(),wn.textLineMatrix=this.textLineMatrix.slice(),wn.fontMatrix=this.fontMatrix.slice(),wn}}class yn{constructor(){this.ctm=new Float32Array(xe.IDENTITY_MATRIX),this.font=null,this.textRenderingMode=xe.TextRenderingMode.FILL,this.fillColorSpace=un.ColorSpace.singletons.gray,this.strokeColorSpace=un.ColorSpace.singletons.gray}clone(){return Object.create(this)}}class Sn{static get opMap(){return(0,xe.shadow)(this,"opMap",{w:{id:xe.OPS.setLineWidth,numArgs:1,variableArgs:!1},J:{id:xe.OPS.setLineCap,numArgs:1,variableArgs:!1},j:{id:xe.OPS.setLineJoin,numArgs:1,variableArgs:!1},M:{id:xe.OPS.setMiterLimit,numArgs:1,variableArgs:!1},d:{id:xe.OPS.setDash,numArgs:2,variableArgs:!1},ri:{id:xe.OPS.setRenderingIntent,numArgs:1,variableArgs:!1},i:{id:xe.OPS.setFlatness,numArgs:1,variableArgs:!1},gs:{id:xe.OPS.setGState,numArgs:1,variableArgs:!1},q:{id:xe.OPS.save,numArgs:0,variableArgs:!1},Q:{id:xe.OPS.restore,numArgs:0,variableArgs:!1},cm:{id:xe.OPS.transform,numArgs:6,variableArgs:!1},m:{id:xe.OPS.moveTo,numArgs:2,variableArgs:!1},l:{id:xe.OPS.lineTo,numArgs:2,variableArgs:!1},c:{id:xe.OPS.curveTo,numArgs:6,variableArgs:!1},v:{id:xe.OPS.curveTo2,numArgs:4,variableArgs:!1},y:{id:xe.OPS.curveTo3,numArgs:4,variableArgs:!1},h:{id:xe.OPS.closePath,numArgs:0,variableArgs:!1},re:{id:xe.OPS.rectangle,numArgs:4,variableArgs:!1},S:{id:xe.OPS.stroke,numArgs:0,variableArgs:!1},s:{id:xe.OPS.closeStroke,numArgs:0,variableArgs:!1},f:{id:xe.OPS.fill,numArgs:0,variableArgs:!1},F:{id:xe.OPS.fill,numArgs:0,variableArgs:!1},"f*":{id:xe.OPS.eoFill,numArgs:0,variableArgs:!1},B:{id:xe.OPS.fillStroke,numArgs:0,variableArgs:!1},"B*":{id:xe.OPS.eoFillStroke,numArgs:0,variableArgs:!1},b:{id:xe.OPS.closeFillStroke,numArgs:0,variableArgs:!1},"b*":{id:xe.OPS.closeEOFillStroke,numArgs:0,variableArgs:!1},n:{id:xe.OPS.endPath,numArgs:0,variableArgs:!1},W:{id:xe.OPS.clip,numArgs:0,variableArgs:!1},"W*":{id:xe.OPS.eoClip,numArgs:0,variableArgs:!1},BT:{id:xe.OPS.beginText,numArgs:0,variableArgs:!1},ET:{id:xe.OPS.endText,numArgs:0,variableArgs:!1},Tc:{id:xe.OPS.setCharSpacing,numArgs:1,variableArgs:!1},Tw:{id:xe.OPS.setWordSpacing,numArgs:1,variableArgs:!1},Tz:{id:xe.OPS.setHScale,numArgs:1,variableArgs:!1},TL:{id:xe.OPS.setLeading,numArgs:1,variableArgs:!1},Tf:{id:xe.OPS.setFont,numArgs:2,variableArgs:!1},Tr:{id:xe.OPS.setTextRenderingMode,numArgs:1,variableArgs:!1},Ts:{id:xe.OPS.setTextRise,numArgs:1,variableArgs:!1},Td:{id:xe.OPS.moveText,numArgs:2,variableArgs:!1},TD:{id:xe.OPS.setLeadingMoveText,numArgs:2,variableArgs:!1},Tm:{id:xe.OPS.setTextMatrix,numArgs:6,variableArgs:!1},"T*":{id:xe.OPS.nextLine,numArgs:0,variableArgs:!1},Tj:{id:xe.OPS.showText,numArgs:1,variableArgs:!1},TJ:{id:xe.OPS.showSpacedText,numArgs:1,variableArgs:!1},"'":{id:xe.OPS.nextLineShowText,numArgs:1,variableArgs:!1},'"':{id:xe.OPS.nextLineSetSpacingShowText,numArgs:3,variableArgs:!1},d0:{id:xe.OPS.setCharWidth,numArgs:2,variableArgs:!1},d1:{id:xe.OPS.setCharWidthAndBounds,numArgs:6,variableArgs:!1},CS:{id:xe.OPS.setStrokeColorSpace,numArgs:1,variableArgs:!1},cs:{id:xe.OPS.setFillColorSpace,numArgs:1,variableArgs:!1},SC:{id:xe.OPS.setStrokeColor,numArgs:4,variableArgs:!0},SCN:{id:xe.OPS.setStrokeColorN,numArgs:33,variableArgs:!0},sc:{id:xe.OPS.setFillColor,numArgs:4,variableArgs:!0},scn:{id:xe.OPS.setFillColorN,numArgs:33,variableArgs:!0},G:{id:xe.OPS.setStrokeGray,numArgs:1,variableArgs:!1},g:{id:xe.OPS.setFillGray,numArgs:1,variableArgs:!1},RG:{id:xe.OPS.setStrokeRGBColor,numArgs:3,variableArgs:!1},rg:{id:xe.OPS.setFillRGBColor,numArgs:3,variableArgs:!1},K:{id:xe.OPS.setStrokeCMYKColor,numArgs:4,variableArgs:!1},k:{id:xe.OPS.setFillCMYKColor,numArgs:4,variableArgs:!1},sh:{id:xe.OPS.shadingFill,numArgs:1,variableArgs:!1},BI:{id:xe.OPS.beginInlineImage,numArgs:0,variableArgs:!1},ID:{id:xe.OPS.beginImageData,numArgs:0,variableArgs:!1},EI:{id:xe.OPS.endInlineImage,numArgs:1,variableArgs:!1},Do:{id:xe.OPS.paintXObject,numArgs:1,variableArgs:!1},MP:{id:xe.OPS.markPoint,numArgs:1,variableArgs:!1},DP:{id:xe.OPS.markPointProps,numArgs:2,variableArgs:!1},BMC:{id:xe.OPS.beginMarkedContent,numArgs:1,variableArgs:!1},BDC:{id:xe.OPS.beginMarkedContentProps,numArgs:2,variableArgs:!1},EMC:{id:xe.OPS.endMarkedContent,numArgs:0,variableArgs:!1},BX:{id:xe.OPS.beginCompat,numArgs:0,variableArgs:!1},EX:{id:xe.OPS.endCompat,numArgs:0,variableArgs:!1},BM:null,BD:null,true:null,fa:null,fal:null,fals:null,false:null,nu:null,nul:null,null:null})}static MAX_INVALID_PATH_OPS=10;constructor(wn,Nn,Tn=new gn){this.parser=new Ge.Parser({lexer:new Ge.Lexer(wn,Sn.opMap),xref:Nn}),this.stateManager=Tn,this.nonProcessedArgs=[],this._isPathOp=!1,this._numInvalidPathOPS=0}get savedStatesDepth(){return this.stateManager.stateStack.length}read(wn){let Nn=wn.args;for(;;){const Tn=this.parser.getObj();if(Tn instanceof Re.Cmd){const Cn=Tn.cmd,In=Sn.opMap[Cn];if(!In){(0,xe.warn)(`Unknown command "${Cn}".`);continue}const Rn=In.id,bn=In.numArgs;let kn=Nn!==null?Nn.length:0;if(this._isPathOp||(this._numInvalidPathOPS=0),this._isPathOp=Rn>=xe.OPS.moveTo&&Rn<=xe.OPS.endPath,In.variableArgs)kn>bn&&(0,xe.info)(`Command ${Cn}: expected [0, ${bn}] args, but received ${kn} args.`);else{if(kn!==bn){const En=this.nonProcessedArgs;for(;kn>bn;)En.push(Nn.shift()),kn--;for(;kn<bn&&En.length!==0;)Nn===null&&(Nn=[]),Nn.unshift(En.pop()),kn++}if(kn<bn){const En=`command ${Cn}: expected ${bn} args, but received ${kn} args.`;if(this._isPathOp&&++this._numInvalidPathOPS>Sn.MAX_INVALID_PATH_OPS)throw new xe.FormatError(`Invalid ${En}`);(0,xe.warn)(`Skipping ${En}`),Nn!==null&&(Nn.length=0);continue}}return this.preprocessCommand(Rn,Nn),wn.fn=Rn,wn.args=Nn,!0}if(Tn===Re.EOF)return!1;if(Tn!==null&&(Nn===null&&(Nn=[]),Nn.push(Tn),Nn.length>33))throw new xe.FormatError("Too many arguments")}}preprocessCommand(wn,Nn){switch(wn|0){case xe.OPS.save:this.stateManager.save();break;case xe.OPS.restore:this.stateManager.restore();break;case xe.OPS.transform:this.stateManager.transform(Nn);break}}}_e.EvaluatorPreprocessor=Sn},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.IdentityCMap=_e.CMapFactory=_e.CMap=void 0;var xe=ze(2),Ie=ze(4),Re=ze(5),e=ze(15),t=ze(16),Te=ze(3),Ye=ze(8);const en=["Adobe-GB1-UCS2","Adobe-CNS1-UCS2","Adobe-Japan1-UCS2","Adobe-Korea1-UCS2","78-EUC-H","78-EUC-V","78-H","78-RKSJ-H","78-RKSJ-V","78-V","78ms-RKSJ-H","78ms-RKSJ-V","83pv-RKSJ-H","90ms-RKSJ-H","90ms-RKSJ-V","90msp-RKSJ-H","90msp-RKSJ-V","90pv-RKSJ-H","90pv-RKSJ-V","Add-H","Add-RKSJ-H","Add-RKSJ-V","Add-V","Adobe-CNS1-0","Adobe-CNS1-1","Adobe-CNS1-2","Adobe-CNS1-3","Adobe-CNS1-4","Adobe-CNS1-5","Adobe-CNS1-6","Adobe-GB1-0","Adobe-GB1-1","Adobe-GB1-2","Adobe-GB1-3","Adobe-GB1-4","Adobe-GB1-5","Adobe-Japan1-0","Adobe-Japan1-1","Adobe-Japan1-2","Adobe-Japan1-3","Adobe-Japan1-4","Adobe-Japan1-5","Adobe-Japan1-6","Adobe-Korea1-0","Adobe-Korea1-1","Adobe-Korea1-2","B5-H","B5-V","B5pc-H","B5pc-V","CNS-EUC-H","CNS-EUC-V","CNS1-H","CNS1-V","CNS2-H","CNS2-V","ETHK-B5-H","ETHK-B5-V","ETen-B5-H","ETen-B5-V","ETenms-B5-H","ETenms-B5-V","EUC-H","EUC-V","Ext-H","Ext-RKSJ-H","Ext-RKSJ-V","Ext-V","GB-EUC-H","GB-EUC-V","GB-H","GB-V","GBK-EUC-H","GBK-EUC-V","GBK2K-H","GBK2K-V","GBKp-EUC-H","GBKp-EUC-V","GBT-EUC-H","GBT-EUC-V","GBT-H","GBT-V","GBTpc-EUC-H","GBTpc-EUC-V","GBpc-EUC-H","GBpc-EUC-V","H","HKdla-B5-H","HKdla-B5-V","HKdlb-B5-H","HKdlb-B5-V","HKgccs-B5-H","HKgccs-B5-V","HKm314-B5-H","HKm314-B5-V","HKm471-B5-H","HKm471-B5-V","HKscs-B5-H","HKscs-B5-V","Hankaku","Hiragana","KSC-EUC-H","KSC-EUC-V","KSC-H","KSC-Johab-H","KSC-Johab-V","KSC-V","KSCms-UHC-H","KSCms-UHC-HW-H","KSCms-UHC-HW-V","KSCms-UHC-V","KSCpc-EUC-H","KSCpc-EUC-V","Katakana","NWP-H","NWP-V","RKSJ-H","RKSJ-V","Roman","UniCNS-UCS2-H","UniCNS-UCS2-V","UniCNS-UTF16-H","UniCNS-UTF16-V","UniCNS-UTF32-H","UniCNS-UTF32-V","UniCNS-UTF8-H","UniCNS-UTF8-V","UniGB-UCS2-H","UniGB-UCS2-V","UniGB-UTF16-H","UniGB-UTF16-V","UniGB-UTF32-H","UniGB-UTF32-V","UniGB-UTF8-H","UniGB-UTF8-V","UniJIS-UCS2-H","UniJIS-UCS2-HW-H","UniJIS-UCS2-HW-V","UniJIS-UCS2-V","UniJIS-UTF16-H","UniJIS-UTF16-V","UniJIS-UTF32-H","UniJIS-UTF32-V","UniJIS-UTF8-H","UniJIS-UTF8-V","UniJIS2004-UTF16-H","UniJIS2004-UTF16-V","UniJIS2004-UTF32-H","UniJIS2004-UTF32-V","UniJIS2004-UTF8-H","UniJIS2004-UTF8-V","UniJISPro-UCS2-HW-V","UniJISPro-UCS2-V","UniJISPro-UTF8-V","UniJISX0213-UTF32-H","UniJISX0213-UTF32-V","UniJISX02132004-UTF32-H","UniJISX02132004-UTF32-V","UniKS-UCS2-H","UniKS-UCS2-V","UniKS-UTF16-H","UniKS-UTF16-V","UniKS-UTF32-H","UniKS-UTF32-V","UniKS-UTF8-H","UniKS-UTF8-V","V","WP-Symbol"],je=2**24-1;class nn{constructor(De=!1){this.codespaceRanges=[[],[],[],[]],this.numCodespaceRanges=0,this._map=[],this.name="",this.vertical=!1,this.useCMap=null,this.builtInCMap=De}addCodespaceRange(De,Ue,We){this.codespaceRanges[De-1].push(Ue,We),this.numCodespaceRanges++}mapCidRange(De,Ue,We){if(Ue-De>je)throw new Error("mapCidRange - ignoring data above MAX_MAP_RANGE.");for(;De<=Ue;)this._map[De++]=We++}mapBfRange(De,Ue,We){if(Ue-De>je)throw new Error("mapBfRange - ignoring data above MAX_MAP_RANGE.");const $e=We.length-1;for(;De<=Ue;){this._map[De++]=We;const on=We.charCodeAt($e)+1;if(on>255){We=We.substring(0,$e-1)+String.fromCharCode(We.charCodeAt($e-1)+1)+"\0";continue}We=We.substring(0,$e)+String.fromCharCode(on)}}mapBfRangeToArray(De,Ue,We){if(Ue-De>je)throw new Error("mapBfRangeToArray - ignoring data above MAX_MAP_RANGE.");const $e=We.length;let on=0;for(;De<=Ue&&on<$e;)this._map[De]=We[on++],++De}mapOne(De,Ue){this._map[De]=Ue}lookup(De){return this._map[De]}contains(De){return this._map[De]!==void 0}forEach(De){const Ue=this._map,We=Ue.length;if(We<=65536)for(let $e=0;$e<We;$e++)Ue[$e]!==void 0&&De($e,Ue[$e]);else for(const $e in Ue)De($e,Ue[$e])}charCodeOf(De){const Ue=this._map;if(Ue.length<=65536)return Ue.indexOf(De);for(const We in Ue)if(Ue[We]===De)return We|0;return-1}getMap(){return this._map}readCharCode(De,Ue,We){let $e=0;const on=this.codespaceRanges;for(let Je=0,an=on.length;Je<an;Je++){$e=($e<<8|De.charCodeAt(Ue+Je))>>>0;const Ke=on[Je];for(let sn=0,gn=Ke.length;sn<gn;){const mn=Ke[sn++],yn=Ke[sn++];if($e>=mn&&$e<=yn){We.charcode=$e,We.length=Je+1;return}}}We.charcode=0,We.length=1}getCharCodeLength(De){const Ue=this.codespaceRanges;for(let We=0,$e=Ue.length;We<$e;We++){const on=Ue[We];for(let Je=0,an=on.length;Je<an;){const Ke=on[Je++],sn=on[Je++];if(De>=Ke&&De<=sn)return We+1}}return 1}get length(){return this._map.length}get isIdentityCMap(){if(!(this.name==="Identity-H"||this.name==="Identity-V")||this._map.length!==65536)return!1;for(let De=0;De<65536;De++)if(this._map[De]!==De)return!1;return!0}}_e.CMap=nn;class Ge extends nn{constructor(De,Ue){super(),this.vertical=De,this.addCodespaceRange(Ue,0,65535)}mapCidRange(De,Ue,We){(0,xe.unreachable)("should not call mapCidRange")}mapBfRange(De,Ue,We){(0,xe.unreachable)("should not call mapBfRange")}mapBfRangeToArray(De,Ue,We){(0,xe.unreachable)("should not call mapBfRangeToArray")}mapOne(De,Ue){(0,xe.unreachable)("should not call mapCidOne")}lookup(De){return Number.isInteger(De)&&De<=65535?De:void 0}contains(De){return Number.isInteger(De)&&De<=65535}forEach(De){for(let Ue=0;Ue<=65535;Ue++)De(Ue,Ue)}charCodeOf(De){return Number.isInteger(De)&&De<=65535?De:-1}getMap(){const De=new Array(65536);for(let Ue=0;Ue<=65535;Ue++)De[Ue]=Ue;return De}get length(){return 65536}get isIdentityCMap(){(0,xe.unreachable)("should not access .isIdentityCMap")}}_e.IdentityCMap=Ge;function Oe(Me){let De=0;for(let Ue=0;Ue<Me.length;Ue++)De=De<<8|Me.charCodeAt(Ue);return De>>>0}function Ce(Me){if(typeof Me!="string")throw new xe.FormatError("Malformed CMap: expected string.")}function St(Me){if(!Number.isInteger(Me))throw new xe.FormatError("Malformed CMap: expected int.")}function rn(Me,De){for(;;){let Ue=De.getObj();if(Ue===Ie.EOF)break;if((0,Ie.isCmd)(Ue,"endbfchar"))return;Ce(Ue);const We=Oe(Ue);Ue=De.getObj(),Ce(Ue);const $e=Ue;Me.mapOne(We,$e)}}function un(Me,De){for(;;){let Ue=De.getObj();if(Ue===Ie.EOF)break;if((0,Ie.isCmd)(Ue,"endbfrange"))return;Ce(Ue);const We=Oe(Ue);Ue=De.getObj(),Ce(Ue);const $e=Oe(Ue);if(Ue=De.getObj(),Number.isInteger(Ue)||typeof Ue=="string"){const on=Number.isInteger(Ue)?String.fromCharCode(Ue):Ue;Me.mapBfRange(We,$e,on)}else if((0,Ie.isCmd)(Ue,"[")){Ue=De.getObj();const on=[];for(;!(0,Ie.isCmd)(Ue,"]")&&Ue!==Ie.EOF;)on.push(Ue),Ue=De.getObj();Me.mapBfRangeToArray(We,$e,on)}else break}throw new xe.FormatError("Invalid bf range.")}function Qe(Me,De){for(;;){let Ue=De.getObj();if(Ue===Ie.EOF)break;if((0,Ie.isCmd)(Ue,"endcidchar"))return;Ce(Ue);const We=Oe(Ue);Ue=De.getObj(),St(Ue);const $e=Ue;Me.mapOne(We,$e)}}function hn(Me,De){for(;;){let Ue=De.getObj();if(Ue===Ie.EOF)break;if((0,Ie.isCmd)(Ue,"endcidrange"))return;Ce(Ue);const We=Oe(Ue);Ue=De.getObj(),Ce(Ue);const $e=Oe(Ue);Ue=De.getObj(),St(Ue);const on=Ue;Me.mapCidRange(We,$e,on)}}function He(Me,De){for(;;){let Ue=De.getObj();if(Ue===Ie.EOF)break;if((0,Ie.isCmd)(Ue,"endcodespacerange"))return;if(typeof Ue!="string")break;const We=Oe(Ue);if(Ue=De.getObj(),typeof Ue!="string")break;const $e=Oe(Ue);Me.addCodespaceRange(Ue.length,We,$e)}throw new xe.FormatError("Invalid codespace range.")}function pn(Me,De){const Ue=De.getObj();Number.isInteger(Ue)&&(Me.vertical=!!Ue)}function Xe(Me,De){const Ue=De.getObj();Ue instanceof Ie.Name&&(Me.name=Ue.name)}async function fn(Me,De,Ue,We){let $e,on;e:for(;;)try{const Je=De.getObj();if(Je===Ie.EOF)break;if(Je instanceof Ie.Name)Je.name==="WMode"?pn(Me,De):Je.name==="CMapName"&&Xe(Me,De),$e=Je;else if(Je instanceof Ie.Cmd)switch(Je.cmd){case"endcmap":break e;case"usecmap":$e instanceof Ie.Name&&(on=$e.name);break;case"begincodespacerange":He(Me,De);break;case"beginbfchar":rn(Me,De);break;case"begincidchar":Qe(Me,De);break;case"beginbfrange":un(Me,De);break;case"begincidrange":hn(Me,De);break}}catch(Je){if(Je instanceof Te.MissingDataException)throw Je;(0,xe.warn)("Invalid cMap data: "+Je);continue}return!We&&on&&(We=on),We?dn(Me,Ue,We):Me}async function dn(Me,De,Ue){if(Me.useCMap=await qe(Ue,De),Me.numCodespaceRanges===0){const We=Me.useCMap.codespaceRanges;for(let $e=0;$e<We.length;$e++)Me.codespaceRanges[$e]=We[$e].slice();Me.numCodespaceRanges=Me.useCMap.numCodespaceRanges}return Me.useCMap.forEach(function(We,$e){Me.contains(We)||Me.mapOne(We,Me.useCMap.lookup(We))}),Me}async function qe(Me,De){if(Me==="Identity-H")return new Ge(!1,2);if(Me==="Identity-V")return new Ge(!0,2);if(!en.includes(Me))throw new Error("Unknown CMap name: "+Me);if(!De)throw new Error("Built-in CMap parameters are not provided.");const{cMapData:Ue,compressionType:We}=await De(Me),$e=new nn(!0);if(We===xe.CMapCompressionType.BINARY)return new e.BinaryCMapReader().process(Ue,$e,on=>dn($e,De,on));if(We===xe.CMapCompressionType.NONE){const on=new t.Lexer(new Ye.Stream(Ue));return fn($e,on,De,null)}throw new Error(`Invalid CMap "compressionType" value: ${We}`)}class tn{static async create({encoding:De,fetchBuiltInCMap:Ue,useCMap:We}){if(De instanceof Ie.Name)return qe(De.name,Ue);if(De instanceof Re.BaseStream){const $e=await fn(new nn,new t.Lexer(De),Ue,We);return $e.isIdentityCMap?qe($e.name,Ue):$e}throw new Error("Encoding required.")}}_e.CMapFactory=tn},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.BinaryCMapReader=void 0;var xe=ze(2);function Ie(nn,Ge){let Oe=0;for(let Ce=0;Ce<=Ge;Ce++)Oe=Oe<<8|nn[Ce];return Oe>>>0}function Re(nn,Ge){return Ge===1?String.fromCharCode(nn[0],nn[1]):Ge===3?String.fromCharCode(nn[0],nn[1],nn[2],nn[3]):String.fromCharCode(...nn.subarray(0,Ge+1))}function e(nn,Ge,Oe){let Ce=0;for(let St=Oe;St>=0;St--)Ce+=nn[St]+Ge[St],nn[St]=Ce&255,Ce>>=8}function t(nn,Ge){let Oe=1;for(let Ce=Ge;Ce>=0&&Oe>0;Ce--)Oe+=nn[Ce],nn[Ce]=Oe&255,Oe>>=8}const Te=16,Ye=19;class en{constructor(Ge){this.buffer=Ge,this.pos=0,this.end=Ge.length,this.tmpBuf=new Uint8Array(Ye)}readByte(){return this.pos>=this.end?-1:this.buffer[this.pos++]}readNumber(){let Ge=0,Oe;do{const Ce=this.readByte();if(Ce<0)throw new xe.FormatError("unexpected EOF in bcmap");Oe=!(Ce&128),Ge=Ge<<7|Ce&127}while(!Oe);return Ge}readSigned(){const Ge=this.readNumber();return Ge&1?~(Ge>>>1):Ge>>>1}readHex(Ge,Oe){Ge.set(this.buffer.subarray(this.pos,this.pos+Oe+1)),this.pos+=Oe+1}readHexNumber(Ge,Oe){let Ce;const St=this.tmpBuf;let rn=0;do{const He=this.readByte();if(He<0)throw new xe.FormatError("unexpected EOF in bcmap");Ce=!(He&128),St[rn++]=He&127}while(!Ce);let un=Oe,Qe=0,hn=0;for(;un>=0;){for(;hn<8&&St.length>0;)Qe|=St[--rn]<<hn,hn+=7;Ge[un]=Qe&255,un--,Qe>>=8,hn-=8}}readHexSigned(Ge,Oe){this.readHexNumber(Ge,Oe);const Ce=Ge[Oe]&1?255:0;let St=0;for(let rn=0;rn<=Oe;rn++)St=(St&1)<<8|Ge[rn],Ge[rn]=St>>1^Ce}readString(){const Ge=this.readNumber(),Oe=new Array(Ge);for(let Ce=0;Ce<Ge;Ce++)Oe[Ce]=this.readNumber();return String.fromCharCode(...Oe)}}class je{async process(Ge,Oe,Ce){const St=new en(Ge),rn=St.readByte();Oe.vertical=!!(rn&1);let un=null;const Qe=new Uint8Array(Te),hn=new Uint8Array(Te),He=new Uint8Array(Te),pn=new Uint8Array(Te),Xe=new Uint8Array(Te);let fn,dn;for(;(dn=St.readByte())>=0;){const qe=dn>>5;if(qe===7){switch(dn&31){case 0:St.readString();break;case 1:un=St.readString();break}continue}const tn=!!(dn&16),Me=dn&15;if(Me+1>Te)throw new Error("BinaryCMapReader.process: Invalid dataSize.");const De=1,Ue=St.readNumber();switch(qe){case 0:St.readHex(Qe,Me),St.readHexNumber(hn,Me),e(hn,Qe,Me),Oe.addCodespaceRange(Me+1,Ie(Qe,Me),Ie(hn,Me));for(let We=1;We<Ue;We++)t(hn,Me),St.readHexNumber(Qe,Me),e(Qe,hn,Me),St.readHexNumber(hn,Me),e(hn,Qe,Me),Oe.addCodespaceRange(Me+1,Ie(Qe,Me),Ie(hn,Me));break;case 1:St.readHex(Qe,Me),St.readHexNumber(hn,Me),e(hn,Qe,Me),St.readNumber();for(let We=1;We<Ue;We++)t(hn,Me),St.readHexNumber(Qe,Me),e(Qe,hn,Me),St.readHexNumber(hn,Me),e(hn,Qe,Me),St.readNumber();break;case 2:St.readHex(He,Me),fn=St.readNumber(),Oe.mapOne(Ie(He,Me),fn);for(let We=1;We<Ue;We++)t(He,Me),tn||(St.readHexNumber(Xe,Me),e(He,Xe,Me)),fn=St.readSigned()+(fn+1),Oe.mapOne(Ie(He,Me),fn);break;case 3:St.readHex(Qe,Me),St.readHexNumber(hn,Me),e(hn,Qe,Me),fn=St.readNumber(),Oe.mapCidRange(Ie(Qe,Me),Ie(hn,Me),fn);for(let We=1;We<Ue;We++)t(hn,Me),tn?Qe.set(hn):(St.readHexNumber(Qe,Me),e(Qe,hn,Me)),St.readHexNumber(hn,Me),e(hn,Qe,Me),fn=St.readNumber(),Oe.mapCidRange(Ie(Qe,Me),Ie(hn,Me),fn);break;case 4:St.readHex(He,De),St.readHex(pn,Me),Oe.mapOne(Ie(He,De),Re(pn,Me));for(let We=1;We<Ue;We++)t(He,De),tn||(St.readHexNumber(Xe,De),e(He,Xe,De)),t(pn,Me),St.readHexSigned(Xe,Me),e(pn,Xe,Me),Oe.mapOne(Ie(He,De),Re(pn,Me));break;case 5:St.readHex(Qe,De),St.readHexNumber(hn,De),e(hn,Qe,De),St.readHex(pn,Me),Oe.mapBfRange(Ie(Qe,De),Ie(hn,De),Re(pn,Me));for(let We=1;We<Ue;We++)t(hn,De),tn?Qe.set(hn):(St.readHexNumber(Qe,De),e(Qe,hn,De)),St.readHexNumber(hn,De),e(hn,Qe,De),St.readHex(pn,Me),Oe.mapBfRange(Ie(Qe,De),Ie(hn,De),Re(pn,Me));break;default:throw new Error(`BinaryCMapReader.process - unknown type: ${qe}`)}}return un?Ce(un):Oe}}_e.BinaryCMapReader=je},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.Parser=_e.Linearization=_e.Lexer=void 0;var xe=ze(2),Ie=ze(4),Re=ze(3),e=ze(8),t=ze(17),Te=ze(19),Ye=ze(20),en=ze(22),je=ze(23),nn=ze(26),Ge=ze(29),Oe=ze(31),Ce=ze(32),St=ze(33);const rn=1e3;function un(fn){const dn=[],qe=fn.length;let tn=0;for(;tn<qe-1;)dn.push(fn[tn++]<<8|fn[tn++]);return tn<qe&&dn.push(fn[tn]),qe+"_"+String.fromCharCode.apply(null,dn)}class Qe{constructor({lexer:dn,xref:qe,allowStreams:tn=!1,recoveryMode:Me=!1}){this.lexer=dn,this.xref=qe,this.allowStreams=tn,this.recoveryMode=Me,this.imageCache=Object.create(null),this._imageId=0,this.refill()}refill(){this.buf1=this.lexer.getObj(),this.buf2=this.lexer.getObj()}shift(){this.buf2 instanceof Ie.Cmd&&this.buf2.cmd==="ID"?(this.buf1=this.buf2,this.buf2=null):(this.buf1=this.buf2,this.buf2=this.lexer.getObj())}tryShift(){try{return this.shift(),!0}catch(dn){if(dn instanceof Re.MissingDataException)throw dn;return!1}}getObj(dn=null){const qe=this.buf1;if(this.shift(),qe instanceof Ie.Cmd)switch(qe.cmd){case"BI":return this.makeInlineImage(dn);case"[":const tn=[];for(;!(0,Ie.isCmd)(this.buf1,"]")&&this.buf1!==Ie.EOF;)tn.push(this.getObj(dn));if(this.buf1===Ie.EOF){if(this.recoveryMode)return tn;throw new Re.ParserEOFException("End of file inside array.")}return this.shift(),tn;case"<<":const Me=new Ie.Dict(this.xref);for(;!(0,Ie.isCmd)(this.buf1,">>")&&this.buf1!==Ie.EOF;){if(!(this.buf1 instanceof Ie.Name)){(0,xe.info)("Malformed dictionary: key must be a name object"),this.shift();continue}const De=this.buf1.name;if(this.shift(),this.buf1===Ie.EOF)break;Me.set(De,this.getObj(dn))}if(this.buf1===Ie.EOF){if(this.recoveryMode)return Me;throw new Re.ParserEOFException("End of file inside dictionary.")}return(0,Ie.isCmd)(this.buf2,"stream")?this.allowStreams?this.makeStream(Me,dn):Me:(this.shift(),Me);default:return qe}if(Number.isInteger(qe)){if(Number.isInteger(this.buf1)&&(0,Ie.isCmd)(this.buf2,"R")){const tn=Ie.Ref.get(qe,this.buf1);return this.shift(),this.shift(),tn}return qe}return typeof qe=="string"&&dn?dn.decryptString(qe):qe}findDefaultInlineStreamEnd(dn){const{knownCommands:$e}=this.lexer,on=dn.pos,Je=15;let an=0,Ke,sn;for(;(Ke=dn.getByte())!==-1;)if(an===0)an=Ke===69?1:0;else if(an===1)an=Ke===73?2:0;else if(Ke===32||Ke===10||Ke===13){sn=dn.pos;const mn=dn.peekBytes(Je),yn=mn.length;if(yn===0)break;for(let wn=0;wn<yn;wn++)if(Ke=mn[wn],!(Ke===0&&mn[wn+1]!==0)&&Ke!==10&&Ke!==13&&(Ke<32||Ke>127)){an=0;break}if(an!==2)continue;if(!$e){(0,xe.warn)("findDefaultInlineStreamEnd - `lexer.knownCommands` is undefined.");continue}const Sn=new pn(new e.Stream(mn.slice()),$e);Sn._hexStringWarn=()=>{};let _n=0;for(;;){const wn=Sn.getObj();if(wn===Ie.EOF){an=0;break}if(wn instanceof Ie.Cmd){const Nn=$e[wn.cmd];if(Nn){if(Nn.variableArgs?_n<=Nn.numArgs:_n===Nn.numArgs)break}else{an=0;break}_n=0;continue}_n++}if(an===2)break}else an=0;Ke===-1&&((0,xe.warn)("findDefaultInlineStreamEnd: Reached the end of the stream without finding a valid EI marker"),sn&&((0,xe.warn)('... trying to recover by using the last "EI" occurrence.'),dn.skip(-(dn.pos-sn))));let gn=4;return dn.skip(-gn),Ke=dn.peekByte(),dn.skip(gn),(0,Re.isWhiteSpace)(Ke)||gn--,dn.pos-gn-on}findDCTDecodeInlineStreamEnd(dn){const qe=dn.pos;let tn=!1,Me,De;for(;(Me=dn.getByte())!==-1;)if(Me===255){switch(dn.getByte()){case 0:break;case 255:dn.skip(-1);break;case 217:tn=!0;break;case 192:case 193:case 194:case 195:case 197:case 198:case 199:case 201:case 202:case 203:case 205:case 206:case 207:case 196:case 204:case 218:case 219:case 220:case 221:case 222:case 223:case 224:case 225:case 226:case 227:case 228:case 229:case 230:case 231:case 232:case 233:case 234:case 235:case 236:case 237:case 238:case 239:case 254:De=dn.getUint16(),De>2?dn.skip(De-2):dn.skip(-2);break}if(tn)break}const Ue=dn.pos-qe;return Me===-1?((0,xe.warn)("Inline DCTDecode image stream: EOI marker not found, searching for /EI/ instead."),dn.skip(-Ue),this.findDefaultInlineStreamEnd(dn)):(this.inlineStreamSkipEI(dn),Ue)}findASCII85DecodeInlineStreamEnd(dn){const Me=dn.pos;let De;for(;(De=dn.getByte())!==-1;)if(De===126){const We=dn.pos;for(De=dn.peekByte();(0,Re.isWhiteSpace)(De);)dn.skip(),De=dn.peekByte();if(De===62){dn.skip();break}if(dn.pos>We){const $e=dn.peekBytes(2);if($e[0]===69&&$e[1]===73)break}}const Ue=dn.pos-Me;return De===-1?((0,xe.warn)("Inline ASCII85Decode image stream: EOD marker not found, searching for /EI/ instead."),dn.skip(-Ue),this.findDefaultInlineStreamEnd(dn)):(this.inlineStreamSkipEI(dn),Ue)}findASCIIHexDecodeInlineStreamEnd(dn){const tn=dn.pos;let Me;for(;(Me=dn.getByte())!==-1&&Me!==62;);const De=dn.pos-tn;return Me===-1?((0,xe.warn)("Inline ASCIIHexDecode image stream: EOD marker not found, searching for /EI/ instead."),dn.skip(-De),this.findDefaultInlineStreamEnd(dn)):(this.inlineStreamSkipEI(dn),De)}inlineStreamSkipEI(dn){let Me=0,De;for(;(De=dn.getByte())!==-1;)if(Me===0)Me=De===69?1:0;else if(Me===1)Me=De===73?2:0;else if(Me===2)break}makeInlineImage(dn){const qe=this.lexer,tn=qe.stream,Me=Object.create(null);let De;for(;!(0,Ie.isCmd)(this.buf1,"ID")&&this.buf1!==Ie.EOF;){if(!(this.buf1 instanceof Ie.Name))throw new xe.FormatError("Dictionary key must be a name object");const sn=this.buf1.name;if(this.shift(),this.buf1===Ie.EOF)break;Me[sn]=this.getObj(dn)}qe.beginInlineImagePos!==-1&&(De=tn.pos-qe.beginInlineImagePos);const Ue=this.xref.fetchIfRef(Me.F||Me.Filter);let We;if(Ue instanceof Ie.Name)We=Ue.name;else if(Array.isArray(Ue)){const sn=this.xref.fetchIfRef(Ue[0]);sn instanceof Ie.Name&&(We=sn.name)}const $e=tn.pos;let on;switch(We){case"DCT":case"DCTDecode":on=this.findDCTDecodeInlineStreamEnd(tn);break;case"A85":case"ASCII85Decode":on=this.findASCII85DecodeInlineStreamEnd(tn);break;case"AHx":case"ASCIIHexDecode":on=this.findASCIIHexDecodeInlineStreamEnd(tn);break;default:on=this.findDefaultInlineStreamEnd(tn)}let Je;if(on<rn&&De>0){const sn=tn.pos;tn.pos=qe.beginInlineImagePos,Je=un(tn.getBytes(De+on)),tn.pos=sn;const gn=this.imageCache[Je];if(gn!==void 0)return this.buf2=Ie.Cmd.get("EI"),this.shift(),gn.reset(),gn}const an=new Ie.Dict(this.xref);for(const sn in Me)an.set(sn,Me[sn]);let Ke=tn.makeSubStream($e,on,an);return dn&&(Ke=dn.createStream(Ke,on)),Ke=this.filter(Ke,an,on),Ke.dict=an,Je!==void 0&&(Ke.cacheKey=`inline_img_${++this._imageId}`,this.imageCache[Je]=Ke),this.buf2=Ie.Cmd.get("EI"),this.shift(),Ke}_findStreamLength(dn,qe){const{stream:tn}=this.lexer;tn.pos=dn;const Me=2048,De=qe.length;for(;tn.pos<tn.end;){const Ue=tn.peekBytes(Me),We=Ue.length-De;if(We<=0)break;let $e=0;for(;$e<We;){let on=0;for(;on<De&&Ue[$e+on]===qe[on];)on++;if(on>=De)return tn.pos+=$e,tn.pos-dn;$e++}tn.pos+=We}return-1}makeStream(dn,qe){const tn=this.lexer;let Me=tn.stream;tn.skipToNextLine();const De=Me.pos-1;let Ue=dn.get("Length");if(Number.isInteger(Ue)||((0,xe.info)(`Bad length "${Ue&&Ue.toString()}" in stream.`),Ue=0),Me.pos=De+Ue,tn.nextChar(),this.tryShift()&&(0,Ie.isCmd)(this.buf2,"endstream"))this.shift();else{const We=new Uint8Array([101,110,100,115,116,114,101,97,109]);let $e=this._findStreamLength(De,We);if($e<0){for(let Je=1;Je<=1;Je++){const an=We.length-Je,Ke=We.slice(0,an),sn=this._findStreamLength(De,Ke);if(sn>=0){const gn=Me.peekBytes(an+1)[an];if(!(0,Re.isWhiteSpace)(gn))break;(0,xe.info)(`Found "${(0,xe.bytesToString)(Ke)}" when searching for endstream command.`),$e=sn;break}}if($e<0)throw new xe.FormatError("Missing endstream command.")}Ue=$e,tn.nextChar(),this.shift(),this.shift()}return this.shift(),Me=Me.makeSubStream(De,Ue,dn),qe&&(Me=qe.createStream(Me,Ue)),Me=this.filter(Me,dn,Ue),Me.dict=dn,Me}filter(dn,qe,tn){let Me=qe.get("F","Filter"),De=qe.get("DP","DecodeParms");if(Me instanceof Ie.Name)return Array.isArray(De)&&(0,xe.warn)("/DecodeParms should not be an Array, when /Filter is a Name."),this.makeFilter(dn,Me.name,tn,De);let Ue=tn;if(Array.isArray(Me)){const We=Me,$e=De;for(let on=0,Je=We.length;on<Je;++on){if(Me=this.xref.fetchIfRef(We[on]),!(Me instanceof Ie.Name))throw new xe.FormatError(`Bad filter name "${Me}"`);De=null,Array.isArray($e)&&on in $e&&(De=this.xref.fetchIfRef($e[on])),dn=this.makeFilter(dn,Me.name,Ue,De),Ue=null}}return dn}makeFilter(dn,qe,tn,Me){if(tn===0)return(0,xe.warn)(`Empty "${qe}" stream.`),new e.NullStream;try{switch(qe){case"Fl":case"FlateDecode":return Me?new Ce.PredictorStream(new en.FlateStream(dn,tn),tn,Me):new en.FlateStream(dn,tn);case"LZW":case"LZWDecode":let De=1;return Me?(Me.has("EarlyChange")&&(De=Me.get("EarlyChange")),new Ce.PredictorStream(new Oe.LZWStream(dn,tn,De),tn,Me)):new Oe.LZWStream(dn,tn,De);case"DCT":case"DCTDecode":return new nn.JpegStream(dn,tn,Me);case"JPX":case"JPXDecode":return new Ge.JpxStream(dn,tn,Me);case"A85":case"ASCII85Decode":return new t.Ascii85Stream(dn,tn);case"AHx":case"ASCIIHexDecode":return new Te.AsciiHexStream(dn,tn);case"CCF":case"CCITTFaxDecode":return new Ye.CCITTFaxStream(dn,tn,Me);case"RL":case"RunLengthDecode":return new St.RunLengthStream(dn,tn);case"JBIG2Decode":return new je.Jbig2Stream(dn,tn,Me)}return(0,xe.warn)(`Filter "${qe}" is not supported.`),dn}catch(De){if(De instanceof Re.MissingDataException)throw De;return(0,xe.warn)(`Invalid stream: "${De}"`),new e.NullStream}}}_e.Parser=Qe;const hn=[1,0,0,0,0,0,0,0,0,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,2,0,0,2,2,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];function He(fn){return fn>=48&&fn<=57?fn&15:fn>=65&&fn<=70||fn>=97&&fn<=102?(fn&15)+9:-1}class pn{constructor(dn,qe=null){this.stream=dn,this.nextChar(),this.strBuf=[],this.knownCommands=qe,this._hexStringNumWarn=0,this.beginInlineImagePos=-1}nextChar(){return this.currentChar=this.stream.getByte()}peekChar(){return this.stream.peekByte()}getNumber(){let dn=this.currentChar,qe=!1,tn=0,Me=1;if(dn===45?(Me=-1,dn=this.nextChar(),dn===45&&(dn=this.nextChar())):dn===43&&(dn=this.nextChar()),dn===10||dn===13)do dn=this.nextChar();while(dn===10||dn===13);if(dn===46&&(tn=10,dn=this.nextChar()),dn<48||dn>57){const $e=`Invalid number: ${String.fromCharCode(dn)} (charCode ${dn})`;if((0,Re.isWhiteSpace)(dn)||dn===-1)return(0,xe.info)(`Lexer.getNumber - "${$e}".`),0;throw new xe.FormatError($e)}let De=dn-48,Ue=0,We=1;for(;(dn=this.nextChar())>=0;)if(dn>=48&&dn<=57){const $e=dn-48;qe?Ue=Ue*10+$e:(tn!==0&&(tn*=10),De=De*10+$e)}else if(dn===46)if(tn===0)tn=1;else break;else if(dn===45)(0,xe.warn)("Badly formatted number: minus sign in the middle");else if(dn===69||dn===101){if(dn=this.peekChar(),dn===43||dn===45)We=dn===45?-1:1,this.nextChar();else if(dn<48||dn>57)break;qe=!0}else break;return tn!==0&&(De/=tn),qe&&(De*=10**(We*Ue)),Me*De}getString(){let dn=1,qe=!1;const tn=this.strBuf;tn.length=0;let Me=this.nextChar();for(;;){let De=!1;switch(Me|0){case-1:(0,xe.warn)("Unterminated string"),qe=!0;break;case 40:++dn,tn.push("(");break;case 41:--dn===0?(this.nextChar(),qe=!0):tn.push(")");break;case 92:switch(Me=this.nextChar(),Me){case-1:(0,xe.warn)("Unterminated string"),qe=!0;break;case 110:tn.push(`
`);break;case 114:tn.push("\r");break;case 116:tn.push("	");break;case 98:tn.push("\b");break;case 102:tn.push("\f");break;case 92:case 40:case 41:tn.push(String.fromCharCode(Me));break;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:let Ue=Me&15;Me=this.nextChar(),De=!0,Me>=48&&Me<=55&&(Ue=(Ue<<3)+(Me&15),Me=this.nextChar(),Me>=48&&Me<=55&&(De=!1,Ue=(Ue<<3)+(Me&15))),tn.push(String.fromCharCode(Ue));break;case 13:this.peekChar()===10&&this.nextChar();break;case 10:break;default:tn.push(String.fromCharCode(Me));break}break;default:tn.push(String.fromCharCode(Me));break}if(qe)break;De||(Me=this.nextChar())}return tn.join("")}getName(){let dn,qe;const tn=this.strBuf;for(tn.length=0;(dn=this.nextChar())>=0&&!hn[dn];)if(dn===35){if(dn=this.nextChar(),hn[dn]){(0,xe.warn)("Lexer_getName: NUMBER SIGN (#) should be followed by a hexadecimal number."),tn.push("#");break}const Me=He(dn);if(Me!==-1){qe=dn,dn=this.nextChar();const De=He(dn);if(De===-1){if((0,xe.warn)(`Lexer_getName: Illegal digit (${String.fromCharCode(dn)}) in hexadecimal number.`),tn.push("#",String.fromCharCode(qe)),hn[dn])break;tn.push(String.fromCharCode(dn));continue}tn.push(String.fromCharCode(Me<<4|De))}else tn.push("#",String.fromCharCode(dn))}else tn.push(String.fromCharCode(dn));return tn.length>127&&(0,xe.warn)(`Name token is longer than allowed by the spec: ${tn.length}`),Ie.Name.get(tn.join(""))}_hexStringWarn(dn){if(this._hexStringNumWarn++===5){(0,xe.warn)("getHexString - ignoring additional invalid characters.");return}this._hexStringNumWarn>5||(0,xe.warn)(`getHexString - ignoring invalid character: ${dn}`)}getHexString(){const dn=this.strBuf;dn.length=0;let qe=this.currentChar,tn=!0,Me,De;for(this._hexStringNumWarn=0;;)if(qe<0){(0,xe.warn)("Unterminated hex string");break}else if(qe===62){this.nextChar();break}else if(hn[qe]===1){qe=this.nextChar();continue}else{if(tn){if(Me=He(qe),Me===-1){this._hexStringWarn(qe),qe=this.nextChar();continue}}else{if(De=He(qe),De===-1){this._hexStringWarn(qe),qe=this.nextChar();continue}dn.push(String.fromCharCode(Me<<4|De))}tn=!tn,qe=this.nextChar()}return dn.join("")}getObj(){let dn=!1,qe=this.currentChar;for(;;){if(qe<0)return Ie.EOF;if(dn)(qe===10||qe===13)&&(dn=!1);else if(qe===37)dn=!0;else if(hn[qe]!==1)break;qe=this.nextChar()}switch(qe|0){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return this.getNumber();case 40:return this.getString();case 47:return this.getName();case 91:return this.nextChar(),Ie.Cmd.get("[");case 93:return this.nextChar(),Ie.Cmd.get("]");case 60:return qe=this.nextChar(),qe===60?(this.nextChar(),Ie.Cmd.get("<<")):this.getHexString();case 62:return qe=this.nextChar(),qe===62?(this.nextChar(),Ie.Cmd.get(">>")):Ie.Cmd.get(">");case 123:return this.nextChar(),Ie.Cmd.get("{");case 125:return this.nextChar(),Ie.Cmd.get("}");case 41:throw this.nextChar(),new xe.FormatError(`Illegal character: ${qe}`)}let tn=String.fromCharCode(qe);if(qe<32||qe>127){const Ue=this.peekChar();if(Ue>=32&&Ue<=127)return this.nextChar(),Ie.Cmd.get(tn)}const Me=this.knownCommands;let De=Me?.[tn]!==void 0;for(;(qe=this.nextChar())>=0&&!hn[qe];){const Ue=tn+String.fromCharCode(qe);if(De&&Me[Ue]===void 0)break;if(tn.length===128)throw new xe.FormatError(`Command token too long: ${tn.length}`);tn=Ue,De=Me?.[tn]!==void 0}return tn==="true"?!0:tn==="false"?!1:tn==="null"?null:(tn==="BI"&&(this.beginInlineImagePos=this.stream.pos),Ie.Cmd.get(tn))}skipToNextLine(){let dn=this.currentChar;for(;dn>=0;){if(dn===13){dn=this.nextChar(),dn===10&&this.nextChar();break}else if(dn===10){this.nextChar();break}dn=this.nextChar()}}}_e.Lexer=pn;class Xe{static create(dn){function qe(an,Ke,sn=!1){const gn=an.get(Ke);if(Number.isInteger(gn)&&(sn?gn>=0:gn>0))return gn;throw new Error(`The "${Ke}" parameter in the linearization dictionary is invalid.`)}function tn(an){const Ke=an.get("H");let sn;if(Array.isArray(Ke)&&((sn=Ke.length)===2||sn===4)){for(let gn=0;gn<sn;gn++){const mn=Ke[gn];if(!(Number.isInteger(mn)&&mn>0))throw new Error(`Hint (${gn}) in the linearization dictionary is invalid.`)}return Ke}throw new Error("Hint array in the linearization dictionary is invalid.")}const Me=new Qe({lexer:new pn(dn),xref:null}),De=Me.getObj(),Ue=Me.getObj(),We=Me.getObj(),$e=Me.getObj();let on,Je;if(Number.isInteger(De)&&Number.isInteger(Ue)&&(0,Ie.isCmd)(We,"obj")&&$e instanceof Ie.Dict&&typeof(on=$e.get("Linearized"))=="number"&&on>0){if((Je=qe($e,"L"))!==dn.length)throw new Error('The "L" parameter in the linearization dictionary does not equal the stream length.')}else return null;return{length:Je,hints:tn($e),objectNumberFirst:qe($e,"O"),endFirst:qe($e,"E"),numPages:qe($e,"N"),mainXRefEntriesOffset:qe($e,"T"),pageFirst:$e.has("P")?qe($e,"P",!0):0}}}_e.Linearization=Xe},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.Ascii85Stream=void 0;var xe=ze(18),Ie=ze(3);class Re extends xe.DecodeStream{constructor(t,Te){Te&&(Te*=.8),super(Te),this.str=t,this.dict=t.dict,this.input=new Uint8Array(5)}readBlock(){const en=this.str;let je=en.getByte();for(;(0,Ie.isWhiteSpace)(je);)je=en.getByte();if(je===-1||je===126){this.eof=!0;return}const nn=this.bufferLength;let Ge,Oe;if(je===122){for(Ge=this.ensureBuffer(nn+4),Oe=0;Oe<4;++Oe)Ge[nn+Oe]=0;this.bufferLength+=4}else{const Ce=this.input;for(Ce[0]=je,Oe=1;Oe<5;++Oe){for(je=en.getByte();(0,Ie.isWhiteSpace)(je);)je=en.getByte();if(Ce[Oe]=je,je===-1||je===126)break}if(Ge=this.ensureBuffer(nn+Oe-1),this.bufferLength+=Oe-1,Oe<5){for(;Oe<5;++Oe)Ce[Oe]=117;this.eof=!0}let St=0;for(Oe=0;Oe<5;++Oe)St=St*85+(Ce[Oe]-33);for(Oe=3;Oe>=0;--Oe)Ge[nn+Oe]=St&255,St>>=8}}}_e.Ascii85Stream=Re},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.StreamsSequenceStream=_e.DecodeStream=void 0;var xe=ze(5),Ie=ze(8);const Re=new Uint8Array(0);class e extends xe.BaseStream{constructor(Ye){if(super(),this._rawMinBufferLength=Ye||0,this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=Re,this.minBufferLength=512,Ye)for(;this.minBufferLength<Ye;)this.minBufferLength*=2}get isEmpty(){for(;!this.eof&&this.bufferLength===0;)this.readBlock();return this.bufferLength===0}ensureBuffer(Ye){const en=this.buffer;if(Ye<=en.byteLength)return en;let je=this.minBufferLength;for(;je<Ye;)je*=2;const nn=new Uint8Array(je);return nn.set(en),this.buffer=nn}getByte(){const Ye=this.pos;for(;this.bufferLength<=Ye;){if(this.eof)return-1;this.readBlock()}return this.buffer[this.pos++]}getBytes(Ye){const en=this.pos;let je;if(Ye){for(this.ensureBuffer(en+Ye),je=en+Ye;!this.eof&&this.bufferLength<je;)this.readBlock();const nn=this.bufferLength;je>nn&&(je=nn)}else{for(;!this.eof;)this.readBlock();je=this.bufferLength}return this.pos=je,this.buffer.subarray(en,je)}reset(){this.pos=0}makeSubStream(Ye,en,je=null){if(en===void 0)for(;!this.eof;)this.readBlock();else{const nn=Ye+en;for(;this.bufferLength<=nn&&!this.eof;)this.readBlock()}return new Ie.Stream(this.buffer,Ye,en,je)}getBaseStreams(){return this.str?this.str.getBaseStreams():null}}_e.DecodeStream=e;class t extends e{constructor(Ye,en=null){let je=0;for(const nn of Ye)je+=nn instanceof e?nn._rawMinBufferLength:nn.length;super(je),this.streams=Ye,this._onError=en}readBlock(){const Ye=this.streams;if(Ye.length===0){this.eof=!0;return}const en=Ye.shift();let je;try{je=en.getBytes()}catch(Ce){if(this._onError){this._onError(Ce,en.dict?.objId);return}throw Ce}const nn=this.bufferLength,Ge=nn+je.length;this.ensureBuffer(Ge).set(je,nn),this.bufferLength=Ge}getBaseStreams(){const Ye=[];for(const en of this.streams){const je=en.getBaseStreams();je&&Ye.push(...je)}return Ye.length>0?Ye:null}}_e.StreamsSequenceStream=t},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.AsciiHexStream=void 0;var xe=ze(18);class Ie extends xe.DecodeStream{constructor(e,t){t&&(t*=.5),super(t),this.str=e,this.dict=e.dict,this.firstDigit=-1}readBlock(){const t=this.str.getBytes(8e3);if(!t.length){this.eof=!0;return}const Te=t.length+1>>1,Ye=this.ensureBuffer(this.bufferLength+Te);let en=this.bufferLength,je=this.firstDigit;for(const nn of t){let Ge;if(nn>=48&&nn<=57)Ge=nn&15;else if(nn>=65&&nn<=70||nn>=97&&nn<=102)Ge=(nn&15)+9;else if(nn===62){this.eof=!0;break}else continue;je<0?je=Ge:(Ye[en++]=je<<4|Ge,je=-1)}je>=0&&this.eof&&(Ye[en++]=je<<4,je=-1),this.firstDigit=je,this.bufferLength=en}}_e.AsciiHexStream=Ie},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.CCITTFaxStream=void 0;var xe=ze(21),Ie=ze(18),Re=ze(4);class e extends Ie.DecodeStream{constructor(Te,Ye,en){super(Ye),this.str=Te,this.dict=Te.dict,en instanceof Re.Dict||(en=Re.Dict.empty);const je={next(){return Te.getByte()}};this.ccittFaxDecoder=new xe.CCITTFaxDecoder(je,{K:en.get("K"),EndOfLine:en.get("EndOfLine"),EncodedByteAlign:en.get("EncodedByteAlign"),Columns:en.get("Columns"),Rows:en.get("Rows"),EndOfBlock:en.get("EndOfBlock"),BlackIs1:en.get("BlackIs1")})}readBlock(){for(;!this.eof;){const Te=this.ccittFaxDecoder.readNextChar();if(Te===-1){this.eof=!0;return}this.ensureBuffer(this.bufferLength+1),this.buffer[this.bufferLength++]=Te}}}_e.CCITTFaxStream=e},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.CCITTFaxDecoder=void 0;var xe=ze(2);const Ie=-2,Re=-1,e=0,t=1,Te=2,Ye=3,en=4,je=5,nn=6,Ge=7,Oe=8,Ce=[[-1,-1],[-1,-1],[7,Oe],[7,Ge],[6,nn],[6,nn],[6,je],[6,je],[4,e],[4,e],[4,e],[4,e],[4,e],[4,e],[4,e],[4,e],[3,t],[3,t],[3,t],[3,t],[3,t],[3,t],[3,t],[3,t],[3,t],[3,t],[3,t],[3,t],[3,t],[3,t],[3,t],[3,t],[3,en],[3,en],[3,en],[3,en],[3,en],[3,en],[3,en],[3,en],[3,en],[3,en],[3,en],[3,en],[3,en],[3,en],[3,en],[3,en],[3,Ye],[3,Ye],[3,Ye],[3,Ye],[3,Ye],[3,Ye],[3,Ye],[3,Ye],[3,Ye],[3,Ye],[3,Ye],[3,Ye],[3,Ye],[3,Ye],[3,Ye],[3,Ye],[1,Te],[1,Te],[1,Te],[1,Te],[1,Te],[1,Te],[1,Te],[1,Te],[1,Te],[1,Te],[1,Te],[1,Te],[1,Te],[1,Te],[1,Te],[1,Te],[1,Te],[1,Te],[1,Te],[1,Te],[1,Te],[1,Te],[1,Te],[1,Te],[1,Te],[1,Te],[1,Te],[1,Te],[1,Te],[1,Te],[1,Te],[1,Te],[1,Te],[1,Te],[1,Te],[1,Te],[1,Te],[1,Te],[1,Te],[1,Te],[1,Te],[1,Te],[1,Te],[1,Te],[1,Te],[1,Te],[1,Te],[1,Te],[1,Te],[1,Te],[1,Te],[1,Te],[1,Te],[1,Te],[1,Te],[1,Te],[1,Te],[1,Te],[1,Te],[1,Te],[1,Te],[1,Te],[1,Te],[1,Te]],St=[[-1,-1],[12,Ie],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[12,1984],[12,2048],[12,2112],[12,2176],[12,2240],[12,2304],[11,1856],[11,1856],[11,1920],[11,1920],[12,2368],[12,2432],[12,2496],[12,2560]],rn=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[8,29],[8,29],[8,30],[8,30],[8,45],[8,45],[8,46],[8,46],[7,22],[7,22],[7,22],[7,22],[7,23],[7,23],[7,23],[7,23],[8,47],[8,47],[8,48],[8,48],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[7,20],[7,20],[7,20],[7,20],[8,33],[8,33],[8,34],[8,34],[8,35],[8,35],[8,36],[8,36],[8,37],[8,37],[8,38],[8,38],[7,19],[7,19],[7,19],[7,19],[8,31],[8,31],[8,32],[8,32],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[8,53],[8,53],[8,54],[8,54],[7,26],[7,26],[7,26],[7,26],[8,39],[8,39],[8,40],[8,40],[8,41],[8,41],[8,42],[8,42],[8,43],[8,43],[8,44],[8,44],[7,21],[7,21],[7,21],[7,21],[7,28],[7,28],[7,28],[7,28],[8,61],[8,61],[8,62],[8,62],[8,63],[8,63],[8,0],[8,0],[8,320],[8,320],[8,384],[8,384],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[7,27],[7,27],[7,27],[7,27],[8,59],[8,59],[8,60],[8,60],[9,1472],[9,1536],[9,1600],[9,1728],[7,18],[7,18],[7,18],[7,18],[7,24],[7,24],[7,24],[7,24],[8,49],[8,49],[8,50],[8,50],[8,51],[8,51],[8,52],[8,52],[7,25],[7,25],[7,25],[7,25],[8,55],[8,55],[8,56],[8,56],[8,57],[8,57],[8,58],[8,58],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[8,448],[8,448],[8,512],[8,512],[9,704],[9,768],[8,640],[8,640],[8,576],[8,576],[9,832],[9,896],[9,960],[9,1024],[9,1088],[9,1152],[9,1216],[9,1280],[9,1344],[9,1408],[7,256],[7,256],[7,256],[7,256],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7]],un=[[-1,-1],[-1,-1],[12,Ie],[12,Ie],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[11,1792],[11,1792],[12,1984],[12,1984],[12,2048],[12,2048],[12,2112],[12,2112],[12,2176],[12,2176],[12,2240],[12,2240],[12,2304],[12,2304],[11,1856],[11,1856],[11,1856],[11,1856],[11,1920],[11,1920],[11,1920],[11,1920],[12,2368],[12,2368],[12,2432],[12,2432],[12,2496],[12,2496],[12,2560],[12,2560],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[12,52],[12,52],[13,640],[13,704],[13,768],[13,832],[12,55],[12,55],[12,56],[12,56],[13,1280],[13,1344],[13,1408],[13,1472],[12,59],[12,59],[12,60],[12,60],[13,1536],[13,1600],[11,24],[11,24],[11,24],[11,24],[11,25],[11,25],[11,25],[11,25],[13,1664],[13,1728],[12,320],[12,320],[12,384],[12,384],[12,448],[12,448],[13,512],[13,576],[12,53],[12,53],[12,54],[12,54],[13,896],[13,960],[13,1024],[13,1088],[13,1152],[13,1216],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64]],Qe=[[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[11,23],[11,23],[12,50],[12,51],[12,44],[12,45],[12,46],[12,47],[12,57],[12,58],[12,61],[12,256],[10,16],[10,16],[10,16],[10,16],[10,17],[10,17],[10,17],[10,17],[12,48],[12,49],[12,62],[12,63],[12,30],[12,31],[12,32],[12,33],[12,40],[12,41],[11,22],[11,22],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[12,128],[12,192],[12,26],[12,27],[12,28],[12,29],[11,19],[11,19],[11,20],[11,20],[12,34],[12,35],[12,36],[12,37],[12,38],[12,39],[11,21],[11,21],[12,42],[12,43],[10,0],[10,0],[10,0],[10,0],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12]],hn=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[6,9],[6,8],[5,7],[5,7],[4,6],[4,6],[4,6],[4,6],[4,5],[4,5],[4,5],[4,5],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2]];class He{constructor(Xe,fn={}){if(!Xe||typeof Xe.next!="function")throw new Error('CCITTFaxDecoder - invalid "source" parameter.');this.source=Xe,this.eof=!1,this.encoding=fn.K||0,this.eoline=fn.EndOfLine||!1,this.byteAlign=fn.EncodedByteAlign||!1,this.columns=fn.Columns||1728,this.rows=fn.Rows||0,this.eoblock=fn.EndOfBlock??!0,this.black=fn.BlackIs1||!1,this.codingLine=new Uint32Array(this.columns+1),this.refLine=new Uint32Array(this.columns+2),this.codingLine[0]=this.columns,this.codingPos=0,this.row=0,this.nextLine2D=this.encoding<0,this.inputBits=0,this.inputBuf=0,this.outputBits=0,this.rowsDone=!1;let dn;for(;(dn=this._lookBits(12))===0;)this._eatBits(1);dn===1&&this._eatBits(12),this.encoding>0&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1))}readNextChar(){if(this.eof)return-1;const Xe=this.refLine,fn=this.codingLine,dn=this.columns;let qe,tn,Me,De;if(this.outputBits===0){if(this.rowsDone&&(this.eof=!0),this.eof)return-1;this.err=!1;let We,$e,on;if(this.nextLine2D){for(De=0;fn[De]<dn;++De)Xe[De]=fn[De];for(Xe[De++]=dn,Xe[De]=dn,fn[0]=0,this.codingPos=0,qe=0,tn=0;fn[this.codingPos]<dn;)switch(We=this._getTwoDimCode(),We){case e:this._addPixels(Xe[qe+1],tn),Xe[qe+1]<dn&&(qe+=2);break;case t:if(We=$e=0,tn){do We+=on=this._getBlackCode();while(on>=64);do $e+=on=this._getWhiteCode();while(on>=64)}else{do We+=on=this._getWhiteCode();while(on>=64);do $e+=on=this._getBlackCode();while(on>=64)}for(this._addPixels(fn[this.codingPos]+We,tn),fn[this.codingPos]<dn&&this._addPixels(fn[this.codingPos]+$e,tn^1);Xe[qe]<=fn[this.codingPos]&&Xe[qe]<dn;)qe+=2;break;case Ge:if(this._addPixels(Xe[qe]+3,tn),tn^=1,fn[this.codingPos]<dn)for(++qe;Xe[qe]<=fn[this.codingPos]&&Xe[qe]<dn;)qe+=2;break;case je:if(this._addPixels(Xe[qe]+2,tn),tn^=1,fn[this.codingPos]<dn)for(++qe;Xe[qe]<=fn[this.codingPos]&&Xe[qe]<dn;)qe+=2;break;case Ye:if(this._addPixels(Xe[qe]+1,tn),tn^=1,fn[this.codingPos]<dn)for(++qe;Xe[qe]<=fn[this.codingPos]&&Xe[qe]<dn;)qe+=2;break;case Te:if(this._addPixels(Xe[qe],tn),tn^=1,fn[this.codingPos]<dn)for(++qe;Xe[qe]<=fn[this.codingPos]&&Xe[qe]<dn;)qe+=2;break;case Oe:if(this._addPixelsNeg(Xe[qe]-3,tn),tn^=1,fn[this.codingPos]<dn)for(qe>0?--qe:++qe;Xe[qe]<=fn[this.codingPos]&&Xe[qe]<dn;)qe+=2;break;case nn:if(this._addPixelsNeg(Xe[qe]-2,tn),tn^=1,fn[this.codingPos]<dn)for(qe>0?--qe:++qe;Xe[qe]<=fn[this.codingPos]&&Xe[qe]<dn;)qe+=2;break;case en:if(this._addPixelsNeg(Xe[qe]-1,tn),tn^=1,fn[this.codingPos]<dn)for(qe>0?--qe:++qe;Xe[qe]<=fn[this.codingPos]&&Xe[qe]<dn;)qe+=2;break;case Re:this._addPixels(dn,0),this.eof=!0;break;default:(0,xe.info)("bad 2d code"),this._addPixels(dn,0),this.err=!0}}else for(fn[0]=0,this.codingPos=0,tn=0;fn[this.codingPos]<dn;){if(We=0,tn)do We+=on=this._getBlackCode();while(on>=64);else do We+=on=this._getWhiteCode();while(on>=64);this._addPixels(fn[this.codingPos]+We,tn),tn^=1}let Je=!1;if(this.byteAlign&&(this.inputBits&=-8),!this.eoblock&&this.row===this.rows-1)this.rowsDone=!0;else{if(We=this._lookBits(12),this.eoline)for(;We!==Re&&We!==1;)this._eatBits(1),We=this._lookBits(12);else for(;We===0;)this._eatBits(1),We=this._lookBits(12);We===1?(this._eatBits(12),Je=!0):We===Re&&(this.eof=!0)}if(!this.eof&&this.encoding>0&&!this.rowsDone&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1)),this.eoblock&&Je&&this.byteAlign){if(We=this._lookBits(12),We===1){if(this._eatBits(12),this.encoding>0&&(this._lookBits(1),this._eatBits(1)),this.encoding>=0)for(De=0;De<4;++De)We=this._lookBits(12),We!==1&&(0,xe.info)("bad rtc code: "+We),this._eatBits(12),this.encoding>0&&(this._lookBits(1),this._eatBits(1));this.eof=!0}}else if(this.err&&this.eoline){for(;;){if(We=this._lookBits(13),We===Re)return this.eof=!0,-1;if(We>>1===1)break;this._eatBits(1)}this._eatBits(12),this.encoding>0&&(this._eatBits(1),this.nextLine2D=!(We&1))}this.outputBits=fn[0]>0?fn[this.codingPos=0]:fn[this.codingPos=1],this.row++}let Ue;if(this.outputBits>=8)Ue=this.codingPos&1?0:255,this.outputBits-=8,this.outputBits===0&&fn[this.codingPos]<dn&&(this.codingPos++,this.outputBits=fn[this.codingPos]-fn[this.codingPos-1]);else{Me=8,Ue=0;do{if(typeof this.outputBits!="number")throw new xe.FormatError('Invalid /CCITTFaxDecode data, "outputBits" must be a number.');this.outputBits>Me?(Ue<<=Me,this.codingPos&1||(Ue|=255>>8-Me),this.outputBits-=Me,Me=0):(Ue<<=this.outputBits,this.codingPos&1||(Ue|=255>>8-this.outputBits),Me-=this.outputBits,this.outputBits=0,fn[this.codingPos]<dn?(this.codingPos++,this.outputBits=fn[this.codingPos]-fn[this.codingPos-1]):Me>0&&(Ue<<=Me,Me=0))}while(Me)}return this.black&&(Ue^=255),Ue}_addPixels(Xe,fn){const dn=this.codingLine;let qe=this.codingPos;Xe>dn[qe]&&(Xe>this.columns&&((0,xe.info)("row is wrong length"),this.err=!0,Xe=this.columns),qe&1^fn&&++qe,dn[qe]=Xe),this.codingPos=qe}_addPixelsNeg(Xe,fn){const dn=this.codingLine;let qe=this.codingPos;if(Xe>dn[qe])Xe>this.columns&&((0,xe.info)("row is wrong length"),this.err=!0,Xe=this.columns),qe&1^fn&&++qe,dn[qe]=Xe;else if(Xe<dn[qe]){for(Xe<0&&((0,xe.info)("invalid code"),this.err=!0,Xe=0);qe>0&&Xe<dn[qe-1];)--qe;dn[qe]=Xe}this.codingPos=qe}_findTableCode(Xe,fn,dn,qe){const tn=qe||0;for(let Me=Xe;Me<=fn;++Me){let De=this._lookBits(Me);if(De===Re)return[!0,1,!1];if(Me<fn&&(De<<=fn-Me),!tn||De>=tn){const Ue=dn[De-tn];if(Ue[0]===Me)return this._eatBits(Me),[!0,Ue[1],!0]}}return[!1,0,!1]}_getTwoDimCode(){let Xe=0,fn;if(this.eoblock){if(Xe=this._lookBits(7),fn=Ce[Xe],fn?.[0]>0)return this._eatBits(fn[0]),fn[1]}else{const dn=this._findTableCode(1,7,Ce);if(dn[0]&&dn[2])return dn[1]}return(0,xe.info)("Bad two dim code"),Re}_getWhiteCode(){let Xe=0,fn;if(this.eoblock){if(Xe=this._lookBits(12),Xe===Re)return 1;if(fn=Xe>>5===0?St[Xe]:rn[Xe>>3],fn[0]>0)return this._eatBits(fn[0]),fn[1]}else{let dn=this._findTableCode(1,9,rn);if(dn[0]||(dn=this._findTableCode(11,12,St),dn[0]))return dn[1]}return(0,xe.info)("bad white code"),this._eatBits(1),1}_getBlackCode(){let Xe,fn;if(this.eoblock){if(Xe=this._lookBits(13),Xe===Re)return 1;if(Xe>>7===0?fn=un[Xe]:Xe>>9===0&&Xe>>7!==0?fn=Qe[(Xe>>1)-64]:fn=hn[Xe>>7],fn[0]>0)return this._eatBits(fn[0]),fn[1]}else{let dn=this._findTableCode(2,6,hn);if(dn[0]||(dn=this._findTableCode(7,12,Qe,64),dn[0])||(dn=this._findTableCode(10,13,un),dn[0]))return dn[1]}return(0,xe.info)("bad black code"),this._eatBits(1),1}_lookBits(Xe){let fn;for(;this.inputBits<Xe;){if((fn=this.source.next())===-1)return this.inputBits===0?Re:this.inputBuf<<Xe-this.inputBits&65535>>16-Xe;this.inputBuf=this.inputBuf<<8|fn,this.inputBits+=8}return this.inputBuf>>this.inputBits-Xe&65535>>16-Xe}_eatBits(Xe){(this.inputBits-=Xe)<0&&(this.inputBits=0)}}_e.CCITTFaxDecoder=He},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.FlateStream=void 0;var xe=ze(18),Ie=ze(2);const Re=new Int32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),e=new Int32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),t=new Int32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),Te=[new Int32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],Ye=[new Int32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];class en extends xe.DecodeStream{constructor(nn,Ge){super(Ge),this.str=nn,this.dict=nn.dict;const Oe=nn.getByte(),Ce=nn.getByte();if(Oe===-1||Ce===-1)throw new Ie.FormatError(`Invalid header in flate stream: ${Oe}, ${Ce}`);if((Oe&15)!==8)throw new Ie.FormatError(`Unknown compression method in flate stream: ${Oe}, ${Ce}`);if(((Oe<<8)+Ce)%31!==0)throw new Ie.FormatError(`Bad FCHECK in flate stream: ${Oe}, ${Ce}`);if(Ce&32)throw new Ie.FormatError(`FDICT bit set in flate stream: ${Oe}, ${Ce}`);this.codeSize=0,this.codeBuf=0}getBits(nn){const Ge=this.str;let Oe=this.codeSize,Ce=this.codeBuf,St;for(;Oe<nn;){if((St=Ge.getByte())===-1)throw new Ie.FormatError("Bad encoding in flate stream");Ce|=St<<Oe,Oe+=8}return St=Ce&(1<<nn)-1,this.codeBuf=Ce>>nn,this.codeSize=Oe-=nn,St}getCode(nn){const Ge=this.str,Oe=nn[0],Ce=nn[1];let St=this.codeSize,rn=this.codeBuf,un;for(;St<Ce&&(un=Ge.getByte())!==-1;)rn|=un<<St,St+=8;const Qe=Oe[rn&(1<<Ce)-1],hn=Qe>>16,He=Qe&65535;if(hn<1||St<hn)throw new Ie.FormatError("Bad encoding in flate stream");return this.codeBuf=rn>>hn,this.codeSize=St-hn,He}generateHuffmanTable(nn){const Ge=nn.length;let Oe=0,Ce;for(Ce=0;Ce<Ge;++Ce)nn[Ce]>Oe&&(Oe=nn[Ce]);const St=1<<Oe,rn=new Int32Array(St);for(let un=1,Qe=0,hn=2;un<=Oe;++un,Qe<<=1,hn<<=1)for(let He=0;He<Ge;++He)if(nn[He]===un){let pn=0,Xe=Qe;for(Ce=0;Ce<un;++Ce)pn=pn<<1|Xe&1,Xe>>=1;for(Ce=pn;Ce<St;Ce+=hn)rn[Ce]=un<<16|He;++Qe}return[rn,Oe]}readBlock(){let nn,Ge;const Oe=this.str;let Ce=this.getBits(3);if(Ce&1&&(this.eof=!0),Ce>>=1,Ce===0){let hn;if((hn=Oe.getByte())===-1)throw new Ie.FormatError("Bad block header in flate stream");let He=hn;if((hn=Oe.getByte())===-1)throw new Ie.FormatError("Bad block header in flate stream");if(He|=hn<<8,(hn=Oe.getByte())===-1)throw new Ie.FormatError("Bad block header in flate stream");let pn=hn;if((hn=Oe.getByte())===-1)throw new Ie.FormatError("Bad block header in flate stream");if(pn|=hn<<8,pn!==(~He&65535)&&(He!==0||pn!==0))throw new Ie.FormatError("Bad uncompressed block length in flate stream");this.codeBuf=0,this.codeSize=0;const Xe=this.bufferLength,fn=Xe+He;if(nn=this.ensureBuffer(fn),this.bufferLength=fn,He===0)Oe.peekByte()===-1&&(this.eof=!0);else{const dn=Oe.getBytes(He);nn.set(dn,Xe),dn.length<He&&(this.eof=!0)}return}let St,rn;if(Ce===1)St=Te,rn=Ye;else if(Ce===2){const hn=this.getBits(5)+257,He=this.getBits(5)+1,pn=this.getBits(4)+4,Xe=new Uint8Array(Re.length);let fn;for(fn=0;fn<pn;++fn)Xe[Re[fn]]=this.getBits(3);const dn=this.generateHuffmanTable(Xe);Ge=0,fn=0;const qe=hn+He,tn=new Uint8Array(qe);let Me,De,Ue;for(;fn<qe;){const We=this.getCode(dn);if(We===16)Me=2,De=3,Ue=Ge;else if(We===17)Me=3,De=3,Ue=Ge=0;else if(We===18)Me=7,De=11,Ue=Ge=0;else{tn[fn++]=Ge=We;continue}let $e=this.getBits(Me)+De;for(;$e-- >0;)tn[fn++]=Ue}St=this.generateHuffmanTable(tn.subarray(0,hn)),rn=this.generateHuffmanTable(tn.subarray(hn,qe))}else throw new Ie.FormatError("Unknown block type in flate stream");nn=this.buffer;let un=nn?nn.length:0,Qe=this.bufferLength;for(;;){let hn=this.getCode(St);if(hn<256){Qe+1>=un&&(nn=this.ensureBuffer(Qe+1),un=nn.length),nn[Qe++]=hn;continue}if(hn===256){this.bufferLength=Qe;return}hn-=257,hn=e[hn];let He=hn>>16;He>0&&(He=this.getBits(He)),Ge=(hn&65535)+He,hn=this.getCode(rn),hn=t[hn],He=hn>>16,He>0&&(He=this.getBits(He));const pn=(hn&65535)+He;Qe+Ge>=un&&(nn=this.ensureBuffer(Qe+Ge),un=nn.length);for(let Xe=0;Xe<Ge;++Xe,++Qe)nn[Qe]=nn[Qe-pn]}}}_e.FlateStream=en},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.Jbig2Stream=void 0;var xe=ze(5),Ie=ze(18),Re=ze(4),e=ze(24),t=ze(2);class Te extends Ie.DecodeStream{constructor(en,je,nn){super(je),this.stream=en,this.dict=en.dict,this.maybeLength=je,this.params=nn}get bytes(){return(0,t.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(en){}readBlock(){if(this.eof)return;const en=new e.Jbig2Image,je=[];if(this.params instanceof Re.Dict){const Oe=this.params.get("JBIG2Globals");if(Oe instanceof xe.BaseStream){const Ce=Oe.getBytes();je.push({data:Ce,start:0,end:Ce.length})}}je.push({data:this.bytes,start:0,end:this.bytes.length});const nn=en.parseChunks(je),Ge=nn.length;for(let Oe=0;Oe<Ge;Oe++)nn[Oe]^=255;this.buffer=nn,this.bufferLength=Ge,this.eof=!0}}_e.Jbig2Stream=Te},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.Jbig2Image=void 0;var xe=ze(2),Ie=ze(3),Re=ze(25),e=ze(21);class t extends xe.BaseException{constructor(In){super(`JBIG2 error: ${In}`,"Jbig2Error")}}class Te{getContexts(In){return In in this?this[In]:this[In]=new Int8Array(65536)}}class Ye{constructor(In,Rn,bn){this.data=In,this.start=Rn,this.end=bn}get decoder(){const In=new Re.ArithmeticDecoder(this.data,this.start,this.end);return(0,xe.shadow)(this,"decoder",In)}get contextCache(){const In=new Te;return(0,xe.shadow)(this,"contextCache",In)}}const en=2**31-1,je=-2147483648;function nn(Cn,In,Rn){const bn=Cn.getContexts(In);let kn=1;function En(Hn){let $n=0;for(let Un=0;Un<Hn;Un++){const qn=Rn.readBit(bn,kn);kn=kn<256?kn<<1|qn:(kn<<1|qn)&511|256,$n=$n<<1|qn}return $n>>>0}const On=En(1),Mn=En(1)?En(1)?En(1)?En(1)?En(1)?En(32)+4436:En(12)+340:En(8)+84:En(6)+20:En(4)+4:En(2);let Bn;return On===0?Bn=Mn:Mn>0&&(Bn=-Mn),Bn>=je&&Bn<=en?Bn:null}function Ge(Cn,In,Rn){const bn=Cn.getContexts("IAID");let kn=1;for(let En=0;En<Rn;En++){const On=In.readBit(bn,kn);kn=kn<<1|On}return Rn<31?kn&(1<<Rn)-1:kn&2147483647}const Oe=["SymbolDictionary",null,null,null,"IntermediateTextRegion",null,"ImmediateTextRegion","ImmediateLosslessTextRegion",null,null,null,null,null,null,null,null,"PatternDictionary",null,null,null,"IntermediateHalftoneRegion",null,"ImmediateHalftoneRegion","ImmediateLosslessHalftoneRegion",null,null,null,null,null,null,null,null,null,null,null,null,"IntermediateGenericRegion",null,"ImmediateGenericRegion","ImmediateLosslessGenericRegion","IntermediateGenericRefinementRegion",null,"ImmediateGenericRefinementRegion","ImmediateLosslessGenericRefinementRegion",null,null,null,null,"PageInformation","EndOfPage","EndOfStripe","EndOfFile","Profiles","Tables",null,null,null,null,null,null,null,null,"Extension"],Ce=[[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:2,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-2,y:0},{x:-1,y:0}],[{x:-3,y:-1},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}]],St=[{coding:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:-1,y:1},{x:0,y:1},{x:1,y:1}]},{coding:[{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:0,y:1},{x:1,y:1}]}],rn=[39717,1941,229,405];function un(Cn,In,Rn){const bn=Rn.decoder,kn=Rn.contextCache.getContexts("GB"),En=[];let On,Mn,Bn,Hn,$n,Un,qn;const jn=31735;for(Mn=0;Mn<In;Mn++)for($n=En[Mn]=new Uint8Array(Cn),Un=Mn<1?$n:En[Mn-1],qn=Mn<2?$n:En[Mn-2],On=qn[0]<<13|qn[1]<<12|qn[2]<<11|Un[0]<<7|Un[1]<<6|Un[2]<<5|Un[3]<<4,Bn=0;Bn<Cn;Bn++)$n[Bn]=Hn=bn.readBit(kn,On),On=(On&jn)<<1|(Bn+3<Cn?qn[Bn+3]<<11:0)|(Bn+4<Cn?Un[Bn+4]<<4:0)|Hn;return En}function Qe(Cn,In,Rn,bn,kn,En,On,Mn){if(Cn){const Gi=new mn(Mn.data,Mn.start,Mn.end);return Nn(Gi,In,Rn,!1)}if(bn===0&&!kn&&On.length===4&&On[0].x===3&&On[0].y===-1&&On[1].x===-3&&On[1].y===-1&&On[2].x===2&&On[2].y===-2&&On[3].x===-2&&On[3].y===-2)return un(In,Rn,Mn);const Bn=Ce[bn].concat(On);Bn.sort(function(Gi,Yi){return Gi.y-Yi.y||Gi.x-Yi.x});const Hn=Bn.length,$n=new Int8Array(Hn),Un=new Int8Array(Hn),qn=[];let jn=0,Xn=0,Gn=0,ri=0,ui,ti;for(ti=0;ti<Hn;ti++)$n[ti]=Bn[ti].x,Un[ti]=Bn[ti].y,Xn=Math.min(Xn,Bn[ti].x),Gn=Math.max(Gn,Bn[ti].x),ri=Math.min(ri,Bn[ti].y),ti<Hn-1&&Bn[ti].y===Bn[ti+1].y&&Bn[ti].x===Bn[ti+1].x-1?jn|=1<<Hn-1-ti:qn.push(ti);const Yn=qn.length,Qn=new Int8Array(Yn),ci=new Int8Array(Yn),pi=new Uint16Array(Yn);for(ui=0;ui<Yn;ui++)ti=qn[ui],Qn[ui]=Bn[ti].x,ci[ui]=Bn[ti].y,pi[ui]=1<<Hn-1-ti;const ki=-Xn,hi=-ri,si=In-Gn,ai=rn[bn];let li=new Uint8Array(In);const Ei=[],$i=Mn.decoder,Qi=Mn.contextCache.getContexts("GB");let fr=0,ar,Ii,vi,rr=0,dr,Xi;for(let Gi=0;Gi<Rn;Gi++){if(kn){const Yi=$i.readBit(Qi,ai);if(fr^=Yi,fr){Ei.push(li);continue}}for(li=new Uint8Array(li),Ei.push(li),ar=0;ar<In;ar++){if(ar>=ki&&ar<si&&Gi>=hi)for(rr=rr<<1&jn,ti=0;ti<Yn;ti++)Ii=Gi+ci[ti],vi=ar+Qn[ti],dr=Ei[Ii][vi],dr&&(dr=pi[ti],rr|=dr);else for(rr=0,Xi=Hn-1,ti=0;ti<Hn;ti++,Xi--)vi=ar+$n[ti],vi>=0&&vi<In&&(Ii=Gi+Un[ti],Ii>=0&&(dr=Ei[Ii][vi],dr&&(rr|=dr<<Xi)));const Yi=$i.readBit(Qi,rr);li[ar]=Yi}}return Ei}function hn(Cn,In,Rn,bn,kn,En,On,Mn,Bn){let Hn=St[Rn].coding;Rn===0&&(Hn=Hn.concat([Mn[0]]));const $n=Hn.length,Un=new Int32Array($n),qn=new Int32Array($n);let jn;for(jn=0;jn<$n;jn++)Un[jn]=Hn[jn].x,qn[jn]=Hn[jn].y;let Xn=St[Rn].reference;Rn===0&&(Xn=Xn.concat([Mn[1]]));const Gn=Xn.length,ri=new Int32Array(Gn),ui=new Int32Array(Gn);for(jn=0;jn<Gn;jn++)ri[jn]=Xn[jn].x,ui[jn]=Xn[jn].y;const ti=bn[0].length,Yn=bn.length,Qn=[],ci=Bn.decoder,pi=Bn.contextCache.getContexts("GR");for(let ki=0;ki<In;ki++){const hi=new Uint8Array(Cn);Qn.push(hi);for(let si=0;si<Cn;si++){let ai,li,Ei=0;for(jn=0;jn<$n;jn++)ai=ki+qn[jn],li=si+Un[jn],ai<0||li<0||li>=Cn?Ei<<=1:Ei=Ei<<1|Qn[ai][li];for(jn=0;jn<Gn;jn++)ai=ki+ui[jn]-En,li=si+ri[jn]-kn,ai<0||ai>=Yn||li<0||li>=ti?Ei<<=1:Ei=Ei<<1|bn[ai][li];const $i=ci.readBit(pi,Ei);hi[si]=$i}}return Qn}function He(Cn,In,Rn,bn,kn,En,On,Mn,Bn,Hn,$n,Un){if(Cn&&In)throw new t("symbol refinement with Huffman is not supported");const qn=[];let jn=0,Xn=(0,Ie.log2)(Rn.length+bn);const Gn=$n.decoder,ri=$n.contextCache;let ui,ti;for(Cn&&(ui=gn(1),ti=[],Xn=Math.max(Xn,1));qn.length<bn;){const si=Cn?En.tableDeltaHeight.decode(Un):nn(ri,"IADH",Gn);jn+=si;let ai=0,li=0;const Ei=Cn?ti.length:0;for(;;){const $i=Cn?En.tableDeltaWidth.decode(Un):nn(ri,"IADW",Gn);if($i===null)break;ai+=$i,li+=ai;let Qi;if(In){const fr=nn(ri,"IAAI",Gn);if(fr>1)Qi=pn(Cn,In,ai,jn,0,fr,1,Rn.concat(qn),Xn,0,0,1,0,En,Bn,Hn,$n,0,Un);else{const ar=Ge(ri,Gn,Xn),Ii=nn(ri,"IARDX",Gn),vi=nn(ri,"IARDY",Gn),rr=ar<Rn.length?Rn[ar]:qn[ar-Rn.length];Qi=hn(ai,jn,Bn,rr,Ii,vi,!1,Hn,$n)}qn.push(Qi)}else Cn?ti.push(ai):(Qi=Qe(!1,ai,jn,On,!1,null,Mn,$n),qn.push(Qi))}if(Cn&&!In){const $i=En.tableBitmapSize.decode(Un);Un.byteAlign();let Qi;if($i===0)Qi=wn(Un,li,jn);else{const ar=Un.end,Ii=Un.position+$i;Un.end=Ii,Qi=Nn(Un,li,jn,!1),Un.end=ar,Un.position=Ii}const fr=ti.length;if(Ei===fr-1)qn.push(Qi);else{let ar,Ii,vi=0,rr,dr,Xi;for(ar=Ei;ar<fr;ar++){for(dr=ti[ar],rr=vi+dr,Xi=[],Ii=0;Ii<jn;Ii++)Xi.push(Qi[Ii].subarray(vi,rr));qn.push(Xi),vi=rr}}}}const Yn=[],Qn=[];let ci=!1,pi,ki;const hi=Rn.length+bn;for(;Qn.length<hi;){let si=Cn?ui.decode(Un):nn(ri,"IAEX",Gn);for(;si--;)Qn.push(ci);ci=!ci}for(pi=0,ki=Rn.length;pi<ki;pi++)Qn[pi]&&Yn.push(Rn[pi]);for(let si=0;si<bn;pi++,si++)Qn[pi]&&Yn.push(qn[si]);return Yn}function pn(Cn,In,Rn,bn,kn,En,On,Mn,Bn,Hn,$n,Un,qn,jn,Xn,Gn,ri,ui,ti){if(Cn&&In)throw new t("refinement with Huffman is not supported");const Yn=[];let Qn,ci;for(Qn=0;Qn<bn;Qn++){if(ci=new Uint8Array(Rn),kn)for(let ai=0;ai<Rn;ai++)ci[ai]=kn;Yn.push(ci)}const pi=ri.decoder,ki=ri.contextCache;let hi=Cn?-jn.tableDeltaT.decode(ti):-nn(ki,"IADT",pi),si=0;for(Qn=0;Qn<En;){const ai=Cn?jn.tableDeltaT.decode(ti):nn(ki,"IADT",pi);hi+=ai;const li=Cn?jn.tableFirstS.decode(ti):nn(ki,"IAFS",pi);si+=li;let Ei=si;do{let $i=0;On>1&&($i=Cn?ti.readBits(ui):nn(ki,"IAIT",pi));const Qi=On*hi+$i,fr=Cn?jn.symbolIDTable.decode(ti):Ge(ki,pi,Bn),ar=In&&(Cn?ti.readBit():nn(ki,"IARI",pi));let Ii=Mn[fr],vi=Ii[0].length,rr=Ii.length;if(ar){const sr=nn(ki,"IARDW",pi),xr=nn(ki,"IARDH",pi),Zi=nn(ki,"IARDX",pi),Ar=nn(ki,"IARDY",pi);vi+=sr,rr+=xr,Ii=hn(vi,rr,Xn,Ii,(sr>>1)+Zi,(xr>>1)+Ar,!1,Gn,ri)}const dr=Qi-(Un&1?0:rr-1),Xi=Ei-(Un&2?vi-1:0);let Gi,Yi,Nr;if(Hn){for(Gi=0;Gi<rr;Gi++){if(ci=Yn[Xi+Gi],!ci)continue;Nr=Ii[Gi];const sr=Math.min(Rn-dr,vi);switch(qn){case 0:for(Yi=0;Yi<sr;Yi++)ci[dr+Yi]|=Nr[Yi];break;case 2:for(Yi=0;Yi<sr;Yi++)ci[dr+Yi]^=Nr[Yi];break;default:throw new t(`operator ${qn} is not supported`)}}Ei+=rr-1}else{for(Yi=0;Yi<rr;Yi++)if(ci=Yn[dr+Yi],!!ci)switch(Nr=Ii[Yi],qn){case 0:for(Gi=0;Gi<vi;Gi++)ci[Xi+Gi]|=Nr[Gi];break;case 2:for(Gi=0;Gi<vi;Gi++)ci[Xi+Gi]^=Nr[Gi];break;default:throw new t(`operator ${qn} is not supported`)}Ei+=vi-1}Qn++;const ha=Cn?jn.tableDeltaS.decode(ti):nn(ki,"IADS",pi);if(ha===null)break;Ei+=ha+$n}while(!0)}return Yn}function Xe(Cn,In,Rn,bn,kn,En){const On=[];Cn||(On.push({x:-In,y:0}),kn===0&&On.push({x:-3,y:-1},{x:2,y:-2},{x:-2,y:-2}));const Mn=(bn+1)*In,Bn=Qe(Cn,Mn,Rn,kn,!1,null,On,En),Hn=[];for(let $n=0;$n<=bn;$n++){const Un=[],qn=In*$n,jn=qn+In;for(let Xn=0;Xn<Rn;Xn++)Un.push(Bn[Xn].subarray(qn,jn));Hn.push(Un)}return Hn}function fn(Cn,In,Rn,bn,kn,En,On,Mn,Bn,Hn,$n,Un,qn,jn,Xn){if(On)throw new t("skip is not supported");if(Mn!==0)throw new t(`operator "${Mn}" is not supported in halftone region`);const ri=[];let ui,ti,Yn;for(ui=0;ui<kn;ui++){if(Yn=new Uint8Array(bn),En)for(ti=0;ti<bn;ti++)Yn[ti]=En;ri.push(Yn)}const Qn=In.length,ci=In[0],pi=ci[0].length,ki=ci.length,hi=(0,Ie.log2)(Qn),si=[];Cn||(si.push({x:Rn<=1?3:2,y:-1}),Rn===0&&si.push({x:-3,y:-1},{x:2,y:-2},{x:-2,y:-2}));const ai=[];let li,Ei;for(Cn&&(li=new mn(Xn.data,Xn.start,Xn.end)),ui=hi-1;ui>=0;ui--)Cn?Ei=Nn(li,Bn,Hn,!0):Ei=Qe(!1,Bn,Hn,Rn,!1,null,si,Xn),ai[ui]=Ei;let $i,Qi,fr,ar,Ii,vi,rr,dr,Xi;for($i=0;$i<Hn;$i++)for(Qi=0;Qi<Bn;Qi++){for(fr=0,ar=0,ti=hi-1;ti>=0;ti--)fr^=ai[ti][$i][Qi],ar|=fr<<ti;if(Ii=In[ar],vi=$n+$i*jn+Qi*qn>>8,rr=Un+$i*qn-Qi*jn>>8,vi>=0&&vi+pi<=bn&&rr>=0&&rr+ki<=kn)for(ui=0;ui<ki;ui++)for(Xi=ri[rr+ui],dr=Ii[ui],ti=0;ti<pi;ti++)Xi[vi+ti]|=dr[ti];else{let Gi,Yi;for(ui=0;ui<ki;ui++)if(Yi=rr+ui,!(Yi<0||Yi>=kn))for(Xi=ri[Yi],dr=Ii[ui],ti=0;ti<pi;ti++)Gi=vi+ti,Gi>=0&&Gi<bn&&(Xi[Gi]|=dr[ti])}}return ri}function dn(Cn,In){const Rn={};Rn.number=(0,Ie.readUint32)(Cn,In);const bn=Cn[In+4],kn=bn&63;if(!Oe[kn])throw new t("invalid segment type: "+kn);Rn.type=kn,Rn.typeName=Oe[kn],Rn.deferredNonRetain=!!(bn&128);const En=!!(bn&64),On=Cn[In+5];let Mn=On>>5&7;const Bn=[On&31];let Hn=In+6;if(On===7){Mn=(0,Ie.readUint32)(Cn,Hn-1)&536870911,Hn+=3;let Xn=Mn+7>>3;for(Bn[0]=Cn[Hn++];--Xn>0;)Bn.push(Cn[Hn++])}else if(On===5||On===6)throw new t("invalid referred-to flags");Rn.retainBits=Bn;let $n=4;Rn.number<=256?$n=1:Rn.number<=65536&&($n=2);const Un=[];let qn,jn;for(qn=0;qn<Mn;qn++){let Xn;$n===1?Xn=Cn[Hn]:$n===2?Xn=(0,Ie.readUint16)(Cn,Hn):Xn=(0,Ie.readUint32)(Cn,Hn),Un.push(Xn),Hn+=$n}if(Rn.referredTo=Un,En?(Rn.pageAssociation=(0,Ie.readUint32)(Cn,Hn),Hn+=4):Rn.pageAssociation=Cn[Hn++],Rn.length=(0,Ie.readUint32)(Cn,Hn),Hn+=4,Rn.length===4294967295)if(kn===38){const Xn=tn(Cn,Hn),ri=!!(Cn[Hn+Me]&1),ui=6,ti=new Uint8Array(ui);for(ri||(ti[0]=255,ti[1]=172),ti[2]=Xn.height>>>24&255,ti[3]=Xn.height>>16&255,ti[4]=Xn.height>>8&255,ti[5]=Xn.height&255,qn=Hn,jn=Cn.length;qn<jn;qn++){let Yn=0;for(;Yn<ui&&ti[Yn]===Cn[qn+Yn];)Yn++;if(Yn===ui){Rn.length=qn+ui;break}}if(Rn.length===4294967295)throw new t("segment end was not found")}else throw new t("invalid unknown segment length");return Rn.headerEnd=Hn,Rn}function qe(Cn,In,Rn,bn){const kn=[];let En=Rn;for(;En<bn;){const On=dn(In,En);En=On.headerEnd;const Mn={header:On,data:In};if(Cn.randomAccess||(Mn.start=En,En+=On.length,Mn.end=En),kn.push(Mn),On.type===51)break}if(Cn.randomAccess)for(let On=0,Mn=kn.length;On<Mn;On++)kn[On].start=En,En+=kn[On].header.length,kn[On].end=En;return kn}function tn(Cn,In){return{width:(0,Ie.readUint32)(Cn,In),height:(0,Ie.readUint32)(Cn,In+4),x:(0,Ie.readUint32)(Cn,In+8),y:(0,Ie.readUint32)(Cn,In+12),combinationOperator:Cn[In+16]&7}}const Me=17;function De(Cn,In){const Rn=Cn.header,bn=Cn.data,kn=Cn.end;let En=Cn.start,On,Mn,Bn,Hn;switch(Rn.type){case 0:const Un={},qn=(0,Ie.readUint16)(bn,En);if(Un.huffman=!!(qn&1),Un.refinement=!!(qn&2),Un.huffmanDHSelector=qn>>2&3,Un.huffmanDWSelector=qn>>4&3,Un.bitmapSizeSelector=qn>>6&1,Un.aggregationInstancesSelector=qn>>7&1,Un.bitmapCodingContextUsed=!!(qn&256),Un.bitmapCodingContextRetained=!!(qn&512),Un.template=qn>>10&3,Un.refinementTemplate=qn>>12&1,En+=2,!Un.huffman){for(Hn=Un.template===0?4:1,Mn=[],Bn=0;Bn<Hn;Bn++)Mn.push({x:(0,Ie.readInt8)(bn,En),y:(0,Ie.readInt8)(bn,En+1)}),En+=2;Un.at=Mn}if(Un.refinement&&!Un.refinementTemplate){for(Mn=[],Bn=0;Bn<2;Bn++)Mn.push({x:(0,Ie.readInt8)(bn,En),y:(0,Ie.readInt8)(bn,En+1)}),En+=2;Un.refinementAt=Mn}Un.numberOfExportedSymbols=(0,Ie.readUint32)(bn,En),En+=4,Un.numberOfNewSymbols=(0,Ie.readUint32)(bn,En),En+=4,On=[Un,Rn.number,Rn.referredTo,bn,En,kn];break;case 6:case 7:const jn={};jn.info=tn(bn,En),En+=Me;const Xn=(0,Ie.readUint16)(bn,En);if(En+=2,jn.huffman=!!(Xn&1),jn.refinement=!!(Xn&2),jn.logStripSize=Xn>>2&3,jn.stripSize=1<<jn.logStripSize,jn.referenceCorner=Xn>>4&3,jn.transposed=!!(Xn&64),jn.combinationOperator=Xn>>7&3,jn.defaultPixelValue=Xn>>9&1,jn.dsOffset=Xn<<17>>27,jn.refinementTemplate=Xn>>15&1,jn.huffman){const ki=(0,Ie.readUint16)(bn,En);En+=2,jn.huffmanFS=ki&3,jn.huffmanDS=ki>>2&3,jn.huffmanDT=ki>>4&3,jn.huffmanRefinementDW=ki>>6&3,jn.huffmanRefinementDH=ki>>8&3,jn.huffmanRefinementDX=ki>>10&3,jn.huffmanRefinementDY=ki>>12&3,jn.huffmanRefinementSizeSelector=!!(ki&16384)}if(jn.refinement&&!jn.refinementTemplate){for(Mn=[],Bn=0;Bn<2;Bn++)Mn.push({x:(0,Ie.readInt8)(bn,En),y:(0,Ie.readInt8)(bn,En+1)}),En+=2;jn.refinementAt=Mn}jn.numberOfSymbolInstances=(0,Ie.readUint32)(bn,En),En+=4,On=[jn,Rn.referredTo,bn,En,kn];break;case 16:const Gn={},ri=bn[En++];Gn.mmr=!!(ri&1),Gn.template=ri>>1&3,Gn.patternWidth=bn[En++],Gn.patternHeight=bn[En++],Gn.maxPatternIndex=(0,Ie.readUint32)(bn,En),En+=4,On=[Gn,Rn.number,bn,En,kn];break;case 22:case 23:const ui={};ui.info=tn(bn,En),En+=Me;const ti=bn[En++];ui.mmr=!!(ti&1),ui.template=ti>>1&3,ui.enableSkip=!!(ti&8),ui.combinationOperator=ti>>4&7,ui.defaultPixelValue=ti>>7&1,ui.gridWidth=(0,Ie.readUint32)(bn,En),En+=4,ui.gridHeight=(0,Ie.readUint32)(bn,En),En+=4,ui.gridOffsetX=(0,Ie.readUint32)(bn,En)&4294967295,En+=4,ui.gridOffsetY=(0,Ie.readUint32)(bn,En)&4294967295,En+=4,ui.gridVectorX=(0,Ie.readUint16)(bn,En),En+=2,ui.gridVectorY=(0,Ie.readUint16)(bn,En),En+=2,On=[ui,Rn.referredTo,bn,En,kn];break;case 38:case 39:const Yn={};Yn.info=tn(bn,En),En+=Me;const Qn=bn[En++];if(Yn.mmr=!!(Qn&1),Yn.template=Qn>>1&3,Yn.prediction=!!(Qn&8),!Yn.mmr){for(Hn=Yn.template===0?4:1,Mn=[],Bn=0;Bn<Hn;Bn++)Mn.push({x:(0,Ie.readInt8)(bn,En),y:(0,Ie.readInt8)(bn,En+1)}),En+=2;Yn.at=Mn}On=[Yn,bn,En,kn];break;case 48:const ci={width:(0,Ie.readUint32)(bn,En),height:(0,Ie.readUint32)(bn,En+4),resolutionX:(0,Ie.readUint32)(bn,En+8),resolutionY:(0,Ie.readUint32)(bn,En+12)};ci.height===4294967295&&delete ci.height;const pi=bn[En+16];(0,Ie.readUint16)(bn,En+17),ci.lossless=!!(pi&1),ci.refinement=!!(pi&2),ci.defaultPixelValue=pi>>2&1,ci.combinationOperator=pi>>3&3,ci.requiresBuffer=!!(pi&32),ci.combinationOperatorOverride=!!(pi&64),On=[ci];break;case 49:break;case 50:break;case 51:break;case 53:On=[Rn.number,bn,En,kn];break;case 62:break;default:throw new t(`segment type ${Rn.typeName}(${Rn.type}) is not implemented`)}const $n="on"+Rn.typeName;$n in In&&In[$n].apply(In,On)}function Ue(Cn,In){for(let Rn=0,bn=Cn.length;Rn<bn;Rn++)De(Cn[Rn],In)}function We(Cn){const In=new $e;for(let Rn=0,bn=Cn.length;Rn<bn;Rn++){const kn=Cn[Rn],En=qe({},kn.data,kn.start,kn.end);Ue(En,In)}return In.buffer}class $e{onPageInformation(In){this.currentPageInfo=In;const Rn=In.width+7>>3,bn=new Uint8ClampedArray(Rn*In.height);In.defaultPixelValue&&bn.fill(255),this.buffer=bn}drawBitmap(In,Rn){const bn=this.currentPageInfo,kn=In.width,En=In.height,On=bn.width+7>>3,Mn=bn.combinationOperatorOverride?In.combinationOperator:bn.combinationOperator,Bn=this.buffer,Hn=128>>(In.x&7);let $n=In.y*On+(In.x>>3),Un,qn,jn,Xn;switch(Mn){case 0:for(Un=0;Un<En;Un++){for(jn=Hn,Xn=$n,qn=0;qn<kn;qn++)Rn[Un][qn]&&(Bn[Xn]|=jn),jn>>=1,jn||(jn=128,Xn++);$n+=On}break;case 2:for(Un=0;Un<En;Un++){for(jn=Hn,Xn=$n,qn=0;qn<kn;qn++)Rn[Un][qn]&&(Bn[Xn]^=jn),jn>>=1,jn||(jn=128,Xn++);$n+=On}break;default:throw new t(`operator ${Mn} is not supported`)}}onImmediateGenericRegion(In,Rn,bn,kn){const En=In.info,On=new Ye(Rn,bn,kn),Mn=Qe(In.mmr,En.width,En.height,In.template,In.prediction,null,In.at,On);this.drawBitmap(En,Mn)}onImmediateLosslessGenericRegion(){this.onImmediateGenericRegion(...arguments)}onSymbolDictionary(In,Rn,bn,kn,En,On){let Mn,Bn;In.huffman&&(Mn=_n(In,bn,this.customTables),Bn=new mn(kn,En,On));let Hn=this.symbols;Hn||(this.symbols=Hn={});const $n=[];for(const qn of bn){const jn=Hn[qn];jn&&$n.push(...jn)}const Un=new Ye(kn,En,On);Hn[Rn]=He(In.huffman,In.refinement,$n,In.numberOfNewSymbols,In.numberOfExportedSymbols,Mn,In.template,In.at,In.refinementTemplate,In.refinementAt,Un,Bn)}onImmediateTextRegion(In,Rn,bn,kn,En){const On=In.info;let Mn,Bn;const Hn=this.symbols,$n=[];for(const Xn of Rn){const Gn=Hn[Xn];Gn&&$n.push(...Gn)}const Un=(0,Ie.log2)($n.length);In.huffman&&(Bn=new mn(bn,kn,En),Mn=Sn(In,Rn,this.customTables,$n.length,Bn));const qn=new Ye(bn,kn,En),jn=pn(In.huffman,In.refinement,On.width,On.height,In.defaultPixelValue,In.numberOfSymbolInstances,In.stripSize,$n,Un,In.transposed,In.dsOffset,In.referenceCorner,In.combinationOperator,Mn,In.refinementTemplate,In.refinementAt,qn,In.logStripSize,Bn);this.drawBitmap(On,jn)}onImmediateLosslessTextRegion(){this.onImmediateTextRegion(...arguments)}onPatternDictionary(In,Rn,bn,kn,En){let On=this.patterns;On||(this.patterns=On={});const Mn=new Ye(bn,kn,En);On[Rn]=Xe(In.mmr,In.patternWidth,In.patternHeight,In.maxPatternIndex,In.template,Mn)}onImmediateHalftoneRegion(In,Rn,bn,kn,En){const On=this.patterns[Rn[0]],Mn=In.info,Bn=new Ye(bn,kn,En),Hn=fn(In.mmr,On,In.template,Mn.width,Mn.height,In.defaultPixelValue,In.enableSkip,In.combinationOperator,In.gridWidth,In.gridHeight,In.gridOffsetX,In.gridOffsetY,In.gridVectorX,In.gridVectorY,Bn);this.drawBitmap(Mn,Hn)}onImmediateLosslessHalftoneRegion(){this.onImmediateHalftoneRegion(...arguments)}onTables(In,Rn,bn,kn){let En=this.customTables;En||(this.customTables=En={}),En[In]=Ke(Rn,bn,kn)}}class on{constructor(In){In.length===2?(this.isOOB=!0,this.rangeLow=0,this.prefixLength=In[0],this.rangeLength=0,this.prefixCode=In[1],this.isLowerRange=!1):(this.isOOB=!1,this.rangeLow=In[0],this.prefixLength=In[1],this.rangeLength=In[2],this.prefixCode=In[3],this.isLowerRange=In[4]==="lower")}}class Je{constructor(In){this.children=[],In?(this.isLeaf=!0,this.rangeLength=In.rangeLength,this.rangeLow=In.rangeLow,this.isLowerRange=In.isLowerRange,this.isOOB=In.isOOB):this.isLeaf=!1}buildTree(In,Rn){const bn=In.prefixCode>>Rn&1;if(Rn<=0)this.children[bn]=new Je(In);else{let kn=this.children[bn];kn||(this.children[bn]=kn=new Je(null)),kn.buildTree(In,Rn-1)}}decodeNode(In){if(this.isLeaf){if(this.isOOB)return null;const bn=In.readBits(this.rangeLength);return this.rangeLow+(this.isLowerRange?-bn:bn)}const Rn=this.children[In.readBit()];if(!Rn)throw new t("invalid Huffman data");return Rn.decodeNode(In)}}class an{constructor(In,Rn){Rn||this.assignPrefixCodes(In),this.rootNode=new Je(null);for(let bn=0,kn=In.length;bn<kn;bn++){const En=In[bn];En.prefixLength>0&&this.rootNode.buildTree(En,En.prefixLength-1)}}decode(In){return this.rootNode.decodeNode(In)}assignPrefixCodes(In){const Rn=In.length;let bn=0;for(let $n=0;$n<Rn;$n++)bn=Math.max(bn,In[$n].prefixLength);const kn=new Uint32Array(bn+1);for(let $n=0;$n<Rn;$n++)kn[In[$n].prefixLength]++;let En=1,On=0,Mn,Bn,Hn;for(kn[0]=0;En<=bn;){for(On=On+kn[En-1]<<1,Mn=On,Bn=0;Bn<Rn;)Hn=In[Bn],Hn.prefixLength===En&&(Hn.prefixCode=Mn,Mn++),Bn++;En++}}}function Ke(Cn,In,Rn){const bn=Cn[In],kn=(0,Ie.readUint32)(Cn,In+1)&4294967295,En=(0,Ie.readUint32)(Cn,In+5)&4294967295,On=new mn(Cn,In+9,Rn),Mn=(bn>>1&7)+1,Bn=(bn>>4&7)+1,Hn=[];let $n,Un,qn=kn;do $n=On.readBits(Mn),Un=On.readBits(Bn),Hn.push(new on([qn,$n,Un,0])),qn+=1<<Un;while(qn<En);return $n=On.readBits(Mn),Hn.push(new on([kn-1,$n,32,0,"lower"])),$n=On.readBits(Mn),Hn.push(new on([En,$n,32,0])),bn&1&&($n=On.readBits(Mn),Hn.push(new on([$n,0]))),new an(Hn,!1)}const sn={};function gn(Cn){let In=sn[Cn];if(In)return In;let Rn;switch(Cn){case 1:Rn=[[0,1,4,0],[16,2,8,2],[272,3,16,6],[65808,3,32,7]];break;case 2:Rn=[[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[75,6,32,62],[6,63]];break;case 3:Rn=[[-256,8,8,254],[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[-257,8,32,255,"lower"],[75,7,32,126],[6,62]];break;case 4:Rn=[[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[76,5,32,31]];break;case 5:Rn=[[-255,7,8,126],[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[-256,7,32,127,"lower"],[76,6,32,62]];break;case 6:Rn=[[-2048,5,10,28],[-1024,4,9,8],[-512,4,8,9],[-256,4,7,10],[-128,5,6,29],[-64,5,5,30],[-32,4,5,11],[0,2,7,0],[128,3,7,2],[256,3,8,3],[512,4,9,12],[1024,4,10,13],[-2049,6,32,62,"lower"],[2048,6,32,63]];break;case 7:Rn=[[-1024,4,9,8],[-512,3,8,0],[-256,4,7,9],[-128,5,6,26],[-64,5,5,27],[-32,4,5,10],[0,4,5,11],[32,5,5,28],[64,5,6,29],[128,4,7,12],[256,3,8,1],[512,3,9,2],[1024,3,10,3],[-1025,5,32,30,"lower"],[2048,5,32,31]];break;case 8:Rn=[[-15,8,3,252],[-7,9,1,508],[-5,8,1,253],[-3,9,0,509],[-2,7,0,124],[-1,4,0,10],[0,2,1,0],[2,5,0,26],[3,6,0,58],[4,3,4,4],[20,6,1,59],[22,4,4,11],[38,4,5,12],[70,5,6,27],[134,5,7,28],[262,6,7,60],[390,7,8,125],[646,6,10,61],[-16,9,32,510,"lower"],[1670,9,32,511],[2,1]];break;case 9:Rn=[[-31,8,4,252],[-15,9,2,508],[-11,8,2,253],[-7,9,1,509],[-5,7,1,124],[-3,4,1,10],[-1,3,1,2],[1,3,1,3],[3,5,1,26],[5,6,1,58],[7,3,5,4],[39,6,2,59],[43,4,5,11],[75,4,6,12],[139,5,7,27],[267,5,8,28],[523,6,8,60],[779,7,9,125],[1291,6,11,61],[-32,9,32,510,"lower"],[3339,9,32,511],[2,0]];break;case 10:Rn=[[-21,7,4,122],[-5,8,0,252],[-4,7,0,123],[-3,5,0,24],[-2,2,2,0],[2,5,0,25],[3,6,0,54],[4,7,0,124],[5,8,0,253],[6,2,6,1],[70,5,5,26],[102,6,5,55],[134,6,6,56],[198,6,7,57],[326,6,8,58],[582,6,9,59],[1094,6,10,60],[2118,7,11,125],[-22,8,32,254,"lower"],[4166,8,32,255],[2,2]];break;case 11:Rn=[[1,1,0,0],[2,2,1,2],[4,4,0,12],[5,4,1,13],[7,5,1,28],[9,5,2,29],[13,6,2,60],[17,7,2,122],[21,7,3,123],[29,7,4,124],[45,7,5,125],[77,7,6,126],[141,7,32,127]];break;case 12:Rn=[[1,1,0,0],[2,2,0,2],[3,3,1,6],[5,5,0,28],[6,5,1,29],[8,6,1,60],[10,7,0,122],[11,7,1,123],[13,7,2,124],[17,7,3,125],[25,7,4,126],[41,8,5,254],[73,8,32,255]];break;case 13:Rn=[[1,1,0,0],[2,3,0,4],[3,4,0,12],[4,5,0,28],[5,4,1,13],[7,3,3,5],[15,6,1,58],[17,6,2,59],[21,6,3,60],[29,6,4,61],[45,6,5,62],[77,7,6,126],[141,7,32,127]];break;case 14:Rn=[[-2,3,0,4],[-1,3,0,5],[0,1,0,0],[1,3,0,6],[2,3,0,7]];break;case 15:Rn=[[-24,7,4,124],[-8,6,2,60],[-4,5,1,28],[-2,4,0,12],[-1,3,0,4],[0,1,0,0],[1,3,0,5],[2,4,0,13],[3,5,1,29],[5,6,2,61],[9,7,4,125],[-25,7,32,126,"lower"],[25,7,32,127]];break;default:throw new t(`standard table B.${Cn} does not exist`)}for(let bn=0,kn=Rn.length;bn<kn;bn++)Rn[bn]=new on(Rn[bn]);return In=new an(Rn,!0),sn[Cn]=In,In}class mn{constructor(In,Rn,bn){this.data=In,this.start=Rn,this.end=bn,this.position=Rn,this.shift=-1,this.currentByte=0}readBit(){if(this.shift<0){if(this.position>=this.end)throw new t("end of data while reading bit");this.currentByte=this.data[this.position++],this.shift=7}const In=this.currentByte>>this.shift&1;return this.shift--,In}readBits(In){let Rn=0,bn;for(bn=In-1;bn>=0;bn--)Rn|=this.readBit()<<bn;return Rn}byteAlign(){this.shift=-1}next(){return this.position>=this.end?-1:this.data[this.position++]}}function yn(Cn,In,Rn){let bn=0;for(let kn=0,En=In.length;kn<En;kn++){const On=Rn[In[kn]];if(On){if(Cn===bn)return On;bn++}}throw new t("can't find custom Huffman table")}function Sn(Cn,In,Rn,bn,kn){const En=[];for(let qn=0;qn<=34;qn++){const jn=kn.readBits(4);En.push(new on([qn,jn,0,0]))}const On=new an(En,!1);En.length=0;for(let qn=0;qn<bn;){const jn=On.decode(kn);if(jn>=32){let Xn,Gn,ri;switch(jn){case 32:if(qn===0)throw new t("no previous value in symbol ID table");Gn=kn.readBits(2)+3,Xn=En[qn-1].prefixLength;break;case 33:Gn=kn.readBits(3)+3,Xn=0;break;case 34:Gn=kn.readBits(7)+11,Xn=0;break;default:throw new t("invalid code length in symbol ID table")}for(ri=0;ri<Gn;ri++)En.push(new on([qn,Xn,0,0])),qn++}else En.push(new on([qn,jn,0,0])),qn++}kn.byteAlign();const Mn=new an(En,!1);let Bn=0,Hn,$n,Un;switch(Cn.huffmanFS){case 0:case 1:Hn=gn(Cn.huffmanFS+6);break;case 3:Hn=yn(Bn,In,Rn),Bn++;break;default:throw new t("invalid Huffman FS selector")}switch(Cn.huffmanDS){case 0:case 1:case 2:$n=gn(Cn.huffmanDS+8);break;case 3:$n=yn(Bn,In,Rn),Bn++;break;default:throw new t("invalid Huffman DS selector")}switch(Cn.huffmanDT){case 0:case 1:case 2:Un=gn(Cn.huffmanDT+11);break;case 3:Un=yn(Bn,In,Rn),Bn++;break;default:throw new t("invalid Huffman DT selector")}if(Cn.refinement)throw new t("refinement with Huffman is not supported");return{symbolIDTable:Mn,tableFirstS:Hn,tableDeltaS:$n,tableDeltaT:Un}}function _n(Cn,In,Rn){let bn=0,kn,En;switch(Cn.huffmanDHSelector){case 0:case 1:kn=gn(Cn.huffmanDHSelector+4);break;case 3:kn=yn(bn,In,Rn),bn++;break;default:throw new t("invalid Huffman DH selector")}switch(Cn.huffmanDWSelector){case 0:case 1:En=gn(Cn.huffmanDWSelector+2);break;case 3:En=yn(bn,In,Rn),bn++;break;default:throw new t("invalid Huffman DW selector")}let On,Mn;return Cn.bitmapSizeSelector?(On=yn(bn,In,Rn),bn++):On=gn(1),Cn.aggregationInstancesSelector?Mn=yn(bn,In,Rn):Mn=gn(1),{tableDeltaHeight:kn,tableDeltaWidth:En,tableBitmapSize:On,tableAggregateInstances:Mn}}function wn(Cn,In,Rn){const bn=[];for(let kn=0;kn<Rn;kn++){const En=new Uint8Array(In);bn.push(En);for(let On=0;On<In;On++)En[On]=Cn.readBit();Cn.byteAlign()}return bn}function Nn(Cn,In,Rn,bn){const kn={K:-1,Columns:In,Rows:Rn,BlackIs1:!0,EndOfBlock:bn},En=new e.CCITTFaxDecoder(Cn,kn),On=[];let Mn,Bn=!1;for(let Hn=0;Hn<Rn;Hn++){const $n=new Uint8Array(In);On.push($n);let Un=-1;for(let qn=0;qn<In;qn++)Un<0&&(Mn=En.readNextChar(),Mn===-1&&(Mn=0,Bn=!0),Un=7),$n[qn]=Mn>>Un&1,Un--}if(bn&&!Bn)for(let $n=0;$n<5&&En.readNextChar()!==-1;$n++);return On}class Tn{parseChunks(In){return We(In)}parse(In){throw new Error("Not implemented: Jbig2Image.parse")}}_e.Jbig2Image=Tn},(Ve,_e)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.ArithmeticDecoder=void 0;const ze=[{qe:22017,nmps:1,nlps:1,switchFlag:1},{qe:13313,nmps:2,nlps:6,switchFlag:0},{qe:6145,nmps:3,nlps:9,switchFlag:0},{qe:2753,nmps:4,nlps:12,switchFlag:0},{qe:1313,nmps:5,nlps:29,switchFlag:0},{qe:545,nmps:38,nlps:33,switchFlag:0},{qe:22017,nmps:7,nlps:6,switchFlag:1},{qe:21505,nmps:8,nlps:14,switchFlag:0},{qe:18433,nmps:9,nlps:14,switchFlag:0},{qe:14337,nmps:10,nlps:14,switchFlag:0},{qe:12289,nmps:11,nlps:17,switchFlag:0},{qe:9217,nmps:12,nlps:18,switchFlag:0},{qe:7169,nmps:13,nlps:20,switchFlag:0},{qe:5633,nmps:29,nlps:21,switchFlag:0},{qe:22017,nmps:15,nlps:14,switchFlag:1},{qe:21505,nmps:16,nlps:14,switchFlag:0},{qe:20737,nmps:17,nlps:15,switchFlag:0},{qe:18433,nmps:18,nlps:16,switchFlag:0},{qe:14337,nmps:19,nlps:17,switchFlag:0},{qe:13313,nmps:20,nlps:18,switchFlag:0},{qe:12289,nmps:21,nlps:19,switchFlag:0},{qe:10241,nmps:22,nlps:19,switchFlag:0},{qe:9217,nmps:23,nlps:20,switchFlag:0},{qe:8705,nmps:24,nlps:21,switchFlag:0},{qe:7169,nmps:25,nlps:22,switchFlag:0},{qe:6145,nmps:26,nlps:23,switchFlag:0},{qe:5633,nmps:27,nlps:24,switchFlag:0},{qe:5121,nmps:28,nlps:25,switchFlag:0},{qe:4609,nmps:29,nlps:26,switchFlag:0},{qe:4353,nmps:30,nlps:27,switchFlag:0},{qe:2753,nmps:31,nlps:28,switchFlag:0},{qe:2497,nmps:32,nlps:29,switchFlag:0},{qe:2209,nmps:33,nlps:30,switchFlag:0},{qe:1313,nmps:34,nlps:31,switchFlag:0},{qe:1089,nmps:35,nlps:32,switchFlag:0},{qe:673,nmps:36,nlps:33,switchFlag:0},{qe:545,nmps:37,nlps:34,switchFlag:0},{qe:321,nmps:38,nlps:35,switchFlag:0},{qe:273,nmps:39,nlps:36,switchFlag:0},{qe:133,nmps:40,nlps:37,switchFlag:0},{qe:73,nmps:41,nlps:38,switchFlag:0},{qe:37,nmps:42,nlps:39,switchFlag:0},{qe:21,nmps:43,nlps:40,switchFlag:0},{qe:9,nmps:44,nlps:41,switchFlag:0},{qe:5,nmps:45,nlps:42,switchFlag:0},{qe:1,nmps:45,nlps:43,switchFlag:0},{qe:22017,nmps:46,nlps:46,switchFlag:0}];class xe{constructor(Re,e,t){this.data=Re,this.bp=e,this.dataEnd=t,this.chigh=Re[e],this.clow=0,this.byteIn(),this.chigh=this.chigh<<7&65535|this.clow>>9&127,this.clow=this.clow<<7&65535,this.ct-=7,this.a=32768}byteIn(){const Re=this.data;let e=this.bp;Re[e]===255?Re[e+1]>143?(this.clow+=65280,this.ct=8):(e++,this.clow+=Re[e]<<9,this.ct=7,this.bp=e):(e++,this.clow+=e<this.dataEnd?Re[e]<<8:65280,this.ct=8,this.bp=e),this.clow>65535&&(this.chigh+=this.clow>>16,this.clow&=65535)}readBit(Re,e){let t=Re[e]>>1,Te=Re[e]&1;const Ye=ze[t],en=Ye.qe;let je,nn=this.a-en;if(this.chigh<en)nn<en?(nn=en,je=Te,t=Ye.nmps):(nn=en,je=1^Te,Ye.switchFlag===1&&(Te=je),t=Ye.nlps);else{if(this.chigh-=en,(nn&32768)!==0)return this.a=nn,Te;nn<en?(je=1^Te,Ye.switchFlag===1&&(Te=je),t=Ye.nlps):(je=Te,t=Ye.nmps)}do this.ct===0&&this.byteIn(),nn<<=1,this.chigh=this.chigh<<1&65535|this.clow>>15&1,this.clow=this.clow<<1&65535,this.ct--;while((nn&32768)===0);return this.a=nn,Re[e]=t<<1|Te,je}}_e.ArithmeticDecoder=xe},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.JpegStream=void 0;var xe=ze(18),Ie=ze(4),Re=ze(27),e=ze(2);class t extends xe.DecodeStream{constructor(Ye,en,je){let nn;for(;(nn=Ye.getByte())!==-1;)if(nn===255){Ye.skip(-1);break}super(en),this.stream=Ye,this.dict=Ye.dict,this.maybeLength=en,this.params=je}get bytes(){return(0,e.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(Ye){}readBlock(){if(this.eof)return;const Ye={decodeTransform:void 0,colorTransform:void 0},en=this.dict.getArray("D","Decode");if((this.forceRGBA||this.forceRGB)&&Array.isArray(en)){const Ge=this.dict.get("BPC","BitsPerComponent")||8,Oe=en.length,Ce=new Int32Array(Oe);let St=!1;const rn=(1<<Ge)-1;for(let un=0;un<Oe;un+=2)Ce[un]=(en[un+1]-en[un])*256|0,Ce[un+1]=en[un]*rn|0,(Ce[un]!==256||Ce[un+1]!==0)&&(St=!0);St&&(Ye.decodeTransform=Ce)}if(this.params instanceof Ie.Dict){const Ge=this.params.get("ColorTransform");Number.isInteger(Ge)&&(Ye.colorTransform=Ge)}const je=new Re.JpegImage(Ye);je.parse(this.bytes);const nn=je.getData({width:this.drawWidth,height:this.drawHeight,forceRGBA:this.forceRGBA,forceRGB:this.forceRGB,isSourcePDF:!0});this.buffer=nn,this.bufferLength=nn.length,this.eof=!0}}_e.JpegStream=t},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.JpegImage=void 0;var xe=ze(2),Ie=ze(28),Re=ze(3);class e extends xe.BaseException{constructor(qe){super(`JPEG error: ${qe}`,"JpegError")}}class t extends xe.BaseException{constructor(qe,tn){super(qe,"DNLMarkerError"),this.scanLines=tn}}class Te extends xe.BaseException{constructor(qe){super(qe,"EOIMarkerError")}}const Ye=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),en=4017,je=799,nn=3406,Ge=2276,Oe=1567,Ce=3784,St=5793,rn=2896;function un(dn,qe){let tn=0,Me,De,Ue=16;for(;Ue>0&&!dn[Ue-1];)Ue--;const We=[{children:[],index:0}];let $e=We[0],on;for(Me=0;Me<Ue;Me++){for(De=0;De<dn[Me];De++){for($e=We.pop(),$e.children[$e.index]=qe[tn];$e.index>0;)$e=We.pop();for($e.index++,We.push($e);We.length<=Me;)We.push(on={children:[],index:0}),$e.children[$e.index]=on.children,$e=on;tn++}Me+1<Ue&&(We.push(on={children:[],index:0}),$e.children[$e.index]=on.children,$e=on)}return We[0].children}function Qe(dn,qe,tn){return 64*((dn.blocksPerLine+1)*qe+tn)}function hn(dn,qe,tn,Me,De,Ue,We,$e,on,Je=!1){const an=tn.mcusPerLine,Ke=tn.progressive,sn=qe;let gn=0,mn=0;function yn(){if(mn>0)return mn--,gn>>mn&1;if(gn=dn[qe++],gn===255){const ci=dn[qe++];if(ci){if(ci===220&&Je){qe+=2;const pi=(0,Re.readUint16)(dn,qe);if(qe+=2,pi>0&&pi!==tn.scanLines)throw new t("Found DNL marker (0xFFDC) while parsing scan data",pi)}else if(ci===217){if(Je){const pi=On*(tn.precision===8?8:0);if(pi>0&&Math.round(tn.scanLines/pi)>=5)throw new t("Found EOI marker (0xFFD9) while parsing scan data, possibly caused by incorrect `scanLines` parameter",pi)}throw new Te("Found EOI marker (0xFFD9) while parsing scan data")}throw new e(`unexpected marker ${(gn<<8|ci).toString(16)}`)}}return mn=7,gn>>>7}function Sn(ci){let pi=ci;for(;;){switch(pi=pi[yn()],typeof pi){case"number":return pi;case"object":continue}throw new e("invalid huffman sequence")}}function _n(ci){let pi=0;for(;ci>0;)pi=pi<<1|yn(),ci--;return pi}function wn(ci){if(ci===1)return yn()===1?1:-1;const pi=_n(ci);return pi>=1<<ci-1?pi:pi+(-1<<ci)+1}function Nn(ci,pi){const ki=Sn(ci.huffmanTableDC),hi=ki===0?0:wn(ki);ci.blockData[pi]=ci.pred+=hi;let si=1;for(;si<64;){const ai=Sn(ci.huffmanTableAC),li=ai&15,Ei=ai>>4;if(li===0){if(Ei<15)break;si+=16;continue}si+=Ei;const $i=Ye[si];ci.blockData[pi+$i]=wn(li),si++}}function Tn(ci,pi){const ki=Sn(ci.huffmanTableDC),hi=ki===0?0:wn(ki)<<on;ci.blockData[pi]=ci.pred+=hi}function Cn(ci,pi){ci.blockData[pi]|=yn()<<on}let In=0;function Rn(ci,pi){if(In>0){In--;return}let ki=Ue;const hi=We;for(;ki<=hi;){const si=Sn(ci.huffmanTableAC),ai=si&15,li=si>>4;if(ai===0){if(li<15){In=_n(li)+(1<<li)-1;break}ki+=16;continue}ki+=li;const Ei=Ye[ki];ci.blockData[pi+Ei]=wn(ai)*(1<<on),ki++}}let bn=0,kn;function En(ci,pi){let ki=Ue;const hi=We;let si=0,ai,li;for(;ki<=hi;){const Ei=pi+Ye[ki],$i=ci.blockData[Ei]<0?-1:1;switch(bn){case 0:if(li=Sn(ci.huffmanTableAC),ai=li&15,si=li>>4,ai===0)si<15?(In=_n(si)+(1<<si),bn=4):(si=16,bn=1);else{if(ai!==1)throw new e("invalid ACn encoding");kn=wn(ai),bn=si?2:3}continue;case 1:case 2:ci.blockData[Ei]?ci.blockData[Ei]+=$i*(yn()<<on):(si--,si===0&&(bn=bn===2?3:0));break;case 3:ci.blockData[Ei]?ci.blockData[Ei]+=$i*(yn()<<on):(ci.blockData[Ei]=kn<<on,bn=0);break;case 4:ci.blockData[Ei]&&(ci.blockData[Ei]+=$i*(yn()<<on));break}ki++}bn===4&&(In--,In===0&&(bn=0))}let On=0;function Mn(ci,pi,ki,hi,si){const ai=ki/an|0,li=ki%an;On=ai*ci.v+hi;const Ei=li*ci.h+si,$i=Qe(ci,On,Ei);pi(ci,$i)}function Bn(ci,pi,ki){On=ki/ci.blocksPerLine|0;const hi=ki%ci.blocksPerLine,si=Qe(ci,On,hi);pi(ci,si)}const Hn=Me.length;let $n,Un,qn,jn,Xn,Gn;Ke?Ue===0?Gn=$e===0?Tn:Cn:Gn=$e===0?Rn:En:Gn=Nn;let ri=0,ui;const ti=Hn===1?Me[0].blocksPerLine*Me[0].blocksPerColumn:an*tn.mcusPerColumn;let Yn,Qn;for(;ri<=ti;){const ci=De?Math.min(ti-ri,De):ti;if(ci>0){for(Un=0;Un<Hn;Un++)Me[Un].pred=0;if(In=0,Hn===1)for($n=Me[0],Xn=0;Xn<ci;Xn++)Bn($n,Gn,ri),ri++;else for(Xn=0;Xn<ci;Xn++){for(Un=0;Un<Hn;Un++)for($n=Me[Un],Yn=$n.h,Qn=$n.v,qn=0;qn<Qn;qn++)for(jn=0;jn<Yn;jn++)Mn($n,Gn,ri,qn,jn);ri++}}if(mn=0,ui=Xe(dn,qe),!ui)break;if(ui.invalid){const pi=ci>0?"unexpected":"excessive";(0,xe.warn)(`decodeScan - ${pi} MCU data, current marker is: ${ui.invalid}`),qe=ui.offset}if(ui.marker>=65488&&ui.marker<=65495)qe+=2;else break}return qe-sn}function He(dn,qe,tn){const Me=dn.quantizationTable,De=dn.blockData;let Ue,We,$e,on,Je,an,Ke,sn,gn,mn,yn,Sn,_n,wn,Nn,Tn,Cn;if(!Me)throw new e("missing required Quantization Table.");for(let In=0;In<64;In+=8){if(gn=De[qe+In],mn=De[qe+In+1],yn=De[qe+In+2],Sn=De[qe+In+3],_n=De[qe+In+4],wn=De[qe+In+5],Nn=De[qe+In+6],Tn=De[qe+In+7],gn*=Me[In],(mn|yn|Sn|_n|wn|Nn|Tn)===0){Cn=St*gn+512>>10,tn[In]=Cn,tn[In+1]=Cn,tn[In+2]=Cn,tn[In+3]=Cn,tn[In+4]=Cn,tn[In+5]=Cn,tn[In+6]=Cn,tn[In+7]=Cn;continue}mn*=Me[In+1],yn*=Me[In+2],Sn*=Me[In+3],_n*=Me[In+4],wn*=Me[In+5],Nn*=Me[In+6],Tn*=Me[In+7],Ue=St*gn+128>>8,We=St*_n+128>>8,$e=yn,on=Nn,Je=rn*(mn-Tn)+128>>8,sn=rn*(mn+Tn)+128>>8,an=Sn<<4,Ke=wn<<4,Ue=Ue+We+1>>1,We=Ue-We,Cn=$e*Ce+on*Oe+128>>8,$e=$e*Oe-on*Ce+128>>8,on=Cn,Je=Je+Ke+1>>1,Ke=Je-Ke,sn=sn+an+1>>1,an=sn-an,Ue=Ue+on+1>>1,on=Ue-on,We=We+$e+1>>1,$e=We-$e,Cn=Je*Ge+sn*nn+2048>>12,Je=Je*nn-sn*Ge+2048>>12,sn=Cn,Cn=an*je+Ke*en+2048>>12,an=an*en-Ke*je+2048>>12,Ke=Cn,tn[In]=Ue+sn,tn[In+7]=Ue-sn,tn[In+1]=We+Ke,tn[In+6]=We-Ke,tn[In+2]=$e+an,tn[In+5]=$e-an,tn[In+3]=on+Je,tn[In+4]=on-Je}for(let In=0;In<8;++In){if(gn=tn[In],mn=tn[In+8],yn=tn[In+16],Sn=tn[In+24],_n=tn[In+32],wn=tn[In+40],Nn=tn[In+48],Tn=tn[In+56],(mn|yn|Sn|_n|wn|Nn|Tn)===0){Cn=St*gn+8192>>14,Cn<-2040?Cn=0:Cn>=2024?Cn=255:Cn=Cn+2056>>4,De[qe+In]=Cn,De[qe+In+8]=Cn,De[qe+In+16]=Cn,De[qe+In+24]=Cn,De[qe+In+32]=Cn,De[qe+In+40]=Cn,De[qe+In+48]=Cn,De[qe+In+56]=Cn;continue}Ue=St*gn+2048>>12,We=St*_n+2048>>12,$e=yn,on=Nn,Je=rn*(mn-Tn)+2048>>12,sn=rn*(mn+Tn)+2048>>12,an=Sn,Ke=wn,Ue=(Ue+We+1>>1)+4112,We=Ue-We,Cn=$e*Ce+on*Oe+2048>>12,$e=$e*Oe-on*Ce+2048>>12,on=Cn,Je=Je+Ke+1>>1,Ke=Je-Ke,sn=sn+an+1>>1,an=sn-an,Ue=Ue+on+1>>1,on=Ue-on,We=We+$e+1>>1,$e=We-$e,Cn=Je*Ge+sn*nn+2048>>12,Je=Je*nn-sn*Ge+2048>>12,sn=Cn,Cn=an*je+Ke*en+2048>>12,an=an*en-Ke*je+2048>>12,Ke=Cn,gn=Ue+sn,Tn=Ue-sn,mn=We+Ke,Nn=We-Ke,yn=$e+an,wn=$e-an,Sn=on+Je,_n=on-Je,gn<16?gn=0:gn>=4080?gn=255:gn>>=4,mn<16?mn=0:mn>=4080?mn=255:mn>>=4,yn<16?yn=0:yn>=4080?yn=255:yn>>=4,Sn<16?Sn=0:Sn>=4080?Sn=255:Sn>>=4,_n<16?_n=0:_n>=4080?_n=255:_n>>=4,wn<16?wn=0:wn>=4080?wn=255:wn>>=4,Nn<16?Nn=0:Nn>=4080?Nn=255:Nn>>=4,Tn<16?Tn=0:Tn>=4080?Tn=255:Tn>>=4,De[qe+In]=gn,De[qe+In+8]=mn,De[qe+In+16]=yn,De[qe+In+24]=Sn,De[qe+In+32]=_n,De[qe+In+40]=wn,De[qe+In+48]=Nn,De[qe+In+56]=Tn}}function pn(dn,qe){const tn=qe.blocksPerLine,Me=qe.blocksPerColumn,De=new Int16Array(64);for(let Ue=0;Ue<Me;Ue++)for(let We=0;We<tn;We++){const $e=Qe(qe,Ue,We);He(qe,$e,De)}return qe.blockData}function Xe(dn,qe,tn=qe){const Me=dn.length-1;let De=tn<qe?tn:qe;if(qe>=Me)return null;const Ue=(0,Re.readUint16)(dn,qe);if(Ue>=65472&&Ue<=65534)return{invalid:null,marker:Ue,offset:qe};let We=(0,Re.readUint16)(dn,De);for(;!(We>=65472&&We<=65534);){if(++De>=Me)return null;We=(0,Re.readUint16)(dn,De)}return{invalid:Ue.toString(16),marker:We,offset:De}}class fn{constructor({decodeTransform:qe=null,colorTransform:tn=-1}={}){this._decodeTransform=qe,this._colorTransform=tn}parse(qe,{dnlScanLines:tn=null}={}){function Me(){const yn=(0,Re.readUint16)(qe,Ue);Ue+=2;let Sn=Ue+yn-2;const _n=Xe(qe,Sn,Ue);_n?.invalid&&((0,xe.warn)("readDataBlock - incorrect length, current marker is: "+_n.invalid),Sn=_n.offset);const wn=qe.subarray(Ue,Sn);return Ue+=wn.length,wn}function De(yn){const Sn=Math.ceil(yn.samplesPerLine/8/yn.maxH),_n=Math.ceil(yn.scanLines/8/yn.maxV);for(const wn of yn.components){const Nn=Math.ceil(Math.ceil(yn.samplesPerLine/8)*wn.h/yn.maxH),Tn=Math.ceil(Math.ceil(yn.scanLines/8)*wn.v/yn.maxV),Cn=Sn*wn.h,Rn=64*(_n*wn.v)*(Cn+1);wn.blockData=new Int16Array(Rn),wn.blocksPerLine=Nn,wn.blocksPerColumn=Tn}yn.mcusPerLine=Sn,yn.mcusPerColumn=_n}let Ue=0,We=null,$e=null,on,Je,an=0;const Ke=[],sn=[],gn=[];let mn=(0,Re.readUint16)(qe,Ue);if(Ue+=2,mn!==65496)throw new e("SOI not found");mn=(0,Re.readUint16)(qe,Ue),Ue+=2;e:for(;mn!==65497;){let yn,Sn,_n;switch(mn){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:const wn=Me();mn===65504&&wn[0]===74&&wn[1]===70&&wn[2]===73&&wn[3]===70&&wn[4]===0&&(We={version:{major:wn[5],minor:wn[6]},densityUnits:wn[7],xDensity:wn[8]<<8|wn[9],yDensity:wn[10]<<8|wn[11],thumbWidth:wn[12],thumbHeight:wn[13],thumbData:wn.subarray(14,14+3*wn[12]*wn[13])}),mn===65518&&wn[0]===65&&wn[1]===100&&wn[2]===111&&wn[3]===98&&wn[4]===101&&($e={version:wn[5]<<8|wn[6],flags0:wn[7]<<8|wn[8],flags1:wn[9]<<8|wn[10],transformCode:wn[11]});break;case 65499:const Nn=(0,Re.readUint16)(qe,Ue);Ue+=2;const Tn=Nn+Ue-2;let Cn;for(;Ue<Tn;){const jn=qe[Ue++],Xn=new Uint16Array(64);if(jn>>4===0)for(Sn=0;Sn<64;Sn++)Cn=Ye[Sn],Xn[Cn]=qe[Ue++];else if(jn>>4===1)for(Sn=0;Sn<64;Sn++)Cn=Ye[Sn],Xn[Cn]=(0,Re.readUint16)(qe,Ue),Ue+=2;else throw new e("DQT - invalid table spec");Ke[jn&15]=Xn}break;case 65472:case 65473:case 65474:if(on)throw new e("Only single frame JPEGs supported");Ue+=2,on={},on.extended=mn===65473,on.progressive=mn===65474,on.precision=qe[Ue++];const In=(0,Re.readUint16)(qe,Ue);Ue+=2,on.scanLines=tn||In,on.samplesPerLine=(0,Re.readUint16)(qe,Ue),Ue+=2,on.components=[],on.componentIds={};const Rn=qe[Ue++];let bn=0,kn=0;for(yn=0;yn<Rn;yn++){const jn=qe[Ue],Xn=qe[Ue+1]>>4,Gn=qe[Ue+1]&15;bn<Xn&&(bn=Xn),kn<Gn&&(kn=Gn);const ri=qe[Ue+2];_n=on.components.push({h:Xn,v:Gn,quantizationId:ri,quantizationTable:null}),on.componentIds[jn]=_n-1,Ue+=3}on.maxH=bn,on.maxV=kn,De(on);break;case 65476:const En=(0,Re.readUint16)(qe,Ue);for(Ue+=2,yn=2;yn<En;){const jn=qe[Ue++],Xn=new Uint8Array(16);let Gn=0;for(Sn=0;Sn<16;Sn++,Ue++)Gn+=Xn[Sn]=qe[Ue];const ri=new Uint8Array(Gn);for(Sn=0;Sn<Gn;Sn++,Ue++)ri[Sn]=qe[Ue];yn+=17+Gn,(jn>>4===0?gn:sn)[jn&15]=un(Xn,ri)}break;case 65501:Ue+=2,Je=(0,Re.readUint16)(qe,Ue),Ue+=2;break;case 65498:const On=++an===1&&!tn;Ue+=2;const Mn=qe[Ue++],Bn=[];for(yn=0;yn<Mn;yn++){const jn=qe[Ue++],Xn=on.componentIds[jn],Gn=on.components[Xn];Gn.index=jn;const ri=qe[Ue++];Gn.huffmanTableDC=gn[ri>>4],Gn.huffmanTableAC=sn[ri&15],Bn.push(Gn)}const Hn=qe[Ue++],$n=qe[Ue++],Un=qe[Ue++];try{const jn=hn(qe,Ue,on,Bn,Je,Hn,$n,Un>>4,Un&15,On);Ue+=jn}catch(jn){if(jn instanceof t)return(0,xe.warn)(`${jn.message} -- attempting to re-parse the JPEG image.`),this.parse(qe,{dnlScanLines:jn.scanLines});if(jn instanceof Te){(0,xe.warn)(`${jn.message} -- ignoring the rest of the image data.`);break e}throw jn}break;case 65500:Ue+=4;break;case 65535:qe[Ue]!==255&&Ue--;break;default:const qn=Xe(qe,Ue-2,Ue-3);if(qn?.invalid){(0,xe.warn)("JpegImage.parse - unexpected data, current marker is: "+qn.invalid),Ue=qn.offset;break}if(!qn||Ue>=qe.length-1){(0,xe.warn)("JpegImage.parse - reached the end of the image data without finding an EOI marker (0xFFD9).");break e}throw new e("JpegImage.parse - unknown marker: "+mn.toString(16))}mn=(0,Re.readUint16)(qe,Ue),Ue+=2}this.width=on.samplesPerLine,this.height=on.scanLines,this.jfif=We,this.adobe=$e,this.components=[];for(const yn of on.components){const Sn=Ke[yn.quantizationId];Sn&&(yn.quantizationTable=Sn),this.components.push({index:yn.index,output:pn(on,yn),scaleX:yn.h/on.maxH,scaleY:yn.v/on.maxV,blocksPerLine:yn.blocksPerLine,blocksPerColumn:yn.blocksPerColumn})}this.numComponents=this.components.length}_getLinearizedBlockData(qe,tn,Me=!1){const De=this.width/qe,Ue=this.height/tn;let We,$e,on,Je,an,Ke,sn,gn,mn,yn,Sn=0,_n;const wn=this.components.length,Nn=qe*tn*wn,Tn=new Uint8ClampedArray(Nn),Cn=new Uint32Array(qe),In=4294967288;let Rn;for(sn=0;sn<wn;sn++){if(We=this.components[sn],$e=We.scaleX*De,on=We.scaleY*Ue,Sn=sn,_n=We.output,Je=We.blocksPerLine+1<<3,$e!==Rn){for(an=0;an<qe;an++)gn=0|an*$e,Cn[an]=(gn&In)<<3|gn&7;Rn=$e}for(Ke=0;Ke<tn;Ke++)for(gn=0|Ke*on,yn=Je*(gn&In)|(gn&7)<<3,an=0;an<qe;an++)Tn[Sn]=_n[yn+Cn[an]],Sn+=wn}let bn=this._decodeTransform;if(!Me&&wn===4&&!bn&&(bn=new Int32Array([-256,255,-256,255,-256,255,-256,255])),bn)for(sn=0;sn<Nn;)for(gn=0,mn=0;gn<wn;gn++,sn++,mn+=2)Tn[sn]=(Tn[sn]*bn[mn]>>8)+bn[mn+1];return Tn}get _isColorConversionNeeded(){return this.adobe?!!this.adobe.transformCode:this.numComponents===3?this._colorTransform===0?!1:!(this.components[0].index===82&&this.components[1].index===71&&this.components[2].index===66):this._colorTransform===1}_convertYccToRgb(qe){let tn,Me,De;for(let Ue=0,We=qe.length;Ue<We;Ue+=3)tn=qe[Ue],Me=qe[Ue+1],De=qe[Ue+2],qe[Ue]=tn-179.456+1.402*De,qe[Ue+1]=tn+135.459-.344*Me-.714*De,qe[Ue+2]=tn-226.816+1.772*Me;return qe}_convertYccToRgba(qe,tn){for(let Me=0,De=0,Ue=qe.length;Me<Ue;Me+=3,De+=4){const We=qe[Me],$e=qe[Me+1],on=qe[Me+2];tn[De]=We-179.456+1.402*on,tn[De+1]=We+135.459-.344*$e-.714*on,tn[De+2]=We-226.816+1.772*$e,tn[De+3]=255}return tn}_convertYcckToRgb(qe){let tn,Me,De,Ue,We=0;for(let $e=0,on=qe.length;$e<on;$e+=4)tn=qe[$e],Me=qe[$e+1],De=qe[$e+2],Ue=qe[$e+3],qe[We++]=-122.67195406894+Me*(-660635669420364e-19*Me+.000437130475926232*De-54080610064599e-18*tn+.00048449797120281*Ue-.154362151871126)+De*(-.000957964378445773*De+.000817076911346625*tn-.00477271405408747*Ue+1.53380253221734)+tn*(.000961250184130688*tn-.00266257332283933*Ue+.48357088451265)+Ue*(-.000336197177618394*Ue+.484791561490776),qe[We++]=107.268039397724+Me*(219927104525741e-19*Me-.000640992018297945*De+.000659397001245577*tn+.000426105652938837*Ue-.176491792462875)+De*(-.000778269941513683*De+.00130872261408275*tn+.000770482631801132*Ue-.151051492775562)+tn*(.00126935368114843*tn-.00265090189010898*Ue+.25802910206845)+Ue*(-.000318913117588328*Ue-.213742400323665),qe[We++]=-20.810012546947+Me*(-.000570115196973677*Me-263409051004589e-19*De+.0020741088115012*tn-.00288260236853442*Ue+.814272968359295)+De*(-153496057440975e-19*De-.000132689043961446*tn+.000560833691242812*Ue-.195152027534049)+tn*(.00174418132927582*tn-.00255243321439347*Ue+.116935020465145)+Ue*(-.000343531996510555*Ue+.24165260232407);return qe.subarray(0,We)}_convertYcckToRgba(qe){for(let tn=0,Me=qe.length;tn<Me;tn+=4){const De=qe[tn],Ue=qe[tn+1],We=qe[tn+2],$e=qe[tn+3];qe[tn]=-122.67195406894+Ue*(-660635669420364e-19*Ue+.000437130475926232*We-54080610064599e-18*De+.00048449797120281*$e-.154362151871126)+We*(-.000957964378445773*We+.000817076911346625*De-.00477271405408747*$e+1.53380253221734)+De*(.000961250184130688*De-.00266257332283933*$e+.48357088451265)+$e*(-.000336197177618394*$e+.484791561490776),qe[tn+1]=107.268039397724+Ue*(219927104525741e-19*Ue-.000640992018297945*We+.000659397001245577*De+.000426105652938837*$e-.176491792462875)+We*(-.000778269941513683*We+.00130872261408275*De+.000770482631801132*$e-.151051492775562)+De*(.00126935368114843*De-.00265090189010898*$e+.25802910206845)+$e*(-.000318913117588328*$e-.213742400323665),qe[tn+2]=-20.810012546947+Ue*(-.000570115196973677*Ue-263409051004589e-19*We+.0020741088115012*De-.00288260236853442*$e+.814272968359295)+We*(-153496057440975e-19*We-.000132689043961446*De+.000560833691242812*$e-.195152027534049)+De*(.00174418132927582*De-.00255243321439347*$e+.116935020465145)+$e*(-.000343531996510555*$e+.24165260232407),qe[tn+3]=255}return qe}_convertYcckToCmyk(qe){let tn,Me,De;for(let Ue=0,We=qe.length;Ue<We;Ue+=4)tn=qe[Ue],Me=qe[Ue+1],De=qe[Ue+2],qe[Ue]=434.456-tn-1.402*De,qe[Ue+1]=119.541-tn+.344*Me+.714*De,qe[Ue+2]=481.816-tn-1.772*Me;return qe}_convertCmykToRgb(qe){let tn,Me,De,Ue,We=0;for(let $e=0,on=qe.length;$e<on;$e+=4)tn=qe[$e],Me=qe[$e+1],De=qe[$e+2],Ue=qe[$e+3],qe[We++]=255+tn*(-6747147073602441e-20*tn+.0008379262121013727*Me+.0002894718188643294*De+.003264231057537806*Ue-1.1185611867203937)+Me*(26374107616089405e-21*Me-8626949158638572e-20*De-.0002748769067499491*Ue-.02155688794978967)+De*(-3878099212869363e-20*De-.0003267808279485286*Ue+.0686742238595345)-Ue*(.0003361971776183937*Ue+.7430659151342254),qe[We++]=255+tn*(.00013596372813588848*tn+.000924537132573585*Me+.00010567359618683593*De+.0004791864687436512*Ue-.3109689587515875)+Me*(-.00023545346108370344*Me+.0002702845253534714*De+.0020200308977307156*Ue-.7488052167015494)+De*(6834815998235662e-20*De+.00015168452363460973*Ue-.09751927774728933)-Ue*(.0003189131175883281*Ue+.7364883807733168),qe[We++]=255+tn*(13598650411385307e-21*tn+.00012423956175490851*Me+.0004751985097583589*De-36729317476630422e-22*Ue-.05562186980264034)+Me*(.00016141380598724676*Me+.0009692239130725186*De+.0007782692450036253*Ue-.44015232367526463)+De*(5068882914068769e-22*De+.0017778369011375071*Ue-.7591454649749609)-Ue*(.0003435319965105553*Ue+.7063770186160144);return qe.subarray(0,We)}_convertCmykToRgba(qe){for(let tn=0,Me=qe.length;tn<Me;tn+=4){const De=qe[tn],Ue=qe[tn+1],We=qe[tn+2],$e=qe[tn+3];qe[tn]=255+De*(-6747147073602441e-20*De+.0008379262121013727*Ue+.0002894718188643294*We+.003264231057537806*$e-1.1185611867203937)+Ue*(26374107616089405e-21*Ue-8626949158638572e-20*We-.0002748769067499491*$e-.02155688794978967)+We*(-3878099212869363e-20*We-.0003267808279485286*$e+.0686742238595345)-$e*(.0003361971776183937*$e+.7430659151342254),qe[tn+1]=255+De*(.00013596372813588848*De+.000924537132573585*Ue+.00010567359618683593*We+.0004791864687436512*$e-.3109689587515875)+Ue*(-.00023545346108370344*Ue+.0002702845253534714*We+.0020200308977307156*$e-.7488052167015494)+We*(6834815998235662e-20*We+.00015168452363460973*$e-.09751927774728933)-$e*(.0003189131175883281*$e+.7364883807733168),qe[tn+2]=255+De*(13598650411385307e-21*De+.00012423956175490851*Ue+.0004751985097583589*We-36729317476630422e-22*$e-.05562186980264034)+Ue*(.00016141380598724676*Ue+.0009692239130725186*We+.0007782692450036253*$e-.44015232367526463)+We*(5068882914068769e-22*We+.0017778369011375071*$e-.7591454649749609)-$e*(.0003435319965105553*$e+.7063770186160144),qe[tn+3]=255}return qe}getData({width:qe,height:tn,forceRGBA:Me=!1,forceRGB:De=!1,isSourcePDF:Ue=!1}){if(this.numComponents>4)throw new e("Unsupported color mode");const We=this._getLinearizedBlockData(qe,tn,Ue);if(this.numComponents===1&&(Me||De)){const $e=We.length*(Me?4:3),on=new Uint8ClampedArray($e);let Je=0;if(Me)(0,Ie.grayToRGBA)(We,new Uint32Array(on.buffer));else for(const an of We)on[Je++]=an,on[Je++]=an,on[Je++]=an;return on}else if(this.numComponents===3&&this._isColorConversionNeeded){if(Me){const $e=new Uint8ClampedArray(We.length/3*4);return this._convertYccToRgba(We,$e)}return this._convertYccToRgb(We)}else if(this.numComponents===4){if(this._isColorConversionNeeded)return Me?this._convertYcckToRgba(We):De?this._convertYcckToRgb(We):this._convertYcckToCmyk(We);if(Me)return this._convertCmykToRgba(We);if(De)return this._convertCmykToRgb(We)}return We}}_e.JpegImage=fn},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.convertBlackAndWhiteToRGBA=Re,_e.convertToRGBA=Ie,_e.grayToRGBA=t;var xe=ze(2);function Ie(Te){switch(Te.kind){case xe.ImageKind.GRAYSCALE_1BPP:return Re(Te);case xe.ImageKind.RGB_24BPP:return e(Te)}return null}function Re({src:Te,srcPos:Ye=0,dest:en,width:je,height:nn,nonBlackColor:Ge=4294967295,inverseDecode:Oe=!1}){const Ce=xe.FeatureTest.isLittleEndian?4278190080:255,[St,rn]=Oe?[Ge,Ce]:[Ce,Ge],un=je>>3,Qe=je&7,hn=Te.length;en=new Uint32Array(en.buffer);let He=0;for(let pn=0;pn<nn;pn++){for(const fn=Ye+un;Ye<fn;Ye++){const dn=Ye<hn?Te[Ye]:255;en[He++]=dn&128?rn:St,en[He++]=dn&64?rn:St,en[He++]=dn&32?rn:St,en[He++]=dn&16?rn:St,en[He++]=dn&8?rn:St,en[He++]=dn&4?rn:St,en[He++]=dn&2?rn:St,en[He++]=dn&1?rn:St}if(Qe===0)continue;const Xe=Ye<hn?Te[Ye++]:255;for(let fn=0;fn<Qe;fn++)en[He++]=Xe&1<<7-fn?rn:St}return{srcPos:Ye,destPos:He}}function e({src:Te,srcPos:Ye=0,dest:en,destPos:je=0,width:nn,height:Ge}){let Oe=0;const Ce=Te.length>>2,St=new Uint32Array(Te.buffer,Ye,Ce);if(xe.FeatureTest.isLittleEndian){for(;Oe<Ce-2;Oe+=3,je+=4){const rn=St[Oe],un=St[Oe+1],Qe=St[Oe+2];en[je]=rn|4278190080,en[je+1]=rn>>>24|un<<8|4278190080,en[je+2]=un>>>16|Qe<<16|4278190080,en[je+3]=Qe>>>8|4278190080}for(let rn=Oe*4,un=Te.length;rn<un;rn+=3)en[je++]=Te[rn]|Te[rn+1]<<8|Te[rn+2]<<16|4278190080}else{for(;Oe<Ce-2;Oe+=3,je+=4){const rn=St[Oe],un=St[Oe+1],Qe=St[Oe+2];en[je]=rn|255,en[je+1]=rn<<24|un>>>8|255,en[je+2]=un<<16|Qe>>>16|255,en[je+3]=Qe<<8|255}for(let rn=Oe*4,un=Te.length;rn<un;rn+=3)en[je++]=Te[rn]<<24|Te[rn+1]<<16|Te[rn+2]<<8|255}return{srcPos:Ye,destPos:je}}function t(Te,Ye){if(xe.FeatureTest.isLittleEndian)for(let en=0,je=Te.length;en<je;en++)Ye[en]=Te[en]*65793|4278190080;else for(let en=0,je=Te.length;en<je;en++)Ye[en]=Te[en]*16843008|255}},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.JpxStream=void 0;var xe=ze(18),Ie=ze(30),Re=ze(2);class e extends xe.DecodeStream{constructor(Te,Ye,en){super(Ye),this.stream=Te,this.dict=Te.dict,this.maybeLength=Ye,this.params=en}get bytes(){return(0,Re.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(Te){}readBlock(){if(this.eof)return;const Te=new Ie.JpxImage;Te.parse(this.bytes);const Ye=Te.width,en=Te.height,je=Te.componentsCount,nn=Te.tiles.length;if(nn===1)this.buffer=Te.tiles[0].items;else{const Ge=new Uint8ClampedArray(Ye*en*je);for(let Oe=0;Oe<nn;Oe++){const Ce=Te.tiles[Oe],St=Ce.width,rn=Ce.height,un=Ce.left,Qe=Ce.top,hn=Ce.items;let He=0,pn=(Ye*Qe+un)*je;const Xe=Ye*je,fn=St*je;for(let dn=0;dn<rn;dn++){const qe=hn.subarray(He,He+fn);Ge.set(qe,pn),He+=fn,pn+=Xe}}this.buffer=Ge}this.bufferLength=this.buffer.length,this.eof=!0}}_e.JpxStream=e},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.JpxImage=void 0;var xe=ze(2),Ie=ze(3),Re=ze(25);class e extends xe.BaseException{constructor(an){super(`JPX error: ${an}`,"JpxError")}}const t={LL:0,LH:1,HL:1,HH:2};class Te{constructor(){this.failOnCorruptedImage=!1}parse(an){if((0,Ie.readUint16)(an,0)===65359){this.parseCodestream(an,0,an.length);return}const sn=an.length;let gn=0;for(;gn<sn;){let mn=8,yn=(0,Ie.readUint32)(an,gn);const Sn=(0,Ie.readUint32)(an,gn+4);if(gn+=mn,yn===1&&(yn=(0,Ie.readUint32)(an,gn)*4294967296+(0,Ie.readUint32)(an,gn+4),gn+=8,mn+=8),yn===0&&(yn=sn-gn+mn),yn<mn)throw new e("Invalid box field size");const _n=yn-mn;let wn=!0;switch(Sn){case 1785737832:wn=!1;break;case 1668246642:const Nn=an[gn];if(Nn===1){const Cn=(0,Ie.readUint32)(an,gn+3);switch(Cn){case 16:case 17:case 18:break;default:(0,xe.warn)("Unknown colorspace "+Cn);break}}else Nn===2&&(0,xe.info)("ICC profile not supported");break;case 1785737827:this.parseCodestream(an,gn,gn+_n);break;case 1783636e3:(0,Ie.readUint32)(an,gn)!==218793738&&(0,xe.warn)("Invalid JP2 signature");break;case 1783634458:case 1718909296:case 1920099697:case 1919251232:case 1768449138:break;default:const Tn=String.fromCharCode(Sn>>24&255,Sn>>16&255,Sn>>8&255,Sn&255);(0,xe.warn)(`Unsupported header type ${Sn} (${Tn}).`);break}wn&&(gn+=_n)}}parseImageProperties(an){let Ke=an.getByte();for(;Ke>=0;){const sn=Ke;if(Ke=an.getByte(),(sn<<8|Ke)===65361){an.skip(4);const mn=an.getInt32()>>>0,yn=an.getInt32()>>>0,Sn=an.getInt32()>>>0,_n=an.getInt32()>>>0;an.skip(16);const wn=an.getUint16();this.width=mn-Sn,this.height=yn-_n,this.componentsCount=wn,this.bitsPerComponent=8;return}}throw new e("No size marker found in JPX stream")}parseCodestream(an,Ke,sn){const gn={};let mn=!1;try{let yn=Ke;for(;yn+1<sn;){const Sn=(0,Ie.readUint16)(an,yn);yn+=2;let _n=0,wn,Nn,Tn,Cn,In,Rn;switch(Sn){case 65359:gn.mainHeader=!0;break;case 65497:break;case 65361:_n=(0,Ie.readUint16)(an,yn);const bn={};bn.Xsiz=(0,Ie.readUint32)(an,yn+4),bn.Ysiz=(0,Ie.readUint32)(an,yn+8),bn.XOsiz=(0,Ie.readUint32)(an,yn+12),bn.YOsiz=(0,Ie.readUint32)(an,yn+16),bn.XTsiz=(0,Ie.readUint32)(an,yn+20),bn.YTsiz=(0,Ie.readUint32)(an,yn+24),bn.XTOsiz=(0,Ie.readUint32)(an,yn+28),bn.YTOsiz=(0,Ie.readUint32)(an,yn+32);const kn=(0,Ie.readUint16)(an,yn+36);bn.Csiz=kn;const En=[];wn=yn+38;for(let jn=0;jn<kn;jn++){const Xn={precision:(an[wn]&127)+1,isSigned:!!(an[wn]&128),XRsiz:an[wn+1],YRsiz:an[wn+2]};wn+=3,Ye(Xn,bn),En.push(Xn)}gn.SIZ=bn,gn.components=En,en(gn,En),gn.QCC=[],gn.COC=[];break;case 65372:_n=(0,Ie.readUint16)(an,yn);const On={};switch(wn=yn+2,Nn=an[wn++],Nn&31){case 0:Cn=8,In=!0;break;case 1:Cn=16,In=!1;break;case 2:Cn=16,In=!0;break;default:throw new Error("Invalid SQcd value "+Nn)}for(On.noQuantization=Cn===8,On.scalarExpounded=In,On.guardBits=Nn>>5,Tn=[];wn<_n+yn;){const jn={};Cn===8?(jn.epsilon=an[wn++]>>3,jn.mu=0):(jn.epsilon=an[wn]>>3,jn.mu=(an[wn]&7)<<8|an[wn+1],wn+=2),Tn.push(jn)}On.SPqcds=Tn,gn.mainHeader?gn.QCD=On:(gn.currentTile.QCD=On,gn.currentTile.QCC=[]);break;case 65373:_n=(0,Ie.readUint16)(an,yn);const Mn={};wn=yn+2;let Bn;switch(gn.SIZ.Csiz<257?Bn=an[wn++]:(Bn=(0,Ie.readUint16)(an,wn),wn+=2),Nn=an[wn++],Nn&31){case 0:Cn=8,In=!0;break;case 1:Cn=16,In=!1;break;case 2:Cn=16,In=!0;break;default:throw new Error("Invalid SQcd value "+Nn)}for(Mn.noQuantization=Cn===8,Mn.scalarExpounded=In,Mn.guardBits=Nn>>5,Tn=[];wn<_n+yn;){const jn={};Cn===8?(jn.epsilon=an[wn++]>>3,jn.mu=0):(jn.epsilon=an[wn]>>3,jn.mu=(an[wn]&7)<<8|an[wn+1],wn+=2),Tn.push(jn)}Mn.SPqcds=Tn,gn.mainHeader?gn.QCC[Bn]=Mn:gn.currentTile.QCC[Bn]=Mn;break;case 65362:_n=(0,Ie.readUint16)(an,yn);const Hn={};wn=yn+2;const $n=an[wn++];Hn.entropyCoderWithCustomPrecincts=!!($n&1),Hn.sopMarkerUsed=!!($n&2),Hn.ephMarkerUsed=!!($n&4),Hn.progressionOrder=an[wn++],Hn.layersCount=(0,Ie.readUint16)(an,wn),wn+=2,Hn.multipleComponentTransform=an[wn++],Hn.decompositionLevelsCount=an[wn++],Hn.xcb=(an[wn++]&15)+2,Hn.ycb=(an[wn++]&15)+2;const Un=an[wn++];if(Hn.selectiveArithmeticCodingBypass=!!(Un&1),Hn.resetContextProbabilities=!!(Un&2),Hn.terminationOnEachCodingPass=!!(Un&4),Hn.verticallyStripe=!!(Un&8),Hn.predictableTermination=!!(Un&16),Hn.segmentationSymbolUsed=!!(Un&32),Hn.reversibleTransformation=an[wn++],Hn.entropyCoderWithCustomPrecincts){const jn=[];for(;wn<_n+yn;){const Xn=an[wn++];jn.push({PPx:Xn&15,PPy:Xn>>4})}Hn.precinctsSizes=jn}const qn=[];Hn.selectiveArithmeticCodingBypass&&qn.push("selectiveArithmeticCodingBypass"),Hn.terminationOnEachCodingPass&&qn.push("terminationOnEachCodingPass"),Hn.verticallyStripe&&qn.push("verticallyStripe"),Hn.predictableTermination&&qn.push("predictableTermination"),qn.length>0&&(mn=!0,(0,xe.warn)(`JPX: Unsupported COD options (${qn.join(", ")}).`)),gn.mainHeader?gn.COD=Hn:(gn.currentTile.COD=Hn,gn.currentTile.COC=[]);break;case 65424:_n=(0,Ie.readUint16)(an,yn),Rn={},Rn.index=(0,Ie.readUint16)(an,yn+2),Rn.length=(0,Ie.readUint32)(an,yn+4),Rn.dataEnd=Rn.length+yn-2,Rn.partIndex=an[yn+8],Rn.partsCount=an[yn+9],gn.mainHeader=!1,Rn.partIndex===0&&(Rn.COD=gn.COD,Rn.COC=gn.COC.slice(0),Rn.QCD=gn.QCD,Rn.QCC=gn.QCC.slice(0)),gn.currentTile=Rn;break;case 65427:Rn=gn.currentTile,Rn.partIndex===0&&(tn(gn,Rn.index),pn(gn)),_n=Rn.dataEnd-yn,Xe(gn,an,yn,_n);break;case 65363:(0,xe.warn)("JPX: Codestream code 0xFF53 (COC) is not implemented.");case 65365:case 65367:case 65368:case 65380:_n=(0,Ie.readUint16)(an,yn);break;default:throw new Error("Unknown codestream code: "+Sn.toString(16))}yn+=_n}}catch(yn){if(mn||this.failOnCorruptedImage)throw new e(yn.message);(0,xe.warn)(`JPX: Trying to recover from: "${yn.message}".`)}this.tiles=qe(gn),this.width=gn.SIZ.Xsiz-gn.SIZ.XOsiz,this.height=gn.SIZ.Ysiz-gn.SIZ.YOsiz,this.componentsCount=gn.SIZ.Csiz}}_e.JpxImage=Te;function Ye(Je,an){Je.x0=Math.ceil(an.XOsiz/Je.XRsiz),Je.x1=Math.ceil(an.Xsiz/Je.XRsiz),Je.y0=Math.ceil(an.YOsiz/Je.YRsiz),Je.y1=Math.ceil(an.Ysiz/Je.YRsiz),Je.width=Je.x1-Je.x0,Je.height=Je.y1-Je.y0}function en(Je,an){const Ke=Je.SIZ,sn=[];let gn;const mn=Math.ceil((Ke.Xsiz-Ke.XTOsiz)/Ke.XTsiz),yn=Math.ceil((Ke.Ysiz-Ke.YTOsiz)/Ke.YTsiz);for(let _n=0;_n<yn;_n++)for(let wn=0;wn<mn;wn++)gn={},gn.tx0=Math.max(Ke.XTOsiz+wn*Ke.XTsiz,Ke.XOsiz),gn.ty0=Math.max(Ke.YTOsiz+_n*Ke.YTsiz,Ke.YOsiz),gn.tx1=Math.min(Ke.XTOsiz+(wn+1)*Ke.XTsiz,Ke.Xsiz),gn.ty1=Math.min(Ke.YTOsiz+(_n+1)*Ke.YTsiz,Ke.Ysiz),gn.width=gn.tx1-gn.tx0,gn.height=gn.ty1-gn.ty0,gn.components=[],sn.push(gn);Je.tiles=sn;const Sn=Ke.Csiz;for(let _n=0,wn=Sn;_n<wn;_n++){const Nn=an[_n];for(let Tn=0,Cn=sn.length;Tn<Cn;Tn++){const In={};gn=sn[Tn],In.tcx0=Math.ceil(gn.tx0/Nn.XRsiz),In.tcy0=Math.ceil(gn.ty0/Nn.YRsiz),In.tcx1=Math.ceil(gn.tx1/Nn.XRsiz),In.tcy1=Math.ceil(gn.ty1/Nn.YRsiz),In.width=In.tcx1-In.tcx0,In.height=In.tcy1-In.tcy0,gn.components[_n]=In}}}function je(Je,an,Ke){const sn=an.codingStyleParameters,gn={};return sn.entropyCoderWithCustomPrecincts?(gn.PPx=sn.precinctsSizes[Ke].PPx,gn.PPy=sn.precinctsSizes[Ke].PPy):(gn.PPx=15,gn.PPy=15),gn.xcb_=Ke>0?Math.min(sn.xcb,gn.PPx-1):Math.min(sn.xcb,gn.PPx),gn.ycb_=Ke>0?Math.min(sn.ycb,gn.PPy-1):Math.min(sn.ycb,gn.PPy),gn}function nn(Je,an,Ke){const sn=1<<Ke.PPx,gn=1<<Ke.PPy,mn=an.resLevel===0,yn=1<<Ke.PPx+(mn?0:-1),Sn=1<<Ke.PPy+(mn?0:-1),_n=an.trx1>an.trx0?Math.ceil(an.trx1/sn)-Math.floor(an.trx0/sn):0,wn=an.try1>an.try0?Math.ceil(an.try1/gn)-Math.floor(an.try0/gn):0,Nn=_n*wn;an.precinctParameters={precinctWidth:sn,precinctHeight:gn,numprecinctswide:_n,numprecinctshigh:wn,numprecincts:Nn,precinctWidthInSubband:yn,precinctHeightInSubband:Sn}}function Ge(Je,an,Ke){const sn=Ke.xcb_,gn=Ke.ycb_,mn=1<<sn,yn=1<<gn,Sn=an.tbx0>>sn,_n=an.tby0>>gn,wn=an.tbx1+mn-1>>sn,Nn=an.tby1+yn-1>>gn,Tn=an.resolution.precinctParameters,Cn=[],In=[];let Rn,bn,kn,En;for(bn=_n;bn<Nn;bn++)for(Rn=Sn;Rn<wn;Rn++){kn={cbx:Rn,cby:bn,tbx0:mn*Rn,tby0:yn*bn,tbx1:mn*(Rn+1),tby1:yn*(bn+1)},kn.tbx0_=Math.max(an.tbx0,kn.tbx0),kn.tby0_=Math.max(an.tby0,kn.tby0),kn.tbx1_=Math.min(an.tbx1,kn.tbx1),kn.tby1_=Math.min(an.tby1,kn.tby1);const On=Math.floor((kn.tbx0_-an.tbx0)/Tn.precinctWidthInSubband),Mn=Math.floor((kn.tby0_-an.tby0)/Tn.precinctHeightInSubband);if(En=On+Mn*Tn.numprecinctswide,kn.precinctNumber=En,kn.subbandType=an.type,kn.Lblock=3,kn.tbx1_<=kn.tbx0_||kn.tby1_<=kn.tby0_)continue;Cn.push(kn);let Bn=In[En];Bn!==void 0?(Rn<Bn.cbxMin?Bn.cbxMin=Rn:Rn>Bn.cbxMax&&(Bn.cbxMax=Rn),bn<Bn.cbyMin?Bn.cbxMin=bn:bn>Bn.cbyMax&&(Bn.cbyMax=bn)):In[En]=Bn={cbxMin:Rn,cbyMin:bn,cbxMax:Rn,cbyMax:bn},kn.precinct=Bn}an.codeblockParameters={codeblockWidth:sn,codeblockHeight:gn,numcodeblockwide:wn-Sn+1,numcodeblockhigh:Nn-_n+1},an.codeblocks=Cn,an.precincts=In}function Oe(Je,an,Ke){const sn=[],gn=Je.subbands;for(let mn=0,yn=gn.length;mn<yn;mn++){const _n=gn[mn].codeblocks;for(let wn=0,Nn=_n.length;wn<Nn;wn++){const Tn=_n[wn];Tn.precinctNumber===an&&sn.push(Tn)}}return{layerNumber:Ke,codeblocks:sn}}function Ce(Je){const an=Je.SIZ,Ke=Je.currentTile.index,sn=Je.tiles[Ke],gn=sn.codingStyleDefaultParameters.layersCount,mn=an.Csiz;let yn=0;for(let Tn=0;Tn<mn;Tn++)yn=Math.max(yn,sn.components[Tn].codingStyleParameters.decompositionLevelsCount);let Sn=0,_n=0,wn=0,Nn=0;this.nextPacket=function(){for(;Sn<gn;Sn++){for(;_n<=yn;_n++){for(;wn<mn;wn++){const Cn=sn.components[wn];if(_n>Cn.codingStyleParameters.decompositionLevelsCount)continue;const In=Cn.resolutions[_n],Rn=In.precinctParameters.numprecincts;for(;Nn<Rn;){const bn=Oe(In,Nn,Sn);return Nn++,bn}Nn=0}wn=0}_n=0}throw new e("Out of packets")}}function St(Je){const an=Je.SIZ,Ke=Je.currentTile.index,sn=Je.tiles[Ke],gn=sn.codingStyleDefaultParameters.layersCount,mn=an.Csiz;let yn=0;for(let Tn=0;Tn<mn;Tn++)yn=Math.max(yn,sn.components[Tn].codingStyleParameters.decompositionLevelsCount);let Sn=0,_n=0,wn=0,Nn=0;this.nextPacket=function(){for(;Sn<=yn;Sn++){for(;_n<gn;_n++){for(;wn<mn;wn++){const Cn=sn.components[wn];if(Sn>Cn.codingStyleParameters.decompositionLevelsCount)continue;const In=Cn.resolutions[Sn],Rn=In.precinctParameters.numprecincts;for(;Nn<Rn;){const bn=Oe(In,Nn,_n);return Nn++,bn}Nn=0}wn=0}_n=0}throw new e("Out of packets")}}function rn(Je){const an=Je.SIZ,Ke=Je.currentTile.index,sn=Je.tiles[Ke],gn=sn.codingStyleDefaultParameters.layersCount,mn=an.Csiz;let yn,Sn,_n,wn,Nn=0;for(_n=0;_n<mn;_n++){const Cn=sn.components[_n];Nn=Math.max(Nn,Cn.codingStyleParameters.decompositionLevelsCount)}const Tn=new Int32Array(Nn+1);for(Sn=0;Sn<=Nn;++Sn){let Cn=0;for(_n=0;_n<mn;++_n){const In=sn.components[_n].resolutions;Sn<In.length&&(Cn=Math.max(Cn,In[Sn].precinctParameters.numprecincts))}Tn[Sn]=Cn}yn=0,Sn=0,_n=0,wn=0,this.nextPacket=function(){for(;Sn<=Nn;Sn++){for(;wn<Tn[Sn];wn++){for(;_n<mn;_n++){const In=sn.components[_n];if(Sn>In.codingStyleParameters.decompositionLevelsCount)continue;const Rn=In.resolutions[Sn],bn=Rn.precinctParameters.numprecincts;if(!(wn>=bn)){for(;yn<gn;){const kn=Oe(Rn,wn,yn);return yn++,kn}yn=0}}_n=0}wn=0}throw new e("Out of packets")}}function un(Je){const an=Je.SIZ,Ke=Je.currentTile.index,sn=Je.tiles[Ke],gn=sn.codingStyleDefaultParameters.layersCount,mn=an.Csiz,yn=He(sn),Sn=yn;let _n=0,wn=0,Nn=0,Tn=0,Cn=0;this.nextPacket=function(){for(;Cn<Sn.maxNumHigh;Cn++){for(;Tn<Sn.maxNumWide;Tn++){for(;Nn<mn;Nn++){const Rn=sn.components[Nn],bn=Rn.codingStyleParameters.decompositionLevelsCount;for(;wn<=bn;wn++){const kn=Rn.resolutions[wn],En=yn.components[Nn].resolutions[wn],On=hn(Tn,Cn,En,Sn,kn);if(On!==null){for(;_n<gn;){const Mn=Oe(kn,On,_n);return _n++,Mn}_n=0}}wn=0}Nn=0}Tn=0}throw new e("Out of packets")}}function Qe(Je){const an=Je.SIZ,Ke=Je.currentTile.index,sn=Je.tiles[Ke],gn=sn.codingStyleDefaultParameters.layersCount,mn=an.Csiz,yn=He(sn);let Sn=0,_n=0,wn=0,Nn=0,Tn=0;this.nextPacket=function(){for(;wn<mn;++wn){const In=sn.components[wn],Rn=yn.components[wn],bn=In.codingStyleParameters.decompositionLevelsCount;for(;Tn<Rn.maxNumHigh;Tn++){for(;Nn<Rn.maxNumWide;Nn++){for(;_n<=bn;_n++){const kn=In.resolutions[_n],En=Rn.resolutions[_n],On=hn(Nn,Tn,En,Rn,kn);if(On!==null){for(;Sn<gn;){const Mn=Oe(kn,On,Sn);return Sn++,Mn}Sn=0}}_n=0}Nn=0}Tn=0}throw new e("Out of packets")}}function hn(Je,an,Ke,sn,gn){const mn=Je*sn.minWidth,yn=an*sn.minHeight;if(mn%Ke.width!==0||yn%Ke.height!==0)return null;const Sn=yn/Ke.width*gn.precinctParameters.numprecinctswide;return mn/Ke.height+Sn}function He(Je){const an=Je.components.length;let Ke=Number.MAX_VALUE,sn=Number.MAX_VALUE,gn=0,mn=0;const yn=new Array(an);for(let Sn=0;Sn<an;Sn++){const _n=Je.components[Sn],wn=_n.codingStyleParameters.decompositionLevelsCount,Nn=new Array(wn+1);let Tn=Number.MAX_VALUE,Cn=Number.MAX_VALUE,In=0,Rn=0,bn=1;for(let kn=wn;kn>=0;--kn){const En=_n.resolutions[kn],On=bn*En.precinctParameters.precinctWidth,Mn=bn*En.precinctParameters.precinctHeight;Tn=Math.min(Tn,On),Cn=Math.min(Cn,Mn),In=Math.max(In,En.precinctParameters.numprecinctswide),Rn=Math.max(Rn,En.precinctParameters.numprecinctshigh),Nn[kn]={width:On,height:Mn},bn<<=1}Ke=Math.min(Ke,Tn),sn=Math.min(sn,Cn),gn=Math.max(gn,In),mn=Math.max(mn,Rn),yn[Sn]={resolutions:Nn,minWidth:Tn,minHeight:Cn,maxNumWide:In,maxNumHigh:Rn}}return{components:yn,minWidth:Ke,minHeight:sn,maxNumWide:gn,maxNumHigh:mn}}function pn(Je){const an=Je.SIZ,Ke=Je.currentTile.index,sn=Je.tiles[Ke],gn=an.Csiz;for(let yn=0;yn<gn;yn++){const Sn=sn.components[yn],_n=Sn.codingStyleParameters.decompositionLevelsCount,wn=[],Nn=[];for(let Tn=0;Tn<=_n;Tn++){const Cn=je(Je,Sn,Tn),In={},Rn=1<<_n-Tn;In.trx0=Math.ceil(Sn.tcx0/Rn),In.try0=Math.ceil(Sn.tcy0/Rn),In.trx1=Math.ceil(Sn.tcx1/Rn),In.try1=Math.ceil(Sn.tcy1/Rn),In.resLevel=Tn,nn(Je,In,Cn),wn.push(In);let bn;if(Tn===0)bn={},bn.type="LL",bn.tbx0=Math.ceil(Sn.tcx0/Rn),bn.tby0=Math.ceil(Sn.tcy0/Rn),bn.tbx1=Math.ceil(Sn.tcx1/Rn),bn.tby1=Math.ceil(Sn.tcy1/Rn),bn.resolution=In,Ge(Je,bn,Cn),Nn.push(bn),In.subbands=[bn];else{const kn=1<<_n-Tn+1,En=[];bn={},bn.type="HL",bn.tbx0=Math.ceil(Sn.tcx0/kn-.5),bn.tby0=Math.ceil(Sn.tcy0/kn),bn.tbx1=Math.ceil(Sn.tcx1/kn-.5),bn.tby1=Math.ceil(Sn.tcy1/kn),bn.resolution=In,Ge(Je,bn,Cn),Nn.push(bn),En.push(bn),bn={},bn.type="LH",bn.tbx0=Math.ceil(Sn.tcx0/kn),bn.tby0=Math.ceil(Sn.tcy0/kn-.5),bn.tbx1=Math.ceil(Sn.tcx1/kn),bn.tby1=Math.ceil(Sn.tcy1/kn-.5),bn.resolution=In,Ge(Je,bn,Cn),Nn.push(bn),En.push(bn),bn={},bn.type="HH",bn.tbx0=Math.ceil(Sn.tcx0/kn-.5),bn.tby0=Math.ceil(Sn.tcy0/kn-.5),bn.tbx1=Math.ceil(Sn.tcx1/kn-.5),bn.tby1=Math.ceil(Sn.tcy1/kn-.5),bn.resolution=In,Ge(Je,bn,Cn),Nn.push(bn),En.push(bn),In.subbands=En}}Sn.resolutions=wn,Sn.subbands=Nn}const mn=sn.codingStyleDefaultParameters.progressionOrder;switch(mn){case 0:sn.packetsIterator=new Ce(Je);break;case 1:sn.packetsIterator=new St(Je);break;case 2:sn.packetsIterator=new rn(Je);break;case 3:sn.packetsIterator=new un(Je);break;case 4:sn.packetsIterator=new Qe(Je);break;default:throw new e(`Unsupported progression order ${mn}`)}}function Xe(Je,an,Ke,sn){let gn=0,mn,yn=0,Sn=!1;function _n(On){for(;yn<On;){const Mn=an[Ke+gn];gn++,Sn?(mn=mn<<7|Mn,yn+=7,Sn=!1):(mn=mn<<8|Mn,yn+=8),Mn===255&&(Sn=!0)}return yn-=On,mn>>>yn&(1<<On)-1}function wn(On){return an[Ke+gn-1]===255&&an[Ke+gn]===On?(Nn(1),!0):an[Ke+gn]===255&&an[Ke+gn+1]===On?(Nn(2),!0):!1}function Nn(On){gn+=On}function Tn(){yn=0,Sn&&(gn++,Sn=!1)}function Cn(){if(_n(1)===0)return 1;if(_n(1)===0)return 2;let On=_n(2);return On<3?On+3:(On=_n(5),On<31?On+6:(On=_n(7),On+37))}const In=Je.currentTile.index,Rn=Je.tiles[In],bn=Je.COD.sopMarkerUsed,kn=Je.COD.ephMarkerUsed,En=Rn.packetsIterator;for(;gn<sn;){Tn(),bn&&wn(145)&&Nn(4);const On=En.nextPacket();if(!_n(1))continue;const Mn=On.layerNumber,Bn=[];let Hn;for(let $n=0,Un=On.codeblocks.length;$n<Un;$n++){Hn=On.codeblocks[$n];let qn=Hn.precinct;const jn=Hn.cbx-qn.cbxMin,Xn=Hn.cby-qn.cbyMin;let Gn=!1,ri=!1,ui,ti;if(Hn.included!==void 0)Gn=!!_n(1);else{qn=Hn.precinct;let ki;if(qn.inclusionTree!==void 0)ki=qn.inclusionTree;else{const hi=qn.cbxMax-qn.cbxMin+1,si=qn.cbyMax-qn.cbyMin+1;ki=new De(hi,si,Mn),ti=new Me(hi,si),qn.inclusionTree=ki,qn.zeroBitPlanesTree=ti;for(let ai=0;ai<Mn;ai++)if(_n(1)!==0)throw new e("Invalid tag tree")}if(ki.reset(jn,Xn,Mn))for(;;)if(_n(1)){if(ui=!ki.nextLevel(),ui){Hn.included=!0,Gn=ri=!0;break}}else{ki.incrementValue(Mn);break}}if(!Gn)continue;if(ri){for(ti=qn.zeroBitPlanesTree,ti.reset(jn,Xn);;)if(_n(1)){if(ui=!ti.nextLevel(),ui)break}else ti.incrementValue();Hn.zeroBitPlanes=ti.value}const Yn=Cn();for(;_n(1);)Hn.Lblock++;const Qn=(0,Ie.log2)(Yn),ci=(Yn<1<<Qn?Qn-1:Qn)+Hn.Lblock,pi=_n(ci);Bn.push({codeblock:Hn,codingpasses:Yn,dataLength:pi})}for(Tn(),kn&&wn(146);Bn.length>0;){const $n=Bn.shift();Hn=$n.codeblock,Hn.data===void 0&&(Hn.data=[]),Hn.data.push({data:an,start:Ke+gn,end:Ke+gn+$n.dataLength,codingpasses:$n.codingpasses}),gn+=$n.dataLength}}return gn}function fn(Je,an,Ke,sn,gn,mn,yn,Sn,_n){const wn=sn.tbx0,Nn=sn.tby0,Tn=sn.tbx1-sn.tbx0,Cn=sn.codeblocks,In=sn.type.charAt(0)==="H"?1:0,Rn=sn.type.charAt(1)==="H"?an:0;for(let bn=0,kn=Cn.length;bn<kn;++bn){const En=Cn[bn],On=En.tbx1_-En.tbx0_,Mn=En.tby1_-En.tby0_;if(On===0||Mn===0||En.data===void 0)continue;const Bn=new Ue(On,Mn,En.subbandType,En.zeroBitPlanes,mn);let Hn=2;const $n=En.data;let Un=0,qn=0,jn,Xn,Gn;for(jn=0,Xn=$n.length;jn<Xn;jn++)Gn=$n[jn],Un+=Gn.end-Gn.start,qn+=Gn.codingpasses;const ri=new Uint8Array(Un);let ui=0;for(jn=0,Xn=$n.length;jn<Xn;jn++){Gn=$n[jn];const Ei=Gn.data.subarray(Gn.start,Gn.end);ri.set(Ei,ui),ui+=Ei.length}const ti=new Re.ArithmeticDecoder(ri,0,Un);for(Bn.setDecoder(ti),jn=0;jn<qn;jn++){switch(Hn){case 0:Bn.runSignificancePropagationPass();break;case 1:Bn.runMagnitudeRefinementPass();break;case 2:Bn.runCleanupPass(),Sn&&Bn.checkSegmentationSymbol();break}_n&&Bn.reset(),Hn=(Hn+1)%3}let Yn=En.tbx0_-wn+(En.tby0_-Nn)*Tn;const Qn=Bn.coefficentsSign,ci=Bn.coefficentsMagnitude,pi=Bn.bitsDecoded,ki=yn?0:.5;let hi,si,ai;ui=0;const li=sn.type!=="LL";for(jn=0;jn<Mn;jn++){const $i=2*(Yn/Tn|0)*(an-Tn)+In+Rn;for(hi=0;hi<On;hi++){if(si=ci[ui],si!==0){si=(si+ki)*gn,Qn[ui]!==0&&(si=-si),ai=pi[ui];const Qi=li?$i+(Yn<<1):Yn;Je[Qi]=yn&&ai>=mn?si:si*(1<<mn-ai)}Yn++,ui++}Yn+=Tn-On}}}function dn(Je,an,Ke){const sn=an.components[Ke],gn=sn.codingStyleParameters,mn=sn.quantizationParameters,yn=gn.decompositionLevelsCount,Sn=mn.SPqcds,_n=mn.scalarExpounded,wn=mn.guardBits,Nn=gn.segmentationSymbolUsed,Tn=gn.resetContextProbabilities,Cn=Je.components[Ke].precision,In=gn.reversibleTransformation,Rn=In?new on:new $e,bn=[];let kn=0;for(let On=0;On<=yn;On++){const Mn=sn.resolutions[On],Bn=Mn.trx1-Mn.trx0,Hn=Mn.try1-Mn.try0,$n=new Float32Array(Bn*Hn);for(let Un=0,qn=Mn.subbands.length;Un<qn;Un++){let jn,Xn;_n?(jn=Sn[kn].mu,Xn=Sn[kn].epsilon,kn++):(jn=Sn[0].mu,Xn=Sn[0].epsilon+(On>0?1-On:0));const Gn=Mn.subbands[Un],ri=t[Gn.type],ui=In?1:2**(Cn+ri-Xn)*(1+jn/2048),ti=wn+Xn-1;fn($n,Bn,Hn,Gn,ui,ti,In,Nn,Tn)}bn.push({width:Bn,height:Hn,items:$n})}const En=Rn.calculate(bn,sn.tcx0,sn.tcy0);return{left:sn.tcx0,top:sn.tcy0,width:En.width,height:En.height,items:En.items}}function qe(Je){const an=Je.SIZ,Ke=Je.components,sn=an.Csiz,gn=[];for(let mn=0,yn=Je.tiles.length;mn<yn;mn++){const Sn=Je.tiles[mn],_n=[];for(let Bn=0;Bn<sn;Bn++)_n[Bn]=dn(Je,Sn,Bn);const wn=_n[0],Nn=new Uint8ClampedArray(wn.items.length*sn),Tn={left:wn.left,top:wn.top,width:wn.width,height:wn.height,items:Nn};let Cn,In,Rn=0,bn,kn,En,On,Mn;if(Sn.codingStyleDefaultParameters.multipleComponentTransform){const Bn=sn===4,Hn=_n[0].items,$n=_n[1].items,Un=_n[2].items,qn=Bn?_n[3].items:null;Cn=Ke[0].precision-8,In=(128<<Cn)+.5;const jn=Sn.components[0],Xn=sn-3;if(kn=Hn.length,jn.codingStyleParameters.reversibleTransformation)for(bn=0;bn<kn;bn++,Rn+=Xn){En=Hn[bn]+In,On=$n[bn],Mn=Un[bn];const Gn=En-(Mn+On>>2);Nn[Rn++]=Gn+Mn>>Cn,Nn[Rn++]=Gn>>Cn,Nn[Rn++]=Gn+On>>Cn}else for(bn=0;bn<kn;bn++,Rn+=Xn)En=Hn[bn]+In,On=$n[bn],Mn=Un[bn],Nn[Rn++]=En+1.402*Mn>>Cn,Nn[Rn++]=En-.34413*On-.71414*Mn>>Cn,Nn[Rn++]=En+1.772*On>>Cn;if(Bn)for(bn=0,Rn=3;bn<kn;bn++,Rn+=4)Nn[Rn]=qn[bn]+In>>Cn}else for(let Bn=0;Bn<sn;Bn++){const Hn=_n[Bn].items;for(Cn=Ke[Bn].precision-8,In=(128<<Cn)+.5,Rn=Bn,bn=0,kn=Hn.length;bn<kn;bn++)Nn[Rn]=Hn[bn]+In>>Cn,Rn+=sn}gn.push(Tn)}return gn}function tn(Je,an){const sn=Je.SIZ.Csiz,gn=Je.tiles[an];for(let mn=0;mn<sn;mn++){const yn=gn.components[mn],Sn=Je.currentTile.QCC[mn]!==void 0?Je.currentTile.QCC[mn]:Je.currentTile.QCD;yn.quantizationParameters=Sn;const _n=Je.currentTile.COC[mn]!==void 0?Je.currentTile.COC[mn]:Je.currentTile.COD;yn.codingStyleParameters=_n}gn.codingStyleDefaultParameters=Je.currentTile.COD}class Me{constructor(an,Ke){const sn=(0,Ie.log2)(Math.max(an,Ke))+1;this.levels=[];for(let gn=0;gn<sn;gn++){const mn={width:an,height:Ke,items:[]};this.levels.push(mn),an=Math.ceil(an/2),Ke=Math.ceil(Ke/2)}}reset(an,Ke){let sn=0,gn=0,mn;for(;sn<this.levels.length;){mn=this.levels[sn];const yn=an+Ke*mn.width;if(mn.items[yn]!==void 0){gn=mn.items[yn];break}mn.index=yn,an>>=1,Ke>>=1,sn++}sn--,mn=this.levels[sn],mn.items[mn.index]=gn,this.currentLevel=sn,delete this.value}incrementValue(){const an=this.levels[this.currentLevel];an.items[an.index]++}nextLevel(){let an=this.currentLevel,Ke=this.levels[an];const sn=Ke.items[Ke.index];return an--,an<0?(this.value=sn,!1):(this.currentLevel=an,Ke=this.levels[an],Ke.items[Ke.index]=sn,!0)}}class De{constructor(an,Ke,sn){const gn=(0,Ie.log2)(Math.max(an,Ke))+1;this.levels=[];for(let mn=0;mn<gn;mn++){const yn=new Uint8Array(an*Ke);for(let _n=0,wn=yn.length;_n<wn;_n++)yn[_n]=sn;const Sn={width:an,height:Ke,items:yn};this.levels.push(Sn),an=Math.ceil(an/2),Ke=Math.ceil(Ke/2)}}reset(an,Ke,sn){let gn=0;for(;gn<this.levels.length;){const mn=this.levels[gn],yn=an+Ke*mn.width;mn.index=yn;const Sn=mn.items[yn];if(Sn===255)break;if(Sn>sn)return this.currentLevel=gn,this.propagateValues(),!1;an>>=1,Ke>>=1,gn++}return this.currentLevel=gn-1,!0}incrementValue(an){const Ke=this.levels[this.currentLevel];Ke.items[Ke.index]=an+1,this.propagateValues()}propagateValues(){let an=this.currentLevel,Ke=this.levels[an];const sn=Ke.items[Ke.index];for(;--an>=0;)Ke=this.levels[an],Ke.items[Ke.index]=sn}nextLevel(){let an=this.currentLevel,Ke=this.levels[an];const sn=Ke.items[Ke.index];return Ke.items[Ke.index]=255,an--,an<0?!1:(this.currentLevel=an,Ke=this.levels[an],Ke.items[Ke.index]=sn,!0)}}class Ue{static UNIFORM_CONTEXT=17;static RUNLENGTH_CONTEXT=18;static LLAndLHContextsLabel=new Uint8Array([0,5,8,0,3,7,8,0,4,7,8,0,0,0,0,0,1,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8]);static HLContextLabel=new Uint8Array([0,3,4,0,5,7,7,0,8,8,8,0,0,0,0,0,1,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8]);static HHContextLabel=new Uint8Array([0,1,2,0,1,2,2,0,2,2,2,0,0,0,0,0,3,4,5,0,4,5,5,0,5,5,5,0,0,0,0,0,6,7,7,0,7,7,7,0,7,7,7,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8]);constructor(an,Ke,sn,gn,mn){this.width=an,this.height=Ke;let yn;sn==="HH"?yn=Ue.HHContextLabel:sn==="HL"?yn=Ue.HLContextLabel:yn=Ue.LLAndLHContextsLabel,this.contextLabelTable=yn;const Sn=an*Ke;this.neighborsSignificance=new Uint8Array(Sn),this.coefficentsSign=new Uint8Array(Sn);let _n;mn>14?_n=new Uint32Array(Sn):mn>6?_n=new Uint16Array(Sn):_n=new Uint8Array(Sn),this.coefficentsMagnitude=_n,this.processingFlags=new Uint8Array(Sn);const wn=new Uint8Array(Sn);if(gn!==0)for(let Nn=0;Nn<Sn;Nn++)wn[Nn]=gn;this.bitsDecoded=wn,this.reset()}setDecoder(an){this.decoder=an}reset(){this.contexts=new Int8Array(19),this.contexts[0]=8,this.contexts[Ue.UNIFORM_CONTEXT]=92,this.contexts[Ue.RUNLENGTH_CONTEXT]=6}setNeighborsSignificance(an,Ke,sn){const gn=this.neighborsSignificance,mn=this.width,yn=this.height,Sn=Ke>0,_n=Ke+1<mn;let wn;an>0&&(wn=sn-mn,Sn&&(gn[wn-1]+=16),_n&&(gn[wn+1]+=16),gn[wn]+=4),an+1<yn&&(wn=sn+mn,Sn&&(gn[wn-1]+=16),_n&&(gn[wn+1]+=16),gn[wn]+=4),Sn&&(gn[sn-1]+=1),_n&&(gn[sn+1]+=1),gn[sn]|=128}runSignificancePropagationPass(){const an=this.decoder,Ke=this.width,sn=this.height,gn=this.coefficentsMagnitude,mn=this.coefficentsSign,yn=this.neighborsSignificance,Sn=this.processingFlags,_n=this.contexts,wn=this.contextLabelTable,Nn=this.bitsDecoded,Tn=-2,Cn=1,In=2;for(let Rn=0;Rn<sn;Rn+=4)for(let bn=0;bn<Ke;bn++){let kn=Rn*Ke+bn;for(let En=0;En<4;En++,kn+=Ke){const On=Rn+En;if(On>=sn)break;if(Sn[kn]&=Tn,gn[kn]||!yn[kn])continue;const Mn=wn[yn[kn]];if(an.readBit(_n,Mn)){const Hn=this.decodeSignBit(On,bn,kn);mn[kn]=Hn,gn[kn]=1,this.setNeighborsSignificance(On,bn,kn),Sn[kn]|=In}Nn[kn]++,Sn[kn]|=Cn}}}decodeSignBit(an,Ke,sn){const gn=this.width,mn=this.height,yn=this.coefficentsMagnitude,Sn=this.coefficentsSign;let _n,wn,Nn,Tn,Cn,In;Tn=Ke>0&&yn[sn-1]!==0,Ke+1<gn&&yn[sn+1]!==0?(Nn=Sn[sn+1],Tn?(wn=Sn[sn-1],_n=1-Nn-wn):_n=1-Nn-Nn):Tn?(wn=Sn[sn-1],_n=1-wn-wn):_n=0;const Rn=3*_n;return Tn=an>0&&yn[sn-gn]!==0,an+1<mn&&yn[sn+gn]!==0?(Nn=Sn[sn+gn],Tn?(wn=Sn[sn-gn],_n=1-Nn-wn+Rn):_n=1-Nn-Nn+Rn):Tn?(wn=Sn[sn-gn],_n=1-wn-wn+Rn):_n=Rn,_n>=0?(Cn=9+_n,In=this.decoder.readBit(this.contexts,Cn)):(Cn=9-_n,In=this.decoder.readBit(this.contexts,Cn)^1),In}runMagnitudeRefinementPass(){const an=this.decoder,Ke=this.width,sn=this.height,gn=this.coefficentsMagnitude,mn=this.neighborsSignificance,yn=this.contexts,Sn=this.bitsDecoded,_n=this.processingFlags,wn=1,Nn=2,Tn=Ke*sn,Cn=Ke*4;for(let In=0,Rn;In<Tn;In=Rn){Rn=Math.min(Tn,In+Cn);for(let bn=0;bn<Ke;bn++)for(let kn=In+bn;kn<Rn;kn+=Ke){if(!gn[kn]||(_n[kn]&wn)!==0)continue;let En=16;(_n[kn]&Nn)!==0&&(_n[kn]^=Nn,En=(mn[kn]&127)===0?15:14);const On=an.readBit(yn,En);gn[kn]=gn[kn]<<1|On,Sn[kn]++,_n[kn]|=wn}}}runCleanupPass(){const an=this.decoder,Ke=this.width,sn=this.height,gn=this.neighborsSignificance,mn=this.coefficentsMagnitude,yn=this.coefficentsSign,Sn=this.contexts,_n=this.contextLabelTable,wn=this.bitsDecoded,Nn=this.processingFlags,Tn=1,Cn=2,In=Ke,Rn=Ke*2,bn=Ke*3;let kn;for(let En=0;En<sn;En=kn){kn=Math.min(En+4,sn);const On=En*Ke,Mn=En+3<sn;for(let Bn=0;Bn<Ke;Bn++){const Hn=On+Bn,$n=Mn&&Nn[Hn]===0&&Nn[Hn+In]===0&&Nn[Hn+Rn]===0&&Nn[Hn+bn]===0&&gn[Hn]===0&&gn[Hn+In]===0&&gn[Hn+Rn]===0&&gn[Hn+bn]===0;let Un=0,qn=Hn,jn=En,Xn;if($n){if(!an.readBit(Sn,Ue.RUNLENGTH_CONTEXT)){wn[Hn]++,wn[Hn+In]++,wn[Hn+Rn]++,wn[Hn+bn]++;continue}Un=an.readBit(Sn,Ue.UNIFORM_CONTEXT)<<1|an.readBit(Sn,Ue.UNIFORM_CONTEXT),Un!==0&&(jn=En+Un,qn+=Un*Ke),Xn=this.decodeSignBit(jn,Bn,qn),yn[qn]=Xn,mn[qn]=1,this.setNeighborsSignificance(jn,Bn,qn),Nn[qn]|=Cn,qn=Hn;for(let ri=En;ri<=jn;ri++,qn+=Ke)wn[qn]++;Un++}for(jn=En+Un;jn<kn;jn++,qn+=Ke){if(mn[qn]||(Nn[qn]&Tn)!==0)continue;const Gn=_n[gn[qn]];an.readBit(Sn,Gn)===1&&(Xn=this.decodeSignBit(jn,Bn,qn),yn[qn]=Xn,mn[qn]=1,this.setNeighborsSignificance(jn,Bn,qn),Nn[qn]|=Cn),wn[qn]++}}}}checkSegmentationSymbol(){const an=this.decoder,Ke=this.contexts;if((an.readBit(Ke,Ue.UNIFORM_CONTEXT)<<3|an.readBit(Ke,Ue.UNIFORM_CONTEXT)<<2|an.readBit(Ke,Ue.UNIFORM_CONTEXT)<<1|an.readBit(Ke,Ue.UNIFORM_CONTEXT))!==10)throw new e("Invalid segmentation symbol")}}class We{constructor(){this.constructor===We&&(0,xe.unreachable)("Cannot initialize Transform.")}calculate(an,Ke,sn){let gn=an[0];for(let mn=1,yn=an.length;mn<yn;mn++)gn=this.iterate(gn,an[mn],Ke,sn);return gn}extend(an,Ke,sn){let gn=Ke-1,mn=Ke+1,yn=Ke+sn-2,Sn=Ke+sn;an[gn--]=an[mn++],an[Sn++]=an[yn--],an[gn--]=an[mn++],an[Sn++]=an[yn--],an[gn--]=an[mn++],an[Sn++]=an[yn--],an[gn]=an[mn],an[Sn]=an[yn]}filter(an,Ke,sn){(0,xe.unreachable)("Abstract method `filter` called")}iterate(an,Ke,sn,gn){const mn=an.width,yn=an.height;let Sn=an.items;const _n=Ke.width,wn=Ke.height,Nn=Ke.items;let Tn,Cn,In,Rn,bn,kn;for(In=0,Tn=0;Tn<yn;Tn++)for(Rn=Tn*2*_n,Cn=0;Cn<mn;Cn++,In++,Rn+=2)Nn[Rn]=Sn[In];Sn=an.items=null;const En=4,On=new Float32Array(_n+2*En);if(_n===1){if((sn&1)!==0)for(kn=0,In=0;kn<wn;kn++,In+=_n)Nn[In]*=.5}else for(kn=0,In=0;kn<wn;kn++,In+=_n)On.set(Nn.subarray(In,In+_n),En),this.extend(On,En,_n),this.filter(On,En,_n),Nn.set(On.subarray(En,En+_n),In);let Mn=16;const Bn=[];for(Tn=0;Tn<Mn;Tn++)Bn.push(new Float32Array(wn+2*En));let Hn,$n=0;if(an=En+wn,wn===1){if((gn&1)!==0)for(bn=0;bn<_n;bn++)Nn[bn]*=.5}else for(bn=0;bn<_n;bn++){if($n===0){for(Mn=Math.min(_n-bn,Mn),In=bn,Rn=En;Rn<an;In+=_n,Rn++)for(Hn=0;Hn<Mn;Hn++)Bn[Hn][Rn]=Nn[In+Hn];$n=Mn}$n--;const Un=Bn[$n];if(this.extend(Un,En,wn),this.filter(Un,En,wn),$n===0)for(In=bn-Mn+1,Rn=En;Rn<an;In+=_n,Rn++)for(Hn=0;Hn<Mn;Hn++)Nn[In+Hn]=Bn[Hn][Rn]}return{width:_n,height:wn,items:Nn}}}class $e extends We{filter(an,Ke,sn){const gn=sn>>1;Ke|=0;let mn,yn,Sn,_n;const wn=-1.586134342059924,Nn=-.052980118572961,Tn=.882911075530934,Cn=.443506852043971,In=1.230174104914001,Rn=1/In;for(mn=Ke-3,yn=gn+4;yn--;mn+=2)an[mn]*=Rn;for(mn=Ke-2,Sn=Cn*an[mn-1],yn=gn+3;yn--&&(_n=Cn*an[mn+1],an[mn]=In*an[mn]-Sn-_n,yn--);mn+=2)mn+=2,Sn=Cn*an[mn+1],an[mn]=In*an[mn]-Sn-_n;for(mn=Ke-1,Sn=Tn*an[mn-1],yn=gn+2;yn--&&(_n=Tn*an[mn+1],an[mn]-=Sn+_n,yn--);mn+=2)mn+=2,Sn=Tn*an[mn+1],an[mn]-=Sn+_n;for(mn=Ke,Sn=Nn*an[mn-1],yn=gn+1;yn--&&(_n=Nn*an[mn+1],an[mn]-=Sn+_n,yn--);mn+=2)mn+=2,Sn=Nn*an[mn+1],an[mn]-=Sn+_n;if(gn!==0)for(mn=Ke+1,Sn=wn*an[mn-1],yn=gn;yn--&&(_n=wn*an[mn+1],an[mn]-=Sn+_n,yn--);mn+=2)mn+=2,Sn=wn*an[mn+1],an[mn]-=Sn+_n}}class on extends We{filter(an,Ke,sn){const gn=sn>>1;Ke|=0;let mn,yn;for(mn=Ke,yn=gn+1;yn--;mn+=2)an[mn]-=an[mn-1]+an[mn+1]+2>>2;for(mn=Ke+1,yn=gn;yn--;mn+=2)an[mn]+=an[mn-1]+an[mn+1]>>1}}},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.LZWStream=void 0;var xe=ze(18);class Ie extends xe.DecodeStream{constructor(e,t,Te){super(t),this.str=e,this.dict=e.dict,this.cachedData=0,this.bitsCached=0;const Ye=4096,en={earlyChange:Te,codeLength:9,nextCode:258,dictionaryValues:new Uint8Array(Ye),dictionaryLengths:new Uint16Array(Ye),dictionaryPrevCodes:new Uint16Array(Ye),currentSequence:new Uint8Array(Ye),currentSequenceLength:0};for(let je=0;je<256;++je)en.dictionaryValues[je]=je,en.dictionaryLengths[je]=1;this.lzwState=en}readBits(e){let t=this.bitsCached,Te=this.cachedData;for(;t<e;){const Ye=this.str.getByte();if(Ye===-1)return this.eof=!0,null;Te=Te<<8|Ye,t+=8}return this.bitsCached=t-=e,this.cachedData=Te,this.lastCode=null,Te>>>t&(1<<e)-1}readBlock(){let Te=1024,Ye,en,je;const nn=this.lzwState;if(!nn)return;const Ge=nn.earlyChange;let Oe=nn.nextCode;const Ce=nn.dictionaryValues,St=nn.dictionaryLengths,rn=nn.dictionaryPrevCodes;let un=nn.codeLength,Qe=nn.prevCode;const hn=nn.currentSequence;let He=nn.currentSequenceLength,pn=0,Xe=this.bufferLength,fn=this.ensureBuffer(this.bufferLength+Te);for(Ye=0;Ye<512;Ye++){const dn=this.readBits(un),qe=He>0;if(dn<256)hn[0]=dn,He=1;else if(dn>=258)if(dn<Oe)for(He=St[dn],en=He-1,je=dn;en>=0;en--)hn[en]=Ce[je],je=rn[je];else hn[He++]=hn[0];else if(dn===256){un=9,Oe=258,He=0;continue}else{this.eof=!0,delete this.lzwState;break}if(qe&&(rn[Oe]=Qe,St[Oe]=St[Qe]+1,Ce[Oe]=hn[0],Oe++,un=Oe+Ge&Oe+Ge-1?un:Math.min(Math.log(Oe+Ge)/.6931471805599453+1,12)|0),Qe=dn,pn+=He,Te<pn){do Te+=512;while(Te<pn);fn=this.ensureBuffer(this.bufferLength+Te)}for(en=0;en<He;en++)fn[Xe++]=hn[en]}nn.nextCode=Oe,nn.codeLength=un,nn.prevCode=Qe,nn.currentSequenceLength=He,this.bufferLength=Xe}}_e.LZWStream=Ie},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.PredictorStream=void 0;var xe=ze(18),Ie=ze(4),Re=ze(2);class e extends xe.DecodeStream{constructor(Te,Ye,en){if(super(Ye),!(en instanceof Ie.Dict))return Te;const je=this.predictor=en.get("Predictor")||1;if(je<=1)return Te;if(je!==2&&(je<10||je>15))throw new Re.FormatError(`Unsupported predictor: ${je}`);this.readBlock=je===2?this.readBlockTiff:this.readBlockPng,this.str=Te,this.dict=Te.dict;const nn=this.colors=en.get("Colors")||1,Ge=this.bits=en.get("BPC","BitsPerComponent")||8,Oe=this.columns=en.get("Columns")||1;return this.pixBytes=nn*Ge+7>>3,this.rowBytes=Oe*nn*Ge+7>>3,this}readBlockTiff(){const Te=this.rowBytes,Ye=this.bufferLength,en=this.ensureBuffer(Ye+Te),je=this.bits,nn=this.colors,Ge=this.str.getBytes(Te);if(this.eof=!Ge.length,this.eof)return;let Oe=0,Ce=0,St=0,rn=0,un=Ye,Qe;if(je===1&&nn===1)for(Qe=0;Qe<Te;++Qe){let hn=Ge[Qe]^Oe;hn^=hn>>1,hn^=hn>>2,hn^=hn>>4,Oe=(hn&1)<<7,en[un++]=hn}else if(je===8){for(Qe=0;Qe<nn;++Qe)en[un++]=Ge[Qe];for(;Qe<Te;++Qe)en[un]=en[un-nn]+Ge[Qe],un++}else if(je===16){const hn=nn*2;for(Qe=0;Qe<hn;++Qe)en[un++]=Ge[Qe];for(;Qe<Te;Qe+=2){const He=((Ge[Qe]&255)<<8)+(Ge[Qe+1]&255)+((en[un-hn]&255)<<8)+(en[un-hn+1]&255);en[un++]=He>>8&255,en[un++]=He&255}}else{const hn=new Uint8Array(nn+1),He=(1<<je)-1;let pn=0,Xe=Ye;const fn=this.columns;for(Qe=0;Qe<fn;++Qe)for(let dn=0;dn<nn;++dn)St<je&&(Oe=Oe<<8|Ge[pn++]&255,St+=8),hn[dn]=hn[dn]+(Oe>>St-je)&He,St-=je,Ce=Ce<<je|hn[dn],rn+=je,rn>=8&&(en[Xe++]=Ce>>rn-8&255,rn-=8);rn>0&&(en[Xe++]=(Ce<<8-rn)+(Oe&(1<<8-rn)-1))}this.bufferLength+=Te}readBlockPng(){const Te=this.rowBytes,Ye=this.pixBytes,en=this.str.getByte(),je=this.str.getBytes(Te);if(this.eof=!je.length,this.eof)return;const nn=this.bufferLength,Ge=this.ensureBuffer(nn+Te);let Oe=Ge.subarray(nn-Te,nn);Oe.length===0&&(Oe=new Uint8Array(Te));let Ce,St=nn,rn,un;switch(en){case 0:for(Ce=0;Ce<Te;++Ce)Ge[St++]=je[Ce];break;case 1:for(Ce=0;Ce<Ye;++Ce)Ge[St++]=je[Ce];for(;Ce<Te;++Ce)Ge[St]=Ge[St-Ye]+je[Ce]&255,St++;break;case 2:for(Ce=0;Ce<Te;++Ce)Ge[St++]=Oe[Ce]+je[Ce]&255;break;case 3:for(Ce=0;Ce<Ye;++Ce)Ge[St++]=(Oe[Ce]>>1)+je[Ce];for(;Ce<Te;++Ce)Ge[St]=(Oe[Ce]+Ge[St-Ye]>>1)+je[Ce]&255,St++;break;case 4:for(Ce=0;Ce<Ye;++Ce)rn=Oe[Ce],un=je[Ce],Ge[St++]=rn+un;for(;Ce<Te;++Ce){rn=Oe[Ce];const Qe=Oe[Ce-Ye],hn=Ge[St-Ye],He=hn+rn-Qe;let pn=He-hn;pn<0&&(pn=-pn);let Xe=He-rn;Xe<0&&(Xe=-Xe);let fn=He-Qe;fn<0&&(fn=-fn),un=je[Ce],pn<=Xe&&pn<=fn?Ge[St++]=hn+un:Xe<=fn?Ge[St++]=rn+un:Ge[St++]=Qe+un}break;default:throw new Re.FormatError(`Unsupported predictor: ${en}`)}this.bufferLength+=Te}}_e.PredictorStream=e},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.RunLengthStream=void 0;var xe=ze(18);class Ie extends xe.DecodeStream{constructor(e,t){super(t),this.str=e,this.dict=e.dict}readBlock(){const e=this.str.getBytes(2);if(!e||e.length<2||e[0]===128){this.eof=!0;return}let t,Te=this.bufferLength,Ye=e[0];if(Ye<128){if(t=this.ensureBuffer(Te+Ye+1),t[Te++]=e[1],Ye>0){const en=this.str.getBytes(Ye);t.set(en,Te),Te+=Ye}}else{Ye=257-Ye;const en=e[1];t=this.ensureBuffer(Te+Ye+1);for(let je=0;je<Ye;je++)t[Te++]=en}this.bufferLength=Te}}_e.RunLengthStream=Ie},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.Font=_e.ErrorFont=void 0;var xe=ze(2),Ie=ze(35),Re=ze(38),e=ze(40),t=ze(39),Te=ze(37),Ye=ze(41),en=ze(42),je=ze(43),nn=ze(44),Ge=ze(45),Oe=ze(46),Ce=ze(14),St=ze(47),rn=ze(3),un=ze(8),Qe=ze(48);const hn=[[57344,63743],[1048576,1114109]],He=1e3,pn=["ascent","bbox","black","bold","charProcOperatorList","composite","cssFontInfo","data","defaultVMetrics","defaultWidth","descent","fallbackName","fontMatrix","isInvalidPDFjsFont","isType3Font","italic","loadedName","mimetype","missingFile","name","remeasure","subtype","systemFontInfo","type","vertical"],Xe=["cMap","defaultEncoding","differences","isMonospace","isSerifFont","isSymbolicFont","seacMap","toFontChar","toUnicode","vmetrics","widths"];function fn($n){if(!$n.fontMatrix||$n.fontMatrix[0]===xe.FONT_IDENTITY_MATRIX[0])return;const Un=.001/$n.fontMatrix[0],qn=$n.widths;for(const jn in qn)qn[jn]*=Un;$n.defaultWidth*=Un}function dn($n,Un,qn){if($n.isInternalFont||$n.hasIncludedToUnicodeMap||$n.hasEncoding||$n.toUnicode instanceof en.IdentityToUnicodeMap||!Un||qn.length===0||$n.defaultEncoding===Te.WinAnsiEncoding)return;for(const ri of qn)if(!Nn(ri))return;const jn=Te.WinAnsiEncoding,Xn=[],Gn=(0,t.getGlyphsUnicode)();for(const ri in jn){const ui=jn[ri];if(ui==="")continue;const ti=Gn[ui];ti!==void 0&&(Xn[ri]=String.fromCharCode(ti))}Xn.length>0&&$n.toUnicode.amend(Xn)}function qe($n,Un){if($n.isInternalFont||$n.hasIncludedToUnicodeMap||Un===$n.defaultEncoding||$n.toUnicode instanceof en.IdentityToUnicodeMap)return;const qn=[],jn=(0,t.getGlyphsUnicode)();for(const Xn in Un){if($n.hasEncoding&&($n.baseEncodingName||$n.differences[Xn]!==void 0))continue;const Gn=Un[Xn],ri=(0,e.getUnicodeForGlyph)(Gn,jn);ri!==-1&&(qn[Xn]=String.fromCharCode(ri))}qn.length>0&&$n.toUnicode.amend(qn)}function tn($n){if(!$n.fallbackToUnicode||$n.toUnicode instanceof en.IdentityToUnicodeMap)return;const Un=[];for(const qn in $n.fallbackToUnicode)$n.toUnicode.has(qn)||(Un[qn]=$n.fallbackToUnicode[qn]);Un.length>0&&$n.toUnicode.amend(Un)}class Me{constructor(Un,qn,jn,Xn,Gn,ri,ui,ti,Yn){this.originalCharCode=Un,this.fontChar=qn,this.unicode=jn,this.accent=Xn,this.width=Gn,this.vmetric=ri,this.operatorListId=ui,this.isSpace=ti,this.isInFont=Yn}get category(){return(0,xe.shadow)(this,"category",(0,e.getCharUnicodeCategory)(this.unicode),!0)}}function De($n,Un){return($n<<8)+Un}function Ue($n,Un,qn){$n[Un+1]=qn,$n[Un]=qn>>>8}function We($n,Un){const qn=($n<<8)+Un;return qn&32768?qn-65536:qn}function $e($n,Un,qn,jn){return($n<<24)+(Un<<16)+(qn<<8)+jn}function on($n){return String.fromCharCode($n>>8&255,$n&255)}function Je($n){return $n>32767?$n=32767:$n<-32768&&($n=-32768),String.fromCharCode($n>>8&255,$n&255)}function an($n){const Un=$n.peekBytes(4);return(0,rn.readUint32)(Un,0)===65536||(0,xe.bytesToString)(Un)==="true"}function Ke($n){const Un=$n.peekBytes(4);return(0,xe.bytesToString)(Un)==="ttcf"}function sn($n){const Un=$n.peekBytes(4);return(0,xe.bytesToString)(Un)==="OTTO"}function gn($n){const Un=$n.peekBytes(2);return Un[0]===37&&Un[1]===33||Un[0]===128&&Un[1]===1}function mn($n){const Un=$n.peekBytes(4);return Un[0]>=1&&Un[3]>=1&&Un[3]<=4}function yn($n,{type:Un,subtype:qn,composite:jn}){let Xn,Gn;return an($n)||Ke($n)?Xn=jn?"CIDFontType2":"TrueType":sn($n)?Xn=jn?"CIDFontType2":"OpenType":gn($n)?jn?Xn="CIDFontType0":Xn=Un==="MMType1"?"MMType1":"Type1":mn($n)?jn?(Xn="CIDFontType0",Gn="CIDFontType0C"):(Xn=Un==="MMType1"?"MMType1":"Type1",Gn="Type1C"):((0,xe.warn)("getFontFileType: Unable to detect correct font file Type/Subtype."),Xn=Un,Gn=qn),[Xn,Gn]}function Sn($n,Un){for(const qn in Un)$n[+qn]=Un[qn]}function _n($n,Un,qn){const jn=[];let Xn;for(let Gn=0,ri=$n.length;Gn<ri;Gn++)Xn=(0,e.getUnicodeForGlyph)($n[Gn],Un),Xn!==-1&&(jn[Gn]=Xn);for(const Gn in qn)Xn=(0,e.getUnicodeForGlyph)(qn[Gn],Un),Xn!==-1&&(jn[+Gn]=Xn);return jn}function wn($n){return $n.platform===1&&$n.encoding===0&&$n.language===0}function Nn($n){return $n.platform===3&&$n.encoding===1&&$n.language===1033}function Tn($n,Un,qn=!1){switch(Un.length){case 1:return Un.charCodeAt(0);case 2:return Un.charCodeAt(0)<<8|Un.charCodeAt(1)}const jn=`Unsupported CID string (charCode ${$n}): "${Un}".`;if(qn)throw new xe.FormatError(jn);return(0,xe.warn)(jn),Un}function Cn($n,Un,qn,jn){const Xn=Object.create(null),Gn=new Map,ri=[],ui=new Set;let ti=0,Qn=hn[ti][0],ci=hn[ti][1];const pi=ki=>hn[0][0]<=ki&&ki<=hn[0][1]||hn[1][0]<=ki&&ki<=hn[1][1];for(let ki in $n){ki|=0;let hi=$n[ki];if(!Un(hi))continue;if(Qn>ci){if(ti++,ti>=hn.length){(0,xe.warn)("Ran out of space in font private use area.");break}Qn=hn[ti][0],ci=hn[ti][1]}const si=Qn++;hi===0&&(hi=qn);let ai=jn.get(ki);typeof ai=="string"&&(ai=ai.codePointAt(0)),ai&&!pi(ai)&&!ui.has(hi)&&(Gn.set(ai,hi),ui.add(hi)),Xn[si]=hi,ri[ki]=si}return{toFontChar:ri,charCodeToGlyphId:Xn,toUnicodeExtraMap:Gn,nextAvailableFontCharCode:Qn}}function In($n,Un,qn){const jn=[];for(const ri in $n)$n[ri]>=qn||jn.push({fontCharCode:ri|0,glyphId:$n[ri]});if(Un)for(const[ri,ui]of Un)ui>=qn||jn.push({fontCharCode:ri,glyphId:ui});jn.length===0&&jn.push({fontCharCode:0,glyphId:0}),jn.sort(function(ui,ti){return ui.fontCharCode-ti.fontCharCode});const Xn=[],Gn=jn.length;for(let ri=0;ri<Gn;){const ui=jn[ri].fontCharCode,ti=[jn[ri].glyphId];++ri;let Yn=ui;for(;ri<Gn&&Yn+1===jn[ri].fontCharCode&&(ti.push(jn[ri].glyphId),++Yn,++ri,Yn!==65535););Xn.push([ui,Yn,ti])}return Xn}function Rn($n,Un,qn){const jn=In($n,Un,qn),Xn=jn.at(-1)[1]>65535?2:1;let Gn="\0\0"+on(Xn)+"\0\0"+(0,xe.string32)(4+Xn*8),ri,ui,ti,Yn;for(ri=jn.length-1;ri>=0&&!(jn[ri][0]<=65535);--ri);const Qn=ri+1;jn[ri][0]<65535&&jn[ri][1]===65535&&(jn[ri][1]=65534);const ci=jn[ri][1]<65535?1:0,pi=Qn+ci,ki=St.OpenTypeFileBuilder.getSearchParams(pi,2);let hi="",si="",ai="",li="",Ei="",$i=0,Qi,fr,ar,Ii;for(ri=0,ui=Qn;ri<ui;ri++){Qi=jn[ri],fr=Qi[0],ar=Qi[1],hi+=on(fr),si+=on(ar),Ii=Qi[2];let Xi=!0;for(ti=1,Yn=Ii.length;ti<Yn;++ti)if(Ii[ti]!==Ii[ti-1]+1){Xi=!1;break}if(Xi){const Gi=Ii[0];ai+=on(Gi-fr&65535),li+=on(0)}else{const Gi=(pi-ri)*2+$i*2;for($i+=ar-fr+1,ai+=on(0),li+=on(Gi),ti=0,Yn=Ii.length;ti<Yn;++ti)Ei+=on(Ii[ti])}}ci>0&&(si+="ÿÿ",hi+="ÿÿ",ai+="\0",li+="\0\0");const vi="\0\0"+on(2*pi)+on(ki.range)+on(ki.entry)+on(ki.rangeShift)+si+"\0\0"+hi+ai+li+Ei;let rr="",dr="";if(Xn>1){for(Gn+=`\0\0
`+(0,xe.string32)(4+Xn*8+4+vi.length),rr="",ri=0,ui=jn.length;ri<ui;ri++){Qi=jn[ri],fr=Qi[0],Ii=Qi[2];let Xi=Ii[0];for(ti=1,Yn=Ii.length;ti<Yn;++ti)Ii[ti]!==Ii[ti-1]+1&&(ar=Qi[0]+ti-1,rr+=(0,xe.string32)(fr)+(0,xe.string32)(ar)+(0,xe.string32)(Xi),fr=ar+1,Xi=Ii[ti]);rr+=(0,xe.string32)(fr)+(0,xe.string32)(Qi[1])+(0,xe.string32)(Xi)}dr="\0\f\0\0"+(0,xe.string32)(rr.length+16)+"\0\0\0\0"+(0,xe.string32)(rr.length/12)}return Gn+"\0"+on(vi.length+4)+vi+dr+rr}function bn($n,Un){Un.pos=(Un.start||0)+$n.offset;const qn=Un.getUint16();Un.skip(60);const jn=Un.getUint16();if(qn<4&&jn&768)return!1;const Xn=Un.getUint16(),Gn=Un.getUint16();return Xn>Gn||(Un.skip(6),Un.getUint16()===0)?!1:($n.data[8]=$n.data[9]=0,!0)}function kn($n,Un,qn){qn||={unitsPerEm:0,yMax:0,yMin:0,ascent:0,descent:0};let jn=0,Xn=0,Gn=0,ri=0,ui=null,ti=0,Yn=-1;if(Un){for(let li in Un)if(li|=0,(ui>li||!ui)&&(ui=li),ti<li&&(ti=li),Yn=(0,e.getUnicodeRangeFor)(li,Yn),Yn<32)jn|=1<<Yn;else if(Yn<64)Xn|=1<<Yn-32;else if(Yn<96)Gn|=1<<Yn-64;else if(Yn<123)ri|=1<<Yn-96;else throw new xe.FormatError("Unicode ranges Bits > 123 are reserved for internal usage");ti>65535&&(ti=65535)}else ui=0,ti=255;const Qn=$n.bbox||[0,0,0,0],ci=qn.unitsPerEm||1/($n.fontMatrix||xe.FONT_IDENTITY_MATRIX)[0],pi=$n.ascentScaled?1:ci/He,ki=qn.ascent||Math.round(pi*($n.ascent||Qn[3]));let hi=qn.descent||Math.round(pi*($n.descent||Qn[1]));hi>0&&$n.descent>0&&Qn[1]<0&&(hi=-hi);const si=qn.yMax||ki,ai=-qn.yMin||-hi;return"\0$ô\0\0\0»\0\0\0»\0\0ß\x001\0\0\0\0"+String.fromCharCode($n.fixedPitch?9:0)+"\0\0\0\0\0\0"+(0,xe.string32)(jn)+(0,xe.string32)(Xn)+(0,xe.string32)(Gn)+(0,xe.string32)(ri)+"*21*"+on($n.italicAngle?1:0)+on(ui||$n.firstChar)+on(ti||$n.lastChar)+on(ki)+on(hi)+"\0d"+on(si)+on(ai)+"\0\0\0\0\0\0\0\0"+on($n.xHeight)+on($n.capHeight)+on(0)+on(ui||$n.firstChar)+"\0"}function En($n){const Un=Math.floor($n.italicAngle*65536);return"\0\0\0"+(0,xe.string32)(Un)+"\0\0\0\0"+(0,xe.string32)($n.fixedPitch?1:0)+"\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"}function On($n){return $n.replaceAll(/[^\x21-\x7E]|[[\](){}<>/%]/g,"").slice(0,63)}function Mn($n,Un){Un||(Un=[[],[]]);const qn=[Un[0][0]||"Original licence",Un[0][1]||$n,Un[0][2]||"Unknown",Un[0][3]||"uniqueID",Un[0][4]||$n,Un[0][5]||"Version 0.11",Un[0][6]||On($n),Un[0][7]||"Unknown",Un[0][8]||"Unknown",Un[0][9]||"Unknown"],jn=[];let Xn,Gn,ri,ui,ti;for(Xn=0,Gn=qn.length;Xn<Gn;Xn++){ti=Un[1][Xn]||qn[Xn];const ai=[];for(ri=0,ui=ti.length;ri<ui;ri++)ai.push(on(ti.charCodeAt(ri)));jn.push(ai.join(""))}const Yn=[qn,jn],Qn=["\0","\0"],ci=["\0\0","\0"],pi=["\0\0","	"],ki=qn.length*Qn.length;let hi="\0\0"+on(ki)+on(ki*12+6),si=0;for(Xn=0,Gn=Qn.length;Xn<Gn;Xn++){const ai=Yn[Xn];for(ri=0,ui=ai.length;ri<ui;ri++){ti=ai[ri];const li=Qn[Xn]+ci[Xn]+pi[Xn]+on(ri)+on(ti.length)+on(si);hi+=li,si+=ti.length}}return hi+=qn.join("")+jn.join(""),hi}class Bn{constructor(Un,qn,jn){this.name=Un,this.psName=null,this.mimetype=null,this.disableFontFace=!1,this.loadedName=jn.loadedName,this.isType3Font=jn.isType3Font,this.missingFile=!1,this.cssFontInfo=jn.cssFontInfo,this._charsCache=Object.create(null),this._glyphCache=Object.create(null);let Xn=!!(jn.flags&Re.FontFlags.Serif);if(!Xn&&!jn.isSimulatedFlags){const Yn=Un.replaceAll(/[,_]/g,"-").split("-")[0],Qn=(0,Ye.getSerifFonts)();for(const ci of Yn.split("+"))if(Qn[ci]){Xn=!0;break}}this.isSerifFont=Xn,this.isSymbolicFont=!!(jn.flags&Re.FontFlags.Symbolic),this.isMonospace=!!(jn.flags&Re.FontFlags.FixedPitch);let{type:Gn,subtype:ri}=jn;this.type=Gn,this.subtype=ri,this.systemFontInfo=jn.systemFontInfo;const ui=Un.match(/^InvalidPDFjsFont_(.*)_\d+$/);if(this.isInvalidPDFjsFont=!!ui,this.isInvalidPDFjsFont?this.fallbackName=ui[1]:this.isMonospace?this.fallbackName="monospace":this.isSerifFont?this.fallbackName="serif":this.fallbackName="sans-serif",this.systemFontInfo?.guessFallback&&(this.systemFontInfo.guessFallback=!1,this.systemFontInfo.css+=`,${this.fallbackName}`),this.differences=jn.differences,this.widths=jn.widths,this.defaultWidth=jn.defaultWidth,this.composite=jn.composite,this.cMap=jn.cMap,this.capHeight=jn.capHeight/He,this.ascent=jn.ascent/He,this.descent=jn.descent/He,this.lineHeight=this.ascent-this.descent,this.fontMatrix=jn.fontMatrix,this.bbox=jn.bbox,this.defaultEncoding=jn.defaultEncoding,this.toUnicode=jn.toUnicode,this.toFontChar=[],jn.type==="Type3"){for(let Yn=0;Yn<256;Yn++)this.toFontChar[Yn]=this.differences[Yn]||jn.defaultEncoding[Yn];return}if(this.cidEncoding=jn.cidEncoding||"",this.vertical=!!jn.vertical,this.vertical&&(this.vmetrics=jn.vmetrics,this.defaultVMetrics=jn.defaultVMetrics),!qn||qn.isEmpty){qn&&(0,xe.warn)('Font file is empty in "'+Un+'" ('+this.loadedName+")"),this.fallbackToSystemFont(jn);return}[Gn,ri]=yn(qn,jn),(Gn!==this.type||ri!==this.subtype)&&(0,xe.info)(`Inconsistent font file Type/SubType, expected: ${this.type}/${this.subtype} but found: ${Gn}/${ri}.`);let ti;try{switch(Gn){case"MMType1":(0,xe.info)("MMType1 font ("+Un+"), falling back to Type1.");case"Type1":case"CIDFontType0":this.mimetype="font/opentype";const Yn=ri==="Type1C"||ri==="CIDFontType0C"?new je.CFFFont(qn,jn):new Qe.Type1Font(Un,qn,jn);fn(jn),ti=this.convert(Un,Yn,jn);break;case"OpenType":case"TrueType":case"CIDFontType2":this.mimetype="font/opentype",ti=this.checkAndRepair(Un,qn,jn),this.isOpenType&&(fn(jn),Gn="OpenType");break;default:throw new xe.FormatError(`Font ${Gn} is not supported`)}}catch(Yn){(0,xe.warn)(Yn),this.fallbackToSystemFont(jn);return}tn(jn),this.data=ti,this.type=Gn,this.subtype=ri,this.fontMatrix=jn.fontMatrix,this.widths=jn.widths,this.defaultWidth=jn.defaultWidth,this.toUnicode=jn.toUnicode,this.seacMap=jn.seacMap}get renderer(){const Un=nn.FontRendererFactory.create(this,Re.SEAC_ANALYSIS_ENABLED);return(0,xe.shadow)(this,"renderer",Un)}exportData(Un=!1){const qn=Un?[...pn,...Xe]:pn,jn=Object.create(null);let Xn,Gn;for(Xn of qn)Gn=this[Xn],Gn!==void 0&&(jn[Xn]=Gn);return jn}fallbackToSystemFont(Un){this.missingFile=!0;const{name:qn,type:jn}=this;let Xn=(0,Re.normalizeFontName)(qn);const Gn=(0,Ye.getStdFontMap)(),ri=(0,Ye.getNonStdFontMap)(),ui=!!Gn[Xn],ti=!!(ri[Xn]&&Gn[ri[Xn]]);Xn=Gn[Xn]||ri[Xn]||Xn;const Qn=(0,Ge.getFontBasicMetrics)()[Xn];Qn&&(isNaN(this.ascent)&&(this.ascent=Qn.ascent/He),isNaN(this.descent)&&(this.descent=Qn.descent/He),isNaN(this.capHeight)&&(this.capHeight=Qn.capHeight/He)),this.bold=/bold/gi.test(Xn),this.italic=/oblique|italic/gi.test(Xn),this.black=/Black/g.test(qn);const ci=/Narrow/g.test(qn);if(this.remeasure=(!ui||ci)&&Object.keys(this.widths).length>0,(ui||ti)&&jn==="CIDFontType2"&&this.cidEncoding.startsWith("Identity-")){const pi=Un.cidToGidMap,ki=[];if(Sn(ki,(0,Ye.getGlyphMapForStandardFonts)()),/Arial-?Black/i.test(qn)?Sn(ki,(0,Ye.getSupplementalGlyphMapForArialBlack)()):/Calibri/i.test(qn)&&Sn(ki,(0,Ye.getSupplementalGlyphMapForCalibri)()),pi){for(const hi in ki){const si=ki[hi];pi[si]!==void 0&&(ki[+hi]=pi[si])}pi.length!==this.toUnicode.length&&Un.hasIncludedToUnicodeMap&&this.toUnicode instanceof en.IdentityToUnicodeMap&&this.toUnicode.forEach(function(hi,si){const ai=ki[hi];pi[ai]===void 0&&(ki[+hi]=si)})}this.toUnicode instanceof en.IdentityToUnicodeMap||this.toUnicode.forEach(function(hi,si){ki[+hi]=si}),this.toFontChar=ki,this.toUnicode=new en.ToUnicodeMap(ki)}else if(/Symbol/i.test(Xn))this.toFontChar=_n(Te.SymbolSetEncoding,(0,t.getGlyphsUnicode)(),this.differences);else if(/Dingbats/i.test(Xn))this.toFontChar=_n(Te.ZapfDingbatsEncoding,(0,t.getDingbatsGlyphsUnicode)(),this.differences);else if(ui){const pi=_n(this.defaultEncoding,(0,t.getGlyphsUnicode)(),this.differences);jn==="CIDFontType2"&&!this.cidEncoding.startsWith("Identity-")&&!(this.toUnicode instanceof en.IdentityToUnicodeMap)&&this.toUnicode.forEach(function(ki,hi){pi[+ki]=hi}),this.toFontChar=pi}else{const pi=(0,t.getGlyphsUnicode)(),ki=[];this.toUnicode.forEach((hi,si)=>{if(!this.composite){const ai=this.differences[hi]||this.defaultEncoding[hi],li=(0,e.getUnicodeForGlyph)(ai,pi);li!==-1&&(si=li)}ki[+hi]=si}),this.composite&&this.toUnicode instanceof en.IdentityToUnicodeMap&&/Tahoma|Verdana/i.test(qn)&&Sn(ki,(0,Ye.getGlyphMapForStandardFonts)()),this.toFontChar=ki}tn(Un),this.loadedName=Xn.split("-")[0]}checkAndRepair(Un,qn,jn){const Xn=["OS/2","cmap","head","hhea","hmtx","maxp","name","post","loca","glyf","fpgm","prep","cvt ","CFF "];function Gn(Mi,Ri){const Ui=Object.create(null);Ui["OS/2"]=null,Ui.cmap=null,Ui.head=null,Ui.hhea=null,Ui.hmtx=null,Ui.maxp=null,Ui.name=null,Ui.post=null;for(let Bi=0;Bi<Ri;Bi++){const Ji=ri(Mi);Xn.includes(Ji.tag)&&Ji.length!==0&&(Ui[Ji.tag]=Ji)}return Ui}function ri(Mi){const Ri=Mi.getString(4),Ui=Mi.getInt32()>>>0,Bi=Mi.getInt32()>>>0,Ji=Mi.getInt32()>>>0,or=Mi.pos;Mi.pos=Mi.start||0,Mi.skip(Bi);const ur=Mi.getBytes(Ji);return Mi.pos=or,Ri==="head"&&(ur[8]=ur[9]=ur[10]=ur[11]=0,ur[17]|=32),{tag:Ri,checksum:Ui,length:Ji,offset:Bi,data:ur}}function ui(Mi){return{version:Mi.getString(4),numTables:Mi.getUint16(),searchRange:Mi.getUint16(),entrySelector:Mi.getUint16(),rangeShift:Mi.getUint16()}}function ti(Mi){const Ri=Mi.getString(4);(0,xe.assert)(Ri==="ttcf","Must be a TrueType Collection font.");const Ui=Mi.getUint16(),Bi=Mi.getUint16(),Ji=Mi.getInt32()>>>0,or=[];for(let Li=0;Li<Ji;Li++)or.push(Mi.getInt32()>>>0);const ur={ttcTag:Ri,majorVersion:Ui,minorVersion:Bi,numFonts:Ji,offsetTable:or};switch(Ui){case 1:return ur;case 2:return ur.dsigTag=Mi.getInt32()>>>0,ur.dsigLength=Mi.getInt32()>>>0,ur.dsigOffset=Mi.getInt32()>>>0,ur}throw new xe.FormatError(`Invalid TrueType Collection majorVersion: ${Ui}.`)}function Yn(Mi,Ri){const{numFonts:Ui,offsetTable:Bi}=ti(Mi),Ji=Ri.split("+");let or;for(let ur=0;ur<Ui;ur++){Mi.pos=(Mi.start||0)+Bi[ur];const Li=ui(Mi),Er=Gn(Mi,Li.numTables);if(!Er.name)throw new xe.FormatError('TrueType Collection font must contain a "name" table.');const[br]=ai(Er.name);for(let $r=0,_r=br.length;$r<_r;$r++)for(let Fr=0,Ir=br[$r].length;Fr<Ir;Fr++){const cr=br[$r][Fr]?.replaceAll(/\s/g,"");if(cr){if(cr===Ri)return{header:Li,tables:Er};if(!(Ji.length<2))for(const yr of Ji)cr===yr&&(or={name:yr,header:Li,tables:Er})}}}if(or)return(0,xe.warn)(`TrueType Collection does not contain "${Ri}" font, falling back to "${or.name}" font instead.`),{header:or.header,tables:or.tables};throw new xe.FormatError(`TrueType Collection does not contain "${Ri}" font.`)}function Qn(Mi,Ri,Ui,Bi){if(!Mi)return(0,xe.warn)("No cmap table available."),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};let Ji,or=(Ri.start||0)+Mi.offset;Ri.pos=or,Ri.skip(2);const ur=Ri.getUint16();let Li,Er=!1;for(let cr=0;cr<ur;cr++){const yr=Ri.getUint16(),er=Ri.getUint16(),Dr=Ri.getInt32()>>>0;let Gr=!1;if(!(Li?.platformId===yr&&Li?.encodingId===er)){if(yr===0&&(er===0||er===1||er===3))Gr=!0;else if(yr===1&&er===0)Gr=!0;else if(yr===3&&er===1&&(Bi||!Li))Gr=!0,Ui||(Er=!0);else if(Ui&&yr===3&&er===0){Gr=!0;let Ea=!0;if(cr<ur-1){const Tr=Ri.peekBytes(2);De(Tr[0],Tr[1])<yr&&(Ea=!1)}Ea&&(Er=!0)}if(Gr&&(Li={platformId:yr,encodingId:er,offset:Dr}),Er)break}}if(Li&&(Ri.pos=or+Li.offset),!Li||Ri.peekByte()===-1)return(0,xe.warn)("Could not find a preferred cmap table."),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};const br=Ri.getUint16();let $r=!1;const _r=[];let Fr,Ir;if(br===0){for(Ri.skip(4),Fr=0;Fr<256;Fr++){const cr=Ri.getByte();cr&&_r.push({charCode:Fr,glyphId:cr})}$r=!0}else if(br===2){Ri.skip(4);const cr=[];let yr=0;for(let Dr=0;Dr<256;Dr++){const Gr=Ri.getUint16()>>3;cr.push(Gr),yr=Math.max(Gr,yr)}const er=[];for(let Dr=0;Dr<=yr;Dr++)er.push({firstCode:Ri.getUint16(),entryCount:Ri.getUint16(),idDelta:We(Ri.getByte(),Ri.getByte()),idRangePos:Ri.pos+Ri.getUint16()});for(let Dr=0;Dr<256;Dr++)if(cr[Dr]===0)Ri.pos=er[0].idRangePos+2*Dr,Ir=Ri.getUint16(),_r.push({charCode:Dr,glyphId:Ir});else{const Gr=er[cr[Dr]];for(Fr=0;Fr<Gr.entryCount;Fr++){const Ea=(Dr<<8)+Fr+Gr.firstCode;Ri.pos=Gr.idRangePos+2*Fr,Ir=Ri.getUint16(),Ir!==0&&(Ir=(Ir+Gr.idDelta)%65536),_r.push({charCode:Ea,glyphId:Ir})}}}else if(br===4){Ri.skip(4);const cr=Ri.getUint16()>>1;Ri.skip(6);const yr=[];let er;for(er=0;er<cr;er++)yr.push({end:Ri.getUint16()});for(Ri.skip(2),er=0;er<cr;er++)yr[er].start=Ri.getUint16();for(er=0;er<cr;er++)yr[er].delta=Ri.getUint16();let Dr=0,Gr;for(er=0;er<cr;er++){Ji=yr[er];const Tr=Ri.getUint16();if(!Tr){Ji.offsetIndex=-1;continue}Gr=(Tr>>1)-(cr-er),Ji.offsetIndex=Gr,Dr=Math.max(Dr,Gr+Ji.end-Ji.start+1)}const Ea=[];for(Fr=0;Fr<Dr;Fr++)Ea.push(Ri.getUint16());for(er=0;er<cr;er++){Ji=yr[er],or=Ji.start;const Tr=Ji.end,Rr=Ji.delta;for(Gr=Ji.offsetIndex,Fr=or;Fr<=Tr;Fr++)Fr!==65535&&(Ir=Gr<0?Fr:Ea[Gr+Fr-or],Ir=Ir+Rr&65535,_r.push({charCode:Fr,glyphId:Ir}))}}else if(br===6){Ri.skip(4);const cr=Ri.getUint16(),yr=Ri.getUint16();for(Fr=0;Fr<yr;Fr++){Ir=Ri.getUint16();const er=cr+Fr;_r.push({charCode:er,glyphId:Ir})}}else if(br===12){Ri.skip(10);const cr=Ri.getInt32()>>>0;for(Fr=0;Fr<cr;Fr++){const yr=Ri.getInt32()>>>0,er=Ri.getInt32()>>>0;let Dr=Ri.getInt32()>>>0;for(let Gr=yr;Gr<=er;Gr++)_r.push({charCode:Gr,glyphId:Dr++})}}else return(0,xe.warn)("cmap table has unsupported format: "+br),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};_r.sort(function(cr,yr){return cr.charCode-yr.charCode});for(let cr=1;cr<_r.length;cr++)_r[cr-1].charCode===_r[cr].charCode&&(_r.splice(cr,1),cr--);return{platformId:Li.platformId,encodingId:Li.encodingId,mappings:_r,hasShortCmap:$r}}function ci(Mi,Ri,Ui,Bi,Ji,or){if(!Ri){Ui&&(Ui.data=null);return}Mi.pos=(Mi.start||0)+Ri.offset,Mi.pos+=4,Mi.pos+=2,Mi.pos+=2,Mi.pos+=2,Mi.pos+=2,Mi.pos+=2,Mi.pos+=2,Mi.pos+=2,Mi.pos+=2,Mi.pos+=2;const ur=Mi.getUint16();Mi.pos+=8,Mi.pos+=2;let Li=Mi.getUint16();ur!==0&&(De(Bi.data[44],Bi.data[45])&2||(Ri.data[22]=0,Ri.data[23]=0)),Li>Ji&&((0,xe.info)(`The numOfMetrics (${Li}) should not be greater than the numGlyphs (${Ji}).`),Li=Ji,Ri.data[34]=(Li&65280)>>8,Ri.data[35]=Li&255);const br=Ji-Li-(Ui.length-Li*4>>1);if(br>0){const $r=new Uint8Array(Ui.length+br*2);$r.set(Ui.data),or&&($r[Ui.length]=Ui.data[2],$r[Ui.length+1]=Ui.data[3]),Ui.data=$r}}function pi(Mi,Ri,Ui,Bi,Ji,or){const ur={length:0,sizeOfInstructions:0};if(Ri<0||Ri>=Mi.length||Ui>Mi.length||Ui-Ri<=12)return ur;const Li=Mi.subarray(Ri,Ui),Er=We(Li[2],Li[3]),br=We(Li[4],Li[5]),$r=We(Li[6],Li[7]),_r=We(Li[8],Li[9]);Er>$r&&(Ue(Li,2,$r),Ue(Li,6,Er)),br>_r&&(Ue(Li,4,_r),Ue(Li,8,br));const Fr=We(Li[0],Li[1]);if(Fr<0)return Fr<-1||(Bi.set(Li,Ji),ur.length=Li.length),ur;let Ir,cr=10,yr=0;for(Ir=0;Ir<Fr;Ir++)yr=(Li[cr]<<8|Li[cr+1])+1,cr+=2;const er=cr,Dr=Li[cr]<<8|Li[cr+1];ur.sizeOfInstructions=Dr,cr+=2+Dr;const Gr=cr;let Ea=0;for(Ir=0;Ir<yr;Ir++){const Rr=Li[cr++];Rr&192&&(Li[cr-1]=Rr&63);let Zr=2;Rr&2?Zr=1:Rr&16&&(Zr=0);let ma=2;Rr&4?ma=1:Rr&32&&(ma=0);const Sa=Zr+ma;if(Ea+=Sa,Rr&8){const ys=Li[cr++];ys===0&&(Li[cr-1]^=8),Ir+=ys,Ea+=ys*Sa}}if(Ea===0)return ur;let Tr=cr+Ea;return Tr>Li.length?ur:!or&&Dr>0?(Bi.set(Li.subarray(0,er),Ji),Bi.set([0,0],Ji+er),Bi.set(Li.subarray(Gr,Tr),Ji+er+2),Tr-=Dr,Li.length-Tr>3&&(Tr=Tr+3&-4),ur.length=Tr,ur):Li.length-Tr>3?(Tr=Tr+3&-4,Bi.set(Li.subarray(0,Tr),Ji),ur.length=Tr,ur):(Bi.set(Li,Ji),ur.length=Li.length,ur)}function ki(Mi,Ri,Ui){const Bi=Mi.data,Ji=$e(Bi[0],Bi[1],Bi[2],Bi[3]);Ji>>16!==1&&((0,xe.info)("Attempting to fix invalid version in head table: "+Ji),Bi[0]=0,Bi[1]=1,Bi[2]=0,Bi[3]=0);const or=De(Bi[50],Bi[51]);if(or<0||or>1){(0,xe.info)("Attempting to fix invalid indexToLocFormat in head table: "+or);const ur=Ri+1;if(Ui===ur<<1)Bi[50]=0,Bi[51]=0;else if(Ui===ur<<2)Bi[50]=0,Bi[51]=1;else throw new xe.FormatError("Could not fix indexToLocFormat: "+or)}}function hi(Mi,Ri,Ui,Bi,Ji,or,ur){let Li,Er,br;Bi?(Li=4,Er=function(Zr,ma){return Zr[ma]<<24|Zr[ma+1]<<16|Zr[ma+2]<<8|Zr[ma+3]},br=function(Zr,ma,Sa){Zr[ma]=Sa>>>24&255,Zr[ma+1]=Sa>>16&255,Zr[ma+2]=Sa>>8&255,Zr[ma+3]=Sa&255}):(Li=2,Er=function(Zr,ma){return Zr[ma]<<9|Zr[ma+1]<<1},br=function(Zr,ma,Sa){Zr[ma]=Sa>>9&255,Zr[ma+1]=Sa>>1&255});const $r=or?Ui+1:Ui,_r=Li*(1+$r),Fr=new Uint8Array(_r);Fr.set(Mi.data.subarray(0,_r)),Mi.data=Fr;const Ir=Ri.data,cr=Ir.length,yr=new Uint8Array(cr);let er,Dr;const Gr=[];for(er=0,Dr=0;er<Ui+1;er++,Dr+=Li){let Rr=Er(Fr,Dr);Rr>cr&&(Rr=cr),Gr.push({index:er,offset:Rr,endOffset:0})}for(Gr.sort((Rr,Zr)=>Rr.offset-Zr.offset),er=0;er<Ui;er++)Gr[er].endOffset=Gr[er+1].offset;for(Gr.sort((Rr,Zr)=>Rr.index-Zr.index),er=0;er<Ui;er++){const{offset:Rr,endOffset:Zr}=Gr[er];if(Rr!==0||Zr!==0)break;const ma=Gr[er+1].offset;if(ma!==0){Gr[er].endOffset=ma;break}}const Ea=Object.create(null);let Tr=0;for(br(Fr,0,Tr),er=0,Dr=Li;er<Ui;er++,Dr+=Li){const Rr=pi(Ir,Gr[er].offset,Gr[er].endOffset,yr,Tr,Ji),Zr=Rr.length;Zr===0&&(Ea[er]=!0),Rr.sizeOfInstructions>ur&&(ur=Rr.sizeOfInstructions),Tr+=Zr,br(Fr,Dr,Tr)}if(Tr===0){const Rr=new Uint8Array([0,1,0,0,0,0,0,0,0,0,0,0,0,0,49,0]);for(er=0,Dr=Li;er<$r;er++,Dr+=Li)br(Fr,Dr,Rr.length);Ri.data=Rr}else if(or){const Rr=Er(Fr,Li);yr.length>Rr+Tr?Ri.data=yr.subarray(0,Rr+Tr):(Ri.data=new Uint8Array(Rr+Tr),Ri.data.set(yr.subarray(0,Tr))),Ri.data.set(yr.subarray(0,Rr),Tr),br(Mi.data,Fr.length-Li,Tr+Rr)}else Ri.data=yr.subarray(0,Tr);return{missingGlyphs:Ea,maxSizeOfInstructions:ur}}function si(Mi,Ri,Ui){const Bi=(qn.start||0)+Mi.offset;qn.pos=Bi;const Ji=Mi.length,or=Bi+Ji,ur=qn.getInt32();qn.skip(28);let Li,Er=!0,br;switch(ur){case 65536:Li=Re.MacStandardGlyphOrdering;break;case 131072:const $r=qn.getUint16();if($r!==Ui){Er=!1;break}const _r=[];for(br=0;br<$r;++br){const cr=qn.getUint16();if(cr>=32768){Er=!1;break}_r.push(cr)}if(!Er)break;const Fr=[],Ir=[];for(;qn.pos<or;){const cr=qn.getByte();for(Ir.length=cr,br=0;br<cr;++br)Ir[br]=String.fromCharCode(qn.getByte());Fr.push(Ir.join(""))}for(Li=[],br=0;br<$r;++br){const cr=_r[br];if(cr<258){Li.push(Re.MacStandardGlyphOrdering[cr]);continue}Li.push(Fr[cr-258])}break;case 196608:break;default:(0,xe.warn)("Unknown/unsupported post table version "+ur),Er=!1,Ri.defaultEncoding&&(Li=Ri.defaultEncoding);break}return Ri.glyphNames=Li,Er}function ai(Mi){const Ri=(qn.start||0)+Mi.offset;qn.pos=Ri;const Ui=[[],[]],Bi=[],Ji=Mi.length,or=Ri+Ji;if(qn.getUint16()!==0||Ji<6)return[Ui,Bi];const Er=qn.getUint16(),br=qn.getUint16(),$r=12;let _r,Fr;for(_r=0;_r<Er&&qn.pos+$r<=or;_r++){const Ir={platform:qn.getUint16(),encoding:qn.getUint16(),language:qn.getUint16(),name:qn.getUint16(),length:qn.getUint16(),offset:qn.getUint16()};(wn(Ir)||Nn(Ir))&&Bi.push(Ir)}for(_r=0,Fr=Bi.length;_r<Fr;_r++){const Ir=Bi[_r];if(Ir.length<=0)continue;const cr=Ri+br+Ir.offset;if(cr+Ir.length>or)continue;qn.pos=cr;const yr=Ir.name;if(Ir.encoding){let er="";for(let Dr=0,Gr=Ir.length;Dr<Gr;Dr+=2)er+=String.fromCharCode(qn.getUint16());Ui[1][yr]=er}else Ui[0][yr]=qn.getString(Ir.length)}return[Ui,Bi]}const li=[0,0,0,0,0,0,0,0,-2,-2,-2,-2,0,0,-2,-5,-1,-1,-1,-1,-1,-1,-1,-1,0,0,-1,0,-1,-1,-1,-1,1,-1,-999,0,1,0,-1,-2,0,-1,-2,-1,-1,0,-1,-1,0,0,-999,-999,-1,-1,-1,-1,-2,-999,-2,-2,-999,0,-2,-2,0,0,-2,0,-2,0,0,0,-2,-1,-1,1,1,0,0,-1,-1,-1,-1,-1,-1,-1,0,0,-1,0,-1,-1,0,-999,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,0,0,0,0,0,-2,-999,-999,-999,-999,-999,-1,-1,-2,-2,0,0,0,0,-1,-1,-999,-2,-2,0,0,-1,-2,-2,0,0,0,-1,-1,-1,-2];function Ei(Mi,Ri){let Ui=Mi.data,Bi=0,Ji,or,ur,Li,Er,br=0,$r=0;const _r=[],Fr=[],Ir=[];let cr=Ri.tooComplexToFollowFunctions,yr=!1,er=0,Dr=0;for(let Ea=Ui.length;Bi<Ea;){const Tr=Ui[Bi++];if(Tr===64)if(or=Ui[Bi++],yr||Dr)Bi+=or;else for(Ji=0;Ji<or;Ji++)_r.push(Ui[Bi++]);else if(Tr===65)if(or=Ui[Bi++],yr||Dr)Bi+=or*2;else for(Ji=0;Ji<or;Ji++)ur=Ui[Bi++],_r.push(ur<<8|Ui[Bi++]);else if((Tr&248)===176)if(or=Tr-176+1,yr||Dr)Bi+=or;else for(Ji=0;Ji<or;Ji++)_r.push(Ui[Bi++]);else if((Tr&248)===184)if(or=Tr-184+1,yr||Dr)Bi+=or*2;else for(Ji=0;Ji<or;Ji++)ur=Ui[Bi++],_r.push(ur<<8|Ui[Bi++]);else if(Tr===43&&!cr){if(!yr&&!Dr){if(Li=_r.at(-1),isNaN(Li))(0,xe.info)("TT: CALL empty stack (or invalid entry).");else if(Ri.functionsUsed[Li]=!0,Li in Ri.functionsStackDeltas){const Rr=_r.length+Ri.functionsStackDeltas[Li];if(Rr<0){(0,xe.warn)("TT: CALL invalid functions stack delta."),Ri.hintsValid=!1;return}_r.length=Rr}else if(Li in Ri.functionsDefined&&!Ir.includes(Li)){if(Fr.push({data:Ui,i:Bi,stackTop:_r.length-1}),Ir.push(Li),Er=Ri.functionsDefined[Li],!Er){(0,xe.warn)("TT: CALL non-existent function"),Ri.hintsValid=!1;return}Ui=Er.data,Bi=Er.i}}}else if(Tr===44&&!cr)(yr||Dr)&&((0,xe.warn)("TT: nested FDEFs not allowed"),cr=!0),yr=!0,$r=Bi,Li=_r.pop(),Ri.functionsDefined[Li]={data:Ui,i:Bi};else if(Tr===45)if(yr)yr=!1,br=Bi;else{if(Er=Fr.pop(),!Er){(0,xe.warn)("TT: ENDF bad stack"),Ri.hintsValid=!1;return}Li=Ir.pop(),Ui=Er.data,Bi=Er.i,Ri.functionsStackDeltas[Li]=_r.length-Er.stackTop}else if(Tr===137)(yr||Dr)&&((0,xe.warn)("TT: nested IDEFs not allowed"),cr=!0),yr=!0,$r=Bi;else if(Tr===88)++er;else if(Tr===27)Dr=er;else if(Tr===89)Dr===er&&(Dr=0),--er;else if(Tr===28&&!yr&&!Dr){const Rr=_r.at(-1);Rr>0&&(Bi+=Rr-1)}if(!yr&&!Dr){let Rr=0;for(Tr<=142?Rr=li[Tr]:Tr>=192&&Tr<=223?Rr=-1:Tr>=224&&(Rr=-2),Tr>=113&&Tr<=117&&(or=_r.pop(),isNaN(or)||(Rr=-or*2));Rr<0&&_r.length>0;)_r.pop(),Rr++;for(;Rr>0;)_r.push(NaN),Rr--}}Ri.tooComplexToFollowFunctions=cr;const Gr=[Ui];Bi>Ui.length&&Gr.push(new Uint8Array(Bi-Ui.length)),$r>br&&((0,xe.warn)("TT: complementing a missing function tail"),Gr.push(new Uint8Array([34,45]))),Qi(Mi,Gr)}function $i(Mi,Ri){if(!Mi.tooComplexToFollowFunctions){if(Mi.functionsDefined.length>Ri){(0,xe.warn)("TT: more functions defined than expected"),Mi.hintsValid=!1;return}for(let Ui=0,Bi=Mi.functionsUsed.length;Ui<Bi;Ui++){if(Ui>Ri){(0,xe.warn)("TT: invalid function id: "+Ui),Mi.hintsValid=!1;return}if(Mi.functionsUsed[Ui]&&!Mi.functionsDefined[Ui]){(0,xe.warn)("TT: undefined function: "+Ui),Mi.hintsValid=!1;return}}}}function Qi(Mi,Ri){if(Ri.length>1){let Ui=0,Bi,Ji;for(Bi=0,Ji=Ri.length;Bi<Ji;Bi++)Ui+=Ri[Bi].length;Ui=Ui+3&-4;const or=new Uint8Array(Ui);let ur=0;for(Bi=0,Ji=Ri.length;Bi<Ji;Bi++)or.set(Ri[Bi],ur),ur+=Ri[Bi].length;Mi.data=or,Mi.length=Ui}}function fr(Mi,Ri,Ui,Bi){const Ji={functionsDefined:[],functionsUsed:[],functionsStackDeltas:[],tooComplexToFollowFunctions:!1,hintsValid:!0};if(Mi&&Ei(Mi,Ji),Ri&&Ei(Ri,Ji),Mi&&$i(Ji,Bi),Ui&&Ui.length&1){const or=new Uint8Array(Ui.length+1);or.set(Ui.data),Ui.data=or}return Ji.hintsValid}qn=new un.Stream(new Uint8Array(qn.getBytes()));let ar,Ii;if(Ke(qn)){const Mi=Yn(qn,this.name);ar=Mi.header,Ii=Mi.tables}else ar=ui(qn),Ii=Gn(qn,ar.numTables);let vi,rr;const dr=!Ii["CFF "];if(dr){if(!Ii.loca)throw new xe.FormatError('Required "loca" table is not found');Ii.glyf||((0,xe.warn)('Required "glyf" table is not found -- trying to recover.'),Ii.glyf={tag:"glyf",data:new Uint8Array(0)}),this.isOpenType=!1}else{const Mi=jn.composite&&(jn.cidToGidMap?.length>0||!(jn.cMap instanceof Ce.IdentityCMap));if(ar.version==="OTTO"&&!Mi||!Ii.head||!Ii.hhea||!Ii.maxp||!Ii.post)return rr=new un.Stream(Ii["CFF "].data),vi=new je.CFFFont(rr,jn),fn(jn),this.convert(Un,vi,jn);delete Ii.glyf,delete Ii.loca,delete Ii.fpgm,delete Ii.prep,delete Ii["cvt "],this.isOpenType=!0}if(!Ii.maxp)throw new xe.FormatError('Required "maxp" table is not found');qn.pos=(qn.start||0)+Ii.maxp.offset;const Xi=qn.getInt32(),Gi=qn.getUint16();if(jn.scaleFactors?.length===Gi&&dr){const{scaleFactors:Mi}=jn,Ri=De(Ii.head.data[50],Ii.head.data[51]),Ui=new Oe.GlyfTable({glyfTable:Ii.glyf.data,isGlyphLocationsLong:Ri,locaTable:Ii.loca.data,numGlyphs:Gi});Ui.scale(Mi);const{glyf:Bi,loca:Ji,isLocationLong:or}=Ui.write();Ii.glyf.data=Bi,Ii.loca.data=Ji,or!==!!Ri&&(Ii.head.data[50]=0,Ii.head.data[51]=or?1:0);const ur=Ii.hmtx.data;for(let Li=0;Li<Gi;Li++){const Er=4*Li,br=Math.round(Mi[Li]*De(ur[Er],ur[Er+1]));ur[Er]=br>>8&255,ur[Er+1]=br&255;const $r=Math.round(Mi[Li]*We(ur[Er+2],ur[Er+3]));Ue(ur,Er+2,$r)}}let Yi=Gi+1,Nr=!0;Yi>65535&&(Nr=!1,Yi=Gi,(0,xe.warn)("Not enough space in glyfs to duplicate first glyph."));let ha=0,sr=0;Xi>=65536&&Ii.maxp.length>=22&&(qn.pos+=8,qn.getUint16()>2&&(Ii.maxp.data[14]=0,Ii.maxp.data[15]=2),qn.pos+=4,ha=qn.getUint16(),qn.pos+=4,sr=qn.getUint16()),Ii.maxp.data[4]=Yi>>8,Ii.maxp.data[5]=Yi&255;const xr=fr(Ii.fpgm,Ii.prep,Ii["cvt "],ha);if(xr||(delete Ii.fpgm,delete Ii.prep,delete Ii["cvt "]),ci(qn,Ii.hhea,Ii.hmtx,Ii.head,Yi,Nr),!Ii.head)throw new xe.FormatError('Required "head" table is not found');ki(Ii.head,Gi,dr?Ii.loca.length:0);let Zi=Object.create(null);if(dr){const Mi=De(Ii.head.data[50],Ii.head.data[51]),Ri=hi(Ii.loca,Ii.glyf,Gi,Mi,xr,Nr,sr);Zi=Ri.missingGlyphs,Xi>=65536&&Ii.maxp.length>=22&&(Ii.maxp.data[26]=Ri.maxSizeOfInstructions>>8,Ii.maxp.data[27]=Ri.maxSizeOfInstructions&255)}if(!Ii.hhea)throw new xe.FormatError('Required "hhea" table is not found');Ii.hhea.data[10]===0&&Ii.hhea.data[11]===0&&(Ii.hhea.data[10]=255,Ii.hhea.data[11]=255);const Ar={unitsPerEm:De(Ii.head.data[18],Ii.head.data[19]),yMax:We(Ii.head.data[42],Ii.head.data[43]),yMin:We(Ii.head.data[38],Ii.head.data[39]),ascent:We(Ii.hhea.data[4],Ii.hhea.data[5]),descent:We(Ii.hhea.data[6],Ii.hhea.data[7]),lineGap:We(Ii.hhea.data[8],Ii.hhea.data[9])};this.ascent=Ar.ascent/Ar.unitsPerEm,this.descent=Ar.descent/Ar.unitsPerEm,this.lineGap=Ar.lineGap/Ar.unitsPerEm,this.cssFontInfo?.lineHeight?(this.lineHeight=this.cssFontInfo.metrics.lineHeight,this.lineGap=this.cssFontInfo.metrics.lineGap):this.lineHeight=this.ascent-this.descent+this.lineGap,Ii.post&&si(Ii.post,jn,Gi),Ii.post={tag:"post",data:En(jn)};const Hr=[];function Xr(Mi){return!Zi[Mi]}if(jn.composite){const Mi=jn.cidToGidMap||[],Ri=Mi.length===0;jn.cMap.forEach(function(Ui,Bi){if(typeof Bi=="string"&&(Bi=Tn(Ui,Bi,!0)),Bi>65535)throw new xe.FormatError("Max size of CID is 65,535");let Ji=-1;Ri?Ji=Bi:Mi[Bi]!==void 0&&(Ji=Mi[Bi]),Ji>=0&&Ji<Gi&&Xr(Ji)&&(Hr[Ui]=Ji)})}else{const Mi=Qn(Ii.cmap,qn,this.isSymbolicFont,jn.hasEncoding),Ri=Mi.platformId,Ui=Mi.encodingId,Bi=Mi.mappings;let Ji=[],or=!1;if(jn.hasEncoding&&(jn.baseEncodingName==="MacRomanEncoding"||jn.baseEncodingName==="WinAnsiEncoding")&&(Ji=(0,Te.getEncoding)(jn.baseEncodingName)),jn.hasEncoding&&!this.isSymbolicFont&&(Ri===3&&Ui===1||Ri===1&&Ui===0)){const ur=(0,t.getGlyphsUnicode)();for(let Li=0;Li<256;Li++){let Er;if(this.differences[Li]!==void 0?Er=this.differences[Li]:Ji.length&&Ji[Li]!==""?Er=Ji[Li]:Er=Te.StandardEncoding[Li],!Er)continue;const br=(0,Re.recoverGlyphName)(Er,ur);let $r;if(Ri===3&&Ui===1?$r=ur[br]:Ri===1&&Ui===0&&($r=Te.MacRomanEncoding.indexOf(br)),$r===void 0){if(!jn.glyphNames&&jn.hasIncludedToUnicodeMap&&!(this.toUnicode instanceof en.IdentityToUnicodeMap)){const _r=this.toUnicode.get(Li);_r&&($r=_r.codePointAt(0))}if($r===void 0)continue}for(const _r of Bi)if(_r.charCode===$r){Hr[Li]=_r.glyphId;break}}}else if(Ri===0){for(const ur of Bi)Hr[ur.charCode]=ur.glyphId;or=!0}else for(const ur of Bi){let Li=ur.charCode;Ri===3&&Li>=61440&&Li<=61695&&(Li&=255),Hr[Li]=ur.glyphId}if(jn.glyphNames&&(Ji.length||this.differences.length))for(let ur=0;ur<256;++ur){if(!or&&Hr[ur]!==void 0)continue;const Li=this.differences[ur]||Ji[ur];if(!Li)continue;const Er=jn.glyphNames.indexOf(Li);Er>0&&Xr(Er)&&(Hr[ur]=Er)}}Hr.length===0&&(Hr[0]=0);let kr=Yi-1;if(Nr||(kr=0),!jn.cssFontInfo){const Mi=Cn(Hr,Xr,kr,this.toUnicode);this.toFontChar=Mi.toFontChar,Ii.cmap={tag:"cmap",data:Rn(Mi.charCodeToGlyphId,Mi.toUnicodeExtraMap,Yi)},(!Ii["OS/2"]||!bn(Ii["OS/2"],qn))&&(Ii["OS/2"]={tag:"OS/2",data:kn(jn,Mi.charCodeToGlyphId,Ar)})}if(!dr)try{rr=new un.Stream(Ii["CFF "].data),vi=new Ie.CFFParser(rr,jn,Re.SEAC_ANALYSIS_ENABLED).parse(),vi.duplicateFirstGlyph();const Ri=new Ie.CFFCompiler(vi);Ii["CFF "].data=Ri.compile()}catch{(0,xe.warn)("Failed to compile font "+jn.loadedName)}if(!Ii.name)Ii.name={tag:"name",data:Mn(this.name)};else{const[Mi,Ri]=ai(Ii.name);Ii.name.data=Mn(Un,Mi),this.psName=Mi[0][6]||null,jn.composite||dn(jn,this.isSymbolicFont,Ri)}const da=new St.OpenTypeFileBuilder(ar.version);for(const Mi in Ii)da.addTable(Mi,Ii[Mi].data);return da.toArray()}convert(Un,qn,jn){jn.fixedPitch=!1,jn.builtInEncoding&&qe(jn,jn.builtInEncoding);let Xn=1;qn instanceof je.CFFFont&&(Xn=qn.numGlyphs-1);const Gn=qn.getGlyphMapping(jn);let ri=null,ui=Gn,ti=null;jn.cssFontInfo||(ri=Cn(Gn,qn.hasGlyphId.bind(qn),Xn,this.toUnicode),this.toFontChar=ri.toFontChar,ui=ri.charCodeToGlyphId,ti=ri.toUnicodeExtraMap);const Yn=qn.numGlyphs;function Qn(si,ai){let li=null;for(const Ei in si)ai===si[Ei]&&(li||=[]).push(Ei|0);return li}function ci(si,ai){for(const li in si)if(ai===si[li])return li|0;return ri.charCodeToGlyphId[ri.nextAvailableFontCharCode]=ai,ri.nextAvailableFontCharCode++}const pi=qn.seacs;if(ri&&Re.SEAC_ANALYSIS_ENABLED&&pi?.length){const si=jn.fontMatrix||xe.FONT_IDENTITY_MATRIX,ai=qn.getCharset(),li=Object.create(null);for(let Ei in pi){Ei|=0;const $i=pi[Ei],Qi=Te.StandardEncoding[$i[2]],fr=Te.StandardEncoding[$i[3]],ar=ai.indexOf(Qi),Ii=ai.indexOf(fr);if(ar<0||Ii<0)continue;const vi={x:$i[0]*si[0]+$i[1]*si[2]+si[4],y:$i[0]*si[1]+$i[1]*si[3]+si[5]},rr=Qn(Gn,Ei);if(rr)for(const dr of rr){const Xi=ri.charCodeToGlyphId,Gi=ci(Xi,ar),Yi=ci(Xi,Ii);li[dr]={baseFontCharCode:Gi,accentFontCharCode:Yi,accentOffset:vi}}}jn.seacMap=li}const ki=1/(jn.fontMatrix||xe.FONT_IDENTITY_MATRIX)[0],hi=new St.OpenTypeFileBuilder("OTTO");return hi.addTable("CFF ",qn.data),hi.addTable("OS/2",kn(jn,ui)),hi.addTable("cmap",Rn(ui,ti,Yn)),hi.addTable("head","\0\0\0\0\0\0\0\0\0\0_<õ\0\0"+Je(ki)+"\0\0\0\0\v~'\0\0\0\0\v~'\0\0"+Je(jn.descent)+"ÿ"+Je(jn.ascent)+on(jn.italicAngle?2:0)+"\0\0\0\0\0\0\0"),hi.addTable("hhea","\0\0\0"+Je(jn.ascent)+Je(jn.descent)+"\0\0ÿÿ\0\0\0\0\0\0"+Je(jn.capHeight)+Je(Math.tan(jn.italicAngle)*jn.xHeight)+"\0\0\0\0\0\0\0\0\0\0\0\0"+on(Yn)),hi.addTable("hmtx",function(){const ai=qn.charstrings,li=qn.cff?qn.cff.widths:null;let Ei="\0\0\0\0";for(let $i=1,Qi=Yn;$i<Qi;$i++){let fr=0;if(ai){const ar=ai[$i-1];fr="width"in ar?ar.width:0}else li&&(fr=Math.ceil(li[$i]||0));Ei+=on(fr)+on(0)}return Ei}()),hi.addTable("maxp","\0\0P\0"+on(Yn)),hi.addTable("name",Mn(Un)),hi.addTable("post",En(jn)),hi.toArray()}get spaceWidth(){const Un=["space","minus","one","i","I"];let qn;for(const jn of Un){if(jn in this.widths){qn=this.widths[jn];break}const Gn=(0,t.getGlyphsUnicode)()[jn];let ri=0;if(this.composite&&this.cMap.contains(Gn)&&(ri=this.cMap.lookup(Gn),typeof ri=="string"&&(ri=Tn(Gn,ri))),!ri&&this.toUnicode&&(ri=this.toUnicode.charCodeOf(Gn)),ri<=0&&(ri=Gn),qn=this.widths[ri],qn)break}return(0,xe.shadow)(this,"spaceWidth",qn||this.defaultWidth)}_charToGlyph(Un,qn=!1){let jn=this._glyphCache[Un];if(jn?.isSpace===qn)return jn;let Xn,Gn,ri,ui=Un;this.cMap?.contains(Un)&&(ui=this.cMap.lookup(Un),typeof ui=="string"&&(ui=Tn(Un,ui))),Gn=this.widths[ui],typeof Gn!="number"&&(Gn=this.defaultWidth);const ti=this.vmetrics?.[ui];let Yn=this.toUnicode.get(Un)||Un;typeof Yn=="number"&&(Yn=String.fromCharCode(Yn));let Qn=this.toFontChar[Un]!==void 0;if(Xn=this.toFontChar[Un]||Un,this.missingFile){const ki=this.differences[Un]||this.defaultEncoding[Un];(ki===".notdef"||ki==="")&&this.type==="Type1"&&(Xn=32),Xn=(0,e.mapSpecialUnicodeValues)(Xn)}this.isType3Font&&(ri=Xn);let ci=null;if(this.seacMap?.[Un]){Qn=!0;const ki=this.seacMap[Un];Xn=ki.baseFontCharCode,ci={fontChar:String.fromCodePoint(ki.accentFontCharCode),offset:ki.accentOffset}}let pi="";return typeof Xn=="number"&&(Xn<=1114111?pi=String.fromCodePoint(Xn):(0,xe.warn)(`charToGlyph - invalid fontCharCode: ${Xn}`)),jn=new Me(Un,pi,Yn,ci,Gn,ti,ri,qn,Qn),this._glyphCache[Un]=jn}charsToGlyphs(Un){let qn=this._charsCache[Un];if(qn)return qn;if(qn=[],this.cMap){const jn=Object.create(null),Xn=Un.length;let Gn=0;for(;Gn<Xn;){this.cMap.readCharCode(Un,Gn,jn);const{charcode:ri,length:ui}=jn;Gn+=ui;const ti=this._charToGlyph(ri,ui===1&&Un.charCodeAt(Gn-1)===32);qn.push(ti)}}else for(let jn=0,Xn=Un.length;jn<Xn;++jn){const Gn=Un.charCodeAt(jn),ri=this._charToGlyph(Gn,Gn===32);qn.push(ri)}return this._charsCache[Un]=qn}getCharPositions(Un){const qn=[];if(this.cMap){const jn=Object.create(null);let Xn=0;for(;Xn<Un.length;){this.cMap.readCharCode(Un,Xn,jn);const Gn=jn.length;qn.push([Xn,Xn+Gn]),Xn+=Gn}}else for(let jn=0,Xn=Un.length;jn<Xn;++jn)qn.push([jn,jn+1]);return qn}get glyphCacheValues(){return Object.values(this._glyphCache)}encodeString(Un){const qn=[],jn=[],Xn=()=>qn.length%2===1,Gn=this.toUnicode instanceof en.IdentityToUnicodeMap?ri=>this.toUnicode.charCodeOf(ri):ri=>this.toUnicode.charCodeOf(String.fromCodePoint(ri));for(let ri=0,ui=Un.length;ri<ui;ri++){const ti=Un.codePointAt(ri);if(ti>55295&&(ti<57344||ti>65533)&&ri++,this.toUnicode){const Yn=Gn(ti);if(Yn!==-1){Xn()&&(qn.push(jn.join("")),jn.length=0);const Qn=this.cMap?this.cMap.getCharCodeLength(Yn):1;for(let ci=Qn-1;ci>=0;ci--)jn.push(String.fromCharCode(Yn>>8*ci&255));continue}}Xn()||(qn.push(jn.join("")),jn.length=0),jn.push(String.fromCodePoint(ti))}return qn.push(jn.join("")),qn}}_e.Font=Bn;class Hn{constructor(Un){this.error=Un,this.loadedName="g_font_error",this.missingFile=!0}charsToGlyphs(){return[]}encodeString(Un){return[Un]}exportData(Un=!1){return{error:this.error}}}_e.ErrorFont=Hn},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.CFFTopDict=_e.CFFStrings=_e.CFFStandardStrings=_e.CFFPrivateDict=_e.CFFParser=_e.CFFIndex=_e.CFFHeader=_e.CFFFDSelect=_e.CFFCompiler=_e.CFFCharset=_e.CFF=void 0;var xe=ze(2),Ie=ze(36),Re=ze(37);const e=10,t=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"];_e.CFFStandardStrings=t;const Te=391,Ye=[null,{id:"hstem",min:2,stackClearing:!0,stem:!0},null,{id:"vstem",min:2,stackClearing:!0,stem:!0},{id:"vmoveto",min:1,stackClearing:!0},{id:"rlineto",min:2,resetStack:!0},{id:"hlineto",min:1,resetStack:!0},{id:"vlineto",min:1,resetStack:!0},{id:"rrcurveto",min:6,resetStack:!0},null,{id:"callsubr",min:1,undefStack:!0},{id:"return",min:0,undefStack:!0},null,null,{id:"endchar",min:0,stackClearing:!0},null,null,null,{id:"hstemhm",min:2,stackClearing:!0,stem:!0},{id:"hintmask",min:0,stackClearing:!0},{id:"cntrmask",min:0,stackClearing:!0},{id:"rmoveto",min:2,stackClearing:!0},{id:"hmoveto",min:1,stackClearing:!0},{id:"vstemhm",min:2,stackClearing:!0,stem:!0},{id:"rcurveline",min:8,resetStack:!0},{id:"rlinecurve",min:8,resetStack:!0},{id:"vvcurveto",min:4,resetStack:!0},{id:"hhcurveto",min:4,resetStack:!0},null,{id:"callgsubr",min:1,undefStack:!0},{id:"vhcurveto",min:4,resetStack:!0},{id:"hvcurveto",min:4,resetStack:!0}],en=[null,null,null,{id:"and",min:2,stackDelta:-1},{id:"or",min:2,stackDelta:-1},{id:"not",min:1,stackDelta:0},null,null,null,{id:"abs",min:1,stackDelta:0},{id:"add",min:2,stackDelta:-1,stackFn(tn,Me){tn[Me-2]=tn[Me-2]+tn[Me-1]}},{id:"sub",min:2,stackDelta:-1,stackFn(tn,Me){tn[Me-2]=tn[Me-2]-tn[Me-1]}},{id:"div",min:2,stackDelta:-1,stackFn(tn,Me){tn[Me-2]=tn[Me-2]/tn[Me-1]}},null,{id:"neg",min:1,stackDelta:0,stackFn(tn,Me){tn[Me-1]=-tn[Me-1]}},{id:"eq",min:2,stackDelta:-1},null,null,{id:"drop",min:1,stackDelta:-1},null,{id:"put",min:2,stackDelta:-2},{id:"get",min:1,stackDelta:0},{id:"ifelse",min:4,stackDelta:-3},{id:"random",min:0,stackDelta:1},{id:"mul",min:2,stackDelta:-1,stackFn(tn,Me){tn[Me-2]=tn[Me-2]*tn[Me-1]}},null,{id:"sqrt",min:1,stackDelta:0},{id:"dup",min:1,stackDelta:1},{id:"exch",min:2,stackDelta:0},{id:"index",min:2,stackDelta:0},{id:"roll",min:3,stackDelta:-2},null,null,null,{id:"hflex",min:7,resetStack:!0},{id:"flex",min:13,resetStack:!0},{id:"hflex1",min:9,resetStack:!0},{id:"flex1",min:11,resetStack:!0}];class je{constructor(Me,De,Ue){this.bytes=Me.getBytes(),this.properties=De,this.seacAnalysisEnabled=!!Ue}parse(){const Me=this.properties,De=new nn;this.cff=De;const Ue=this.parseHeader(),We=this.parseIndex(Ue.endPos),$e=this.parseIndex(We.endPos),on=this.parseIndex($e.endPos),Je=this.parseIndex(on.endPos),an=this.parseDict($e.obj.get(0)),Ke=this.createDict(un,an,De.strings);De.header=Ue.obj,De.names=this.parseNameIndex(We.obj),De.strings=this.parseStringIndex(on.obj),De.topDict=Ke,De.globalSubrIndex=Je.obj,this.parsePrivateDict(De.topDict),De.isCIDFont=Ke.hasName("ROS");const sn=Ke.getByName("CharStrings"),gn=this.parseIndex(sn).obj,mn=Ke.getByName("FontMatrix");mn&&(Me.fontMatrix=mn);const yn=Ke.getByName("FontBBox");yn&&(Me.ascent=Math.max(yn[3],yn[1]),Me.descent=Math.min(yn[1],yn[3]),Me.ascentScaled=!0);let Sn,_n;if(De.isCIDFont){const Nn=this.parseIndex(Ke.getByName("FDArray")).obj;for(let Tn=0,Cn=Nn.count;Tn<Cn;++Tn){const In=Nn.get(Tn),Rn=this.createDict(un,this.parseDict(In),De.strings);this.parsePrivateDict(Rn),De.fdArray.push(Rn)}_n=null,Sn=this.parseCharsets(Ke.getByName("charset"),gn.count,De.strings,!0),De.fdSelect=this.parseFDSelect(Ke.getByName("FDSelect"),gn.count)}else Sn=this.parseCharsets(Ke.getByName("charset"),gn.count,De.strings,!1),_n=this.parseEncoding(Ke.getByName("Encoding"),Me,De.strings,Sn.charset);De.charset=Sn,De.encoding=_n;const wn=this.parseCharStrings({charStrings:gn,localSubrIndex:Ke.privateDict.subrsIndex,globalSubrIndex:Je.obj,fdSelect:De.fdSelect,fdArray:De.fdArray,privateDict:Ke.privateDict});return De.charStrings=wn.charStrings,De.seacs=wn.seacs,De.widths=wn.widths,De}parseHeader(){let Me=this.bytes;const De=Me.length;let Ue=0;for(;Ue<De&&Me[Ue]!==1;)++Ue;if(Ue>=De)throw new xe.FormatError("Invalid CFF header");Ue!==0&&((0,xe.info)("cff data is shifted"),Me=Me.subarray(Ue),this.bytes=Me);const We=Me[0],$e=Me[1],on=Me[2],Je=Me[3];return{obj:new Ge(We,$e,on,Je),endPos:on}}parseDict(Me){let De=0;function Ue(){let an=Me[De++];return an===30?We():an===28?(an=Me[De++],an=(an<<24|Me[De++]<<16)>>16,an):an===29?(an=Me[De++],an=an<<8|Me[De++],an=an<<8|Me[De++],an=an<<8|Me[De++],an):an>=32&&an<=246?an-139:an>=247&&an<=250?(an-247)*256+Me[De++]+108:an>=251&&an<=254?-((an-251)*256)-Me[De++]-108:((0,xe.warn)('CFFParser_parseDict: "'+an+'" is a reserved command.'),NaN)}function We(){let an="";const sn=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"],gn=Me.length;for(;De<gn;){const mn=Me[De++],yn=mn>>4,Sn=mn&15;if(yn===15||(an+=sn[yn],Sn===15))break;an+=sn[Sn]}return parseFloat(an)}let $e=[];const on=[];De=0;const Je=Me.length;for(;De<Je;){let an=Me[De];an<=21?(an===12&&(an=an<<8|Me[++De]),on.push([an,$e]),$e=[],++De):$e.push(Ue())}return on}parseIndex(Me){const De=new Ce,Ue=this.bytes,We=Ue[Me++]<<8|Ue[Me++],$e=[];let on=Me,Je,an;if(We!==0){const Ke=Ue[Me++],sn=Me+(We+1)*Ke-1;for(Je=0,an=We+1;Je<an;++Je){let gn=0;for(let mn=0;mn<Ke;++mn)gn<<=8,gn+=Ue[Me++];$e.push(sn+gn)}on=$e[We]}for(Je=0,an=$e.length-1;Je<an;++Je){const Ke=$e[Je],sn=$e[Je+1];De.add(Ue.subarray(Ke,sn))}return{obj:De,endPos:on}}parseNameIndex(Me){const De=[];for(let Ue=0,We=Me.count;Ue<We;++Ue){const $e=Me.get(Ue);De.push((0,xe.bytesToString)($e))}return De}parseStringIndex(Me){const De=new Oe;for(let Ue=0,We=Me.count;Ue<We;++Ue){const $e=Me.get(Ue);De.add((0,xe.bytesToString)($e))}return De}createDict(Me,De,Ue){const We=new Me(Ue);for(const[$e,on]of De)We.setByKey($e,on);return We}parseCharString(Me,De,Ue,We){if(!De||Me.callDepth>e)return!1;let $e=Me.stackSize;const on=Me.stack;let Je=De.length;for(let an=0;an<Je;){const Ke=De[an++];let sn=null;if(Ke===12){const gn=De[an++];gn===0?(De[an-2]=139,De[an-1]=22,$e=0):sn=en[gn]}else if(Ke===28)on[$e]=(De[an]<<24|De[an+1]<<16)>>16,an+=2,$e++;else if(Ke===14){if($e>=4&&($e-=4,this.seacAnalysisEnabled))return Me.seac=on.slice($e,$e+4),!1;sn=Ye[Ke]}else if(Ke>=32&&Ke<=246)on[$e]=Ke-139,$e++;else if(Ke>=247&&Ke<=254)on[$e]=Ke<251?(Ke-247<<8)+De[an]+108:-(Ke-251<<8)-De[an]-108,an++,$e++;else if(Ke===255)on[$e]=(De[an]<<24|De[an+1]<<16|De[an+2]<<8|De[an+3])/65536,an+=4,$e++;else if(Ke===19||Ke===20){if(Me.hints+=$e>>1,Me.hints===0){De.copyWithin(an-1,an,-1),an-=1,Je-=1;continue}an+=Me.hints+7>>3,$e%=2,sn=Ye[Ke]}else if(Ke===10||Ke===29){const gn=Ke===10?Ue:We;if(!gn)return sn=Ye[Ke],(0,xe.warn)("Missing subrsIndex for "+sn.id),!1;let mn=32768;gn.count<1240?mn=107:gn.count<33900&&(mn=1131);const yn=on[--$e]+mn;if(yn<0||yn>=gn.count||isNaN(yn))return sn=Ye[Ke],(0,xe.warn)("Out of bounds subrIndex for "+sn.id),!1;if(Me.stackSize=$e,Me.callDepth++,!this.parseCharString(Me,gn.get(yn),Ue,We))return!1;Me.callDepth--,$e=Me.stackSize;continue}else{if(Ke===11)return Me.stackSize=$e,!0;if(Ke===0&&an===De.length)De[an-1]=14,sn=Ye[14];else if(Ke===9){De.copyWithin(an-1,an,-1),an-=1,Je-=1;continue}else sn=Ye[Ke]}if(sn){if(sn.stem&&(Me.hints+=$e>>1,Ke===3||Ke===23?Me.hasVStems=!0:Me.hasVStems&&(Ke===1||Ke===18)&&((0,xe.warn)("CFF stem hints are in wrong order"),De[an-1]=Ke===1?3:23)),"min"in sn&&!Me.undefStack&&$e<sn.min)return(0,xe.warn)("Not enough parameters for "+sn.id+"; actual: "+$e+", expected: "+sn.min),$e===0?(De[an-1]=14,!0):!1;Me.firstStackClearing&&sn.stackClearing&&(Me.firstStackClearing=!1,$e-=sn.min,$e>=2&&sn.stem?$e%=2:$e>1&&(0,xe.warn)("Found too many parameters for stack-clearing command"),$e>0&&(Me.width=on[$e-1])),"stackDelta"in sn?("stackFn"in sn&&sn.stackFn(on,$e),$e+=sn.stackDelta):sn.stackClearing?$e=0:sn.resetStack?($e=0,Me.undefStack=!1):sn.undefStack&&($e=0,Me.undefStack=!0,Me.firstStackClearing=!1)}}return Je<De.length&&De.fill(14,Je),Me.stackSize=$e,!0}parseCharStrings({charStrings:Me,localSubrIndex:De,globalSubrIndex:Ue,fdSelect:We,fdArray:$e,privateDict:on}){const Je=[],an=[],Ke=Me.count;for(let sn=0;sn<Ke;sn++){const gn=Me.get(sn),mn={callDepth:0,stackSize:0,stack:[],undefStack:!0,hints:0,firstStackClearing:!0,seac:null,width:null,hasVStems:!1};let yn=!0,Sn=null,_n=on;if(We&&$e.length){const wn=We.getFDIndex(sn);wn===-1&&((0,xe.warn)("Glyph index is not in fd select."),yn=!1),wn>=$e.length&&((0,xe.warn)("Invalid fd index for glyph index."),yn=!1),yn&&(_n=$e[wn].privateDict,Sn=_n.subrsIndex)}else De&&(Sn=De);if(yn&&(yn=this.parseCharString(mn,gn,Sn,Ue)),mn.width!==null){const wn=_n.getByName("nominalWidthX");an[sn]=wn+mn.width}else{const wn=_n.getByName("defaultWidthX");an[sn]=wn}mn.seac!==null&&(Je[sn]=mn.seac),yn||Me.set(sn,new Uint8Array([14]))}return{charStrings:Me,seacs:Je,widths:an}}emptyPrivateDictionary(Me){const De=this.createDict(hn,[],Me.strings);Me.setByKey(18,[0,0]),Me.privateDict=De}parsePrivateDict(Me){if(!Me.hasName("Private")){this.emptyPrivateDictionary(Me);return}const De=Me.getByName("Private");if(!Array.isArray(De)||De.length!==2){Me.removeByName("Private");return}const Ue=De[0],We=De[1];if(Ue===0||We>=this.bytes.length){this.emptyPrivateDictionary(Me);return}const $e=We+Ue,on=this.bytes.subarray(We,$e),Je=this.parseDict(on),an=this.createDict(hn,Je,Me.strings);if(Me.privateDict=an,an.getByName("ExpansionFactor")===0&&an.setByName("ExpansionFactor",.06),!an.getByName("Subrs"))return;const Ke=an.getByName("Subrs"),sn=We+Ke;if(Ke===0||sn>=this.bytes.length){this.emptyPrivateDictionary(Me);return}const gn=this.parseIndex(sn);an.subrsIndex=gn.obj}parseCharsets(Me,De,Ue,We){if(Me===0)return new pn(!0,He.ISO_ADOBE,Ie.ISOAdobeCharset);if(Me===1)return new pn(!0,He.EXPERT,Ie.ExpertCharset);if(Me===2)return new pn(!0,He.EXPERT_SUBSET,Ie.ExpertSubsetCharset);const $e=this.bytes,on=Me,Je=$e[Me++],an=[We?0:".notdef"];let Ke,sn,gn;switch(De-=1,Je){case 0:for(gn=0;gn<De;gn++)Ke=$e[Me++]<<8|$e[Me++],an.push(We?Ke:Ue.get(Ke));break;case 1:for(;an.length<=De;)for(Ke=$e[Me++]<<8|$e[Me++],sn=$e[Me++],gn=0;gn<=sn;gn++)an.push(We?Ke++:Ue.get(Ke++));break;case 2:for(;an.length<=De;)for(Ke=$e[Me++]<<8|$e[Me++],sn=$e[Me++]<<8|$e[Me++],gn=0;gn<=sn;gn++)an.push(We?Ke++:Ue.get(Ke++));break;default:throw new xe.FormatError("Unknown charset format")}const mn=Me,yn=$e.subarray(on,mn);return new pn(!1,Je,an,yn)}parseEncoding(Me,De,Ue,We){const $e=Object.create(null),on=this.bytes;let Je=!1,an,Ke,sn,gn=null;function mn(){const yn=on[Me++];for(Ke=0;Ke<yn;Ke++){const Sn=on[Me++],_n=(on[Me++]<<8)+(on[Me++]&255);$e[Sn]=We.indexOf(Ue.get(_n))}}if(Me===0||Me===1){Je=!0,an=Me;const yn=Me?Re.ExpertEncoding:Re.StandardEncoding;for(Ke=0,sn=We.length;Ke<sn;Ke++){const Sn=yn.indexOf(We[Ke]);Sn!==-1&&($e[Sn]=Ke)}}else{const yn=Me;switch(an=on[Me++],an&127){case 0:const _n=on[Me++];for(Ke=1;Ke<=_n;Ke++)$e[on[Me++]]=Ke;break;case 1:const wn=on[Me++];let Nn=1;for(Ke=0;Ke<wn;Ke++){const Tn=on[Me++],Cn=on[Me++];for(let In=Tn;In<=Tn+Cn;In++)$e[In]=Nn++}break;default:throw new xe.FormatError(`Unknown encoding format: ${an} in CFF`)}const Sn=Me;an&128&&(on[yn]&=127,mn()),gn=on.subarray(yn,Sn)}return an&=127,new Xe(Je,an,$e,gn)}parseFDSelect(Me,De){const Ue=this.bytes,We=Ue[Me++],$e=[];let on;switch(We){case 0:for(on=0;on<De;++on){const an=Ue[Me++];$e.push(an)}break;case 3:const Je=Ue[Me++]<<8|Ue[Me++];for(on=0;on<Je;++on){let an=Ue[Me++]<<8|Ue[Me++];on===0&&an!==0&&((0,xe.warn)("parseFDSelect: The first range must have a first GID of 0 -- trying to recover."),an=0);const Ke=Ue[Me++],sn=Ue[Me]<<8|Ue[Me+1];for(let gn=an;gn<sn;++gn)$e.push(Ke)}Me+=2;break;default:throw new xe.FormatError(`parseFDSelect: Unknown format "${We}".`)}if($e.length!==De)throw new xe.FormatError("parseFDSelect: Invalid font data.");return new fn(We,$e)}}_e.CFFParser=je;class nn{constructor(){this.header=null,this.names=[],this.topDict=null,this.strings=new Oe,this.globalSubrIndex=null,this.encoding=null,this.charset=null,this.charStrings=null,this.fdArray=[],this.fdSelect=null,this.isCIDFont=!1}duplicateFirstGlyph(){if(this.charStrings.count>=65535){(0,xe.warn)("Not enough space in charstrings to duplicate first glyph.");return}const Me=this.charStrings.get(0);this.charStrings.add(Me),this.isCIDFont&&this.fdSelect.fdSelect.push(this.fdSelect.fdSelect[0])}hasGlyphId(Me){return Me<0||Me>=this.charStrings.count?!1:this.charStrings.get(Me).length>0}}_e.CFF=nn;class Ge{constructor(Me,De,Ue,We){this.major=Me,this.minor=De,this.hdrSize=Ue,this.offSize=We}}_e.CFFHeader=Ge;class Oe{constructor(){this.strings=[]}get(Me){return Me>=0&&Me<=Te-1?t[Me]:Me-Te<=this.strings.length?this.strings[Me-Te]:t[0]}getSID(Me){let De=t.indexOf(Me);return De!==-1?De:(De=this.strings.indexOf(Me),De!==-1?De+Te:-1)}add(Me){this.strings.push(Me)}get count(){return this.strings.length}}_e.CFFStrings=Oe;class Ce{constructor(){this.objects=[],this.length=0}add(Me){this.length+=Me.length,this.objects.push(Me)}set(Me,De){this.length+=De.length-this.objects[Me].length,this.objects[Me]=De}get(Me){return this.objects[Me]}get count(){return this.objects.length}}_e.CFFIndex=Ce;class St{constructor(Me,De){this.keyToNameMap=Me.keyToNameMap,this.nameToKeyMap=Me.nameToKeyMap,this.defaults=Me.defaults,this.types=Me.types,this.opcodes=Me.opcodes,this.order=Me.order,this.strings=De,this.values=Object.create(null)}setByKey(Me,De){if(!(Me in this.keyToNameMap))return!1;if(De.length===0)return!0;for(const We of De)if(isNaN(We))return(0,xe.warn)(`Invalid CFFDict value: "${De}" for key "${Me}".`),!0;const Ue=this.types[Me];return(Ue==="num"||Ue==="sid"||Ue==="offset")&&(De=De[0]),this.values[Me]=De,!0}setByName(Me,De){if(!(Me in this.nameToKeyMap))throw new xe.FormatError(`Invalid dictionary name "${Me}"`);this.values[this.nameToKeyMap[Me]]=De}hasName(Me){return this.nameToKeyMap[Me]in this.values}getByName(Me){if(!(Me in this.nameToKeyMap))throw new xe.FormatError(`Invalid dictionary name ${Me}"`);const De=this.nameToKeyMap[Me];return De in this.values?this.values[De]:this.defaults[De]}removeByName(Me){delete this.values[this.nameToKeyMap[Me]]}static createTables(Me){const De={keyToNameMap:{},nameToKeyMap:{},defaults:{},types:{},opcodes:{},order:[]};for(const Ue of Me){const We=Array.isArray(Ue[0])?(Ue[0][0]<<8)+Ue[0][1]:Ue[0];De.keyToNameMap[We]=Ue[1],De.nameToKeyMap[Ue[1]]=We,De.types[We]=Ue[2],De.defaults[We]=Ue[3],De.opcodes[We]=Array.isArray(Ue[0])?Ue[0]:[Ue[0]],De.order.push(We)}return De}}const rn=[[[12,30],"ROS",["sid","sid","num"],null],[[12,20],"SyntheticBase","num",null],[0,"version","sid",null],[1,"Notice","sid",null],[[12,0],"Copyright","sid",null],[2,"FullName","sid",null],[3,"FamilyName","sid",null],[4,"Weight","sid",null],[[12,1],"isFixedPitch","num",0],[[12,2],"ItalicAngle","num",0],[[12,3],"UnderlinePosition","num",-100],[[12,4],"UnderlineThickness","num",50],[[12,5],"PaintType","num",0],[[12,6],"CharstringType","num",2],[[12,7],"FontMatrix",["num","num","num","num","num","num"],[.001,0,0,.001,0,0]],[13,"UniqueID","num",null],[5,"FontBBox",["num","num","num","num"],[0,0,0,0]],[[12,8],"StrokeWidth","num",0],[14,"XUID","array",null],[15,"charset","offset",0],[16,"Encoding","offset",0],[17,"CharStrings","offset",0],[18,"Private",["offset","offset"],null],[[12,21],"PostScript","sid",null],[[12,22],"BaseFontName","sid",null],[[12,23],"BaseFontBlend","delta",null],[[12,31],"CIDFontVersion","num",0],[[12,32],"CIDFontRevision","num",0],[[12,33],"CIDFontType","num",0],[[12,34],"CIDCount","num",8720],[[12,35],"UIDBase","num",null],[[12,37],"FDSelect","offset",null],[[12,36],"FDArray","offset",null],[[12,38],"FontName","sid",null]];class un extends St{static get tables(){return(0,xe.shadow)(this,"tables",this.createTables(rn))}constructor(Me){super(un.tables,Me),this.privateDict=null}}_e.CFFTopDict=un;const Qe=[[6,"BlueValues","delta",null],[7,"OtherBlues","delta",null],[8,"FamilyBlues","delta",null],[9,"FamilyOtherBlues","delta",null],[[12,9],"BlueScale","num",.039625],[[12,10],"BlueShift","num",7],[[12,11],"BlueFuzz","num",1],[10,"StdHW","num",null],[11,"StdVW","num",null],[[12,12],"StemSnapH","delta",null],[[12,13],"StemSnapV","delta",null],[[12,14],"ForceBold","num",0],[[12,17],"LanguageGroup","num",0],[[12,18],"ExpansionFactor","num",.06],[[12,19],"initialRandomSeed","num",0],[20,"defaultWidthX","num",0],[21,"nominalWidthX","num",0],[19,"Subrs","offset",null]];class hn extends St{static get tables(){return(0,xe.shadow)(this,"tables",this.createTables(Qe))}constructor(Me){super(hn.tables,Me),this.subrsIndex=null}}_e.CFFPrivateDict=hn;const He={ISO_ADOBE:0,EXPERT:1,EXPERT_SUBSET:2};class pn{constructor(Me,De,Ue,We){this.predefined=Me,this.format=De,this.charset=Ue,this.raw=We}}_e.CFFCharset=pn;class Xe{constructor(Me,De,Ue,We){this.predefined=Me,this.format=De,this.encoding=Ue,this.raw=We}}class fn{constructor(Me,De){this.format=Me,this.fdSelect=De}getFDIndex(Me){return Me<0||Me>=this.fdSelect.length?-1:this.fdSelect[Me]}}_e.CFFFDSelect=fn;class dn{constructor(){this.offsets=Object.create(null)}isTracking(Me){return Me in this.offsets}track(Me,De){if(Me in this.offsets)throw new xe.FormatError(`Already tracking location of ${Me}`);this.offsets[Me]=De}offset(Me){for(const De in this.offsets)this.offsets[De]+=Me}setEntryLocation(Me,De,Ue){if(!(Me in this.offsets))throw new xe.FormatError(`Not tracking location of ${Me}`);const We=Ue.data,$e=this.offsets[Me],on=5;for(let Je=0,an=De.length;Je<an;++Je){const Ke=Je*on+$e,sn=Ke+1,gn=Ke+2,mn=Ke+3,yn=Ke+4;if(We[Ke]!==29||We[sn]!==0||We[gn]!==0||We[mn]!==0||We[yn]!==0)throw new xe.FormatError("writing to an offset that is not empty");const Sn=De[Je];We[Ke]=29,We[sn]=Sn>>24&255,We[gn]=Sn>>16&255,We[mn]=Sn>>8&255,We[yn]=Sn&255}}}class qe{constructor(Me){this.cff=Me}compile(){const Me=this.cff,De={data:[],length:0,add(mn){try{this.data.push(...mn)}catch{this.data=this.data.concat(mn)}this.length=this.data.length}},Ue=this.compileHeader(Me.header);De.add(Ue);const We=this.compileNameIndex(Me.names);if(De.add(We),Me.isCIDFont&&Me.topDict.hasName("FontMatrix")){const mn=Me.topDict.getByName("FontMatrix");Me.topDict.removeByName("FontMatrix");for(const yn of Me.fdArray){let Sn=mn.slice(0);yn.hasName("FontMatrix")&&(Sn=xe.Util.transform(Sn,yn.getByName("FontMatrix"))),yn.setByName("FontMatrix",Sn)}}Me.topDict.getByName("XUID")?.length>16&&Me.topDict.removeByName("XUID"),Me.topDict.setByName("charset",0);let on=this.compileTopDicts([Me.topDict],De.length,Me.isCIDFont);De.add(on.output);const Je=on.trackers[0],an=this.compileStringIndex(Me.strings.strings);De.add(an);const Ke=this.compileIndex(Me.globalSubrIndex);if(De.add(Ke),Me.encoding&&Me.topDict.hasName("Encoding"))if(Me.encoding.predefined)Je.setEntryLocation("Encoding",[Me.encoding.format],De);else{const mn=this.compileEncoding(Me.encoding);Je.setEntryLocation("Encoding",[De.length],De),De.add(mn)}const sn=this.compileCharset(Me.charset,Me.charStrings.count,Me.strings,Me.isCIDFont);Je.setEntryLocation("charset",[De.length],De),De.add(sn);const gn=this.compileCharStrings(Me.charStrings);if(Je.setEntryLocation("CharStrings",[De.length],De),De.add(gn),Me.isCIDFont){Je.setEntryLocation("FDSelect",[De.length],De);const mn=this.compileFDSelect(Me.fdSelect);De.add(mn),on=this.compileTopDicts(Me.fdArray,De.length,!0),Je.setEntryLocation("FDArray",[De.length],De),De.add(on.output);const yn=on.trackers;this.compilePrivateDicts(Me.fdArray,yn,De)}return this.compilePrivateDicts([Me.topDict],[Je],De),De.add([0]),De.data}encodeNumber(Me){return Number.isInteger(Me)?this.encodeInteger(Me):this.encodeFloat(Me)}static get EncodeFloatRegExp(){return(0,xe.shadow)(this,"EncodeFloatRegExp",/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/)}encodeFloat(Me){let De=Me.toString();const Ue=qe.EncodeFloatRegExp.exec(De);if(Ue){const an=parseFloat("1e"+((Ue[2]?+Ue[2]:0)+Ue[1].length));De=(Math.round(Me*an)/an).toString()}let We="",$e,on;for($e=0,on=De.length;$e<on;++$e){const an=De[$e];an==="e"?We+=De[++$e]==="-"?"c":"b":an==="."?We+="a":an==="-"?We+="e":We+=an}We+=We.length&1?"f":"ff";const Je=[30];for($e=0,on=We.length;$e<on;$e+=2)Je.push(parseInt(We.substring($e,$e+2),16));return Je}encodeInteger(Me){let De;return Me>=-107&&Me<=107?De=[Me+139]:Me>=108&&Me<=1131?(Me-=108,De=[(Me>>8)+247,Me&255]):Me>=-1131&&Me<=-108?(Me=-Me-108,De=[(Me>>8)+251,Me&255]):Me>=-32768&&Me<=32767?De=[28,Me>>8&255,Me&255]:De=[29,Me>>24&255,Me>>16&255,Me>>8&255,Me&255],De}compileHeader(Me){return[Me.major,Me.minor,4,Me.offSize]}compileNameIndex(Me){const De=new Ce;for(const Ue of Me){const We=Math.min(Ue.length,127);let $e=new Array(We);for(let on=0;on<We;on++){let Je=Ue[on];(Je<"!"||Je>"~"||Je==="["||Je==="]"||Je==="("||Je===")"||Je==="{"||Je==="}"||Je==="<"||Je===">"||Je==="/"||Je==="%")&&(Je="_"),$e[on]=Je}$e=$e.join(""),$e===""&&($e="Bad_Font_Name"),De.add((0,xe.stringToBytes)($e))}return this.compileIndex(De)}compileTopDicts(Me,De,Ue){const We=[];let $e=new Ce;for(const on of Me){Ue&&(on.removeByName("CIDFontVersion"),on.removeByName("CIDFontRevision"),on.removeByName("CIDFontType"),on.removeByName("CIDCount"),on.removeByName("UIDBase"));const Je=new dn,an=this.compileDict(on,Je);We.push(Je),$e.add(an),Je.offset(De)}return $e=this.compileIndex($e,We),{trackers:We,output:$e}}compilePrivateDicts(Me,De,Ue){for(let We=0,$e=Me.length;We<$e;++We){const on=Me[We],Je=on.privateDict;if(!Je||!on.hasName("Private"))throw new xe.FormatError("There must be a private dictionary.");const an=new dn,Ke=this.compileDict(Je,an);let sn=Ue.length;if(an.offset(sn),Ke.length||(sn=0),De[We].setEntryLocation("Private",[Ke.length,sn],Ue),Ue.add(Ke),Je.subrsIndex&&Je.hasName("Subrs")){const gn=this.compileIndex(Je.subrsIndex);an.setEntryLocation("Subrs",[Ke.length],Ue),Ue.add(gn)}}}compileDict(Me,De){const Ue=[];for(const We of Me.order){if(!(We in Me.values))continue;let $e=Me.values[We],on=Me.types[We];if(Array.isArray(on)||(on=[on]),Array.isArray($e)||($e=[$e]),$e.length!==0){for(let Je=0,an=on.length;Je<an;++Je){const Ke=on[Je],sn=$e[Je];switch(Ke){case"num":case"sid":Ue.push(...this.encodeNumber(sn));break;case"offset":const gn=Me.keyToNameMap[We];De.isTracking(gn)||De.track(gn,Ue.length),Ue.push(29,0,0,0,0);break;case"array":case"delta":Ue.push(...this.encodeNumber(sn));for(let mn=1,yn=$e.length;mn<yn;++mn)Ue.push(...this.encodeNumber($e[mn]));break;default:throw new xe.FormatError(`Unknown data type of ${Ke}`)}}Ue.push(...Me.opcodes[We])}}return Ue}compileStringIndex(Me){const De=new Ce;for(const Ue of Me)De.add((0,xe.stringToBytes)(Ue));return this.compileIndex(De)}compileCharStrings(Me){const De=new Ce;for(let Ue=0;Ue<Me.count;Ue++){const We=Me.get(Ue);if(We.length===0){De.add(new Uint8Array([139,14]));continue}De.add(We)}return this.compileIndex(De)}compileCharset(Me,De,Ue,We){let $e;const on=De-1;if(We)$e=new Uint8Array([2,0,0,on>>8&255,on&255]);else{const Je=1+on*2;$e=new Uint8Array(Je),$e[0]=0;let an=0;const Ke=Me.charset.length;let sn=!1;for(let gn=1;gn<$e.length;gn+=2){let mn=0;if(an<Ke){const yn=Me.charset[an++];mn=Ue.getSID(yn),mn===-1&&(mn=0,sn||(sn=!0,(0,xe.warn)(`Couldn't find ${yn} in CFF strings`)))}$e[gn]=mn>>8&255,$e[gn+1]=mn&255}}return this.compileTypedArray($e)}compileEncoding(Me){return this.compileTypedArray(Me.raw)}compileFDSelect(Me){const De=Me.format;let Ue,We;switch(De){case 0:for(Ue=new Uint8Array(1+Me.fdSelect.length),Ue[0]=De,We=0;We<Me.fdSelect.length;We++)Ue[We+1]=Me.fdSelect[We];break;case 3:const $e=0;let on=Me.fdSelect[0];const Je=[De,0,0,$e>>8&255,$e&255,on];for(We=1;We<Me.fdSelect.length;We++){const Ke=Me.fdSelect[We];Ke!==on&&(Je.push(We>>8&255,We&255,Ke),on=Ke)}const an=(Je.length-3)/3;Je[1]=an>>8&255,Je[2]=an&255,Je.push(We>>8&255,We&255),Ue=new Uint8Array(Je);break}return this.compileTypedArray(Ue)}compileTypedArray(Me){return Array.from(Me)}compileIndex(Me,De=[]){const Ue=Me.objects,We=Ue.length;if(We===0)return[0,0];const $e=[We>>8&255,We&255];let on=1,Je;for(Je=0;Je<We;++Je)on+=Ue[Je].length;let an;on<256?an=1:on<65536?an=2:on<16777216?an=3:an=4,$e.push(an);let Ke=1;for(Je=0;Je<We+1;Je++)an===1?$e.push(Ke&255):an===2?$e.push(Ke>>8&255,Ke&255):an===3?$e.push(Ke>>16&255,Ke>>8&255,Ke&255):$e.push(Ke>>>24&255,Ke>>16&255,Ke>>8&255,Ke&255),Ue[Je]&&(Ke+=Ue[Je].length);for(Je=0;Je<We;Je++)De[Je]&&De[Je].offset($e.length),$e.push(...Ue[Je]);return $e}}_e.CFFCompiler=qe},(Ve,_e)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.ISOAdobeCharset=_e.ExpertSubsetCharset=_e.ExpertCharset=void 0;const ze=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron"];_e.ISOAdobeCharset=ze;const xe=[".notdef","space","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","fi","fl","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"];_e.ExpertCharset=xe;const Ie=[".notdef","space","dollaroldstyle","dollarsuperior","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","fi","fl","ffi","ffl","parenleftinferior","parenrightinferior","hyphensuperior","colonmonetary","onefitted","rupiah","centoldstyle","figuredash","hypheninferior","onequarter","onehalf","threequarters","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior"];_e.ExpertSubsetCharset=Ie},(Ve,_e)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.ZapfDingbatsEncoding=_e.WinAnsiEncoding=_e.SymbolSetEncoding=_e.StandardEncoding=_e.MacRomanEncoding=_e.ExpertEncoding=void 0,_e.getEncoding=Ye;const ze=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"];_e.ExpertEncoding=ze;const xe=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","centoldstyle","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","","threequartersemdash","","questionsmall","","","","","Ethsmall","","","onequarter","onehalf","threequarters","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","","","","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hypheninferior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","asuperior","centsuperior","","","","","Aacutesmall","Agravesmall","Acircumflexsmall","Adieresissmall","Atildesmall","Aringsmall","Ccedillasmall","Eacutesmall","Egravesmall","Ecircumflexsmall","Edieresissmall","Iacutesmall","Igravesmall","Icircumflexsmall","Idieresissmall","Ntildesmall","Oacutesmall","Ogravesmall","Ocircumflexsmall","Odieresissmall","Otildesmall","Uacutesmall","Ugravesmall","Ucircumflexsmall","Udieresissmall","","eightsuperior","fourinferior","threeinferior","sixinferior","eightinferior","seveninferior","Scaronsmall","","centinferior","twoinferior","","Dieresissmall","","Caronsmall","osuperior","fiveinferior","","commainferior","periodinferior","Yacutesmall","","dollarinferior","","","Thornsmall","","nineinferior","zeroinferior","Zcaronsmall","AEsmall","Oslashsmall","questiondownsmall","oneinferior","Lslashsmall","","","","","","","Cedillasmall","","","","","","OEsmall","figuredash","hyphensuperior","","","","","exclamdownsmall","","Ydieresissmall","","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","ninesuperior","zerosuperior","","esuperior","rsuperior","tsuperior","","","isuperior","ssuperior","dsuperior","","","","","","lsuperior","Ogoneksmall","Brevesmall","Macronsmall","bsuperior","nsuperior","msuperior","commasuperior","periodsuperior","Dotaccentsmall","Ringsmall","","","",""],Ie=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","space","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron"];_e.MacRomanEncoding=Ie;const Re=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls","","","",""];_e.StandardEncoding=Re;const e=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","bullet","Euro","bullet","quotesinglbase","florin","quotedblbase","ellipsis","dagger","daggerdbl","circumflex","perthousand","Scaron","guilsinglleft","OE","bullet","Zcaron","bullet","bullet","quoteleft","quoteright","quotedblleft","quotedblright","bullet","endash","emdash","tilde","trademark","scaron","guilsinglright","oe","bullet","zcaron","Ydieresis","space","exclamdown","cent","sterling","currency","yen","brokenbar","section","dieresis","copyright","ordfeminine","guillemotleft","logicalnot","hyphen","registered","macron","degree","plusminus","twosuperior","threesuperior","acute","mu","paragraph","periodcentered","cedilla","onesuperior","ordmasculine","guillemotright","onequarter","onehalf","threequarters","questiondown","Agrave","Aacute","Acircumflex","Atilde","Adieresis","Aring","AE","Ccedilla","Egrave","Eacute","Ecircumflex","Edieresis","Igrave","Iacute","Icircumflex","Idieresis","Eth","Ntilde","Ograve","Oacute","Ocircumflex","Otilde","Odieresis","multiply","Oslash","Ugrave","Uacute","Ucircumflex","Udieresis","Yacute","Thorn","germandbls","agrave","aacute","acircumflex","atilde","adieresis","aring","ae","ccedilla","egrave","eacute","ecircumflex","edieresis","igrave","iacute","icircumflex","idieresis","eth","ntilde","ograve","oacute","ocircumflex","otilde","odieresis","divide","oslash","ugrave","uacute","ucircumflex","udieresis","yacute","thorn","ydieresis"];_e.WinAnsiEncoding=e;const t=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","universal","numbersign","existential","percent","ampersand","suchthat","parenleft","parenright","asteriskmath","plus","comma","minus","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","congruent","Alpha","Beta","Chi","Delta","Epsilon","Phi","Gamma","Eta","Iota","theta1","Kappa","Lambda","Mu","Nu","Omicron","Pi","Theta","Rho","Sigma","Tau","Upsilon","sigma1","Omega","Xi","Psi","Zeta","bracketleft","therefore","bracketright","perpendicular","underscore","radicalex","alpha","beta","chi","delta","epsilon","phi","gamma","eta","iota","phi1","kappa","lambda","mu","nu","omicron","pi","theta","rho","sigma","tau","upsilon","omega1","omega","xi","psi","zeta","braceleft","bar","braceright","similar","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","Euro","Upsilon1","minute","lessequal","fraction","infinity","florin","club","diamond","heart","spade","arrowboth","arrowleft","arrowup","arrowright","arrowdown","degree","plusminus","second","greaterequal","multiply","proportional","partialdiff","bullet","divide","notequal","equivalence","approxequal","ellipsis","arrowvertex","arrowhorizex","carriagereturn","aleph","Ifraktur","Rfraktur","weierstrass","circlemultiply","circleplus","emptyset","intersection","union","propersuperset","reflexsuperset","notsubset","propersubset","reflexsubset","element","notelement","angle","gradient","registerserif","copyrightserif","trademarkserif","product","radical","dotmath","logicalnot","logicaland","logicalor","arrowdblboth","arrowdblleft","arrowdblup","arrowdblright","arrowdbldown","lozenge","angleleft","registersans","copyrightsans","trademarksans","summation","parenlefttp","parenleftex","parenleftbt","bracketlefttp","bracketleftex","bracketleftbt","bracelefttp","braceleftmid","braceleftbt","braceex","","angleright","integral","integraltp","integralex","integralbt","parenrighttp","parenrightex","parenrightbt","bracketrighttp","bracketrightex","bracketrightbt","bracerighttp","bracerightmid","bracerightbt",""];_e.SymbolSetEncoding=t;const Te=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","a1","a2","a202","a3","a4","a5","a119","a118","a117","a11","a12","a13","a14","a15","a16","a105","a17","a18","a19","a20","a21","a22","a23","a24","a25","a26","a27","a28","a6","a7","a8","a9","a10","a29","a30","a31","a32","a33","a34","a35","a36","a37","a38","a39","a40","a41","a42","a43","a44","a45","a46","a47","a48","a49","a50","a51","a52","a53","a54","a55","a56","a57","a58","a59","a60","a61","a62","a63","a64","a65","a66","a67","a68","a69","a70","a71","a72","a73","a74","a203","a75","a204","a76","a77","a78","a79","a81","a82","a83","a84","a97","a98","a99","a100","","a89","a90","a93","a94","a91","a92","a205","a85","a206","a86","a87","a88","a95","a96","","","","","","","","","","","","","","","","","","","","a101","a102","a103","a104","a106","a107","a108","a112","a111","a110","a109","a120","a121","a122","a123","a124","a125","a126","a127","a128","a129","a130","a131","a132","a133","a134","a135","a136","a137","a138","a139","a140","a141","a142","a143","a144","a145","a146","a147","a148","a149","a150","a151","a152","a153","a154","a155","a156","a157","a158","a159","a160","a161","a163","a164","a196","a165","a192","a166","a167","a168","a169","a170","a171","a172","a173","a162","a174","a175","a176","a177","a178","a179","a193","a180","a199","a181","a200","a182","","a201","a183","a184","a197","a185","a194","a198","a186","a195","a187","a188","a189","a190","a191",""];_e.ZapfDingbatsEncoding=Te;function Ye(en){switch(en){case"WinAnsiEncoding":return e;case"StandardEncoding":return Re;case"MacRomanEncoding":return Ie;case"SymbolSetEncoding":return t;case"ZapfDingbatsEncoding":return Te;case"ExpertEncoding":return ze;case"MacExpertEncoding":return xe;default:return null}}},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.SEAC_ANALYSIS_ENABLED=_e.MacStandardGlyphOrdering=_e.FontFlags=void 0,_e.normalizeFontName=nn,_e.recoverGlyphName=en,_e.type1FontGlyphMapping=je;var xe=ze(37),Ie=ze(39),Re=ze(40),e=ze(2);const t=!0;_e.SEAC_ANALYSIS_ENABLED=t;const Te={FixedPitch:1,Serif:2,Symbolic:4,Script:8,Nonsymbolic:32,Italic:64,AllCap:65536,SmallCap:131072,ForceBold:262144};_e.FontFlags=Te;const Ye=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];_e.MacStandardGlyphOrdering=Ye;function en(Ge,Oe){if(Oe[Ge]!==void 0)return Ge;const Ce=(0,Re.getUnicodeForGlyph)(Ge,Oe);if(Ce!==-1){for(const St in Oe)if(Oe[St]===Ce)return St}return(0,e.info)("Unable to recover a standard glyph name for: "+Ge),Ge}function je(Ge,Oe,Ce){const St=Object.create(null);let rn,un,Qe;const hn=!!(Ge.flags&Te.Symbolic);if(Ge.isInternalFont)for(Qe=Oe,un=0;un<Qe.length;un++)rn=Ce.indexOf(Qe[un]),St[un]=rn>=0?rn:0;else if(Ge.baseEncodingName)for(Qe=(0,xe.getEncoding)(Ge.baseEncodingName),un=0;un<Qe.length;un++)rn=Ce.indexOf(Qe[un]),St[un]=rn>=0?rn:0;else if(hn)for(un in Oe)St[un]=Oe[un];else for(Qe=xe.StandardEncoding,un=0;un<Qe.length;un++)rn=Ce.indexOf(Qe[un]),St[un]=rn>=0?rn:0;const He=Ge.differences;let pn;if(He)for(un in He){const Xe=He[un];if(rn=Ce.indexOf(Xe),rn===-1){pn||(pn=(0,Ie.getGlyphsUnicode)());const fn=en(Xe,pn);fn!==Xe&&(rn=Ce.indexOf(fn))}St[un]=rn>=0?rn:0}return St}function nn(Ge){return Ge.replaceAll(/[,_]/g,"-").replaceAll(/\s/g,"")}},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.getGlyphsUnicode=_e.getDingbatsGlyphsUnicode=void 0;var xe=ze(3);const Ie=(0,xe.getLookupTableFactory)(function(e){e.A=65,e.AE=198,e.AEacute=508,e.AEmacron=482,e.AEsmall=63462,e.Aacute=193,e.Aacutesmall=63457,e.Abreve=258,e.Abreveacute=7854,e.Abrevecyrillic=1232,e.Abrevedotbelow=7862,e.Abrevegrave=7856,e.Abrevehookabove=7858,e.Abrevetilde=7860,e.Acaron=461,e.Acircle=9398,e.Acircumflex=194,e.Acircumflexacute=7844,e.Acircumflexdotbelow=7852,e.Acircumflexgrave=7846,e.Acircumflexhookabove=7848,e.Acircumflexsmall=63458,e.Acircumflextilde=7850,e.Acute=63177,e.Acutesmall=63412,e.Acyrillic=1040,e.Adblgrave=512,e.Adieresis=196,e.Adieresiscyrillic=1234,e.Adieresismacron=478,e.Adieresissmall=63460,e.Adotbelow=7840,e.Adotmacron=480,e.Agrave=192,e.Agravesmall=63456,e.Ahookabove=7842,e.Aiecyrillic=1236,e.Ainvertedbreve=514,e.Alpha=913,e.Alphatonos=902,e.Amacron=256,e.Amonospace=65313,e.Aogonek=260,e.Aring=197,e.Aringacute=506,e.Aringbelow=7680,e.Aringsmall=63461,e.Asmall=63329,e.Atilde=195,e.Atildesmall=63459,e.Aybarmenian=1329,e.B=66,e.Bcircle=9399,e.Bdotaccent=7682,e.Bdotbelow=7684,e.Becyrillic=1041,e.Benarmenian=1330,e.Beta=914,e.Bhook=385,e.Blinebelow=7686,e.Bmonospace=65314,e.Brevesmall=63220,e.Bsmall=63330,e.Btopbar=386,e.C=67,e.Caarmenian=1342,e.Cacute=262,e.Caron=63178,e.Caronsmall=63221,e.Ccaron=268,e.Ccedilla=199,e.Ccedillaacute=7688,e.Ccedillasmall=63463,e.Ccircle=9400,e.Ccircumflex=264,e.Cdot=266,e.Cdotaccent=266,e.Cedillasmall=63416,e.Chaarmenian=1353,e.Cheabkhasiancyrillic=1212,e.Checyrillic=1063,e.Chedescenderabkhasiancyrillic=1214,e.Chedescendercyrillic=1206,e.Chedieresiscyrillic=1268,e.Cheharmenian=1347,e.Chekhakassiancyrillic=1227,e.Cheverticalstrokecyrillic=1208,e.Chi=935,e.Chook=391,e.Circumflexsmall=63222,e.Cmonospace=65315,e.Coarmenian=1361,e.Csmall=63331,e.D=68,e.DZ=497,e.DZcaron=452,e.Daarmenian=1332,e.Dafrican=393,e.Dcaron=270,e.Dcedilla=7696,e.Dcircle=9401,e.Dcircumflexbelow=7698,e.Dcroat=272,e.Ddotaccent=7690,e.Ddotbelow=7692,e.Decyrillic=1044,e.Deicoptic=1006,e.Delta=8710,e.Deltagreek=916,e.Dhook=394,e.Dieresis=63179,e.DieresisAcute=63180,e.DieresisGrave=63181,e.Dieresissmall=63400,e.Digammagreek=988,e.Djecyrillic=1026,e.Dlinebelow=7694,e.Dmonospace=65316,e.Dotaccentsmall=63223,e.Dslash=272,e.Dsmall=63332,e.Dtopbar=395,e.Dz=498,e.Dzcaron=453,e.Dzeabkhasiancyrillic=1248,e.Dzecyrillic=1029,e.Dzhecyrillic=1039,e.E=69,e.Eacute=201,e.Eacutesmall=63465,e.Ebreve=276,e.Ecaron=282,e.Ecedillabreve=7708,e.Echarmenian=1333,e.Ecircle=9402,e.Ecircumflex=202,e.Ecircumflexacute=7870,e.Ecircumflexbelow=7704,e.Ecircumflexdotbelow=7878,e.Ecircumflexgrave=7872,e.Ecircumflexhookabove=7874,e.Ecircumflexsmall=63466,e.Ecircumflextilde=7876,e.Ecyrillic=1028,e.Edblgrave=516,e.Edieresis=203,e.Edieresissmall=63467,e.Edot=278,e.Edotaccent=278,e.Edotbelow=7864,e.Efcyrillic=1060,e.Egrave=200,e.Egravesmall=63464,e.Eharmenian=1335,e.Ehookabove=7866,e.Eightroman=8551,e.Einvertedbreve=518,e.Eiotifiedcyrillic=1124,e.Elcyrillic=1051,e.Elevenroman=8554,e.Emacron=274,e.Emacronacute=7702,e.Emacrongrave=7700,e.Emcyrillic=1052,e.Emonospace=65317,e.Encyrillic=1053,e.Endescendercyrillic=1186,e.Eng=330,e.Enghecyrillic=1188,e.Enhookcyrillic=1223,e.Eogonek=280,e.Eopen=400,e.Epsilon=917,e.Epsilontonos=904,e.Ercyrillic=1056,e.Ereversed=398,e.Ereversedcyrillic=1069,e.Escyrillic=1057,e.Esdescendercyrillic=1194,e.Esh=425,e.Esmall=63333,e.Eta=919,e.Etarmenian=1336,e.Etatonos=905,e.Eth=208,e.Ethsmall=63472,e.Etilde=7868,e.Etildebelow=7706,e.Euro=8364,e.Ezh=439,e.Ezhcaron=494,e.Ezhreversed=440,e.F=70,e.Fcircle=9403,e.Fdotaccent=7710,e.Feharmenian=1366,e.Feicoptic=996,e.Fhook=401,e.Fitacyrillic=1138,e.Fiveroman=8548,e.Fmonospace=65318,e.Fourroman=8547,e.Fsmall=63334,e.G=71,e.GBsquare=13191,e.Gacute=500,e.Gamma=915,e.Gammaafrican=404,e.Gangiacoptic=1002,e.Gbreve=286,e.Gcaron=486,e.Gcedilla=290,e.Gcircle=9404,e.Gcircumflex=284,e.Gcommaaccent=290,e.Gdot=288,e.Gdotaccent=288,e.Gecyrillic=1043,e.Ghadarmenian=1346,e.Ghemiddlehookcyrillic=1172,e.Ghestrokecyrillic=1170,e.Gheupturncyrillic=1168,e.Ghook=403,e.Gimarmenian=1331,e.Gjecyrillic=1027,e.Gmacron=7712,e.Gmonospace=65319,e.Grave=63182,e.Gravesmall=63328,e.Gsmall=63335,e.Gsmallhook=667,e.Gstroke=484,e.H=72,e.H18533=9679,e.H18543=9642,e.H18551=9643,e.H22073=9633,e.HPsquare=13259,e.Haabkhasiancyrillic=1192,e.Hadescendercyrillic=1202,e.Hardsigncyrillic=1066,e.Hbar=294,e.Hbrevebelow=7722,e.Hcedilla=7720,e.Hcircle=9405,e.Hcircumflex=292,e.Hdieresis=7718,e.Hdotaccent=7714,e.Hdotbelow=7716,e.Hmonospace=65320,e.Hoarmenian=1344,e.Horicoptic=1e3,e.Hsmall=63336,e.Hungarumlaut=63183,e.Hungarumlautsmall=63224,e.Hzsquare=13200,e.I=73,e.IAcyrillic=1071,e.IJ=306,e.IUcyrillic=1070,e.Iacute=205,e.Iacutesmall=63469,e.Ibreve=300,e.Icaron=463,e.Icircle=9406,e.Icircumflex=206,e.Icircumflexsmall=63470,e.Icyrillic=1030,e.Idblgrave=520,e.Idieresis=207,e.Idieresisacute=7726,e.Idieresiscyrillic=1252,e.Idieresissmall=63471,e.Idot=304,e.Idotaccent=304,e.Idotbelow=7882,e.Iebrevecyrillic=1238,e.Iecyrillic=1045,e.Ifraktur=8465,e.Igrave=204,e.Igravesmall=63468,e.Ihookabove=7880,e.Iicyrillic=1048,e.Iinvertedbreve=522,e.Iishortcyrillic=1049,e.Imacron=298,e.Imacroncyrillic=1250,e.Imonospace=65321,e.Iniarmenian=1339,e.Iocyrillic=1025,e.Iogonek=302,e.Iota=921,e.Iotaafrican=406,e.Iotadieresis=938,e.Iotatonos=906,e.Ismall=63337,e.Istroke=407,e.Itilde=296,e.Itildebelow=7724,e.Izhitsacyrillic=1140,e.Izhitsadblgravecyrillic=1142,e.J=74,e.Jaarmenian=1345,e.Jcircle=9407,e.Jcircumflex=308,e.Jecyrillic=1032,e.Jheharmenian=1355,e.Jmonospace=65322,e.Jsmall=63338,e.K=75,e.KBsquare=13189,e.KKsquare=13261,e.Kabashkircyrillic=1184,e.Kacute=7728,e.Kacyrillic=1050,e.Kadescendercyrillic=1178,e.Kahookcyrillic=1219,e.Kappa=922,e.Kastrokecyrillic=1182,e.Kaverticalstrokecyrillic=1180,e.Kcaron=488,e.Kcedilla=310,e.Kcircle=9408,e.Kcommaaccent=310,e.Kdotbelow=7730,e.Keharmenian=1364,e.Kenarmenian=1343,e.Khacyrillic=1061,e.Kheicoptic=998,e.Khook=408,e.Kjecyrillic=1036,e.Klinebelow=7732,e.Kmonospace=65323,e.Koppacyrillic=1152,e.Koppagreek=990,e.Ksicyrillic=1134,e.Ksmall=63339,e.L=76,e.LJ=455,e.LL=63167,e.Lacute=313,e.Lambda=923,e.Lcaron=317,e.Lcedilla=315,e.Lcircle=9409,e.Lcircumflexbelow=7740,e.Lcommaaccent=315,e.Ldot=319,e.Ldotaccent=319,e.Ldotbelow=7734,e.Ldotbelowmacron=7736,e.Liwnarmenian=1340,e.Lj=456,e.Ljecyrillic=1033,e.Llinebelow=7738,e.Lmonospace=65324,e.Lslash=321,e.Lslashsmall=63225,e.Lsmall=63340,e.M=77,e.MBsquare=13190,e.Macron=63184,e.Macronsmall=63407,e.Macute=7742,e.Mcircle=9410,e.Mdotaccent=7744,e.Mdotbelow=7746,e.Menarmenian=1348,e.Mmonospace=65325,e.Msmall=63341,e.Mturned=412,e.Mu=924,e.N=78,e.NJ=458,e.Nacute=323,e.Ncaron=327,e.Ncedilla=325,e.Ncircle=9411,e.Ncircumflexbelow=7754,e.Ncommaaccent=325,e.Ndotaccent=7748,e.Ndotbelow=7750,e.Nhookleft=413,e.Nineroman=8552,e.Nj=459,e.Njecyrillic=1034,e.Nlinebelow=7752,e.Nmonospace=65326,e.Nowarmenian=1350,e.Nsmall=63342,e.Ntilde=209,e.Ntildesmall=63473,e.Nu=925,e.O=79,e.OE=338,e.OEsmall=63226,e.Oacute=211,e.Oacutesmall=63475,e.Obarredcyrillic=1256,e.Obarreddieresiscyrillic=1258,e.Obreve=334,e.Ocaron=465,e.Ocenteredtilde=415,e.Ocircle=9412,e.Ocircumflex=212,e.Ocircumflexacute=7888,e.Ocircumflexdotbelow=7896,e.Ocircumflexgrave=7890,e.Ocircumflexhookabove=7892,e.Ocircumflexsmall=63476,e.Ocircumflextilde=7894,e.Ocyrillic=1054,e.Odblacute=336,e.Odblgrave=524,e.Odieresis=214,e.Odieresiscyrillic=1254,e.Odieresissmall=63478,e.Odotbelow=7884,e.Ogoneksmall=63227,e.Ograve=210,e.Ogravesmall=63474,e.Oharmenian=1365,e.Ohm=8486,e.Ohookabove=7886,e.Ohorn=416,e.Ohornacute=7898,e.Ohorndotbelow=7906,e.Ohorngrave=7900,e.Ohornhookabove=7902,e.Ohorntilde=7904,e.Ohungarumlaut=336,e.Oi=418,e.Oinvertedbreve=526,e.Omacron=332,e.Omacronacute=7762,e.Omacrongrave=7760,e.Omega=8486,e.Omegacyrillic=1120,e.Omegagreek=937,e.Omegaroundcyrillic=1146,e.Omegatitlocyrillic=1148,e.Omegatonos=911,e.Omicron=927,e.Omicrontonos=908,e.Omonospace=65327,e.Oneroman=8544,e.Oogonek=490,e.Oogonekmacron=492,e.Oopen=390,e.Oslash=216,e.Oslashacute=510,e.Oslashsmall=63480,e.Osmall=63343,e.Ostrokeacute=510,e.Otcyrillic=1150,e.Otilde=213,e.Otildeacute=7756,e.Otildedieresis=7758,e.Otildesmall=63477,e.P=80,e.Pacute=7764,e.Pcircle=9413,e.Pdotaccent=7766,e.Pecyrillic=1055,e.Peharmenian=1354,e.Pemiddlehookcyrillic=1190,e.Phi=934,e.Phook=420,e.Pi=928,e.Piwrarmenian=1363,e.Pmonospace=65328,e.Psi=936,e.Psicyrillic=1136,e.Psmall=63344,e.Q=81,e.Qcircle=9414,e.Qmonospace=65329,e.Qsmall=63345,e.R=82,e.Raarmenian=1356,e.Racute=340,e.Rcaron=344,e.Rcedilla=342,e.Rcircle=9415,e.Rcommaaccent=342,e.Rdblgrave=528,e.Rdotaccent=7768,e.Rdotbelow=7770,e.Rdotbelowmacron=7772,e.Reharmenian=1360,e.Rfraktur=8476,e.Rho=929,e.Ringsmall=63228,e.Rinvertedbreve=530,e.Rlinebelow=7774,e.Rmonospace=65330,e.Rsmall=63346,e.Rsmallinverted=641,e.Rsmallinvertedsuperior=694,e.S=83,e.SF010000=9484,e.SF020000=9492,e.SF030000=9488,e.SF040000=9496,e.SF050000=9532,e.SF060000=9516,e.SF070000=9524,e.SF080000=9500,e.SF090000=9508,e.SF100000=9472,e.SF110000=9474,e.SF190000=9569,e.SF200000=9570,e.SF210000=9558,e.SF220000=9557,e.SF230000=9571,e.SF240000=9553,e.SF250000=9559,e.SF260000=9565,e.SF270000=9564,e.SF280000=9563,e.SF360000=9566,e.SF370000=9567,e.SF380000=9562,e.SF390000=9556,e.SF400000=9577,e.SF410000=9574,e.SF420000=9568,e.SF430000=9552,e.SF440000=9580,e.SF450000=9575,e.SF460000=9576,e.SF470000=9572,e.SF480000=9573,e.SF490000=9561,e.SF500000=9560,e.SF510000=9554,e.SF520000=9555,e.SF530000=9579,e.SF540000=9578,e.Sacute=346,e.Sacutedotaccent=7780,e.Sampigreek=992,e.Scaron=352,e.Scarondotaccent=7782,e.Scaronsmall=63229,e.Scedilla=350,e.Schwa=399,e.Schwacyrillic=1240,e.Schwadieresiscyrillic=1242,e.Scircle=9416,e.Scircumflex=348,e.Scommaaccent=536,e.Sdotaccent=7776,e.Sdotbelow=7778,e.Sdotbelowdotaccent=7784,e.Seharmenian=1357,e.Sevenroman=8550,e.Shaarmenian=1351,e.Shacyrillic=1064,e.Shchacyrillic=1065,e.Sheicoptic=994,e.Shhacyrillic=1210,e.Shimacoptic=1004,e.Sigma=931,e.Sixroman=8549,e.Smonospace=65331,e.Softsigncyrillic=1068,e.Ssmall=63347,e.Stigmagreek=986,e.T=84,e.Tau=932,e.Tbar=358,e.Tcaron=356,e.Tcedilla=354,e.Tcircle=9417,e.Tcircumflexbelow=7792,e.Tcommaaccent=354,e.Tdotaccent=7786,e.Tdotbelow=7788,e.Tecyrillic=1058,e.Tedescendercyrillic=1196,e.Tenroman=8553,e.Tetsecyrillic=1204,e.Theta=920,e.Thook=428,e.Thorn=222,e.Thornsmall=63486,e.Threeroman=8546,e.Tildesmall=63230,e.Tiwnarmenian=1359,e.Tlinebelow=7790,e.Tmonospace=65332,e.Toarmenian=1337,e.Tonefive=444,e.Tonesix=388,e.Tonetwo=423,e.Tretroflexhook=430,e.Tsecyrillic=1062,e.Tshecyrillic=1035,e.Tsmall=63348,e.Twelveroman=8555,e.Tworoman=8545,e.U=85,e.Uacute=218,e.Uacutesmall=63482,e.Ubreve=364,e.Ucaron=467,e.Ucircle=9418,e.Ucircumflex=219,e.Ucircumflexbelow=7798,e.Ucircumflexsmall=63483,e.Ucyrillic=1059,e.Udblacute=368,e.Udblgrave=532,e.Udieresis=220,e.Udieresisacute=471,e.Udieresisbelow=7794,e.Udieresiscaron=473,e.Udieresiscyrillic=1264,e.Udieresisgrave=475,e.Udieresismacron=469,e.Udieresissmall=63484,e.Udotbelow=7908,e.Ugrave=217,e.Ugravesmall=63481,e.Uhookabove=7910,e.Uhorn=431,e.Uhornacute=7912,e.Uhorndotbelow=7920,e.Uhorngrave=7914,e.Uhornhookabove=7916,e.Uhorntilde=7918,e.Uhungarumlaut=368,e.Uhungarumlautcyrillic=1266,e.Uinvertedbreve=534,e.Ukcyrillic=1144,e.Umacron=362,e.Umacroncyrillic=1262,e.Umacrondieresis=7802,e.Umonospace=65333,e.Uogonek=370,e.Upsilon=933,e.Upsilon1=978,e.Upsilonacutehooksymbolgreek=979,e.Upsilonafrican=433,e.Upsilondieresis=939,e.Upsilondieresishooksymbolgreek=980,e.Upsilonhooksymbol=978,e.Upsilontonos=910,e.Uring=366,e.Ushortcyrillic=1038,e.Usmall=63349,e.Ustraightcyrillic=1198,e.Ustraightstrokecyrillic=1200,e.Utilde=360,e.Utildeacute=7800,e.Utildebelow=7796,e.V=86,e.Vcircle=9419,e.Vdotbelow=7806,e.Vecyrillic=1042,e.Vewarmenian=1358,e.Vhook=434,e.Vmonospace=65334,e.Voarmenian=1352,e.Vsmall=63350,e.Vtilde=7804,e.W=87,e.Wacute=7810,e.Wcircle=9420,e.Wcircumflex=372,e.Wdieresis=7812,e.Wdotaccent=7814,e.Wdotbelow=7816,e.Wgrave=7808,e.Wmonospace=65335,e.Wsmall=63351,e.X=88,e.Xcircle=9421,e.Xdieresis=7820,e.Xdotaccent=7818,e.Xeharmenian=1341,e.Xi=926,e.Xmonospace=65336,e.Xsmall=63352,e.Y=89,e.Yacute=221,e.Yacutesmall=63485,e.Yatcyrillic=1122,e.Ycircle=9422,e.Ycircumflex=374,e.Ydieresis=376,e.Ydieresissmall=63487,e.Ydotaccent=7822,e.Ydotbelow=7924,e.Yericyrillic=1067,e.Yerudieresiscyrillic=1272,e.Ygrave=7922,e.Yhook=435,e.Yhookabove=7926,e.Yiarmenian=1349,e.Yicyrillic=1031,e.Yiwnarmenian=1362,e.Ymonospace=65337,e.Ysmall=63353,e.Ytilde=7928,e.Yusbigcyrillic=1130,e.Yusbigiotifiedcyrillic=1132,e.Yuslittlecyrillic=1126,e.Yuslittleiotifiedcyrillic=1128,e.Z=90,e.Zaarmenian=1334,e.Zacute=377,e.Zcaron=381,e.Zcaronsmall=63231,e.Zcircle=9423,e.Zcircumflex=7824,e.Zdot=379,e.Zdotaccent=379,e.Zdotbelow=7826,e.Zecyrillic=1047,e.Zedescendercyrillic=1176,e.Zedieresiscyrillic=1246,e.Zeta=918,e.Zhearmenian=1338,e.Zhebrevecyrillic=1217,e.Zhecyrillic=1046,e.Zhedescendercyrillic=1174,e.Zhedieresiscyrillic=1244,e.Zlinebelow=7828,e.Zmonospace=65338,e.Zsmall=63354,e.Zstroke=437,e.a=97,e.aabengali=2438,e.aacute=225,e.aadeva=2310,e.aagujarati=2694,e.aagurmukhi=2566,e.aamatragurmukhi=2622,e.aarusquare=13059,e.aavowelsignbengali=2494,e.aavowelsigndeva=2366,e.aavowelsigngujarati=2750,e.abbreviationmarkarmenian=1375,e.abbreviationsigndeva=2416,e.abengali=2437,e.abopomofo=12570,e.abreve=259,e.abreveacute=7855,e.abrevecyrillic=1233,e.abrevedotbelow=7863,e.abrevegrave=7857,e.abrevehookabove=7859,e.abrevetilde=7861,e.acaron=462,e.acircle=9424,e.acircumflex=226,e.acircumflexacute=7845,e.acircumflexdotbelow=7853,e.acircumflexgrave=7847,e.acircumflexhookabove=7849,e.acircumflextilde=7851,e.acute=180,e.acutebelowcmb=791,e.acutecmb=769,e.acutecomb=769,e.acutedeva=2388,e.acutelowmod=719,e.acutetonecmb=833,e.acyrillic=1072,e.adblgrave=513,e.addakgurmukhi=2673,e.adeva=2309,e.adieresis=228,e.adieresiscyrillic=1235,e.adieresismacron=479,e.adotbelow=7841,e.adotmacron=481,e.ae=230,e.aeacute=509,e.aekorean=12624,e.aemacron=483,e.afii00208=8213,e.afii08941=8356,e.afii10017=1040,e.afii10018=1041,e.afii10019=1042,e.afii10020=1043,e.afii10021=1044,e.afii10022=1045,e.afii10023=1025,e.afii10024=1046,e.afii10025=1047,e.afii10026=1048,e.afii10027=1049,e.afii10028=1050,e.afii10029=1051,e.afii10030=1052,e.afii10031=1053,e.afii10032=1054,e.afii10033=1055,e.afii10034=1056,e.afii10035=1057,e.afii10036=1058,e.afii10037=1059,e.afii10038=1060,e.afii10039=1061,e.afii10040=1062,e.afii10041=1063,e.afii10042=1064,e.afii10043=1065,e.afii10044=1066,e.afii10045=1067,e.afii10046=1068,e.afii10047=1069,e.afii10048=1070,e.afii10049=1071,e.afii10050=1168,e.afii10051=1026,e.afii10052=1027,e.afii10053=1028,e.afii10054=1029,e.afii10055=1030,e.afii10056=1031,e.afii10057=1032,e.afii10058=1033,e.afii10059=1034,e.afii10060=1035,e.afii10061=1036,e.afii10062=1038,e.afii10063=63172,e.afii10064=63173,e.afii10065=1072,e.afii10066=1073,e.afii10067=1074,e.afii10068=1075,e.afii10069=1076,e.afii10070=1077,e.afii10071=1105,e.afii10072=1078,e.afii10073=1079,e.afii10074=1080,e.afii10075=1081,e.afii10076=1082,e.afii10077=1083,e.afii10078=1084,e.afii10079=1085,e.afii10080=1086,e.afii10081=1087,e.afii10082=1088,e.afii10083=1089,e.afii10084=1090,e.afii10085=1091,e.afii10086=1092,e.afii10087=1093,e.afii10088=1094,e.afii10089=1095,e.afii10090=1096,e.afii10091=1097,e.afii10092=1098,e.afii10093=1099,e.afii10094=1100,e.afii10095=1101,e.afii10096=1102,e.afii10097=1103,e.afii10098=1169,e.afii10099=1106,e.afii10100=1107,e.afii10101=1108,e.afii10102=1109,e.afii10103=1110,e.afii10104=1111,e.afii10105=1112,e.afii10106=1113,e.afii10107=1114,e.afii10108=1115,e.afii10109=1116,e.afii10110=1118,e.afii10145=1039,e.afii10146=1122,e.afii10147=1138,e.afii10148=1140,e.afii10192=63174,e.afii10193=1119,e.afii10194=1123,e.afii10195=1139,e.afii10196=1141,e.afii10831=63175,e.afii10832=63176,e.afii10846=1241,e.afii299=8206,e.afii300=8207,e.afii301=8205,e.afii57381=1642,e.afii57388=1548,e.afii57392=1632,e.afii57393=1633,e.afii57394=1634,e.afii57395=1635,e.afii57396=1636,e.afii57397=1637,e.afii57398=1638,e.afii57399=1639,e.afii57400=1640,e.afii57401=1641,e.afii57403=1563,e.afii57407=1567,e.afii57409=1569,e.afii57410=1570,e.afii57411=1571,e.afii57412=1572,e.afii57413=1573,e.afii57414=1574,e.afii57415=1575,e.afii57416=1576,e.afii57417=1577,e.afii57418=1578,e.afii57419=1579,e.afii57420=1580,e.afii57421=1581,e.afii57422=1582,e.afii57423=1583,e.afii57424=1584,e.afii57425=1585,e.afii57426=1586,e.afii57427=1587,e.afii57428=1588,e.afii57429=1589,e.afii57430=1590,e.afii57431=1591,e.afii57432=1592,e.afii57433=1593,e.afii57434=1594,e.afii57440=1600,e.afii57441=1601,e.afii57442=1602,e.afii57443=1603,e.afii57444=1604,e.afii57445=1605,e.afii57446=1606,e.afii57448=1608,e.afii57449=1609,e.afii57450=1610,e.afii57451=1611,e.afii57452=1612,e.afii57453=1613,e.afii57454=1614,e.afii57455=1615,e.afii57456=1616,e.afii57457=1617,e.afii57458=1618,e.afii57470=1607,e.afii57505=1700,e.afii57506=1662,e.afii57507=1670,e.afii57508=1688,e.afii57509=1711,e.afii57511=1657,e.afii57512=1672,e.afii57513=1681,e.afii57514=1722,e.afii57519=1746,e.afii57534=1749,e.afii57636=8362,e.afii57645=1470,e.afii57658=1475,e.afii57664=1488,e.afii57665=1489,e.afii57666=1490,e.afii57667=1491,e.afii57668=1492,e.afii57669=1493,e.afii57670=1494,e.afii57671=1495,e.afii57672=1496,e.afii57673=1497,e.afii57674=1498,e.afii57675=1499,e.afii57676=1500,e.afii57677=1501,e.afii57678=1502,e.afii57679=1503,e.afii57680=1504,e.afii57681=1505,e.afii57682=1506,e.afii57683=1507,e.afii57684=1508,e.afii57685=1509,e.afii57686=1510,e.afii57687=1511,e.afii57688=1512,e.afii57689=1513,e.afii57690=1514,e.afii57694=64298,e.afii57695=64299,e.afii57700=64331,e.afii57705=64287,e.afii57716=1520,e.afii57717=1521,e.afii57718=1522,e.afii57723=64309,e.afii57793=1460,e.afii57794=1461,e.afii57795=1462,e.afii57796=1467,e.afii57797=1464,e.afii57798=1463,e.afii57799=1456,e.afii57800=1458,e.afii57801=1457,e.afii57802=1459,e.afii57803=1474,e.afii57804=1473,e.afii57806=1465,e.afii57807=1468,e.afii57839=1469,e.afii57841=1471,e.afii57842=1472,e.afii57929=700,e.afii61248=8453,e.afii61289=8467,e.afii61352=8470,e.afii61573=8236,e.afii61574=8237,e.afii61575=8238,e.afii61664=8204,e.afii63167=1645,e.afii64937=701,e.agrave=224,e.agujarati=2693,e.agurmukhi=2565,e.ahiragana=12354,e.ahookabove=7843,e.aibengali=2448,e.aibopomofo=12574,e.aideva=2320,e.aiecyrillic=1237,e.aigujarati=2704,e.aigurmukhi=2576,e.aimatragurmukhi=2632,e.ainarabic=1593,e.ainfinalarabic=65226,e.aininitialarabic=65227,e.ainmedialarabic=65228,e.ainvertedbreve=515,e.aivowelsignbengali=2504,e.aivowelsigndeva=2376,e.aivowelsigngujarati=2760,e.akatakana=12450,e.akatakanahalfwidth=65393,e.akorean=12623,e.alef=1488,e.alefarabic=1575,e.alefdageshhebrew=64304,e.aleffinalarabic=65166,e.alefhamzaabovearabic=1571,e.alefhamzaabovefinalarabic=65156,e.alefhamzabelowarabic=1573,e.alefhamzabelowfinalarabic=65160,e.alefhebrew=1488,e.aleflamedhebrew=64335,e.alefmaddaabovearabic=1570,e.alefmaddaabovefinalarabic=65154,e.alefmaksuraarabic=1609,e.alefmaksurafinalarabic=65264,e.alefmaksurainitialarabic=65267,e.alefmaksuramedialarabic=65268,e.alefpatahhebrew=64302,e.alefqamatshebrew=64303,e.aleph=8501,e.allequal=8780,e.alpha=945,e.alphatonos=940,e.amacron=257,e.amonospace=65345,e.ampersand=38,e.ampersandmonospace=65286,e.ampersandsmall=63270,e.amsquare=13250,e.anbopomofo=12578,e.angbopomofo=12580,e.angbracketleft=12296,e.angbracketright=12297,e.angkhankhuthai=3674,e.angle=8736,e.anglebracketleft=12296,e.anglebracketleftvertical=65087,e.anglebracketright=12297,e.anglebracketrightvertical=65088,e.angleleft=9001,e.angleright=9002,e.angstrom=8491,e.anoteleia=903,e.anudattadeva=2386,e.anusvarabengali=2434,e.anusvaradeva=2306,e.anusvaragujarati=2690,e.aogonek=261,e.apaatosquare=13056,e.aparen=9372,e.apostrophearmenian=1370,e.apostrophemod=700,e.apple=63743,e.approaches=8784,e.approxequal=8776,e.approxequalorimage=8786,e.approximatelyequal=8773,e.araeaekorean=12686,e.araeakorean=12685,e.arc=8978,e.arighthalfring=7834,e.aring=229,e.aringacute=507,e.aringbelow=7681,e.arrowboth=8596,e.arrowdashdown=8675,e.arrowdashleft=8672,e.arrowdashright=8674,e.arrowdashup=8673,e.arrowdblboth=8660,e.arrowdbldown=8659,e.arrowdblleft=8656,e.arrowdblright=8658,e.arrowdblup=8657,e.arrowdown=8595,e.arrowdownleft=8601,e.arrowdownright=8600,e.arrowdownwhite=8681,e.arrowheaddownmod=709,e.arrowheadleftmod=706,e.arrowheadrightmod=707,e.arrowheadupmod=708,e.arrowhorizex=63719,e.arrowleft=8592,e.arrowleftdbl=8656,e.arrowleftdblstroke=8653,e.arrowleftoverright=8646,e.arrowleftwhite=8678,e.arrowright=8594,e.arrowrightdblstroke=8655,e.arrowrightheavy=10142,e.arrowrightoverleft=8644,e.arrowrightwhite=8680,e.arrowtableft=8676,e.arrowtabright=8677,e.arrowup=8593,e.arrowupdn=8597,e.arrowupdnbse=8616,e.arrowupdownbase=8616,e.arrowupleft=8598,e.arrowupleftofdown=8645,e.arrowupright=8599,e.arrowupwhite=8679,e.arrowvertex=63718,e.asciicircum=94,e.asciicircummonospace=65342,e.asciitilde=126,e.asciitildemonospace=65374,e.ascript=593,e.ascriptturned=594,e.asmallhiragana=12353,e.asmallkatakana=12449,e.asmallkatakanahalfwidth=65383,e.asterisk=42,e.asteriskaltonearabic=1645,e.asteriskarabic=1645,e.asteriskmath=8727,e.asteriskmonospace=65290,e.asterisksmall=65121,e.asterism=8258,e.asuperior=63209,e.asymptoticallyequal=8771,e.at=64,e.atilde=227,e.atmonospace=65312,e.atsmall=65131,e.aturned=592,e.aubengali=2452,e.aubopomofo=12576,e.audeva=2324,e.augujarati=2708,e.augurmukhi=2580,e.aulengthmarkbengali=2519,e.aumatragurmukhi=2636,e.auvowelsignbengali=2508,e.auvowelsigndeva=2380,e.auvowelsigngujarati=2764,e.avagrahadeva=2365,e.aybarmenian=1377,e.ayin=1506,e.ayinaltonehebrew=64288,e.ayinhebrew=1506,e.b=98,e.babengali=2476,e.backslash=92,e.backslashmonospace=65340,e.badeva=2348,e.bagujarati=2732,e.bagurmukhi=2604,e.bahiragana=12400,e.bahtthai=3647,e.bakatakana=12496,e.bar=124,e.barmonospace=65372,e.bbopomofo=12549,e.bcircle=9425,e.bdotaccent=7683,e.bdotbelow=7685,e.beamedsixteenthnotes=9836,e.because=8757,e.becyrillic=1073,e.beharabic=1576,e.behfinalarabic=65168,e.behinitialarabic=65169,e.behiragana=12409,e.behmedialarabic=65170,e.behmeeminitialarabic=64671,e.behmeemisolatedarabic=64520,e.behnoonfinalarabic=64621,e.bekatakana=12505,e.benarmenian=1378,e.bet=1489,e.beta=946,e.betasymbolgreek=976,e.betdagesh=64305,e.betdageshhebrew=64305,e.bethebrew=1489,e.betrafehebrew=64332,e.bhabengali=2477,e.bhadeva=2349,e.bhagujarati=2733,e.bhagurmukhi=2605,e.bhook=595,e.bihiragana=12403,e.bikatakana=12499,e.bilabialclick=664,e.bindigurmukhi=2562,e.birusquare=13105,e.blackcircle=9679,e.blackdiamond=9670,e.blackdownpointingtriangle=9660,e.blackleftpointingpointer=9668,e.blackleftpointingtriangle=9664,e.blacklenticularbracketleft=12304,e.blacklenticularbracketleftvertical=65083,e.blacklenticularbracketright=12305,e.blacklenticularbracketrightvertical=65084,e.blacklowerlefttriangle=9699,e.blacklowerrighttriangle=9698,e.blackrectangle=9644,e.blackrightpointingpointer=9658,e.blackrightpointingtriangle=9654,e.blacksmallsquare=9642,e.blacksmilingface=9787,e.blacksquare=9632,e.blackstar=9733,e.blackupperlefttriangle=9700,e.blackupperrighttriangle=9701,e.blackuppointingsmalltriangle=9652,e.blackuppointingtriangle=9650,e.blank=9251,e.blinebelow=7687,e.block=9608,e.bmonospace=65346,e.bobaimaithai=3610,e.bohiragana=12412,e.bokatakana=12508,e.bparen=9373,e.bqsquare=13251,e.braceex=63732,e.braceleft=123,e.braceleftbt=63731,e.braceleftmid=63730,e.braceleftmonospace=65371,e.braceleftsmall=65115,e.bracelefttp=63729,e.braceleftvertical=65079,e.braceright=125,e.bracerightbt=63742,e.bracerightmid=63741,e.bracerightmonospace=65373,e.bracerightsmall=65116,e.bracerighttp=63740,e.bracerightvertical=65080,e.bracketleft=91,e.bracketleftbt=63728,e.bracketleftex=63727,e.bracketleftmonospace=65339,e.bracketlefttp=63726,e.bracketright=93,e.bracketrightbt=63739,e.bracketrightex=63738,e.bracketrightmonospace=65341,e.bracketrighttp=63737,e.breve=728,e.brevebelowcmb=814,e.brevecmb=774,e.breveinvertedbelowcmb=815,e.breveinvertedcmb=785,e.breveinverteddoublecmb=865,e.bridgebelowcmb=810,e.bridgeinvertedbelowcmb=826,e.brokenbar=166,e.bstroke=384,e.bsuperior=63210,e.btopbar=387,e.buhiragana=12406,e.bukatakana=12502,e.bullet=8226,e.bulletinverse=9688,e.bulletoperator=8729,e.bullseye=9678,e.c=99,e.caarmenian=1390,e.cabengali=2458,e.cacute=263,e.cadeva=2330,e.cagujarati=2714,e.cagurmukhi=2586,e.calsquare=13192,e.candrabindubengali=2433,e.candrabinducmb=784,e.candrabindudeva=2305,e.candrabindugujarati=2689,e.capslock=8682,e.careof=8453,e.caron=711,e.caronbelowcmb=812,e.caroncmb=780,e.carriagereturn=8629,e.cbopomofo=12568,e.ccaron=269,e.ccedilla=231,e.ccedillaacute=7689,e.ccircle=9426,e.ccircumflex=265,e.ccurl=597,e.cdot=267,e.cdotaccent=267,e.cdsquare=13253,e.cedilla=184,e.cedillacmb=807,e.cent=162,e.centigrade=8451,e.centinferior=63199,e.centmonospace=65504,e.centoldstyle=63394,e.centsuperior=63200,e.chaarmenian=1401,e.chabengali=2459,e.chadeva=2331,e.chagujarati=2715,e.chagurmukhi=2587,e.chbopomofo=12564,e.cheabkhasiancyrillic=1213,e.checkmark=10003,e.checyrillic=1095,e.chedescenderabkhasiancyrillic=1215,e.chedescendercyrillic=1207,e.chedieresiscyrillic=1269,e.cheharmenian=1395,e.chekhakassiancyrillic=1228,e.cheverticalstrokecyrillic=1209,e.chi=967,e.chieuchacirclekorean=12919,e.chieuchaparenkorean=12823,e.chieuchcirclekorean=12905,e.chieuchkorean=12618,e.chieuchparenkorean=12809,e.chochangthai=3594,e.chochanthai=3592,e.chochingthai=3593,e.chochoethai=3596,e.chook=392,e.cieucacirclekorean=12918,e.cieucaparenkorean=12822,e.cieuccirclekorean=12904,e.cieuckorean=12616,e.cieucparenkorean=12808,e.cieucuparenkorean=12828,e.circle=9675,e.circlecopyrt=169,e.circlemultiply=8855,e.circleot=8857,e.circleplus=8853,e.circlepostalmark=12342,e.circlewithlefthalfblack=9680,e.circlewithrighthalfblack=9681,e.circumflex=710,e.circumflexbelowcmb=813,e.circumflexcmb=770,e.clear=8999,e.clickalveolar=450,e.clickdental=448,e.clicklateral=449,e.clickretroflex=451,e.club=9827,e.clubsuitblack=9827,e.clubsuitwhite=9831,e.cmcubedsquare=13220,e.cmonospace=65347,e.cmsquaredsquare=13216,e.coarmenian=1409,e.colon=58,e.colonmonetary=8353,e.colonmonospace=65306,e.colonsign=8353,e.colonsmall=65109,e.colontriangularhalfmod=721,e.colontriangularmod=720,e.comma=44,e.commaabovecmb=787,e.commaaboverightcmb=789,e.commaaccent=63171,e.commaarabic=1548,e.commaarmenian=1373,e.commainferior=63201,e.commamonospace=65292,e.commareversedabovecmb=788,e.commareversedmod=701,e.commasmall=65104,e.commasuperior=63202,e.commaturnedabovecmb=786,e.commaturnedmod=699,e.compass=9788,e.congruent=8773,e.contourintegral=8750,e.control=8963,e.controlACK=6,e.controlBEL=7,e.controlBS=8,e.controlCAN=24,e.controlCR=13,e.controlDC1=17,e.controlDC2=18,e.controlDC3=19,e.controlDC4=20,e.controlDEL=127,e.controlDLE=16,e.controlEM=25,e.controlENQ=5,e.controlEOT=4,e.controlESC=27,e.controlETB=23,e.controlETX=3,e.controlFF=12,e.controlFS=28,e.controlGS=29,e.controlHT=9,e.controlLF=10,e.controlNAK=21,e.controlNULL=0,e.controlRS=30,e.controlSI=15,e.controlSO=14,e.controlSOT=2,e.controlSTX=1,e.controlSUB=26,e.controlSYN=22,e.controlUS=31,e.controlVT=11,e.copyright=169,e.copyrightsans=63721,e.copyrightserif=63193,e.cornerbracketleft=12300,e.cornerbracketlefthalfwidth=65378,e.cornerbracketleftvertical=65089,e.cornerbracketright=12301,e.cornerbracketrighthalfwidth=65379,e.cornerbracketrightvertical=65090,e.corporationsquare=13183,e.cosquare=13255,e.coverkgsquare=13254,e.cparen=9374,e.cruzeiro=8354,e.cstretched=663,e.curlyand=8911,e.curlyor=8910,e.currency=164,e.cyrBreve=63185,e.cyrFlex=63186,e.cyrbreve=63188,e.cyrflex=63189,e.d=100,e.daarmenian=1380,e.dabengali=2470,e.dadarabic=1590,e.dadeva=2342,e.dadfinalarabic=65214,e.dadinitialarabic=65215,e.dadmedialarabic=65216,e.dagesh=1468,e.dageshhebrew=1468,e.dagger=8224,e.daggerdbl=8225,e.dagujarati=2726,e.dagurmukhi=2598,e.dahiragana=12384,e.dakatakana=12480,e.dalarabic=1583,e.dalet=1491,e.daletdagesh=64307,e.daletdageshhebrew=64307,e.dalethebrew=1491,e.dalfinalarabic=65194,e.dammaarabic=1615,e.dammalowarabic=1615,e.dammatanaltonearabic=1612,e.dammatanarabic=1612,e.danda=2404,e.dargahebrew=1447,e.dargalefthebrew=1447,e.dasiapneumatacyrilliccmb=1157,e.dblGrave=63187,e.dblanglebracketleft=12298,e.dblanglebracketleftvertical=65085,e.dblanglebracketright=12299,e.dblanglebracketrightvertical=65086,e.dblarchinvertedbelowcmb=811,e.dblarrowleft=8660,e.dblarrowright=8658,e.dbldanda=2405,e.dblgrave=63190,e.dblgravecmb=783,e.dblintegral=8748,e.dbllowline=8215,e.dbllowlinecmb=819,e.dbloverlinecmb=831,e.dblprimemod=698,e.dblverticalbar=8214,e.dblverticallineabovecmb=782,e.dbopomofo=12553,e.dbsquare=13256,e.dcaron=271,e.dcedilla=7697,e.dcircle=9427,e.dcircumflexbelow=7699,e.dcroat=273,e.ddabengali=2465,e.ddadeva=2337,e.ddagujarati=2721,e.ddagurmukhi=2593,e.ddalarabic=1672,e.ddalfinalarabic=64393,e.dddhadeva=2396,e.ddhabengali=2466,e.ddhadeva=2338,e.ddhagujarati=2722,e.ddhagurmukhi=2594,e.ddotaccent=7691,e.ddotbelow=7693,e.decimalseparatorarabic=1643,e.decimalseparatorpersian=1643,e.decyrillic=1076,e.degree=176,e.dehihebrew=1453,e.dehiragana=12391,e.deicoptic=1007,e.dekatakana=12487,e.deleteleft=9003,e.deleteright=8998,e.delta=948,e.deltaturned=397,e.denominatorminusonenumeratorbengali=2552,e.dezh=676,e.dhabengali=2471,e.dhadeva=2343,e.dhagujarati=2727,e.dhagurmukhi=2599,e.dhook=599,e.dialytikatonos=901,e.dialytikatonoscmb=836,e.diamond=9830,e.diamondsuitwhite=9826,e.dieresis=168,e.dieresisacute=63191,e.dieresisbelowcmb=804,e.dieresiscmb=776,e.dieresisgrave=63192,e.dieresistonos=901,e.dihiragana=12386,e.dikatakana=12482,e.dittomark=12291,e.divide=247,e.divides=8739,e.divisionslash=8725,e.djecyrillic=1106,e.dkshade=9619,e.dlinebelow=7695,e.dlsquare=13207,e.dmacron=273,e.dmonospace=65348,e.dnblock=9604,e.dochadathai=3598,e.dodekthai=3604,e.dohiragana=12393,e.dokatakana=12489,e.dollar=36,e.dollarinferior=63203,e.dollarmonospace=65284,e.dollaroldstyle=63268,e.dollarsmall=65129,e.dollarsuperior=63204,e.dong=8363,e.dorusquare=13094,e.dotaccent=729,e.dotaccentcmb=775,e.dotbelowcmb=803,e.dotbelowcomb=803,e.dotkatakana=12539,e.dotlessi=305,e.dotlessj=63166,e.dotlessjstrokehook=644,e.dotmath=8901,e.dottedcircle=9676,e.doubleyodpatah=64287,e.doubleyodpatahhebrew=64287,e.downtackbelowcmb=798,e.downtackmod=725,e.dparen=9375,e.dsuperior=63211,e.dtail=598,e.dtopbar=396,e.duhiragana=12389,e.dukatakana=12485,e.dz=499,e.dzaltone=675,e.dzcaron=454,e.dzcurl=677,e.dzeabkhasiancyrillic=1249,e.dzecyrillic=1109,e.dzhecyrillic=1119,e.e=101,e.eacute=233,e.earth=9793,e.ebengali=2447,e.ebopomofo=12572,e.ebreve=277,e.ecandradeva=2317,e.ecandragujarati=2701,e.ecandravowelsigndeva=2373,e.ecandravowelsigngujarati=2757,e.ecaron=283,e.ecedillabreve=7709,e.echarmenian=1381,e.echyiwnarmenian=1415,e.ecircle=9428,e.ecircumflex=234,e.ecircumflexacute=7871,e.ecircumflexbelow=7705,e.ecircumflexdotbelow=7879,e.ecircumflexgrave=7873,e.ecircumflexhookabove=7875,e.ecircumflextilde=7877,e.ecyrillic=1108,e.edblgrave=517,e.edeva=2319,e.edieresis=235,e.edot=279,e.edotaccent=279,e.edotbelow=7865,e.eegurmukhi=2575,e.eematragurmukhi=2631,e.efcyrillic=1092,e.egrave=232,e.egujarati=2703,e.eharmenian=1383,e.ehbopomofo=12573,e.ehiragana=12360,e.ehookabove=7867,e.eibopomofo=12575,e.eight=56,e.eightarabic=1640,e.eightbengali=2542,e.eightcircle=9319,e.eightcircleinversesansserif=10129,e.eightdeva=2414,e.eighteencircle=9329,e.eighteenparen=9349,e.eighteenperiod=9369,e.eightgujarati=2798,e.eightgurmukhi=2670,e.eighthackarabic=1640,e.eighthangzhou=12328,e.eighthnotebeamed=9835,e.eightideographicparen=12839,e.eightinferior=8328,e.eightmonospace=65304,e.eightoldstyle=63288,e.eightparen=9339,e.eightperiod=9359,e.eightpersian=1784,e.eightroman=8567,e.eightsuperior=8312,e.eightthai=3672,e.einvertedbreve=519,e.eiotifiedcyrillic=1125,e.ekatakana=12456,e.ekatakanahalfwidth=65396,e.ekonkargurmukhi=2676,e.ekorean=12628,e.elcyrillic=1083,e.element=8712,e.elevencircle=9322,e.elevenparen=9342,e.elevenperiod=9362,e.elevenroman=8570,e.ellipsis=8230,e.ellipsisvertical=8942,e.emacron=275,e.emacronacute=7703,e.emacrongrave=7701,e.emcyrillic=1084,e.emdash=8212,e.emdashvertical=65073,e.emonospace=65349,e.emphasismarkarmenian=1371,e.emptyset=8709,e.enbopomofo=12579,e.encyrillic=1085,e.endash=8211,e.endashvertical=65074,e.endescendercyrillic=1187,e.eng=331,e.engbopomofo=12581,e.enghecyrillic=1189,e.enhookcyrillic=1224,e.enspace=8194,e.eogonek=281,e.eokorean=12627,e.eopen=603,e.eopenclosed=666,e.eopenreversed=604,e.eopenreversedclosed=606,e.eopenreversedhook=605,e.eparen=9376,e.epsilon=949,e.epsilontonos=941,e.equal=61,e.equalmonospace=65309,e.equalsmall=65126,e.equalsuperior=8316,e.equivalence=8801,e.erbopomofo=12582,e.ercyrillic=1088,e.ereversed=600,e.ereversedcyrillic=1101,e.escyrillic=1089,e.esdescendercyrillic=1195,e.esh=643,e.eshcurl=646,e.eshortdeva=2318,e.eshortvowelsigndeva=2374,e.eshreversedloop=426,e.eshsquatreversed=645,e.esmallhiragana=12359,e.esmallkatakana=12455,e.esmallkatakanahalfwidth=65386,e.estimated=8494,e.esuperior=63212,e.eta=951,e.etarmenian=1384,e.etatonos=942,e.eth=240,e.etilde=7869,e.etildebelow=7707,e.etnahtafoukhhebrew=1425,e.etnahtafoukhlefthebrew=1425,e.etnahtahebrew=1425,e.etnahtalefthebrew=1425,e.eturned=477,e.eukorean=12641,e.euro=8364,e.evowelsignbengali=2503,e.evowelsigndeva=2375,e.evowelsigngujarati=2759,e.exclam=33,e.exclamarmenian=1372,e.exclamdbl=8252,e.exclamdown=161,e.exclamdownsmall=63393,e.exclammonospace=65281,e.exclamsmall=63265,e.existential=8707,e.ezh=658,e.ezhcaron=495,e.ezhcurl=659,e.ezhreversed=441,e.ezhtail=442,e.f=102,e.fadeva=2398,e.fagurmukhi=2654,e.fahrenheit=8457,e.fathaarabic=1614,e.fathalowarabic=1614,e.fathatanarabic=1611,e.fbopomofo=12552,e.fcircle=9429,e.fdotaccent=7711,e.feharabic=1601,e.feharmenian=1414,e.fehfinalarabic=65234,e.fehinitialarabic=65235,e.fehmedialarabic=65236,e.feicoptic=997,e.female=9792,e.ff=64256,e.f_f=64256,e.ffi=64259,e.f_f_i=64259,e.ffl=64260,e.f_f_l=64260,e.fi=64257,e.f_i=64257,e.fifteencircle=9326,e.fifteenparen=9346,e.fifteenperiod=9366,e.figuredash=8210,e.filledbox=9632,e.filledrect=9644,e.finalkaf=1498,e.finalkafdagesh=64314,e.finalkafdageshhebrew=64314,e.finalkafhebrew=1498,e.finalmem=1501,e.finalmemhebrew=1501,e.finalnun=1503,e.finalnunhebrew=1503,e.finalpe=1507,e.finalpehebrew=1507,e.finaltsadi=1509,e.finaltsadihebrew=1509,e.firsttonechinese=713,e.fisheye=9673,e.fitacyrillic=1139,e.five=53,e.fivearabic=1637,e.fivebengali=2539,e.fivecircle=9316,e.fivecircleinversesansserif=10126,e.fivedeva=2411,e.fiveeighths=8541,e.fivegujarati=2795,e.fivegurmukhi=2667,e.fivehackarabic=1637,e.fivehangzhou=12325,e.fiveideographicparen=12836,e.fiveinferior=8325,e.fivemonospace=65301,e.fiveoldstyle=63285,e.fiveparen=9336,e.fiveperiod=9356,e.fivepersian=1781,e.fiveroman=8564,e.fivesuperior=8309,e.fivethai=3669,e.fl=64258,e.f_l=64258,e.florin=402,e.fmonospace=65350,e.fmsquare=13209,e.fofanthai=3615,e.fofathai=3613,e.fongmanthai=3663,e.forall=8704,e.four=52,e.fourarabic=1636,e.fourbengali=2538,e.fourcircle=9315,e.fourcircleinversesansserif=10125,e.fourdeva=2410,e.fourgujarati=2794,e.fourgurmukhi=2666,e.fourhackarabic=1636,e.fourhangzhou=12324,e.fourideographicparen=12835,e.fourinferior=8324,e.fourmonospace=65300,e.fournumeratorbengali=2551,e.fouroldstyle=63284,e.fourparen=9335,e.fourperiod=9355,e.fourpersian=1780,e.fourroman=8563,e.foursuperior=8308,e.fourteencircle=9325,e.fourteenparen=9345,e.fourteenperiod=9365,e.fourthai=3668,e.fourthtonechinese=715,e.fparen=9377,e.fraction=8260,e.franc=8355,e.g=103,e.gabengali=2455,e.gacute=501,e.gadeva=2327,e.gafarabic=1711,e.gaffinalarabic=64403,e.gafinitialarabic=64404,e.gafmedialarabic=64405,e.gagujarati=2711,e.gagurmukhi=2583,e.gahiragana=12364,e.gakatakana=12460,e.gamma=947,e.gammalatinsmall=611,e.gammasuperior=736,e.gangiacoptic=1003,e.gbopomofo=12557,e.gbreve=287,e.gcaron=487,e.gcedilla=291,e.gcircle=9430,e.gcircumflex=285,e.gcommaaccent=291,e.gdot=289,e.gdotaccent=289,e.gecyrillic=1075,e.gehiragana=12370,e.gekatakana=12466,e.geometricallyequal=8785,e.gereshaccenthebrew=1436,e.gereshhebrew=1523,e.gereshmuqdamhebrew=1437,e.germandbls=223,e.gershayimaccenthebrew=1438,e.gershayimhebrew=1524,e.getamark=12307,e.ghabengali=2456,e.ghadarmenian=1394,e.ghadeva=2328,e.ghagujarati=2712,e.ghagurmukhi=2584,e.ghainarabic=1594,e.ghainfinalarabic=65230,e.ghaininitialarabic=65231,e.ghainmedialarabic=65232,e.ghemiddlehookcyrillic=1173,e.ghestrokecyrillic=1171,e.gheupturncyrillic=1169,e.ghhadeva=2394,e.ghhagurmukhi=2650,e.ghook=608,e.ghzsquare=13203,e.gihiragana=12366,e.gikatakana=12462,e.gimarmenian=1379,e.gimel=1490,e.gimeldagesh=64306,e.gimeldageshhebrew=64306,e.gimelhebrew=1490,e.gjecyrillic=1107,e.glottalinvertedstroke=446,e.glottalstop=660,e.glottalstopinverted=662,e.glottalstopmod=704,e.glottalstopreversed=661,e.glottalstopreversedmod=705,e.glottalstopreversedsuperior=740,e.glottalstopstroke=673,e.glottalstopstrokereversed=674,e.gmacron=7713,e.gmonospace=65351,e.gohiragana=12372,e.gokatakana=12468,e.gparen=9378,e.gpasquare=13228,e.gradient=8711,e.grave=96,e.gravebelowcmb=790,e.gravecmb=768,e.gravecomb=768,e.gravedeva=2387,e.gravelowmod=718,e.gravemonospace=65344,e.gravetonecmb=832,e.greater=62,e.greaterequal=8805,e.greaterequalorless=8923,e.greatermonospace=65310,e.greaterorequivalent=8819,e.greaterorless=8823,e.greateroverequal=8807,e.greatersmall=65125,e.gscript=609,e.gstroke=485,e.guhiragana=12368,e.guillemotleft=171,e.guillemotright=187,e.guilsinglleft=8249,e.guilsinglright=8250,e.gukatakana=12464,e.guramusquare=13080,e.gysquare=13257,e.h=104,e.haabkhasiancyrillic=1193,e.haaltonearabic=1729,e.habengali=2489,e.hadescendercyrillic=1203,e.hadeva=2361,e.hagujarati=2745,e.hagurmukhi=2617,e.haharabic=1581,e.hahfinalarabic=65186,e.hahinitialarabic=65187,e.hahiragana=12399,e.hahmedialarabic=65188,e.haitusquare=13098,e.hakatakana=12495,e.hakatakanahalfwidth=65418,e.halantgurmukhi=2637,e.hamzaarabic=1569,e.hamzalowarabic=1569,e.hangulfiller=12644,e.hardsigncyrillic=1098,e.harpoonleftbarbup=8636,e.harpoonrightbarbup=8640,e.hasquare=13258,e.hatafpatah=1458,e.hatafpatah16=1458,e.hatafpatah23=1458,e.hatafpatah2f=1458,e.hatafpatahhebrew=1458,e.hatafpatahnarrowhebrew=1458,e.hatafpatahquarterhebrew=1458,e.hatafpatahwidehebrew=1458,e.hatafqamats=1459,e.hatafqamats1b=1459,e.hatafqamats28=1459,e.hatafqamats34=1459,e.hatafqamatshebrew=1459,e.hatafqamatsnarrowhebrew=1459,e.hatafqamatsquarterhebrew=1459,e.hatafqamatswidehebrew=1459,e.hatafsegol=1457,e.hatafsegol17=1457,e.hatafsegol24=1457,e.hatafsegol30=1457,e.hatafsegolhebrew=1457,e.hatafsegolnarrowhebrew=1457,e.hatafsegolquarterhebrew=1457,e.hatafsegolwidehebrew=1457,e.hbar=295,e.hbopomofo=12559,e.hbrevebelow=7723,e.hcedilla=7721,e.hcircle=9431,e.hcircumflex=293,e.hdieresis=7719,e.hdotaccent=7715,e.hdotbelow=7717,e.he=1492,e.heart=9829,e.heartsuitblack=9829,e.heartsuitwhite=9825,e.hedagesh=64308,e.hedageshhebrew=64308,e.hehaltonearabic=1729,e.heharabic=1607,e.hehebrew=1492,e.hehfinalaltonearabic=64423,e.hehfinalalttwoarabic=65258,e.hehfinalarabic=65258,e.hehhamzaabovefinalarabic=64421,e.hehhamzaaboveisolatedarabic=64420,e.hehinitialaltonearabic=64424,e.hehinitialarabic=65259,e.hehiragana=12408,e.hehmedialaltonearabic=64425,e.hehmedialarabic=65260,e.heiseierasquare=13179,e.hekatakana=12504,e.hekatakanahalfwidth=65421,e.hekutaarusquare=13110,e.henghook=615,e.herutusquare=13113,e.het=1495,e.hethebrew=1495,e.hhook=614,e.hhooksuperior=689,e.hieuhacirclekorean=12923,e.hieuhaparenkorean=12827,e.hieuhcirclekorean=12909,e.hieuhkorean=12622,e.hieuhparenkorean=12813,e.hihiragana=12402,e.hikatakana=12498,e.hikatakanahalfwidth=65419,e.hiriq=1460,e.hiriq14=1460,e.hiriq21=1460,e.hiriq2d=1460,e.hiriqhebrew=1460,e.hiriqnarrowhebrew=1460,e.hiriqquarterhebrew=1460,e.hiriqwidehebrew=1460,e.hlinebelow=7830,e.hmonospace=65352,e.hoarmenian=1392,e.hohipthai=3627,e.hohiragana=12411,e.hokatakana=12507,e.hokatakanahalfwidth=65422,e.holam=1465,e.holam19=1465,e.holam26=1465,e.holam32=1465,e.holamhebrew=1465,e.holamnarrowhebrew=1465,e.holamquarterhebrew=1465,e.holamwidehebrew=1465,e.honokhukthai=3630,e.hookabovecomb=777,e.hookcmb=777,e.hookpalatalizedbelowcmb=801,e.hookretroflexbelowcmb=802,e.hoonsquare=13122,e.horicoptic=1001,e.horizontalbar=8213,e.horncmb=795,e.hotsprings=9832,e.house=8962,e.hparen=9379,e.hsuperior=688,e.hturned=613,e.huhiragana=12405,e.huiitosquare=13107,e.hukatakana=12501,e.hukatakanahalfwidth=65420,e.hungarumlaut=733,e.hungarumlautcmb=779,e.hv=405,e.hyphen=45,e.hypheninferior=63205,e.hyphenmonospace=65293,e.hyphensmall=65123,e.hyphensuperior=63206,e.hyphentwo=8208,e.i=105,e.iacute=237,e.iacyrillic=1103,e.ibengali=2439,e.ibopomofo=12583,e.ibreve=301,e.icaron=464,e.icircle=9432,e.icircumflex=238,e.icyrillic=1110,e.idblgrave=521,e.ideographearthcircle=12943,e.ideographfirecircle=12939,e.ideographicallianceparen=12863,e.ideographiccallparen=12858,e.ideographiccentrecircle=12965,e.ideographicclose=12294,e.ideographiccomma=12289,e.ideographiccommaleft=65380,e.ideographiccongratulationparen=12855,e.ideographiccorrectcircle=12963,e.ideographicearthparen=12847,e.ideographicenterpriseparen=12861,e.ideographicexcellentcircle=12957,e.ideographicfestivalparen=12864,e.ideographicfinancialcircle=12950,e.ideographicfinancialparen=12854,e.ideographicfireparen=12843,e.ideographichaveparen=12850,e.ideographichighcircle=12964,e.ideographiciterationmark=12293,e.ideographiclaborcircle=12952,e.ideographiclaborparen=12856,e.ideographicleftcircle=12967,e.ideographiclowcircle=12966,e.ideographicmedicinecircle=12969,e.ideographicmetalparen=12846,e.ideographicmoonparen=12842,e.ideographicnameparen=12852,e.ideographicperiod=12290,e.ideographicprintcircle=12958,e.ideographicreachparen=12867,e.ideographicrepresentparen=12857,e.ideographicresourceparen=12862,e.ideographicrightcircle=12968,e.ideographicsecretcircle=12953,e.ideographicselfparen=12866,e.ideographicsocietyparen=12851,e.ideographicspace=12288,e.ideographicspecialparen=12853,e.ideographicstockparen=12849,e.ideographicstudyparen=12859,e.ideographicsunparen=12848,e.ideographicsuperviseparen=12860,e.ideographicwaterparen=12844,e.ideographicwoodparen=12845,e.ideographiczero=12295,e.ideographmetalcircle=12942,e.ideographmooncircle=12938,e.ideographnamecircle=12948,e.ideographsuncircle=12944,e.ideographwatercircle=12940,e.ideographwoodcircle=12941,e.ideva=2311,e.idieresis=239,e.idieresisacute=7727,e.idieresiscyrillic=1253,e.idotbelow=7883,e.iebrevecyrillic=1239,e.iecyrillic=1077,e.ieungacirclekorean=12917,e.ieungaparenkorean=12821,e.ieungcirclekorean=12903,e.ieungkorean=12615,e.ieungparenkorean=12807,e.igrave=236,e.igujarati=2695,e.igurmukhi=2567,e.ihiragana=12356,e.ihookabove=7881,e.iibengali=2440,e.iicyrillic=1080,e.iideva=2312,e.iigujarati=2696,e.iigurmukhi=2568,e.iimatragurmukhi=2624,e.iinvertedbreve=523,e.iishortcyrillic=1081,e.iivowelsignbengali=2496,e.iivowelsigndeva=2368,e.iivowelsigngujarati=2752,e.ij=307,e.ikatakana=12452,e.ikatakanahalfwidth=65394,e.ikorean=12643,e.ilde=732,e.iluyhebrew=1452,e.imacron=299,e.imacroncyrillic=1251,e.imageorapproximatelyequal=8787,e.imatragurmukhi=2623,e.imonospace=65353,e.increment=8710,e.infinity=8734,e.iniarmenian=1387,e.integral=8747,e.integralbottom=8993,e.integralbt=8993,e.integralex=63733,e.integraltop=8992,e.integraltp=8992,e.intersection=8745,e.intisquare=13061,e.invbullet=9688,e.invcircle=9689,e.invsmileface=9787,e.iocyrillic=1105,e.iogonek=303,e.iota=953,e.iotadieresis=970,e.iotadieresistonos=912,e.iotalatin=617,e.iotatonos=943,e.iparen=9380,e.irigurmukhi=2674,e.ismallhiragana=12355,e.ismallkatakana=12451,e.ismallkatakanahalfwidth=65384,e.issharbengali=2554,e.istroke=616,e.isuperior=63213,e.iterationhiragana=12445,e.iterationkatakana=12541,e.itilde=297,e.itildebelow=7725,e.iubopomofo=12585,e.iucyrillic=1102,e.ivowelsignbengali=2495,e.ivowelsigndeva=2367,e.ivowelsigngujarati=2751,e.izhitsacyrillic=1141,e.izhitsadblgravecyrillic=1143,e.j=106,e.jaarmenian=1393,e.jabengali=2460,e.jadeva=2332,e.jagujarati=2716,e.jagurmukhi=2588,e.jbopomofo=12560,e.jcaron=496,e.jcircle=9433,e.jcircumflex=309,e.jcrossedtail=669,e.jdotlessstroke=607,e.jecyrillic=1112,e.jeemarabic=1580,e.jeemfinalarabic=65182,e.jeeminitialarabic=65183,e.jeemmedialarabic=65184,e.jeharabic=1688,e.jehfinalarabic=64395,e.jhabengali=2461,e.jhadeva=2333,e.jhagujarati=2717,e.jhagurmukhi=2589,e.jheharmenian=1403,e.jis=12292,e.jmonospace=65354,e.jparen=9381,e.jsuperior=690,e.k=107,e.kabashkircyrillic=1185,e.kabengali=2453,e.kacute=7729,e.kacyrillic=1082,e.kadescendercyrillic=1179,e.kadeva=2325,e.kaf=1499,e.kafarabic=1603,e.kafdagesh=64315,e.kafdageshhebrew=64315,e.kaffinalarabic=65242,e.kafhebrew=1499,e.kafinitialarabic=65243,e.kafmedialarabic=65244,e.kafrafehebrew=64333,e.kagujarati=2709,e.kagurmukhi=2581,e.kahiragana=12363,e.kahookcyrillic=1220,e.kakatakana=12459,e.kakatakanahalfwidth=65398,e.kappa=954,e.kappasymbolgreek=1008,e.kapyeounmieumkorean=12657,e.kapyeounphieuphkorean=12676,e.kapyeounpieupkorean=12664,e.kapyeounssangpieupkorean=12665,e.karoriisquare=13069,e.kashidaautoarabic=1600,e.kashidaautonosidebearingarabic=1600,e.kasmallkatakana=12533,e.kasquare=13188,e.kasraarabic=1616,e.kasratanarabic=1613,e.kastrokecyrillic=1183,e.katahiraprolongmarkhalfwidth=65392,e.kaverticalstrokecyrillic=1181,e.kbopomofo=12558,e.kcalsquare=13193,e.kcaron=489,e.kcedilla=311,e.kcircle=9434,e.kcommaaccent=311,e.kdotbelow=7731,e.keharmenian=1412,e.kehiragana=12369,e.kekatakana=12465,e.kekatakanahalfwidth=65401,e.kenarmenian=1391,e.kesmallkatakana=12534,e.kgreenlandic=312,e.khabengali=2454,e.khacyrillic=1093,e.khadeva=2326,e.khagujarati=2710,e.khagurmukhi=2582,e.khaharabic=1582,e.khahfinalarabic=65190,e.khahinitialarabic=65191,e.khahmedialarabic=65192,e.kheicoptic=999,e.khhadeva=2393,e.khhagurmukhi=2649,e.khieukhacirclekorean=12920,e.khieukhaparenkorean=12824,e.khieukhcirclekorean=12906,e.khieukhkorean=12619,e.khieukhparenkorean=12810,e.khokhaithai=3586,e.khokhonthai=3589,e.khokhuatthai=3587,e.khokhwaithai=3588,e.khomutthai=3675,e.khook=409,e.khorakhangthai=3590,e.khzsquare=13201,e.kihiragana=12365,e.kikatakana=12461,e.kikatakanahalfwidth=65399,e.kiroguramusquare=13077,e.kiromeetorusquare=13078,e.kirosquare=13076,e.kiyeokacirclekorean=12910,e.kiyeokaparenkorean=12814,e.kiyeokcirclekorean=12896,e.kiyeokkorean=12593,e.kiyeokparenkorean=12800,e.kiyeoksioskorean=12595,e.kjecyrillic=1116,e.klinebelow=7733,e.klsquare=13208,e.kmcubedsquare=13222,e.kmonospace=65355,e.kmsquaredsquare=13218,e.kohiragana=12371,e.kohmsquare=13248,e.kokaithai=3585,e.kokatakana=12467,e.kokatakanahalfwidth=65402,e.kooposquare=13086,e.koppacyrillic=1153,e.koreanstandardsymbol=12927,e.koroniscmb=835,e.kparen=9382,e.kpasquare=13226,e.ksicyrillic=1135,e.ktsquare=13263,e.kturned=670,e.kuhiragana=12367,e.kukatakana=12463,e.kukatakanahalfwidth=65400,e.kvsquare=13240,e.kwsquare=13246,e.l=108,e.labengali=2482,e.lacute=314,e.ladeva=2354,e.lagujarati=2738,e.lagurmukhi=2610,e.lakkhangyaothai=3653,e.lamaleffinalarabic=65276,e.lamalefhamzaabovefinalarabic=65272,e.lamalefhamzaaboveisolatedarabic=65271,e.lamalefhamzabelowfinalarabic=65274,e.lamalefhamzabelowisolatedarabic=65273,e.lamalefisolatedarabic=65275,e.lamalefmaddaabovefinalarabic=65270,e.lamalefmaddaaboveisolatedarabic=65269,e.lamarabic=1604,e.lambda=955,e.lambdastroke=411,e.lamed=1500,e.lameddagesh=64316,e.lameddageshhebrew=64316,e.lamedhebrew=1500,e.lamfinalarabic=65246,e.lamhahinitialarabic=64714,e.laminitialarabic=65247,e.lamjeeminitialarabic=64713,e.lamkhahinitialarabic=64715,e.lamlamhehisolatedarabic=65010,e.lammedialarabic=65248,e.lammeemhahinitialarabic=64904,e.lammeeminitialarabic=64716,e.largecircle=9711,e.lbar=410,e.lbelt=620,e.lbopomofo=12556,e.lcaron=318,e.lcedilla=316,e.lcircle=9435,e.lcircumflexbelow=7741,e.lcommaaccent=316,e.ldot=320,e.ldotaccent=320,e.ldotbelow=7735,e.ldotbelowmacron=7737,e.leftangleabovecmb=794,e.lefttackbelowcmb=792,e.less=60,e.lessequal=8804,e.lessequalorgreater=8922,e.lessmonospace=65308,e.lessorequivalent=8818,e.lessorgreater=8822,e.lessoverequal=8806,e.lesssmall=65124,e.lezh=622,e.lfblock=9612,e.lhookretroflex=621,e.lira=8356,e.liwnarmenian=1388,e.lj=457,e.ljecyrillic=1113,e.ll=63168,e.lladeva=2355,e.llagujarati=2739,e.llinebelow=7739,e.llladeva=2356,e.llvocalicbengali=2529,e.llvocalicdeva=2401,e.llvocalicvowelsignbengali=2531,e.llvocalicvowelsigndeva=2403,e.lmiddletilde=619,e.lmonospace=65356,e.lmsquare=13264,e.lochulathai=3628,e.logicaland=8743,e.logicalnot=172,e.logicalnotreversed=8976,e.logicalor=8744,e.lolingthai=3621,e.longs=383,e.lowlinecenterline=65102,e.lowlinecmb=818,e.lowlinedashed=65101,e.lozenge=9674,e.lparen=9383,e.lslash=322,e.lsquare=8467,e.lsuperior=63214,e.ltshade=9617,e.luthai=3622,e.lvocalicbengali=2444,e.lvocalicdeva=2316,e.lvocalicvowelsignbengali=2530,e.lvocalicvowelsigndeva=2402,e.lxsquare=13267,e.m=109,e.mabengali=2478,e.macron=175,e.macronbelowcmb=817,e.macroncmb=772,e.macronlowmod=717,e.macronmonospace=65507,e.macute=7743,e.madeva=2350,e.magujarati=2734,e.magurmukhi=2606,e.mahapakhhebrew=1444,e.mahapakhlefthebrew=1444,e.mahiragana=12414,e.maichattawalowleftthai=63637,e.maichattawalowrightthai=63636,e.maichattawathai=3659,e.maichattawaupperleftthai=63635,e.maieklowleftthai=63628,e.maieklowrightthai=63627,e.maiekthai=3656,e.maiekupperleftthai=63626,e.maihanakatleftthai=63620,e.maihanakatthai=3633,e.maitaikhuleftthai=63625,e.maitaikhuthai=3655,e.maitholowleftthai=63631,e.maitholowrightthai=63630,e.maithothai=3657,e.maithoupperleftthai=63629,e.maitrilowleftthai=63634,e.maitrilowrightthai=63633,e.maitrithai=3658,e.maitriupperleftthai=63632,e.maiyamokthai=3654,e.makatakana=12510,e.makatakanahalfwidth=65423,e.male=9794,e.mansyonsquare=13127,e.maqafhebrew=1470,e.mars=9794,e.masoracirclehebrew=1455,e.masquare=13187,e.mbopomofo=12551,e.mbsquare=13268,e.mcircle=9436,e.mcubedsquare=13221,e.mdotaccent=7745,e.mdotbelow=7747,e.meemarabic=1605,e.meemfinalarabic=65250,e.meeminitialarabic=65251,e.meemmedialarabic=65252,e.meemmeeminitialarabic=64721,e.meemmeemisolatedarabic=64584,e.meetorusquare=13133,e.mehiragana=12417,e.meizierasquare=13182,e.mekatakana=12513,e.mekatakanahalfwidth=65426,e.mem=1502,e.memdagesh=64318,e.memdageshhebrew=64318,e.memhebrew=1502,e.menarmenian=1396,e.merkhahebrew=1445,e.merkhakefulahebrew=1446,e.merkhakefulalefthebrew=1446,e.merkhalefthebrew=1445,e.mhook=625,e.mhzsquare=13202,e.middledotkatakanahalfwidth=65381,e.middot=183,e.mieumacirclekorean=12914,e.mieumaparenkorean=12818,e.mieumcirclekorean=12900,e.mieumkorean=12609,e.mieumpansioskorean=12656,e.mieumparenkorean=12804,e.mieumpieupkorean=12654,e.mieumsioskorean=12655,e.mihiragana=12415,e.mikatakana=12511,e.mikatakanahalfwidth=65424,e.minus=8722,e.minusbelowcmb=800,e.minuscircle=8854,e.minusmod=727,e.minusplus=8723,e.minute=8242,e.miribaarusquare=13130,e.mirisquare=13129,e.mlonglegturned=624,e.mlsquare=13206,e.mmcubedsquare=13219,e.mmonospace=65357,e.mmsquaredsquare=13215,e.mohiragana=12418,e.mohmsquare=13249,e.mokatakana=12514,e.mokatakanahalfwidth=65427,e.molsquare=13270,e.momathai=3617,e.moverssquare=13223,e.moverssquaredsquare=13224,e.mparen=9384,e.mpasquare=13227,e.mssquare=13235,e.msuperior=63215,e.mturned=623,e.mu=181,e.mu1=181,e.muasquare=13186,e.muchgreater=8811,e.muchless=8810,e.mufsquare=13196,e.mugreek=956,e.mugsquare=13197,e.muhiragana=12416,e.mukatakana=12512,e.mukatakanahalfwidth=65425,e.mulsquare=13205,e.multiply=215,e.mumsquare=13211,e.munahhebrew=1443,e.munahlefthebrew=1443,e.musicalnote=9834,e.musicalnotedbl=9835,e.musicflatsign=9837,e.musicsharpsign=9839,e.mussquare=13234,e.muvsquare=13238,e.muwsquare=13244,e.mvmegasquare=13241,e.mvsquare=13239,e.mwmegasquare=13247,e.mwsquare=13245,e.n=110,e.nabengali=2472,e.nabla=8711,e.nacute=324,e.nadeva=2344,e.nagujarati=2728,e.nagurmukhi=2600,e.nahiragana=12394,e.nakatakana=12490,e.nakatakanahalfwidth=65413,e.napostrophe=329,e.nasquare=13185,e.nbopomofo=12555,e.nbspace=160,e.ncaron=328,e.ncedilla=326,e.ncircle=9437,e.ncircumflexbelow=7755,e.ncommaaccent=326,e.ndotaccent=7749,e.ndotbelow=7751,e.nehiragana=12397,e.nekatakana=12493,e.nekatakanahalfwidth=65416,e.newsheqelsign=8362,e.nfsquare=13195,e.ngabengali=2457,e.ngadeva=2329,e.ngagujarati=2713,e.ngagurmukhi=2585,e.ngonguthai=3591,e.nhiragana=12435,e.nhookleft=626,e.nhookretroflex=627,e.nieunacirclekorean=12911,e.nieunaparenkorean=12815,e.nieuncieuckorean=12597,e.nieuncirclekorean=12897,e.nieunhieuhkorean=12598,e.nieunkorean=12596,e.nieunpansioskorean=12648,e.nieunparenkorean=12801,e.nieunsioskorean=12647,e.nieuntikeutkorean=12646,e.nihiragana=12395,e.nikatakana=12491,e.nikatakanahalfwidth=65414,e.nikhahitleftthai=63641,e.nikhahitthai=3661,e.nine=57,e.ninearabic=1641,e.ninebengali=2543,e.ninecircle=9320,e.ninecircleinversesansserif=10130,e.ninedeva=2415,e.ninegujarati=2799,e.ninegurmukhi=2671,e.ninehackarabic=1641,e.ninehangzhou=12329,e.nineideographicparen=12840,e.nineinferior=8329,e.ninemonospace=65305,e.nineoldstyle=63289,e.nineparen=9340,e.nineperiod=9360,e.ninepersian=1785,e.nineroman=8568,e.ninesuperior=8313,e.nineteencircle=9330,e.nineteenparen=9350,e.nineteenperiod=9370,e.ninethai=3673,e.nj=460,e.njecyrillic=1114,e.nkatakana=12531,e.nkatakanahalfwidth=65437,e.nlegrightlong=414,e.nlinebelow=7753,e.nmonospace=65358,e.nmsquare=13210,e.nnabengali=2467,e.nnadeva=2339,e.nnagujarati=2723,e.nnagurmukhi=2595,e.nnnadeva=2345,e.nohiragana=12398,e.nokatakana=12494,e.nokatakanahalfwidth=65417,e.nonbreakingspace=160,e.nonenthai=3603,e.nonuthai=3609,e.noonarabic=1606,e.noonfinalarabic=65254,e.noonghunnaarabic=1722,e.noonghunnafinalarabic=64415,e.nooninitialarabic=65255,e.noonjeeminitialarabic=64722,e.noonjeemisolatedarabic=64587,e.noonmedialarabic=65256,e.noonmeeminitialarabic=64725,e.noonmeemisolatedarabic=64590,e.noonnoonfinalarabic=64653,e.notcontains=8716,e.notelement=8713,e.notelementof=8713,e.notequal=8800,e.notgreater=8815,e.notgreaternorequal=8817,e.notgreaternorless=8825,e.notidentical=8802,e.notless=8814,e.notlessnorequal=8816,e.notparallel=8742,e.notprecedes=8832,e.notsubset=8836,e.notsucceeds=8833,e.notsuperset=8837,e.nowarmenian=1398,e.nparen=9385,e.nssquare=13233,e.nsuperior=8319,e.ntilde=241,e.nu=957,e.nuhiragana=12396,e.nukatakana=12492,e.nukatakanahalfwidth=65415,e.nuktabengali=2492,e.nuktadeva=2364,e.nuktagujarati=2748,e.nuktagurmukhi=2620,e.numbersign=35,e.numbersignmonospace=65283,e.numbersignsmall=65119,e.numeralsigngreek=884,e.numeralsignlowergreek=885,e.numero=8470,e.nun=1504,e.nundagesh=64320,e.nundageshhebrew=64320,e.nunhebrew=1504,e.nvsquare=13237,e.nwsquare=13243,e.nyabengali=2462,e.nyadeva=2334,e.nyagujarati=2718,e.nyagurmukhi=2590,e.o=111,e.oacute=243,e.oangthai=3629,e.obarred=629,e.obarredcyrillic=1257,e.obarreddieresiscyrillic=1259,e.obengali=2451,e.obopomofo=12571,e.obreve=335,e.ocandradeva=2321,e.ocandragujarati=2705,e.ocandravowelsigndeva=2377,e.ocandravowelsigngujarati=2761,e.ocaron=466,e.ocircle=9438,e.ocircumflex=244,e.ocircumflexacute=7889,e.ocircumflexdotbelow=7897,e.ocircumflexgrave=7891,e.ocircumflexhookabove=7893,e.ocircumflextilde=7895,e.ocyrillic=1086,e.odblacute=337,e.odblgrave=525,e.odeva=2323,e.odieresis=246,e.odieresiscyrillic=1255,e.odotbelow=7885,e.oe=339,e.oekorean=12634,e.ogonek=731,e.ogonekcmb=808,e.ograve=242,e.ogujarati=2707,e.oharmenian=1413,e.ohiragana=12362,e.ohookabove=7887,e.ohorn=417,e.ohornacute=7899,e.ohorndotbelow=7907,e.ohorngrave=7901,e.ohornhookabove=7903,e.ohorntilde=7905,e.ohungarumlaut=337,e.oi=419,e.oinvertedbreve=527,e.okatakana=12458,e.okatakanahalfwidth=65397,e.okorean=12631,e.olehebrew=1451,e.omacron=333,e.omacronacute=7763,e.omacrongrave=7761,e.omdeva=2384,e.omega=969,e.omega1=982,e.omegacyrillic=1121,e.omegalatinclosed=631,e.omegaroundcyrillic=1147,e.omegatitlocyrillic=1149,e.omegatonos=974,e.omgujarati=2768,e.omicron=959,e.omicrontonos=972,e.omonospace=65359,e.one=49,e.onearabic=1633,e.onebengali=2535,e.onecircle=9312,e.onecircleinversesansserif=10122,e.onedeva=2407,e.onedotenleader=8228,e.oneeighth=8539,e.onefitted=63196,e.onegujarati=2791,e.onegurmukhi=2663,e.onehackarabic=1633,e.onehalf=189,e.onehangzhou=12321,e.oneideographicparen=12832,e.oneinferior=8321,e.onemonospace=65297,e.onenumeratorbengali=2548,e.oneoldstyle=63281,e.oneparen=9332,e.oneperiod=9352,e.onepersian=1777,e.onequarter=188,e.oneroman=8560,e.onesuperior=185,e.onethai=3665,e.onethird=8531,e.oogonek=491,e.oogonekmacron=493,e.oogurmukhi=2579,e.oomatragurmukhi=2635,e.oopen=596,e.oparen=9386,e.openbullet=9702,e.option=8997,e.ordfeminine=170,e.ordmasculine=186,e.orthogonal=8735,e.oshortdeva=2322,e.oshortvowelsigndeva=2378,e.oslash=248,e.oslashacute=511,e.osmallhiragana=12361,e.osmallkatakana=12457,e.osmallkatakanahalfwidth=65387,e.ostrokeacute=511,e.osuperior=63216,e.otcyrillic=1151,e.otilde=245,e.otildeacute=7757,e.otildedieresis=7759,e.oubopomofo=12577,e.overline=8254,e.overlinecenterline=65098,e.overlinecmb=773,e.overlinedashed=65097,e.overlinedblwavy=65100,e.overlinewavy=65099,e.overscore=175,e.ovowelsignbengali=2507,e.ovowelsigndeva=2379,e.ovowelsigngujarati=2763,e.p=112,e.paampssquare=13184,e.paasentosquare=13099,e.pabengali=2474,e.pacute=7765,e.padeva=2346,e.pagedown=8671,e.pageup=8670,e.pagujarati=2730,e.pagurmukhi=2602,e.pahiragana=12401,e.paiyannoithai=3631,e.pakatakana=12497,e.palatalizationcyrilliccmb=1156,e.palochkacyrillic=1216,e.pansioskorean=12671,e.paragraph=182,e.parallel=8741,e.parenleft=40,e.parenleftaltonearabic=64830,e.parenleftbt=63725,e.parenleftex=63724,e.parenleftinferior=8333,e.parenleftmonospace=65288,e.parenleftsmall=65113,e.parenleftsuperior=8317,e.parenlefttp=63723,e.parenleftvertical=65077,e.parenright=41,e.parenrightaltonearabic=64831,e.parenrightbt=63736,e.parenrightex=63735,e.parenrightinferior=8334,e.parenrightmonospace=65289,e.parenrightsmall=65114,e.parenrightsuperior=8318,e.parenrighttp=63734,e.parenrightvertical=65078,e.partialdiff=8706,e.paseqhebrew=1472,e.pashtahebrew=1433,e.pasquare=13225,e.patah=1463,e.patah11=1463,e.patah1d=1463,e.patah2a=1463,e.patahhebrew=1463,e.patahnarrowhebrew=1463,e.patahquarterhebrew=1463,e.patahwidehebrew=1463,e.pazerhebrew=1441,e.pbopomofo=12550,e.pcircle=9439,e.pdotaccent=7767,e.pe=1508,e.pecyrillic=1087,e.pedagesh=64324,e.pedageshhebrew=64324,e.peezisquare=13115,e.pefinaldageshhebrew=64323,e.peharabic=1662,e.peharmenian=1402,e.pehebrew=1508,e.pehfinalarabic=64343,e.pehinitialarabic=64344,e.pehiragana=12410,e.pehmedialarabic=64345,e.pekatakana=12506,e.pemiddlehookcyrillic=1191,e.perafehebrew=64334,e.percent=37,e.percentarabic=1642,e.percentmonospace=65285,e.percentsmall=65130,e.period=46,e.periodarmenian=1417,e.periodcentered=183,e.periodhalfwidth=65377,e.periodinferior=63207,e.periodmonospace=65294,e.periodsmall=65106,e.periodsuperior=63208,e.perispomenigreekcmb=834,e.perpendicular=8869,e.perthousand=8240,e.peseta=8359,e.pfsquare=13194,e.phabengali=2475,e.phadeva=2347,e.phagujarati=2731,e.phagurmukhi=2603,e.phi=966,e.phi1=981,e.phieuphacirclekorean=12922,e.phieuphaparenkorean=12826,e.phieuphcirclekorean=12908,e.phieuphkorean=12621,e.phieuphparenkorean=12812,e.philatin=632,e.phinthuthai=3642,e.phisymbolgreek=981,e.phook=421,e.phophanthai=3614,e.phophungthai=3612,e.phosamphaothai=3616,e.pi=960,e.pieupacirclekorean=12915,e.pieupaparenkorean=12819,e.pieupcieuckorean=12662,e.pieupcirclekorean=12901,e.pieupkiyeokkorean=12658,e.pieupkorean=12610,e.pieupparenkorean=12805,e.pieupsioskiyeokkorean=12660,e.pieupsioskorean=12612,e.pieupsiostikeutkorean=12661,e.pieupthieuthkorean=12663,e.pieuptikeutkorean=12659,e.pihiragana=12404,e.pikatakana=12500,e.pisymbolgreek=982,e.piwrarmenian=1411,e.planckover2pi=8463,e.planckover2pi1=8463,e.plus=43,e.plusbelowcmb=799,e.pluscircle=8853,e.plusminus=177,e.plusmod=726,e.plusmonospace=65291,e.plussmall=65122,e.plussuperior=8314,e.pmonospace=65360,e.pmsquare=13272,e.pohiragana=12413,e.pointingindexdownwhite=9759,e.pointingindexleftwhite=9756,e.pointingindexrightwhite=9758,e.pointingindexupwhite=9757,e.pokatakana=12509,e.poplathai=3611,e.postalmark=12306,e.postalmarkface=12320,e.pparen=9387,e.precedes=8826,e.prescription=8478,e.primemod=697,e.primereversed=8245,e.product=8719,e.projective=8965,e.prolongedkana=12540,e.propellor=8984,e.propersubset=8834,e.propersuperset=8835,e.proportion=8759,e.proportional=8733,e.psi=968,e.psicyrillic=1137,e.psilipneumatacyrilliccmb=1158,e.pssquare=13232,e.puhiragana=12407,e.pukatakana=12503,e.pvsquare=13236,e.pwsquare=13242,e.q=113,e.qadeva=2392,e.qadmahebrew=1448,e.qafarabic=1602,e.qaffinalarabic=65238,e.qafinitialarabic=65239,e.qafmedialarabic=65240,e.qamats=1464,e.qamats10=1464,e.qamats1a=1464,e.qamats1c=1464,e.qamats27=1464,e.qamats29=1464,e.qamats33=1464,e.qamatsde=1464,e.qamatshebrew=1464,e.qamatsnarrowhebrew=1464,e.qamatsqatanhebrew=1464,e.qamatsqatannarrowhebrew=1464,e.qamatsqatanquarterhebrew=1464,e.qamatsqatanwidehebrew=1464,e.qamatsquarterhebrew=1464,e.qamatswidehebrew=1464,e.qarneyparahebrew=1439,e.qbopomofo=12561,e.qcircle=9440,e.qhook=672,e.qmonospace=65361,e.qof=1511,e.qofdagesh=64327,e.qofdageshhebrew=64327,e.qofhebrew=1511,e.qparen=9388,e.quarternote=9833,e.qubuts=1467,e.qubuts18=1467,e.qubuts25=1467,e.qubuts31=1467,e.qubutshebrew=1467,e.qubutsnarrowhebrew=1467,e.qubutsquarterhebrew=1467,e.qubutswidehebrew=1467,e.question=63,e.questionarabic=1567,e.questionarmenian=1374,e.questiondown=191,e.questiondownsmall=63423,e.questiongreek=894,e.questionmonospace=65311,e.questionsmall=63295,e.quotedbl=34,e.quotedblbase=8222,e.quotedblleft=8220,e.quotedblmonospace=65282,e.quotedblprime=12318,e.quotedblprimereversed=12317,e.quotedblright=8221,e.quoteleft=8216,e.quoteleftreversed=8219,e.quotereversed=8219,e.quoteright=8217,e.quoterightn=329,e.quotesinglbase=8218,e.quotesingle=39,e.quotesinglemonospace=65287,e.r=114,e.raarmenian=1404,e.rabengali=2480,e.racute=341,e.radeva=2352,e.radical=8730,e.radicalex=63717,e.radoverssquare=13230,e.radoverssquaredsquare=13231,e.radsquare=13229,e.rafe=1471,e.rafehebrew=1471,e.ragujarati=2736,e.ragurmukhi=2608,e.rahiragana=12425,e.rakatakana=12521,e.rakatakanahalfwidth=65431,e.ralowerdiagonalbengali=2545,e.ramiddlediagonalbengali=2544,e.ramshorn=612,e.ratio=8758,e.rbopomofo=12566,e.rcaron=345,e.rcedilla=343,e.rcircle=9441,e.rcommaaccent=343,e.rdblgrave=529,e.rdotaccent=7769,e.rdotbelow=7771,e.rdotbelowmacron=7773,e.referencemark=8251,e.reflexsubset=8838,e.reflexsuperset=8839,e.registered=174,e.registersans=63720,e.registerserif=63194,e.reharabic=1585,e.reharmenian=1408,e.rehfinalarabic=65198,e.rehiragana=12428,e.rekatakana=12524,e.rekatakanahalfwidth=65434,e.resh=1512,e.reshdageshhebrew=64328,e.reshhebrew=1512,e.reversedtilde=8765,e.reviahebrew=1431,e.reviamugrashhebrew=1431,e.revlogicalnot=8976,e.rfishhook=638,e.rfishhookreversed=639,e.rhabengali=2525,e.rhadeva=2397,e.rho=961,e.rhook=637,e.rhookturned=635,e.rhookturnedsuperior=693,e.rhosymbolgreek=1009,e.rhotichookmod=734,e.rieulacirclekorean=12913,e.rieulaparenkorean=12817,e.rieulcirclekorean=12899,e.rieulhieuhkorean=12608,e.rieulkiyeokkorean=12602,e.rieulkiyeoksioskorean=12649,e.rieulkorean=12601,e.rieulmieumkorean=12603,e.rieulpansioskorean=12652,e.rieulparenkorean=12803,e.rieulphieuphkorean=12607,e.rieulpieupkorean=12604,e.rieulpieupsioskorean=12651,e.rieulsioskorean=12605,e.rieulthieuthkorean=12606,e.rieultikeutkorean=12650,e.rieulyeorinhieuhkorean=12653,e.rightangle=8735,e.righttackbelowcmb=793,e.righttriangle=8895,e.rihiragana=12426,e.rikatakana=12522,e.rikatakanahalfwidth=65432,e.ring=730,e.ringbelowcmb=805,e.ringcmb=778,e.ringhalfleft=703,e.ringhalfleftarmenian=1369,e.ringhalfleftbelowcmb=796,e.ringhalfleftcentered=723,e.ringhalfright=702,e.ringhalfrightbelowcmb=825,e.ringhalfrightcentered=722,e.rinvertedbreve=531,e.rittorusquare=13137,e.rlinebelow=7775,e.rlongleg=636,e.rlonglegturned=634,e.rmonospace=65362,e.rohiragana=12429,e.rokatakana=12525,e.rokatakanahalfwidth=65435,e.roruathai=3619,e.rparen=9389,e.rrabengali=2524,e.rradeva=2353,e.rragurmukhi=2652,e.rreharabic=1681,e.rrehfinalarabic=64397,e.rrvocalicbengali=2528,e.rrvocalicdeva=2400,e.rrvocalicgujarati=2784,e.rrvocalicvowelsignbengali=2500,e.rrvocalicvowelsigndeva=2372,e.rrvocalicvowelsigngujarati=2756,e.rsuperior=63217,e.rtblock=9616,e.rturned=633,e.rturnedsuperior=692,e.ruhiragana=12427,e.rukatakana=12523,e.rukatakanahalfwidth=65433,e.rupeemarkbengali=2546,e.rupeesignbengali=2547,e.rupiah=63197,e.ruthai=3620,e.rvocalicbengali=2443,e.rvocalicdeva=2315,e.rvocalicgujarati=2699,e.rvocalicvowelsignbengali=2499,e.rvocalicvowelsigndeva=2371,e.rvocalicvowelsigngujarati=2755,e.s=115,e.sabengali=2488,e.sacute=347,e.sacutedotaccent=7781,e.sadarabic=1589,e.sadeva=2360,e.sadfinalarabic=65210,e.sadinitialarabic=65211,e.sadmedialarabic=65212,e.sagujarati=2744,e.sagurmukhi=2616,e.sahiragana=12373,e.sakatakana=12469,e.sakatakanahalfwidth=65403,e.sallallahoualayhewasallamarabic=65018,e.samekh=1505,e.samekhdagesh=64321,e.samekhdageshhebrew=64321,e.samekhhebrew=1505,e.saraaathai=3634,e.saraaethai=3649,e.saraaimaimalaithai=3652,e.saraaimaimuanthai=3651,e.saraamthai=3635,e.saraathai=3632,e.saraethai=3648,e.saraiileftthai=63622,e.saraiithai=3637,e.saraileftthai=63621,e.saraithai=3636,e.saraothai=3650,e.saraueeleftthai=63624,e.saraueethai=3639,e.saraueleftthai=63623,e.sarauethai=3638,e.sarauthai=3640,e.sarauuthai=3641,e.sbopomofo=12569,e.scaron=353,e.scarondotaccent=7783,e.scedilla=351,e.schwa=601,e.schwacyrillic=1241,e.schwadieresiscyrillic=1243,e.schwahook=602,e.scircle=9442,e.scircumflex=349,e.scommaaccent=537,e.sdotaccent=7777,e.sdotbelow=7779,e.sdotbelowdotaccent=7785,e.seagullbelowcmb=828,e.second=8243,e.secondtonechinese=714,e.section=167,e.seenarabic=1587,e.seenfinalarabic=65202,e.seeninitialarabic=65203,e.seenmedialarabic=65204,e.segol=1462,e.segol13=1462,e.segol1f=1462,e.segol2c=1462,e.segolhebrew=1462,e.segolnarrowhebrew=1462,e.segolquarterhebrew=1462,e.segoltahebrew=1426,e.segolwidehebrew=1462,e.seharmenian=1405,e.sehiragana=12379,e.sekatakana=12475,e.sekatakanahalfwidth=65406,e.semicolon=59,e.semicolonarabic=1563,e.semicolonmonospace=65307,e.semicolonsmall=65108,e.semivoicedmarkkana=12444,e.semivoicedmarkkanahalfwidth=65439,e.sentisquare=13090,e.sentosquare=13091,e.seven=55,e.sevenarabic=1639,e.sevenbengali=2541,e.sevencircle=9318,e.sevencircleinversesansserif=10128,e.sevendeva=2413,e.seveneighths=8542,e.sevengujarati=2797,e.sevengurmukhi=2669,e.sevenhackarabic=1639,e.sevenhangzhou=12327,e.sevenideographicparen=12838,e.seveninferior=8327,e.sevenmonospace=65303,e.sevenoldstyle=63287,e.sevenparen=9338,e.sevenperiod=9358,e.sevenpersian=1783,e.sevenroman=8566,e.sevensuperior=8311,e.seventeencircle=9328,e.seventeenparen=9348,e.seventeenperiod=9368,e.seventhai=3671,e.sfthyphen=173,e.shaarmenian=1399,e.shabengali=2486,e.shacyrillic=1096,e.shaddaarabic=1617,e.shaddadammaarabic=64609,e.shaddadammatanarabic=64606,e.shaddafathaarabic=64608,e.shaddakasraarabic=64610,e.shaddakasratanarabic=64607,e.shade=9618,e.shadedark=9619,e.shadelight=9617,e.shademedium=9618,e.shadeva=2358,e.shagujarati=2742,e.shagurmukhi=2614,e.shalshelethebrew=1427,e.shbopomofo=12565,e.shchacyrillic=1097,e.sheenarabic=1588,e.sheenfinalarabic=65206,e.sheeninitialarabic=65207,e.sheenmedialarabic=65208,e.sheicoptic=995,e.sheqel=8362,e.sheqelhebrew=8362,e.sheva=1456,e.sheva115=1456,e.sheva15=1456,e.sheva22=1456,e.sheva2e=1456,e.shevahebrew=1456,e.shevanarrowhebrew=1456,e.shevaquarterhebrew=1456,e.shevawidehebrew=1456,e.shhacyrillic=1211,e.shimacoptic=1005,e.shin=1513,e.shindagesh=64329,e.shindageshhebrew=64329,e.shindageshshindot=64300,e.shindageshshindothebrew=64300,e.shindageshsindot=64301,e.shindageshsindothebrew=64301,e.shindothebrew=1473,e.shinhebrew=1513,e.shinshindot=64298,e.shinshindothebrew=64298,e.shinsindot=64299,e.shinsindothebrew=64299,e.shook=642,e.sigma=963,e.sigma1=962,e.sigmafinal=962,e.sigmalunatesymbolgreek=1010,e.sihiragana=12375,e.sikatakana=12471,e.sikatakanahalfwidth=65404,e.siluqhebrew=1469,e.siluqlefthebrew=1469,e.similar=8764,e.sindothebrew=1474,e.siosacirclekorean=12916,e.siosaparenkorean=12820,e.sioscieuckorean=12670,e.sioscirclekorean=12902,e.sioskiyeokkorean=12666,e.sioskorean=12613,e.siosnieunkorean=12667,e.siosparenkorean=12806,e.siospieupkorean=12669,e.siostikeutkorean=12668,e.six=54,e.sixarabic=1638,e.sixbengali=2540,e.sixcircle=9317,e.sixcircleinversesansserif=10127,e.sixdeva=2412,e.sixgujarati=2796,e.sixgurmukhi=2668,e.sixhackarabic=1638,e.sixhangzhou=12326,e.sixideographicparen=12837,e.sixinferior=8326,e.sixmonospace=65302,e.sixoldstyle=63286,e.sixparen=9337,e.sixperiod=9357,e.sixpersian=1782,e.sixroman=8565,e.sixsuperior=8310,e.sixteencircle=9327,e.sixteencurrencydenominatorbengali=2553,e.sixteenparen=9347,e.sixteenperiod=9367,e.sixthai=3670,e.slash=47,e.slashmonospace=65295,e.slong=383,e.slongdotaccent=7835,e.smileface=9786,e.smonospace=65363,e.sofpasuqhebrew=1475,e.softhyphen=173,e.softsigncyrillic=1100,e.sohiragana=12381,e.sokatakana=12477,e.sokatakanahalfwidth=65407,e.soliduslongoverlaycmb=824,e.solidusshortoverlaycmb=823,e.sorusithai=3625,e.sosalathai=3624,e.sosothai=3595,e.sosuathai=3626,e.space=32,e.spacehackarabic=32,e.spade=9824,e.spadesuitblack=9824,e.spadesuitwhite=9828,e.sparen=9390,e.squarebelowcmb=827,e.squarecc=13252,e.squarecm=13213,e.squarediagonalcrosshatchfill=9641,e.squarehorizontalfill=9636,e.squarekg=13199,e.squarekm=13214,e.squarekmcapital=13262,e.squareln=13265,e.squarelog=13266,e.squaremg=13198,e.squaremil=13269,e.squaremm=13212,e.squaremsquared=13217,e.squareorthogonalcrosshatchfill=9638,e.squareupperlefttolowerrightfill=9639,e.squareupperrighttolowerleftfill=9640,e.squareverticalfill=9637,e.squarewhitewithsmallblack=9635,e.srsquare=13275,e.ssabengali=2487,e.ssadeva=2359,e.ssagujarati=2743,e.ssangcieuckorean=12617,e.ssanghieuhkorean=12677,e.ssangieungkorean=12672,e.ssangkiyeokkorean=12594,e.ssangnieunkorean=12645,e.ssangpieupkorean=12611,e.ssangsioskorean=12614,e.ssangtikeutkorean=12600,e.ssuperior=63218,e.sterling=163,e.sterlingmonospace=65505,e.strokelongoverlaycmb=822,e.strokeshortoverlaycmb=821,e.subset=8834,e.subsetnotequal=8842,e.subsetorequal=8838,e.succeeds=8827,e.suchthat=8715,e.suhiragana=12377,e.sukatakana=12473,e.sukatakanahalfwidth=65405,e.sukunarabic=1618,e.summation=8721,e.sun=9788,e.superset=8835,e.supersetnotequal=8843,e.supersetorequal=8839,e.svsquare=13276,e.syouwaerasquare=13180,e.t=116,e.tabengali=2468,e.tackdown=8868,e.tackleft=8867,e.tadeva=2340,e.tagujarati=2724,e.tagurmukhi=2596,e.taharabic=1591,e.tahfinalarabic=65218,e.tahinitialarabic=65219,e.tahiragana=12383,e.tahmedialarabic=65220,e.taisyouerasquare=13181,e.takatakana=12479,e.takatakanahalfwidth=65408,e.tatweelarabic=1600,e.tau=964,e.tav=1514,e.tavdages=64330,e.tavdagesh=64330,e.tavdageshhebrew=64330,e.tavhebrew=1514,e.tbar=359,e.tbopomofo=12554,e.tcaron=357,e.tccurl=680,e.tcedilla=355,e.tcheharabic=1670,e.tchehfinalarabic=64379,e.tchehinitialarabic=64380,e.tchehmedialarabic=64381,e.tcircle=9443,e.tcircumflexbelow=7793,e.tcommaaccent=355,e.tdieresis=7831,e.tdotaccent=7787,e.tdotbelow=7789,e.tecyrillic=1090,e.tedescendercyrillic=1197,e.teharabic=1578,e.tehfinalarabic=65174,e.tehhahinitialarabic=64674,e.tehhahisolatedarabic=64524,e.tehinitialarabic=65175,e.tehiragana=12390,e.tehjeeminitialarabic=64673,e.tehjeemisolatedarabic=64523,e.tehmarbutaarabic=1577,e.tehmarbutafinalarabic=65172,e.tehmedialarabic=65176,e.tehmeeminitialarabic=64676,e.tehmeemisolatedarabic=64526,e.tehnoonfinalarabic=64627,e.tekatakana=12486,e.tekatakanahalfwidth=65411,e.telephone=8481,e.telephoneblack=9742,e.telishagedolahebrew=1440,e.telishaqetanahebrew=1449,e.tencircle=9321,e.tenideographicparen=12841,e.tenparen=9341,e.tenperiod=9361,e.tenroman=8569,e.tesh=679,e.tet=1496,e.tetdagesh=64312,e.tetdageshhebrew=64312,e.tethebrew=1496,e.tetsecyrillic=1205,e.tevirhebrew=1435,e.tevirlefthebrew=1435,e.thabengali=2469,e.thadeva=2341,e.thagujarati=2725,e.thagurmukhi=2597,e.thalarabic=1584,e.thalfinalarabic=65196,e.thanthakhatlowleftthai=63640,e.thanthakhatlowrightthai=63639,e.thanthakhatthai=3660,e.thanthakhatupperleftthai=63638,e.theharabic=1579,e.thehfinalarabic=65178,e.thehinitialarabic=65179,e.thehmedialarabic=65180,e.thereexists=8707,e.therefore=8756,e.theta=952,e.theta1=977,e.thetasymbolgreek=977,e.thieuthacirclekorean=12921,e.thieuthaparenkorean=12825,e.thieuthcirclekorean=12907,e.thieuthkorean=12620,e.thieuthparenkorean=12811,e.thirteencircle=9324,e.thirteenparen=9344,e.thirteenperiod=9364,e.thonangmonthothai=3601,e.thook=429,e.thophuthaothai=3602,e.thorn=254,e.thothahanthai=3607,e.thothanthai=3600,e.thothongthai=3608,e.thothungthai=3606,e.thousandcyrillic=1154,e.thousandsseparatorarabic=1644,e.thousandsseparatorpersian=1644,e.three=51,e.threearabic=1635,e.threebengali=2537,e.threecircle=9314,e.threecircleinversesansserif=10124,e.threedeva=2409,e.threeeighths=8540,e.threegujarati=2793,e.threegurmukhi=2665,e.threehackarabic=1635,e.threehangzhou=12323,e.threeideographicparen=12834,e.threeinferior=8323,e.threemonospace=65299,e.threenumeratorbengali=2550,e.threeoldstyle=63283,e.threeparen=9334,e.threeperiod=9354,e.threepersian=1779,e.threequarters=190,e.threequartersemdash=63198,e.threeroman=8562,e.threesuperior=179,e.threethai=3667,e.thzsquare=13204,e.tihiragana=12385,e.tikatakana=12481,e.tikatakanahalfwidth=65409,e.tikeutacirclekorean=12912,e.tikeutaparenkorean=12816,e.tikeutcirclekorean=12898,e.tikeutkorean=12599,e.tikeutparenkorean=12802,e.tilde=732,e.tildebelowcmb=816,e.tildecmb=771,e.tildecomb=771,e.tildedoublecmb=864,e.tildeoperator=8764,e.tildeoverlaycmb=820,e.tildeverticalcmb=830,e.timescircle=8855,e.tipehahebrew=1430,e.tipehalefthebrew=1430,e.tippigurmukhi=2672,e.titlocyrilliccmb=1155,e.tiwnarmenian=1407,e.tlinebelow=7791,e.tmonospace=65364,e.toarmenian=1385,e.tohiragana=12392,e.tokatakana=12488,e.tokatakanahalfwidth=65412,e.tonebarextrahighmod=741,e.tonebarextralowmod=745,e.tonebarhighmod=742,e.tonebarlowmod=744,e.tonebarmidmod=743,e.tonefive=445,e.tonesix=389,e.tonetwo=424,e.tonos=900,e.tonsquare=13095,e.topatakthai=3599,e.tortoiseshellbracketleft=12308,e.tortoiseshellbracketleftsmall=65117,e.tortoiseshellbracketleftvertical=65081,e.tortoiseshellbracketright=12309,e.tortoiseshellbracketrightsmall=65118,e.tortoiseshellbracketrightvertical=65082,e.totaothai=3605,e.tpalatalhook=427,e.tparen=9391,e.trademark=8482,e.trademarksans=63722,e.trademarkserif=63195,e.tretroflexhook=648,e.triagdn=9660,e.triaglf=9668,e.triagrt=9658,e.triagup=9650,e.ts=678,e.tsadi=1510,e.tsadidagesh=64326,e.tsadidageshhebrew=64326,e.tsadihebrew=1510,e.tsecyrillic=1094,e.tsere=1461,e.tsere12=1461,e.tsere1e=1461,e.tsere2b=1461,e.tserehebrew=1461,e.tserenarrowhebrew=1461,e.tserequarterhebrew=1461,e.tserewidehebrew=1461,e.tshecyrillic=1115,e.tsuperior=63219,e.ttabengali=2463,e.ttadeva=2335,e.ttagujarati=2719,e.ttagurmukhi=2591,e.tteharabic=1657,e.ttehfinalarabic=64359,e.ttehinitialarabic=64360,e.ttehmedialarabic=64361,e.tthabengali=2464,e.tthadeva=2336,e.tthagujarati=2720,e.tthagurmukhi=2592,e.tturned=647,e.tuhiragana=12388,e.tukatakana=12484,e.tukatakanahalfwidth=65410,e.tusmallhiragana=12387,e.tusmallkatakana=12483,e.tusmallkatakanahalfwidth=65391,e.twelvecircle=9323,e.twelveparen=9343,e.twelveperiod=9363,e.twelveroman=8571,e.twentycircle=9331,e.twentyhangzhou=21316,e.twentyparen=9351,e.twentyperiod=9371,e.two=50,e.twoarabic=1634,e.twobengali=2536,e.twocircle=9313,e.twocircleinversesansserif=10123,e.twodeva=2408,e.twodotenleader=8229,e.twodotleader=8229,e.twodotleadervertical=65072,e.twogujarati=2792,e.twogurmukhi=2664,e.twohackarabic=1634,e.twohangzhou=12322,e.twoideographicparen=12833,e.twoinferior=8322,e.twomonospace=65298,e.twonumeratorbengali=2549,e.twooldstyle=63282,e.twoparen=9333,e.twoperiod=9353,e.twopersian=1778,e.tworoman=8561,e.twostroke=443,e.twosuperior=178,e.twothai=3666,e.twothirds=8532,e.u=117,e.uacute=250,e.ubar=649,e.ubengali=2441,e.ubopomofo=12584,e.ubreve=365,e.ucaron=468,e.ucircle=9444,e.ucircumflex=251,e.ucircumflexbelow=7799,e.ucyrillic=1091,e.udattadeva=2385,e.udblacute=369,e.udblgrave=533,e.udeva=2313,e.udieresis=252,e.udieresisacute=472,e.udieresisbelow=7795,e.udieresiscaron=474,e.udieresiscyrillic=1265,e.udieresisgrave=476,e.udieresismacron=470,e.udotbelow=7909,e.ugrave=249,e.ugujarati=2697,e.ugurmukhi=2569,e.uhiragana=12358,e.uhookabove=7911,e.uhorn=432,e.uhornacute=7913,e.uhorndotbelow=7921,e.uhorngrave=7915,e.uhornhookabove=7917,e.uhorntilde=7919,e.uhungarumlaut=369,e.uhungarumlautcyrillic=1267,e.uinvertedbreve=535,e.ukatakana=12454,e.ukatakanahalfwidth=65395,e.ukcyrillic=1145,e.ukorean=12636,e.umacron=363,e.umacroncyrillic=1263,e.umacrondieresis=7803,e.umatragurmukhi=2625,e.umonospace=65365,e.underscore=95,e.underscoredbl=8215,e.underscoremonospace=65343,e.underscorevertical=65075,e.underscorewavy=65103,e.union=8746,e.universal=8704,e.uogonek=371,e.uparen=9392,e.upblock=9600,e.upperdothebrew=1476,e.upsilon=965,e.upsilondieresis=971,e.upsilondieresistonos=944,e.upsilonlatin=650,e.upsilontonos=973,e.uptackbelowcmb=797,e.uptackmod=724,e.uragurmukhi=2675,e.uring=367,e.ushortcyrillic=1118,e.usmallhiragana=12357,e.usmallkatakana=12453,e.usmallkatakanahalfwidth=65385,e.ustraightcyrillic=1199,e.ustraightstrokecyrillic=1201,e.utilde=361,e.utildeacute=7801,e.utildebelow=7797,e.uubengali=2442,e.uudeva=2314,e.uugujarati=2698,e.uugurmukhi=2570,e.uumatragurmukhi=2626,e.uuvowelsignbengali=2498,e.uuvowelsigndeva=2370,e.uuvowelsigngujarati=2754,e.uvowelsignbengali=2497,e.uvowelsigndeva=2369,e.uvowelsigngujarati=2753,e.v=118,e.vadeva=2357,e.vagujarati=2741,e.vagurmukhi=2613,e.vakatakana=12535,e.vav=1493,e.vavdagesh=64309,e.vavdagesh65=64309,e.vavdageshhebrew=64309,e.vavhebrew=1493,e.vavholam=64331,e.vavholamhebrew=64331,e.vavvavhebrew=1520,e.vavyodhebrew=1521,e.vcircle=9445,e.vdotbelow=7807,e.vecyrillic=1074,e.veharabic=1700,e.vehfinalarabic=64363,e.vehinitialarabic=64364,e.vehmedialarabic=64365,e.vekatakana=12537,e.venus=9792,e.verticalbar=124,e.verticallineabovecmb=781,e.verticallinebelowcmb=809,e.verticallinelowmod=716,e.verticallinemod=712,e.vewarmenian=1406,e.vhook=651,e.vikatakana=12536,e.viramabengali=2509,e.viramadeva=2381,e.viramagujarati=2765,e.visargabengali=2435,e.visargadeva=2307,e.visargagujarati=2691,e.vmonospace=65366,e.voarmenian=1400,e.voicediterationhiragana=12446,e.voicediterationkatakana=12542,e.voicedmarkkana=12443,e.voicedmarkkanahalfwidth=65438,e.vokatakana=12538,e.vparen=9393,e.vtilde=7805,e.vturned=652,e.vuhiragana=12436,e.vukatakana=12532,e.w=119,e.wacute=7811,e.waekorean=12633,e.wahiragana=12431,e.wakatakana=12527,e.wakatakanahalfwidth=65436,e.wakorean=12632,e.wasmallhiragana=12430,e.wasmallkatakana=12526,e.wattosquare=13143,e.wavedash=12316,e.wavyunderscorevertical=65076,e.wawarabic=1608,e.wawfinalarabic=65262,e.wawhamzaabovearabic=1572,e.wawhamzaabovefinalarabic=65158,e.wbsquare=13277,e.wcircle=9446,e.wcircumflex=373,e.wdieresis=7813,e.wdotaccent=7815,e.wdotbelow=7817,e.wehiragana=12433,e.weierstrass=8472,e.wekatakana=12529,e.wekorean=12638,e.weokorean=12637,e.wgrave=7809,e.whitebullet=9702,e.whitecircle=9675,e.whitecircleinverse=9689,e.whitecornerbracketleft=12302,e.whitecornerbracketleftvertical=65091,e.whitecornerbracketright=12303,e.whitecornerbracketrightvertical=65092,e.whitediamond=9671,e.whitediamondcontainingblacksmalldiamond=9672,e.whitedownpointingsmalltriangle=9663,e.whitedownpointingtriangle=9661,e.whiteleftpointingsmalltriangle=9667,e.whiteleftpointingtriangle=9665,e.whitelenticularbracketleft=12310,e.whitelenticularbracketright=12311,e.whiterightpointingsmalltriangle=9657,e.whiterightpointingtriangle=9655,e.whitesmallsquare=9643,e.whitesmilingface=9786,e.whitesquare=9633,e.whitestar=9734,e.whitetelephone=9743,e.whitetortoiseshellbracketleft=12312,e.whitetortoiseshellbracketright=12313,e.whiteuppointingsmalltriangle=9653,e.whiteuppointingtriangle=9651,e.wihiragana=12432,e.wikatakana=12528,e.wikorean=12639,e.wmonospace=65367,e.wohiragana=12434,e.wokatakana=12530,e.wokatakanahalfwidth=65382,e.won=8361,e.wonmonospace=65510,e.wowaenthai=3623,e.wparen=9394,e.wring=7832,e.wsuperior=695,e.wturned=653,e.wynn=447,e.x=120,e.xabovecmb=829,e.xbopomofo=12562,e.xcircle=9447,e.xdieresis=7821,e.xdotaccent=7819,e.xeharmenian=1389,e.xi=958,e.xmonospace=65368,e.xparen=9395,e.xsuperior=739,e.y=121,e.yaadosquare=13134,e.yabengali=2479,e.yacute=253,e.yadeva=2351,e.yaekorean=12626,e.yagujarati=2735,e.yagurmukhi=2607,e.yahiragana=12420,e.yakatakana=12516,e.yakatakanahalfwidth=65428,e.yakorean=12625,e.yamakkanthai=3662,e.yasmallhiragana=12419,e.yasmallkatakana=12515,e.yasmallkatakanahalfwidth=65388,e.yatcyrillic=1123,e.ycircle=9448,e.ycircumflex=375,e.ydieresis=255,e.ydotaccent=7823,e.ydotbelow=7925,e.yeharabic=1610,e.yehbarreearabic=1746,e.yehbarreefinalarabic=64431,e.yehfinalarabic=65266,e.yehhamzaabovearabic=1574,e.yehhamzaabovefinalarabic=65162,e.yehhamzaaboveinitialarabic=65163,e.yehhamzaabovemedialarabic=65164,e.yehinitialarabic=65267,e.yehmedialarabic=65268,e.yehmeeminitialarabic=64733,e.yehmeemisolatedarabic=64600,e.yehnoonfinalarabic=64660,e.yehthreedotsbelowarabic=1745,e.yekorean=12630,e.yen=165,e.yenmonospace=65509,e.yeokorean=12629,e.yeorinhieuhkorean=12678,e.yerahbenyomohebrew=1450,e.yerahbenyomolefthebrew=1450,e.yericyrillic=1099,e.yerudieresiscyrillic=1273,e.yesieungkorean=12673,e.yesieungpansioskorean=12675,e.yesieungsioskorean=12674,e.yetivhebrew=1434,e.ygrave=7923,e.yhook=436,e.yhookabove=7927,e.yiarmenian=1397,e.yicyrillic=1111,e.yikorean=12642,e.yinyang=9775,e.yiwnarmenian=1410,e.ymonospace=65369,e.yod=1497,e.yoddagesh=64313,e.yoddageshhebrew=64313,e.yodhebrew=1497,e.yodyodhebrew=1522,e.yodyodpatahhebrew=64287,e.yohiragana=12424,e.yoikorean=12681,e.yokatakana=12520,e.yokatakanahalfwidth=65430,e.yokorean=12635,e.yosmallhiragana=12423,e.yosmallkatakana=12519,e.yosmallkatakanahalfwidth=65390,e.yotgreek=1011,e.yoyaekorean=12680,e.yoyakorean=12679,e.yoyakthai=3618,e.yoyingthai=3597,e.yparen=9396,e.ypogegrammeni=890,e.ypogegrammenigreekcmb=837,e.yr=422,e.yring=7833,e.ysuperior=696,e.ytilde=7929,e.yturned=654,e.yuhiragana=12422,e.yuikorean=12684,e.yukatakana=12518,e.yukatakanahalfwidth=65429,e.yukorean=12640,e.yusbigcyrillic=1131,e.yusbigiotifiedcyrillic=1133,e.yuslittlecyrillic=1127,e.yuslittleiotifiedcyrillic=1129,e.yusmallhiragana=12421,e.yusmallkatakana=12517,e.yusmallkatakanahalfwidth=65389,e.yuyekorean=12683,e.yuyeokorean=12682,e.yyabengali=2527,e.yyadeva=2399,e.z=122,e.zaarmenian=1382,e.zacute=378,e.zadeva=2395,e.zagurmukhi=2651,e.zaharabic=1592,e.zahfinalarabic=65222,e.zahinitialarabic=65223,e.zahiragana=12374,e.zahmedialarabic=65224,e.zainarabic=1586,e.zainfinalarabic=65200,e.zakatakana=12470,e.zaqefgadolhebrew=1429,e.zaqefqatanhebrew=1428,e.zarqahebrew=1432,e.zayin=1494,e.zayindagesh=64310,e.zayindageshhebrew=64310,e.zayinhebrew=1494,e.zbopomofo=12567,e.zcaron=382,e.zcircle=9449,e.zcircumflex=7825,e.zcurl=657,e.zdot=380,e.zdotaccent=380,e.zdotbelow=7827,e.zecyrillic=1079,e.zedescendercyrillic=1177,e.zedieresiscyrillic=1247,e.zehiragana=12380,e.zekatakana=12476,e.zero=48,e.zeroarabic=1632,e.zerobengali=2534,e.zerodeva=2406,e.zerogujarati=2790,e.zerogurmukhi=2662,e.zerohackarabic=1632,e.zeroinferior=8320,e.zeromonospace=65296,e.zerooldstyle=63280,e.zeropersian=1776,e.zerosuperior=8304,e.zerothai=3664,e.zerowidthjoiner=65279,e.zerowidthnonjoiner=8204,e.zerowidthspace=8203,e.zeta=950,e.zhbopomofo=12563,e.zhearmenian=1386,e.zhebrevecyrillic=1218,e.zhecyrillic=1078,e.zhedescendercyrillic=1175,e.zhedieresiscyrillic=1245,e.zihiragana=12376,e.zikatakana=12472,e.zinorhebrew=1454,e.zlinebelow=7829,e.zmonospace=65370,e.zohiragana=12382,e.zokatakana=12478,e.zparen=9397,e.zretroflexhook=656,e.zstroke=438,e.zuhiragana=12378,e.zukatakana=12474,e[".notdef"]=0,e.angbracketleftbig=9001,e.angbracketleftBig=9001,e.angbracketleftbigg=9001,e.angbracketleftBigg=9001,e.angbracketrightBig=9002,e.angbracketrightbig=9002,e.angbracketrightBigg=9002,e.angbracketrightbigg=9002,e.arrowhookleft=8618,e.arrowhookright=8617,e.arrowlefttophalf=8636,e.arrowleftbothalf=8637,e.arrownortheast=8599,e.arrownorthwest=8598,e.arrowrighttophalf=8640,e.arrowrightbothalf=8641,e.arrowsoutheast=8600,e.arrowsouthwest=8601,e.backslashbig=8726,e.backslashBig=8726,e.backslashBigg=8726,e.backslashbigg=8726,e.bardbl=8214,e.bracehtipdownleft=65079,e.bracehtipdownright=65079,e.bracehtipupleft=65080,e.bracehtipupright=65080,e.braceleftBig=123,e.braceleftbig=123,e.braceleftbigg=123,e.braceleftBigg=123,e.bracerightBig=125,e.bracerightbig=125,e.bracerightbigg=125,e.bracerightBigg=125,e.bracketleftbig=91,e.bracketleftBig=91,e.bracketleftbigg=91,e.bracketleftBigg=91,e.bracketrightBig=93,e.bracketrightbig=93,e.bracketrightbigg=93,e.bracketrightBigg=93,e.ceilingleftbig=8968,e.ceilingleftBig=8968,e.ceilingleftBigg=8968,e.ceilingleftbigg=8968,e.ceilingrightbig=8969,e.ceilingrightBig=8969,e.ceilingrightbigg=8969,e.ceilingrightBigg=8969,e.circledotdisplay=8857,e.circledottext=8857,e.circlemultiplydisplay=8855,e.circlemultiplytext=8855,e.circleplusdisplay=8853,e.circleplustext=8853,e.contintegraldisplay=8750,e.contintegraltext=8750,e.coproductdisplay=8720,e.coproducttext=8720,e.floorleftBig=8970,e.floorleftbig=8970,e.floorleftbigg=8970,e.floorleftBigg=8970,e.floorrightbig=8971,e.floorrightBig=8971,e.floorrightBigg=8971,e.floorrightbigg=8971,e.hatwide=770,e.hatwider=770,e.hatwidest=770,e.intercal=7488,e.integraldisplay=8747,e.integraltext=8747,e.intersectiondisplay=8898,e.intersectiontext=8898,e.logicalanddisplay=8743,e.logicalandtext=8743,e.logicalordisplay=8744,e.logicalortext=8744,e.parenleftBig=40,e.parenleftbig=40,e.parenleftBigg=40,e.parenleftbigg=40,e.parenrightBig=41,e.parenrightbig=41,e.parenrightBigg=41,e.parenrightbigg=41,e.prime=8242,e.productdisplay=8719,e.producttext=8719,e.radicalbig=8730,e.radicalBig=8730,e.radicalBigg=8730,e.radicalbigg=8730,e.radicalbt=8730,e.radicaltp=8730,e.radicalvertex=8730,e.slashbig=47,e.slashBig=47,e.slashBigg=47,e.slashbigg=47,e.summationdisplay=8721,e.summationtext=8721,e.tildewide=732,e.tildewider=732,e.tildewidest=732,e.uniondisplay=8899,e.unionmultidisplay=8846,e.unionmultitext=8846,e.unionsqdisplay=8852,e.unionsqtext=8852,e.uniontext=8899,e.vextenddouble=8741,e.vextendsingle=8739});_e.getGlyphsUnicode=Ie;const Re=(0,xe.getLookupTableFactory)(function(e){e.space=32,e.a1=9985,e.a2=9986,e.a202=9987,e.a3=9988,e.a4=9742,e.a5=9990,e.a119=9991,e.a118=9992,e.a117=9993,e.a11=9755,e.a12=9758,e.a13=9996,e.a14=9997,e.a15=9998,e.a16=9999,e.a105=1e4,e.a17=10001,e.a18=10002,e.a19=10003,e.a20=10004,e.a21=10005,e.a22=10006,e.a23=10007,e.a24=10008,e.a25=10009,e.a26=10010,e.a27=10011,e.a28=10012,e.a6=10013,e.a7=10014,e.a8=10015,e.a9=10016,e.a10=10017,e.a29=10018,e.a30=10019,e.a31=10020,e.a32=10021,e.a33=10022,e.a34=10023,e.a35=9733,e.a36=10025,e.a37=10026,e.a38=10027,e.a39=10028,e.a40=10029,e.a41=10030,e.a42=10031,e.a43=10032,e.a44=10033,e.a45=10034,e.a46=10035,e.a47=10036,e.a48=10037,e.a49=10038,e.a50=10039,e.a51=10040,e.a52=10041,e.a53=10042,e.a54=10043,e.a55=10044,e.a56=10045,e.a57=10046,e.a58=10047,e.a59=10048,e.a60=10049,e.a61=10050,e.a62=10051,e.a63=10052,e.a64=10053,e.a65=10054,e.a66=10055,e.a67=10056,e.a68=10057,e.a69=10058,e.a70=10059,e.a71=9679,e.a72=10061,e.a73=9632,e.a74=10063,e.a203=10064,e.a75=10065,e.a204=10066,e.a76=9650,e.a77=9660,e.a78=9670,e.a79=10070,e.a81=9687,e.a82=10072,e.a83=10073,e.a84=10074,e.a97=10075,e.a98=10076,e.a99=10077,e.a100=10078,e.a101=10081,e.a102=10082,e.a103=10083,e.a104=10084,e.a106=10085,e.a107=10086,e.a108=10087,e.a112=9827,e.a111=9830,e.a110=9829,e.a109=9824,e.a120=9312,e.a121=9313,e.a122=9314,e.a123=9315,e.a124=9316,e.a125=9317,e.a126=9318,e.a127=9319,e.a128=9320,e.a129=9321,e.a130=10102,e.a131=10103,e.a132=10104,e.a133=10105,e.a134=10106,e.a135=10107,e.a136=10108,e.a137=10109,e.a138=10110,e.a139=10111,e.a140=10112,e.a141=10113,e.a142=10114,e.a143=10115,e.a144=10116,e.a145=10117,e.a146=10118,e.a147=10119,e.a148=10120,e.a149=10121,e.a150=10122,e.a151=10123,e.a152=10124,e.a153=10125,e.a154=10126,e.a155=10127,e.a156=10128,e.a157=10129,e.a158=10130,e.a159=10131,e.a160=10132,e.a161=8594,e.a163=8596,e.a164=8597,e.a196=10136,e.a165=10137,e.a192=10138,e.a166=10139,e.a167=10140,e.a168=10141,e.a169=10142,e.a170=10143,e.a171=10144,e.a172=10145,e.a173=10146,e.a162=10147,e.a174=10148,e.a175=10149,e.a176=10150,e.a177=10151,e.a178=10152,e.a179=10153,e.a193=10154,e.a180=10155,e.a199=10156,e.a181=10157,e.a200=10158,e.a182=10159,e.a201=10161,e.a183=10162,e.a184=10163,e.a197=10164,e.a185=10165,e.a194=10166,e.a198=10167,e.a186=10168,e.a195=10169,e.a187=10170,e.a188=10171,e.a189=10172,e.a190=10173,e.a191=10174,e.a89=10088,e.a90=10089,e.a93=10090,e.a94=10091,e.a91=10092,e.a92=10093,e.a205=10094,e.a85=10095,e.a206=10096,e.a86=10097,e.a87=10098,e.a88=10099,e.a95=10100,e.a96=10101,e[".notdef"]=0});_e.getDingbatsGlyphsUnicode=Re},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.clearUnicodeCaches=nn,_e.getCharUnicodeCategory=je,_e.getUnicodeForGlyph=e,_e.getUnicodeRangeFor=Te,_e.mapSpecialUnicodeValues=Re;var xe=ze(3);const Ie=(0,xe.getLookupTableFactory)(function(Ge){Ge[63721]=169,Ge[63193]=169,Ge[63720]=174,Ge[63194]=174,Ge[63722]=8482,Ge[63195]=8482,Ge[63729]=9127,Ge[63730]=9128,Ge[63731]=9129,Ge[63740]=9131,Ge[63741]=9132,Ge[63742]=9133,Ge[63726]=9121,Ge[63727]=9122,Ge[63728]=9123,Ge[63737]=9124,Ge[63738]=9125,Ge[63739]=9126,Ge[63723]=9115,Ge[63724]=9116,Ge[63725]=9117,Ge[63734]=9118,Ge[63735]=9119,Ge[63736]=9120});function Re(Ge){return Ge>=65520&&Ge<=65535?0:Ge>=62976&&Ge<=63743?Ie()[Ge]||Ge:Ge===173?45:Ge}function e(Ge,Oe){let Ce=Oe[Ge];if(Ce!==void 0)return Ce;if(!Ge)return-1;if(Ge[0]==="u"){const St=Ge.length;let rn;if(St===7&&Ge[1]==="n"&&Ge[2]==="i")rn=Ge.substring(3);else if(St>=5&&St<=7)rn=Ge.substring(1);else return-1;if(rn===rn.toUpperCase()&&(Ce=parseInt(rn,16),Ce>=0))return Ce}return-1}const t=[[0,127],[128,255],[256,383],[384,591],[592,687,7424,7551,7552,7615],[688,767,42752,42783],[768,879,7616,7679],[880,1023],[11392,11519],[1024,1279,1280,1327,11744,11775,42560,42655],[1328,1423],[1424,1535],[42240,42559],[1536,1791,1872,1919],[1984,2047],[2304,2431],[2432,2559],[2560,2687],[2688,2815],[2816,2943],[2944,3071],[3072,3199],[3200,3327],[3328,3455],[3584,3711],[3712,3839],[4256,4351,11520,11567],[6912,7039],[4352,4607],[7680,7935,11360,11391,42784,43007],[7936,8191],[8192,8303,11776,11903],[8304,8351],[8352,8399],[8400,8447],[8448,8527],[8528,8591],[8592,8703,10224,10239,10496,10623,11008,11263],[8704,8959,10752,11007,10176,10223,10624,10751],[8960,9215],[9216,9279],[9280,9311],[9312,9471],[9472,9599],[9600,9631],[9632,9727],[9728,9983],[9984,10175],[12288,12351],[12352,12447],[12448,12543,12784,12799],[12544,12591,12704,12735],[12592,12687],[43072,43135],[12800,13055],[13056,13311],[44032,55215],[55296,57343],[67840,67871],[19968,40959,11904,12031,12032,12255,12272,12287,13312,19903,131072,173791,12688,12703],[57344,63743],[12736,12783,63744,64255,194560,195103],[64256,64335],[64336,65023],[65056,65071],[65040,65055],[65104,65135],[65136,65279],[65280,65519],[65520,65535],[3840,4095],[1792,1871],[1920,1983],[3456,3583],[4096,4255],[4608,4991,4992,5023,11648,11743],[5024,5119],[5120,5759],[5760,5791],[5792,5887],[6016,6143],[6144,6319],[10240,10495],[40960,42127],[5888,5919,5920,5951,5952,5983,5984,6015],[66304,66351],[66352,66383],[66560,66639],[118784,119039,119040,119295,119296,119375],[119808,120831],[1044480,1048573],[65024,65039,917760,917999],[917504,917631],[6400,6479],[6480,6527],[6528,6623],[6656,6687],[11264,11359],[11568,11647],[19904,19967],[43008,43055],[65536,65663,65664,65791,65792,65855],[65856,65935],[66432,66463],[66464,66527],[66640,66687],[66688,66735],[67584,67647],[68096,68191],[119552,119647],[73728,74751,74752,74879],[119648,119679],[7040,7103],[7168,7247],[7248,7295],[43136,43231],[43264,43311],[43312,43359],[43520,43615],[65936,65999],[66e3,66047],[66208,66271,66176,66207,67872,67903],[127024,127135,126976,127023]];function Te(Ge,Oe=-1){if(Oe!==-1){const Ce=t[Oe];for(let St=0,rn=Ce.length;St<rn;St+=2)if(Ge>=Ce[St]&&Ge<=Ce[St+1])return Oe}for(let Ce=0,St=t.length;Ce<St;Ce++){const rn=t[Ce];for(let un=0,Qe=rn.length;un<Qe;un+=2)if(Ge>=rn[un]&&Ge<=rn[un+1])return Ce}return-1}const Ye=new RegExp("^(\\s)|(\\p{Mn})|(\\p{Cf})$","u"),en=new Map;function je(Ge){const Oe=en.get(Ge);if(Oe)return Oe;const Ce=Ge.match(Ye),St={isWhitespace:!!Ce?.[1],isZeroWidthDiacritic:!!Ce?.[2],isInvisibleFormatMark:!!Ce?.[3]};return en.set(Ge,St),St}function nn(){en.clear()}},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.getSerifFonts=_e.getNonStdFontMap=_e.getGlyphMapForStandardFonts=_e.getFontNameToFileMap=void 0,_e.getStandardFontName=Ge,_e.getSymbolsFonts=_e.getSupplementalGlyphMapForCalibri=_e.getSupplementalGlyphMapForArialBlack=_e.getStdFontMap=void 0,_e.isKnownFontName=Oe;var xe=ze(3),Ie=ze(38);const Re=(0,xe.getLookupTableFactory)(function(Ce){Ce["Times-Roman"]="Times-Roman",Ce.Helvetica="Helvetica",Ce.Courier="Courier",Ce.Symbol="Symbol",Ce["Times-Bold"]="Times-Bold",Ce["Helvetica-Bold"]="Helvetica-Bold",Ce["Courier-Bold"]="Courier-Bold",Ce.ZapfDingbats="ZapfDingbats",Ce["Times-Italic"]="Times-Italic",Ce["Helvetica-Oblique"]="Helvetica-Oblique",Ce["Courier-Oblique"]="Courier-Oblique",Ce["Times-BoldItalic"]="Times-BoldItalic",Ce["Helvetica-BoldOblique"]="Helvetica-BoldOblique",Ce["Courier-BoldOblique"]="Courier-BoldOblique",Ce.ArialNarrow="Helvetica",Ce["ArialNarrow-Bold"]="Helvetica-Bold",Ce["ArialNarrow-BoldItalic"]="Helvetica-BoldOblique",Ce["ArialNarrow-Italic"]="Helvetica-Oblique",Ce.ArialBlack="Helvetica",Ce["ArialBlack-Bold"]="Helvetica-Bold",Ce["ArialBlack-BoldItalic"]="Helvetica-BoldOblique",Ce["ArialBlack-Italic"]="Helvetica-Oblique",Ce["Arial-Black"]="Helvetica",Ce["Arial-Black-Bold"]="Helvetica-Bold",Ce["Arial-Black-BoldItalic"]="Helvetica-BoldOblique",Ce["Arial-Black-Italic"]="Helvetica-Oblique",Ce.Arial="Helvetica",Ce["Arial-Bold"]="Helvetica-Bold",Ce["Arial-BoldItalic"]="Helvetica-BoldOblique",Ce["Arial-Italic"]="Helvetica-Oblique",Ce.ArialMT="Helvetica",Ce["Arial-BoldItalicMT"]="Helvetica-BoldOblique",Ce["Arial-BoldMT"]="Helvetica-Bold",Ce["Arial-ItalicMT"]="Helvetica-Oblique",Ce["Arial-BoldItalicMT-BoldItalic"]="Helvetica-BoldOblique",Ce["Arial-BoldMT-Bold"]="Helvetica-Bold",Ce["Arial-ItalicMT-Italic"]="Helvetica-Oblique",Ce.ArialUnicodeMS="Helvetica",Ce["ArialUnicodeMS-Bold"]="Helvetica-Bold",Ce["ArialUnicodeMS-BoldItalic"]="Helvetica-BoldOblique",Ce["ArialUnicodeMS-Italic"]="Helvetica-Oblique",Ce["Courier-BoldItalic"]="Courier-BoldOblique",Ce["Courier-Italic"]="Courier-Oblique",Ce.CourierNew="Courier",Ce["CourierNew-Bold"]="Courier-Bold",Ce["CourierNew-BoldItalic"]="Courier-BoldOblique",Ce["CourierNew-Italic"]="Courier-Oblique",Ce["CourierNewPS-BoldItalicMT"]="Courier-BoldOblique",Ce["CourierNewPS-BoldMT"]="Courier-Bold",Ce["CourierNewPS-ItalicMT"]="Courier-Oblique",Ce.CourierNewPSMT="Courier",Ce["Helvetica-BoldItalic"]="Helvetica-BoldOblique",Ce["Helvetica-Italic"]="Helvetica-Oblique",Ce["Symbol-Bold"]="Symbol",Ce["Symbol-BoldItalic"]="Symbol",Ce["Symbol-Italic"]="Symbol",Ce.TimesNewRoman="Times-Roman",Ce["TimesNewRoman-Bold"]="Times-Bold",Ce["TimesNewRoman-BoldItalic"]="Times-BoldItalic",Ce["TimesNewRoman-Italic"]="Times-Italic",Ce.TimesNewRomanPS="Times-Roman",Ce["TimesNewRomanPS-Bold"]="Times-Bold",Ce["TimesNewRomanPS-BoldItalic"]="Times-BoldItalic",Ce["TimesNewRomanPS-BoldItalicMT"]="Times-BoldItalic",Ce["TimesNewRomanPS-BoldMT"]="Times-Bold",Ce["TimesNewRomanPS-Italic"]="Times-Italic",Ce["TimesNewRomanPS-ItalicMT"]="Times-Italic",Ce.TimesNewRomanPSMT="Times-Roman",Ce["TimesNewRomanPSMT-Bold"]="Times-Bold",Ce["TimesNewRomanPSMT-BoldItalic"]="Times-BoldItalic",Ce["TimesNewRomanPSMT-Italic"]="Times-Italic"});_e.getStdFontMap=Re;const e=(0,xe.getLookupTableFactory)(function(Ce){Ce.Courier="FoxitFixed.pfb",Ce["Courier-Bold"]="FoxitFixedBold.pfb",Ce["Courier-BoldOblique"]="FoxitFixedBoldItalic.pfb",Ce["Courier-Oblique"]="FoxitFixedItalic.pfb",Ce.Helvetica="LiberationSans-Regular.ttf",Ce["Helvetica-Bold"]="LiberationSans-Bold.ttf",Ce["Helvetica-BoldOblique"]="LiberationSans-BoldItalic.ttf",Ce["Helvetica-Oblique"]="LiberationSans-Italic.ttf",Ce["Times-Roman"]="FoxitSerif.pfb",Ce["Times-Bold"]="FoxitSerifBold.pfb",Ce["Times-BoldItalic"]="FoxitSerifBoldItalic.pfb",Ce["Times-Italic"]="FoxitSerifItalic.pfb",Ce.Symbol="FoxitSymbol.pfb",Ce.ZapfDingbats="FoxitDingbats.pfb",Ce["LiberationSans-Regular"]="LiberationSans-Regular.ttf",Ce["LiberationSans-Bold"]="LiberationSans-Bold.ttf",Ce["LiberationSans-Italic"]="LiberationSans-Italic.ttf",Ce["LiberationSans-BoldItalic"]="LiberationSans-BoldItalic.ttf"});_e.getFontNameToFileMap=e;const t=(0,xe.getLookupTableFactory)(function(Ce){Ce.Calibri="Helvetica",Ce["Calibri-Bold"]="Helvetica-Bold",Ce["Calibri-BoldItalic"]="Helvetica-BoldOblique",Ce["Calibri-Italic"]="Helvetica-Oblique",Ce.CenturyGothic="Helvetica",Ce["CenturyGothic-Bold"]="Helvetica-Bold",Ce["CenturyGothic-BoldItalic"]="Helvetica-BoldOblique",Ce["CenturyGothic-Italic"]="Helvetica-Oblique",Ce.ComicSansMS="Comic Sans MS",Ce["ComicSansMS-Bold"]="Comic Sans MS-Bold",Ce["ComicSansMS-BoldItalic"]="Comic Sans MS-BoldItalic",Ce["ComicSansMS-Italic"]="Comic Sans MS-Italic",Ce.Impact="Helvetica",Ce["ItcSymbol-Bold"]="Helvetica-Bold",Ce["ItcSymbol-BoldItalic"]="Helvetica-BoldOblique",Ce["ItcSymbol-Book"]="Helvetica",Ce["ItcSymbol-BookItalic"]="Helvetica-Oblique",Ce["ItcSymbol-Medium"]="Helvetica",Ce["ItcSymbol-MediumItalic"]="Helvetica-Oblique",Ce.LucidaConsole="Courier",Ce["LucidaConsole-Bold"]="Courier-Bold",Ce["LucidaConsole-BoldItalic"]="Courier-BoldOblique",Ce["LucidaConsole-Italic"]="Courier-Oblique",Ce["LucidaSans-Demi"]="Helvetica-Bold",Ce["MS-Gothic"]="MS Gothic",Ce["MS-Gothic-Bold"]="MS Gothic-Bold",Ce["MS-Gothic-BoldItalic"]="MS Gothic-BoldItalic",Ce["MS-Gothic-Italic"]="MS Gothic-Italic",Ce["MS-Mincho"]="MS Mincho",Ce["MS-Mincho-Bold"]="MS Mincho-Bold",Ce["MS-Mincho-BoldItalic"]="MS Mincho-BoldItalic",Ce["MS-Mincho-Italic"]="MS Mincho-Italic",Ce["MS-PGothic"]="MS PGothic",Ce["MS-PGothic-Bold"]="MS PGothic-Bold",Ce["MS-PGothic-BoldItalic"]="MS PGothic-BoldItalic",Ce["MS-PGothic-Italic"]="MS PGothic-Italic",Ce["MS-PMincho"]="MS PMincho",Ce["MS-PMincho-Bold"]="MS PMincho-Bold",Ce["MS-PMincho-BoldItalic"]="MS PMincho-BoldItalic",Ce["MS-PMincho-Italic"]="MS PMincho-Italic",Ce.NuptialScript="Times-Italic",Ce.SegoeUISymbol="Helvetica"});_e.getNonStdFontMap=t;const Te=(0,xe.getLookupTableFactory)(function(Ce){Ce["Adobe Jenson"]=!0,Ce["Adobe Text"]=!0,Ce.Albertus=!0,Ce.Aldus=!0,Ce.Alexandria=!0,Ce.Algerian=!0,Ce["American Typewriter"]=!0,Ce.Antiqua=!0,Ce.Apex=!0,Ce.Arno=!0,Ce.Aster=!0,Ce.Aurora=!0,Ce.Baskerville=!0,Ce.Bell=!0,Ce.Bembo=!0,Ce["Bembo Schoolbook"]=!0,Ce.Benguiat=!0,Ce["Berkeley Old Style"]=!0,Ce["Bernhard Modern"]=!0,Ce["Berthold City"]=!0,Ce.Bodoni=!0,Ce["Bauer Bodoni"]=!0,Ce["Book Antiqua"]=!0,Ce.Bookman=!0,Ce["Bordeaux Roman"]=!0,Ce["Californian FB"]=!0,Ce.Calisto=!0,Ce.Calvert=!0,Ce.Capitals=!0,Ce.Cambria=!0,Ce.Cartier=!0,Ce.Caslon=!0,Ce.Catull=!0,Ce.Centaur=!0,Ce["Century Old Style"]=!0,Ce["Century Schoolbook"]=!0,Ce.Chaparral=!0,Ce["Charis SIL"]=!0,Ce.Cheltenham=!0,Ce["Cholla Slab"]=!0,Ce.Clarendon=!0,Ce.Clearface=!0,Ce.Cochin=!0,Ce.Colonna=!0,Ce["Computer Modern"]=!0,Ce["Concrete Roman"]=!0,Ce.Constantia=!0,Ce["Cooper Black"]=!0,Ce.Corona=!0,Ce.Ecotype=!0,Ce.Egyptienne=!0,Ce.Elephant=!0,Ce.Excelsior=!0,Ce.Fairfield=!0,Ce["FF Scala"]=!0,Ce.Folkard=!0,Ce.Footlight=!0,Ce.FreeSerif=!0,Ce["Friz Quadrata"]=!0,Ce.Garamond=!0,Ce.Gentium=!0,Ce.Georgia=!0,Ce.Gloucester=!0,Ce["Goudy Old Style"]=!0,Ce["Goudy Schoolbook"]=!0,Ce["Goudy Pro Font"]=!0,Ce.Granjon=!0,Ce["Guardian Egyptian"]=!0,Ce.Heather=!0,Ce.Hercules=!0,Ce["High Tower Text"]=!0,Ce.Hiroshige=!0,Ce["Hoefler Text"]=!0,Ce["Humana Serif"]=!0,Ce.Imprint=!0,Ce["Ionic No. 5"]=!0,Ce.Janson=!0,Ce.Joanna=!0,Ce.Korinna=!0,Ce.Lexicon=!0,Ce.LiberationSerif=!0,Ce["Liberation Serif"]=!0,Ce["Linux Libertine"]=!0,Ce.Literaturnaya=!0,Ce.Lucida=!0,Ce["Lucida Bright"]=!0,Ce.Melior=!0,Ce.Memphis=!0,Ce.Miller=!0,Ce.Minion=!0,Ce.Modern=!0,Ce["Mona Lisa"]=!0,Ce["Mrs Eaves"]=!0,Ce["MS Serif"]=!0,Ce["Museo Slab"]=!0,Ce["New York"]=!0,Ce["Nimbus Roman"]=!0,Ce["NPS Rawlinson Roadway"]=!0,Ce.NuptialScript=!0,Ce.Palatino=!0,Ce.Perpetua=!0,Ce.Plantin=!0,Ce["Plantin Schoolbook"]=!0,Ce.Playbill=!0,Ce["Poor Richard"]=!0,Ce["Rawlinson Roadway"]=!0,Ce.Renault=!0,Ce.Requiem=!0,Ce.Rockwell=!0,Ce.Roman=!0,Ce["Rotis Serif"]=!0,Ce.Sabon=!0,Ce.Scala=!0,Ce.Seagull=!0,Ce.Sistina=!0,Ce.Souvenir=!0,Ce.STIX=!0,Ce["Stone Informal"]=!0,Ce["Stone Serif"]=!0,Ce.Sylfaen=!0,Ce.Times=!0,Ce.Trajan=!0,Ce.Trinité=!0,Ce["Trump Mediaeval"]=!0,Ce.Utopia=!0,Ce["Vale Type"]=!0,Ce["Bitstream Vera"]=!0,Ce["Vera Serif"]=!0,Ce.Versailles=!0,Ce.Wanted=!0,Ce.Weiss=!0,Ce["Wide Latin"]=!0,Ce.Windsor=!0,Ce.XITS=!0});_e.getSerifFonts=Te;const Ye=(0,xe.getLookupTableFactory)(function(Ce){Ce.Dingbats=!0,Ce.Symbol=!0,Ce.ZapfDingbats=!0,Ce.Wingdings=!0,Ce["Wingdings-Bold"]=!0,Ce["Wingdings-Regular"]=!0});_e.getSymbolsFonts=Ye;const en=(0,xe.getLookupTableFactory)(function(Ce){Ce[2]=10,Ce[3]=32,Ce[4]=33,Ce[5]=34,Ce[6]=35,Ce[7]=36,Ce[8]=37,Ce[9]=38,Ce[10]=39,Ce[11]=40,Ce[12]=41,Ce[13]=42,Ce[14]=43,Ce[15]=44,Ce[16]=45,Ce[17]=46,Ce[18]=47,Ce[19]=48,Ce[20]=49,Ce[21]=50,Ce[22]=51,Ce[23]=52,Ce[24]=53,Ce[25]=54,Ce[26]=55,Ce[27]=56,Ce[28]=57,Ce[29]=58,Ce[30]=894,Ce[31]=60,Ce[32]=61,Ce[33]=62,Ce[34]=63,Ce[35]=64,Ce[36]=65,Ce[37]=66,Ce[38]=67,Ce[39]=68,Ce[40]=69,Ce[41]=70,Ce[42]=71,Ce[43]=72,Ce[44]=73,Ce[45]=74,Ce[46]=75,Ce[47]=76,Ce[48]=77,Ce[49]=78,Ce[50]=79,Ce[51]=80,Ce[52]=81,Ce[53]=82,Ce[54]=83,Ce[55]=84,Ce[56]=85,Ce[57]=86,Ce[58]=87,Ce[59]=88,Ce[60]=89,Ce[61]=90,Ce[62]=91,Ce[63]=92,Ce[64]=93,Ce[65]=94,Ce[66]=95,Ce[67]=96,Ce[68]=97,Ce[69]=98,Ce[70]=99,Ce[71]=100,Ce[72]=101,Ce[73]=102,Ce[74]=103,Ce[75]=104,Ce[76]=105,Ce[77]=106,Ce[78]=107,Ce[79]=108,Ce[80]=109,Ce[81]=110,Ce[82]=111,Ce[83]=112,Ce[84]=113,Ce[85]=114,Ce[86]=115,Ce[87]=116,Ce[88]=117,Ce[89]=118,Ce[90]=119,Ce[91]=120,Ce[92]=121,Ce[93]=122,Ce[94]=123,Ce[95]=124,Ce[96]=125,Ce[97]=126,Ce[98]=196,Ce[99]=197,Ce[100]=199,Ce[101]=201,Ce[102]=209,Ce[103]=214,Ce[104]=220,Ce[105]=225,Ce[106]=224,Ce[107]=226,Ce[108]=228,Ce[109]=227,Ce[110]=229,Ce[111]=231,Ce[112]=233,Ce[113]=232,Ce[114]=234,Ce[115]=235,Ce[116]=237,Ce[117]=236,Ce[118]=238,Ce[119]=239,Ce[120]=241,Ce[121]=243,Ce[122]=242,Ce[123]=244,Ce[124]=246,Ce[125]=245,Ce[126]=250,Ce[127]=249,Ce[128]=251,Ce[129]=252,Ce[130]=8224,Ce[131]=176,Ce[132]=162,Ce[133]=163,Ce[134]=167,Ce[135]=8226,Ce[136]=182,Ce[137]=223,Ce[138]=174,Ce[139]=169,Ce[140]=8482,Ce[141]=180,Ce[142]=168,Ce[143]=8800,Ce[144]=198,Ce[145]=216,Ce[146]=8734,Ce[147]=177,Ce[148]=8804,Ce[149]=8805,Ce[150]=165,Ce[151]=181,Ce[152]=8706,Ce[153]=8721,Ce[154]=8719,Ce[156]=8747,Ce[157]=170,Ce[158]=186,Ce[159]=8486,Ce[160]=230,Ce[161]=248,Ce[162]=191,Ce[163]=161,Ce[164]=172,Ce[165]=8730,Ce[166]=402,Ce[167]=8776,Ce[168]=8710,Ce[169]=171,Ce[170]=187,Ce[171]=8230,Ce[179]=8220,Ce[180]=8221,Ce[181]=8216,Ce[182]=8217,Ce[200]=193,Ce[203]=205,Ce[207]=211,Ce[210]=218,Ce[223]=711,Ce[224]=321,Ce[225]=322,Ce[226]=352,Ce[227]=353,Ce[228]=381,Ce[229]=382,Ce[233]=221,Ce[234]=253,Ce[252]=263,Ce[253]=268,Ce[254]=269,Ce[258]=258,Ce[260]=260,Ce[261]=261,Ce[265]=280,Ce[266]=281,Ce[267]=282,Ce[268]=283,Ce[269]=313,Ce[275]=323,Ce[276]=324,Ce[278]=328,Ce[283]=344,Ce[284]=345,Ce[285]=346,Ce[286]=347,Ce[292]=367,Ce[295]=377,Ce[296]=378,Ce[298]=380,Ce[305]=963,Ce[306]=964,Ce[307]=966,Ce[308]=8215,Ce[309]=8252,Ce[310]=8319,Ce[311]=8359,Ce[312]=8592,Ce[313]=8593,Ce[337]=9552,Ce[493]=1039,Ce[494]=1040,Ce[672]=1488,Ce[673]=1489,Ce[674]=1490,Ce[675]=1491,Ce[676]=1492,Ce[677]=1493,Ce[678]=1494,Ce[679]=1495,Ce[680]=1496,Ce[681]=1497,Ce[682]=1498,Ce[683]=1499,Ce[684]=1500,Ce[685]=1501,Ce[686]=1502,Ce[687]=1503,Ce[688]=1504,Ce[689]=1505,Ce[690]=1506,Ce[691]=1507,Ce[692]=1508,Ce[693]=1509,Ce[694]=1510,Ce[695]=1511,Ce[696]=1512,Ce[697]=1513,Ce[698]=1514,Ce[705]=1524,Ce[706]=8362,Ce[710]=64288,Ce[711]=64298,Ce[759]=1617,Ce[761]=1776,Ce[763]=1778,Ce[775]=1652,Ce[777]=1764,Ce[778]=1780,Ce[779]=1781,Ce[780]=1782,Ce[782]=771,Ce[783]=64726,Ce[786]=8363,Ce[788]=8532,Ce[790]=768,Ce[791]=769,Ce[792]=768,Ce[795]=803,Ce[797]=64336,Ce[798]=64337,Ce[799]=64342,Ce[800]=64343,Ce[801]=64344,Ce[802]=64345,Ce[803]=64362,Ce[804]=64363,Ce[805]=64364,Ce[2424]=7821,Ce[2425]=7822,Ce[2426]=7823,Ce[2427]=7824,Ce[2428]=7825,Ce[2429]=7826,Ce[2430]=7827,Ce[2433]=7682,Ce[2678]=8045,Ce[2679]=8046,Ce[2830]=1552,Ce[2838]=686,Ce[2840]=751,Ce[2842]=753,Ce[2843]=754,Ce[2844]=755,Ce[2846]=757,Ce[2856]=767,Ce[2857]=848,Ce[2858]=849,Ce[2862]=853,Ce[2863]=854,Ce[2864]=855,Ce[2865]=861,Ce[2866]=862,Ce[2906]=7460,Ce[2908]=7462,Ce[2909]=7463,Ce[2910]=7464,Ce[2912]=7466,Ce[2913]=7467,Ce[2914]=7468,Ce[2916]=7470,Ce[2917]=7471,Ce[2918]=7472,Ce[2920]=7474,Ce[2921]=7475,Ce[2922]=7476,Ce[2924]=7478,Ce[2925]=7479,Ce[2926]=7480,Ce[2928]=7482,Ce[2929]=7483,Ce[2930]=7484,Ce[2932]=7486,Ce[2933]=7487,Ce[2934]=7488,Ce[2936]=7490,Ce[2937]=7491,Ce[2938]=7492,Ce[2940]=7494,Ce[2941]=7495,Ce[2942]=7496,Ce[2944]=7498,Ce[2946]=7500,Ce[2948]=7502,Ce[2950]=7504,Ce[2951]=7505,Ce[2952]=7506,Ce[2954]=7508,Ce[2955]=7509,Ce[2956]=7510,Ce[2958]=7512,Ce[2959]=7513,Ce[2960]=7514,Ce[2962]=7516,Ce[2963]=7517,Ce[2964]=7518,Ce[2966]=7520,Ce[2967]=7521,Ce[2968]=7522,Ce[2970]=7524,Ce[2971]=7525,Ce[2972]=7526,Ce[2974]=7528,Ce[2975]=7529,Ce[2976]=7530,Ce[2978]=1537,Ce[2979]=1538,Ce[2980]=1539,Ce[2982]=1549,Ce[2983]=1551,Ce[2984]=1552,Ce[2986]=1554,Ce[2987]=1555,Ce[2988]=1556,Ce[2990]=1623,Ce[2991]=1624,Ce[2995]=1775,Ce[2999]=1791,Ce[3002]=64290,Ce[3003]=64291,Ce[3004]=64292,Ce[3006]=64294,Ce[3007]=64295,Ce[3008]=64296,Ce[3011]=1900,Ce[3014]=8223,Ce[3015]=8244,Ce[3017]=7532,Ce[3018]=7533,Ce[3019]=7534,Ce[3075]=7590,Ce[3076]=7591,Ce[3079]=7594,Ce[3080]=7595,Ce[3083]=7598,Ce[3084]=7599,Ce[3087]=7602,Ce[3088]=7603,Ce[3091]=7606,Ce[3092]=7607,Ce[3095]=7610,Ce[3096]=7611,Ce[3099]=7614,Ce[3100]=7615,Ce[3103]=7618,Ce[3104]=7619,Ce[3107]=8337,Ce[3108]=8338,Ce[3116]=1884,Ce[3119]=1885,Ce[3120]=1885,Ce[3123]=1886,Ce[3124]=1886,Ce[3127]=1887,Ce[3128]=1887,Ce[3131]=1888,Ce[3132]=1888,Ce[3135]=1889,Ce[3136]=1889,Ce[3139]=1890,Ce[3140]=1890,Ce[3143]=1891,Ce[3144]=1891,Ce[3147]=1892,Ce[3148]=1892,Ce[3153]=580,Ce[3154]=581,Ce[3157]=584,Ce[3158]=585,Ce[3161]=588,Ce[3162]=589,Ce[3165]=891,Ce[3166]=892,Ce[3169]=1274,Ce[3170]=1275,Ce[3173]=1278,Ce[3174]=1279,Ce[3181]=7622,Ce[3182]=7623,Ce[3282]=11799,Ce[3316]=578,Ce[3379]=42785,Ce[3393]=1159,Ce[3416]=8377});_e.getGlyphMapForStandardFonts=en;const je=(0,xe.getLookupTableFactory)(function(Ce){Ce[227]=322,Ce[264]=261,Ce[291]=346});_e.getSupplementalGlyphMapForArialBlack=je;const nn=(0,xe.getLookupTableFactory)(function(Ce){Ce[1]=32,Ce[4]=65,Ce[5]=192,Ce[6]=193,Ce[9]=196,Ce[17]=66,Ce[18]=67,Ce[21]=268,Ce[24]=68,Ce[28]=69,Ce[29]=200,Ce[30]=201,Ce[32]=282,Ce[38]=70,Ce[39]=71,Ce[44]=72,Ce[47]=73,Ce[48]=204,Ce[49]=205,Ce[58]=74,Ce[60]=75,Ce[62]=76,Ce[68]=77,Ce[69]=78,Ce[75]=79,Ce[76]=210,Ce[80]=214,Ce[87]=80,Ce[89]=81,Ce[90]=82,Ce[92]=344,Ce[94]=83,Ce[97]=352,Ce[100]=84,Ce[104]=85,Ce[109]=220,Ce[115]=86,Ce[116]=87,Ce[121]=88,Ce[122]=89,Ce[124]=221,Ce[127]=90,Ce[129]=381,Ce[258]=97,Ce[259]=224,Ce[260]=225,Ce[263]=228,Ce[268]=261,Ce[271]=98,Ce[272]=99,Ce[273]=263,Ce[275]=269,Ce[282]=100,Ce[286]=101,Ce[287]=232,Ce[288]=233,Ce[290]=283,Ce[295]=281,Ce[296]=102,Ce[336]=103,Ce[346]=104,Ce[349]=105,Ce[350]=236,Ce[351]=237,Ce[361]=106,Ce[364]=107,Ce[367]=108,Ce[371]=322,Ce[373]=109,Ce[374]=110,Ce[381]=111,Ce[382]=242,Ce[383]=243,Ce[386]=246,Ce[393]=112,Ce[395]=113,Ce[396]=114,Ce[398]=345,Ce[400]=115,Ce[401]=347,Ce[403]=353,Ce[410]=116,Ce[437]=117,Ce[442]=252,Ce[448]=118,Ce[449]=119,Ce[454]=120,Ce[455]=121,Ce[457]=253,Ce[460]=122,Ce[462]=382,Ce[463]=380,Ce[853]=44,Ce[855]=58,Ce[856]=46,Ce[876]=47,Ce[878]=45,Ce[882]=45,Ce[894]=40,Ce[895]=41,Ce[896]=91,Ce[897]=93,Ce[923]=64,Ce[1004]=48,Ce[1005]=49,Ce[1006]=50,Ce[1007]=51,Ce[1008]=52,Ce[1009]=53,Ce[1010]=54,Ce[1011]=55,Ce[1012]=56,Ce[1013]=57,Ce[1081]=37,Ce[1085]=43,Ce[1086]=45});_e.getSupplementalGlyphMapForCalibri=nn;function Ge(Ce){const St=(0,Ie.normalizeFontName)(Ce);return Re()[St]}function Oe(Ce){const St=(0,Ie.normalizeFontName)(Ce);return!!(Re()[St]||t()[St]||Te()[St]||Ye()[St])}},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.ToUnicodeMap=_e.IdentityToUnicodeMap=void 0;var xe=ze(2);class Ie{constructor(t=[]){this._map=t}get length(){return this._map.length}forEach(t){for(const Te in this._map)t(Te,this._map[Te].charCodeAt(0))}has(t){return this._map[t]!==void 0}get(t){return this._map[t]}charCodeOf(t){const Te=this._map;if(Te.length<=65536)return Te.indexOf(t);for(const Ye in Te)if(Te[Ye]===t)return Ye|0;return-1}amend(t){for(const Te in t)this._map[Te]=t[Te]}}_e.ToUnicodeMap=Ie;class Re{constructor(t,Te){this.firstChar=t,this.lastChar=Te}get length(){return this.lastChar+1-this.firstChar}forEach(t){for(let Te=this.firstChar,Ye=this.lastChar;Te<=Ye;Te++)t(Te,Te)}has(t){return this.firstChar<=t&&t<=this.lastChar}get(t){if(this.firstChar<=t&&t<=this.lastChar)return String.fromCharCode(t)}charCodeOf(t){return Number.isInteger(t)&&t>=this.firstChar&&t<=this.lastChar?t:-1}amend(t){(0,xe.unreachable)("Should not call amend()")}}_e.IdentityToUnicodeMap=Re},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.CFFFont=void 0;var xe=ze(35),Ie=ze(38),Re=ze(2);class e{constructor(Te,Ye){this.properties=Ye;const en=new xe.CFFParser(Te,Ye,Ie.SEAC_ANALYSIS_ENABLED);this.cff=en.parse(),this.cff.duplicateFirstGlyph();const je=new xe.CFFCompiler(this.cff);this.seacs=this.cff.seacs;try{this.data=je.compile()}catch{(0,Re.warn)("Failed to compile font "+Ye.loadedName),this.data=Te}this._createBuiltInEncoding()}get numGlyphs(){return this.cff.charStrings.count}getCharset(){return this.cff.charset.charset}getGlyphMapping(){const Te=this.cff,Ye=this.properties,{cidToGidMap:en,cMap:je}=Ye,nn=Te.charset.charset;let Ge,Oe;if(Ye.composite){let St;if(en?.length>0){St=Object.create(null);for(let un=0,Qe=en.length;un<Qe;un++){const hn=en[un];hn!==void 0&&(St[hn]=un)}}Ge=Object.create(null);let rn;if(Te.isCIDFont)for(Oe=0;Oe<nn.length;Oe++){const un=nn[Oe];rn=je.charCodeOf(un),St?.[rn]!==void 0&&(rn=St[rn]),Ge[rn]=Oe}else for(Oe=0;Oe<Te.charStrings.count;Oe++)rn=je.charCodeOf(Oe),Ge[rn]=Oe;return Ge}let Ce=Te.encoding?Te.encoding.encoding:null;return Ye.isInternalFont&&(Ce=Ye.defaultEncoding),Ge=(0,Ie.type1FontGlyphMapping)(Ye,Ce,nn),Ge}hasGlyphId(Te){return this.cff.hasGlyphId(Te)}_createBuiltInEncoding(){const{charset:Te,encoding:Ye}=this.cff;if(!Te||!Ye)return;const en=Te.charset,je=Ye.encoding,nn=[];for(const Ge in je){const Oe=je[Ge];if(Oe>=0){const Ce=en[Oe];Ce&&(nn[Ge]=Ce)}}nn.length>0&&(this.properties.builtInEncoding=nn)}}_e.CFFFont=e},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.FontRendererFactory=void 0;var xe=ze(2),Ie=ze(35),Re=ze(39),e=ze(37),t=ze(8);function Te(dn,qe){return(dn[qe]<<24|dn[qe+1]<<16|dn[qe+2]<<8|dn[qe+3])>>>0}function Ye(dn,qe){return dn[qe]<<8|dn[qe+1]}function en(dn,qe){return(dn[qe]<<24|dn[qe+1]<<16)>>16}function je(dn,qe){return dn[qe]<<24>>24}function nn(dn,qe){return en(dn,qe)/16384}function Ge(dn){const qe=dn.length;let tn=32768;return qe<1240?tn=107:qe<33900&&(tn=1131),tn}function Oe(dn,qe,tn){const Me=Ye(dn,qe+2)===1?Te(dn,qe+8):Te(dn,qe+16),De=Ye(dn,qe+Me);let Ue,We,$e;if(De===4){Ye(dn,qe+Me+2);const on=Ye(dn,qe+Me+6)>>1;for(We=qe+Me+14,Ue=[],$e=0;$e<on;$e++,We+=2)Ue[$e]={end:Ye(dn,We)};for(We+=2,$e=0;$e<on;$e++,We+=2)Ue[$e].start=Ye(dn,We);for($e=0;$e<on;$e++,We+=2)Ue[$e].idDelta=Ye(dn,We);for($e=0;$e<on;$e++,We+=2){let Je=Ye(dn,We);if(Je!==0){Ue[$e].ids=[];for(let an=0,Ke=Ue[$e].end-Ue[$e].start+1;an<Ke;an++)Ue[$e].ids[an]=Ye(dn,We+Je),Je+=2}}return Ue}else if(De===12){const on=Te(dn,qe+Me+12);for(We=qe+Me+16,Ue=[],$e=0;$e<on;$e++)qe=Te(dn,We),Ue.push({start:qe,end:Te(dn,We+4),idDelta:Te(dn,We+8)-qe}),We+=12;return Ue}throw new xe.FormatError(`unsupported cmap: ${De}`)}function Ce(dn,qe,tn,Me){const De={},We=new Ie.CFFParser(new t.Stream(dn,qe,tn-qe),De,Me).parse();return{glyphs:We.charStrings.objects,subrs:We.topDict.privateDict?.subrsIndex?.objects,gsubrs:We.globalSubrIndex?.objects,isCFFCIDFont:We.isCIDFont,fdSelect:We.fdSelect,fdArray:We.fdArray}}function St(dn,qe,tn){let Me,De;tn?(Me=4,De=Te):(Me=2,De=($e,on)=>2*Ye($e,on));const Ue=[];let We=De(qe,0);for(let $e=Me;$e<qe.length;$e+=Me){const on=De(qe,$e);Ue.push(dn.subarray(We,on)),We=on}return Ue}function rn(dn,qe){const tn=qe.codePointAt(0);let Me=0,De=0,Ue=dn.length-1;for(;De<Ue;){const We=De+Ue+1>>1;tn<dn[We].start?Ue=We-1:De=We}return dn[De].start<=tn&&tn<=dn[De].end&&(Me=dn[De].idDelta+(dn[De].ids?dn[De].ids[tn-dn[De].start]:tn)&65535),{charCode:tn,glyphId:Me}}function un(dn,qe,tn){function Me(Ke,sn){qe.push({cmd:"moveTo",args:[Ke,sn]})}function De(Ke,sn){qe.push({cmd:"lineTo",args:[Ke,sn]})}function Ue(Ke,sn,gn,mn){qe.push({cmd:"quadraticCurveTo",args:[Ke,sn,gn,mn]})}let We=0;const $e=en(dn,We);let on,Je=0,an=0;if(We+=10,$e<0)do{on=Ye(dn,We);const Ke=Ye(dn,We+2);We+=4;let sn,gn;on&1?(on&2?(sn=en(dn,We),gn=en(dn,We+2)):(sn=Ye(dn,We),gn=Ye(dn,We+2)),We+=4):on&2?(sn=je(dn,We++),gn=je(dn,We++)):(sn=dn[We++],gn=dn[We++]),on&2?(Je=sn,an=gn):(Je=0,an=0);let mn=1,yn=1,Sn=0,_n=0;on&8?(mn=yn=nn(dn,We),We+=2):on&64?(mn=nn(dn,We),yn=nn(dn,We+2),We+=4):on&128&&(mn=nn(dn,We),Sn=nn(dn,We+2),_n=nn(dn,We+4),yn=nn(dn,We+6),We+=8);const wn=tn.glyphs[Ke];wn&&(qe.push({cmd:"save"},{cmd:"transform",args:[mn,Sn,_n,yn,Je,an]}),un(wn,qe,tn),qe.push({cmd:"restore"}))}while(on&32);else{const Ke=[];let sn,gn;for(sn=0;sn<$e;sn++)Ke.push(Ye(dn,We)),We+=2;const mn=Ye(dn,We);We+=2+mn;const yn=Ke.at(-1)+1,Sn=[];for(;Sn.length<yn;){on=dn[We++];let wn=1;for(on&8&&(wn+=dn[We++]);wn-- >0;)Sn.push({flags:on})}for(sn=0;sn<yn;sn++){switch(Sn[sn].flags&18){case 0:Je+=en(dn,We),We+=2;break;case 2:Je-=dn[We++];break;case 18:Je+=dn[We++];break}Sn[sn].x=Je}for(sn=0;sn<yn;sn++){switch(Sn[sn].flags&36){case 0:an+=en(dn,We),We+=2;break;case 4:an-=dn[We++];break;case 36:an+=dn[We++];break}Sn[sn].y=an}let _n=0;for(We=0;We<$e;We++){const wn=Ke[We],Nn=Sn.slice(_n,wn+1);if(Nn[0].flags&1)Nn.push(Nn[0]);else if(Nn.at(-1).flags&1)Nn.unshift(Nn.at(-1));else{const Tn={flags:1,x:(Nn[0].x+Nn.at(-1).x)/2,y:(Nn[0].y+Nn.at(-1).y)/2};Nn.unshift(Tn),Nn.push(Tn)}for(Me(Nn[0].x,Nn[0].y),sn=1,gn=Nn.length;sn<gn;sn++)Nn[sn].flags&1?De(Nn[sn].x,Nn[sn].y):Nn[sn+1].flags&1?(Ue(Nn[sn].x,Nn[sn].y,Nn[sn+1].x,Nn[sn+1].y),sn++):Ue(Nn[sn].x,Nn[sn].y,(Nn[sn].x+Nn[sn+1].x)/2,(Nn[sn].y+Nn[sn+1].y)/2);_n=wn+1}}}function Qe(dn,qe,tn,Me){function De(sn,gn){qe.push({cmd:"moveTo",args:[sn,gn]})}function Ue(sn,gn){qe.push({cmd:"lineTo",args:[sn,gn]})}function We(sn,gn,mn,yn,Sn,_n){qe.push({cmd:"bezierCurveTo",args:[sn,gn,mn,yn,Sn,_n]})}const $e=[];let on=0,Je=0,an=0;function Ke(sn){let gn=0;for(;gn<sn.length;){let mn=!1,yn=sn[gn++],Sn,_n,wn,Nn,Tn,Cn,In,Rn,bn;switch(yn){case 1:an+=$e.length>>1,mn=!0;break;case 3:an+=$e.length>>1,mn=!0;break;case 4:Je+=$e.pop(),De(on,Je),mn=!0;break;case 5:for(;$e.length>0;)on+=$e.shift(),Je+=$e.shift(),Ue(on,Je);break;case 6:for(;$e.length>0&&(on+=$e.shift(),Ue(on,Je),$e.length!==0);)Je+=$e.shift(),Ue(on,Je);break;case 7:for(;$e.length>0&&(Je+=$e.shift(),Ue(on,Je),$e.length!==0);)on+=$e.shift(),Ue(on,Je);break;case 8:for(;$e.length>0;)Sn=on+$e.shift(),wn=Je+$e.shift(),_n=Sn+$e.shift(),Nn=wn+$e.shift(),on=_n+$e.shift(),Je=Nn+$e.shift(),We(Sn,wn,_n,Nn,on,Je);break;case 10:if(Rn=$e.pop(),bn=null,tn.isCFFCIDFont){const kn=tn.fdSelect.getFDIndex(Me);if(kn>=0&&kn<tn.fdArray.length){const En=tn.fdArray[kn];let On;En.privateDict?.subrsIndex&&(On=En.privateDict.subrsIndex.objects),On&&(Rn+=Ge(On),bn=On[Rn])}else(0,xe.warn)("Invalid fd index for glyph index.")}else bn=tn.subrs[Rn+tn.subrsBias];bn&&Ke(bn);break;case 11:return;case 12:switch(yn=sn[gn++],yn){case 34:Sn=on+$e.shift(),_n=Sn+$e.shift(),Tn=Je+$e.shift(),on=_n+$e.shift(),We(Sn,Je,_n,Tn,on,Tn),Sn=on+$e.shift(),_n=Sn+$e.shift(),on=_n+$e.shift(),We(Sn,Tn,_n,Je,on,Je);break;case 35:Sn=on+$e.shift(),wn=Je+$e.shift(),_n=Sn+$e.shift(),Nn=wn+$e.shift(),on=_n+$e.shift(),Je=Nn+$e.shift(),We(Sn,wn,_n,Nn,on,Je),Sn=on+$e.shift(),wn=Je+$e.shift(),_n=Sn+$e.shift(),Nn=wn+$e.shift(),on=_n+$e.shift(),Je=Nn+$e.shift(),We(Sn,wn,_n,Nn,on,Je),$e.pop();break;case 36:Sn=on+$e.shift(),Tn=Je+$e.shift(),_n=Sn+$e.shift(),Cn=Tn+$e.shift(),on=_n+$e.shift(),We(Sn,Tn,_n,Cn,on,Cn),Sn=on+$e.shift(),_n=Sn+$e.shift(),In=Cn+$e.shift(),on=_n+$e.shift(),We(Sn,Cn,_n,In,on,Je);break;case 37:const kn=on,En=Je;Sn=on+$e.shift(),wn=Je+$e.shift(),_n=Sn+$e.shift(),Nn=wn+$e.shift(),on=_n+$e.shift(),Je=Nn+$e.shift(),We(Sn,wn,_n,Nn,on,Je),Sn=on+$e.shift(),wn=Je+$e.shift(),_n=Sn+$e.shift(),Nn=wn+$e.shift(),on=_n,Je=Nn,Math.abs(on-kn)>Math.abs(Je-En)?on+=$e.shift():Je+=$e.shift(),We(Sn,wn,_n,Nn,on,Je);break;default:throw new xe.FormatError(`unknown operator: 12 ${yn}`)}break;case 14:if($e.length>=4){const kn=$e.pop(),En=$e.pop();Je=$e.pop(),on=$e.pop(),qe.push({cmd:"save"},{cmd:"translate",args:[on,Je]});let On=rn(tn.cmap,String.fromCharCode(tn.glyphNameMap[e.StandardEncoding[kn]]));Qe(tn.glyphs[On.glyphId],qe,tn,On.glyphId),qe.push({cmd:"restore"}),On=rn(tn.cmap,String.fromCharCode(tn.glyphNameMap[e.StandardEncoding[En]])),Qe(tn.glyphs[On.glyphId],qe,tn,On.glyphId)}return;case 18:an+=$e.length>>1,mn=!0;break;case 19:an+=$e.length>>1,gn+=an+7>>3,mn=!0;break;case 20:an+=$e.length>>1,gn+=an+7>>3,mn=!0;break;case 21:Je+=$e.pop(),on+=$e.pop(),De(on,Je),mn=!0;break;case 22:on+=$e.pop(),De(on,Je),mn=!0;break;case 23:an+=$e.length>>1,mn=!0;break;case 24:for(;$e.length>2;)Sn=on+$e.shift(),wn=Je+$e.shift(),_n=Sn+$e.shift(),Nn=wn+$e.shift(),on=_n+$e.shift(),Je=Nn+$e.shift(),We(Sn,wn,_n,Nn,on,Je);on+=$e.shift(),Je+=$e.shift(),Ue(on,Je);break;case 25:for(;$e.length>6;)on+=$e.shift(),Je+=$e.shift(),Ue(on,Je);Sn=on+$e.shift(),wn=Je+$e.shift(),_n=Sn+$e.shift(),Nn=wn+$e.shift(),on=_n+$e.shift(),Je=Nn+$e.shift(),We(Sn,wn,_n,Nn,on,Je);break;case 26:for($e.length%2&&(on+=$e.shift());$e.length>0;)Sn=on,wn=Je+$e.shift(),_n=Sn+$e.shift(),Nn=wn+$e.shift(),on=_n,Je=Nn+$e.shift(),We(Sn,wn,_n,Nn,on,Je);break;case 27:for($e.length%2&&(Je+=$e.shift());$e.length>0;)Sn=on+$e.shift(),wn=Je,_n=Sn+$e.shift(),Nn=wn+$e.shift(),on=_n+$e.shift(),Je=Nn,We(Sn,wn,_n,Nn,on,Je);break;case 28:$e.push((sn[gn]<<24|sn[gn+1]<<16)>>16),gn+=2;break;case 29:Rn=$e.pop()+tn.gsubrsBias,bn=tn.gsubrs[Rn],bn&&Ke(bn);break;case 30:for(;$e.length>0&&(Sn=on,wn=Je+$e.shift(),_n=Sn+$e.shift(),Nn=wn+$e.shift(),on=_n+$e.shift(),Je=Nn+($e.length===1?$e.shift():0),We(Sn,wn,_n,Nn,on,Je),$e.length!==0);)Sn=on+$e.shift(),wn=Je,_n=Sn+$e.shift(),Nn=wn+$e.shift(),Je=Nn+$e.shift(),on=_n+($e.length===1?$e.shift():0),We(Sn,wn,_n,Nn,on,Je);break;case 31:for(;$e.length>0&&(Sn=on+$e.shift(),wn=Je,_n=Sn+$e.shift(),Nn=wn+$e.shift(),Je=Nn+$e.shift(),on=_n+($e.length===1?$e.shift():0),We(Sn,wn,_n,Nn,on,Je),$e.length!==0);)Sn=on,wn=Je+$e.shift(),_n=Sn+$e.shift(),Nn=wn+$e.shift(),on=_n+$e.shift(),Je=Nn+($e.length===1?$e.shift():0),We(Sn,wn,_n,Nn,on,Je);break;default:if(yn<32)throw new xe.FormatError(`unknown operator: ${yn}`);yn<247?$e.push(yn-139):yn<251?$e.push((yn-247)*256+sn[gn++]+108):yn<255?$e.push(-(yn-251)*256-sn[gn++]-108):($e.push((sn[gn]<<24|sn[gn+1]<<16|sn[gn+2]<<8|sn[gn+3])/65536),gn+=4);break}mn&&($e.length=0)}}Ke(dn)}const hn=[];class He{constructor(qe){this.constructor===He&&(0,xe.unreachable)("Cannot initialize CompiledFont."),this.fontMatrix=qe,this.compiledGlyphs=Object.create(null),this.compiledCharCodeToGlyphId=Object.create(null)}getPathJs(qe){const{charCode:tn,glyphId:Me}=rn(this.cmap,qe);let De=this.compiledGlyphs[Me];if(!De)try{De=this.compileGlyph(this.glyphs[Me],Me),this.compiledGlyphs[Me]=De}catch(Ue){throw this.compiledGlyphs[Me]=hn,this.compiledCharCodeToGlyphId[tn]===void 0&&(this.compiledCharCodeToGlyphId[tn]=Me),Ue}return this.compiledCharCodeToGlyphId[tn]===void 0&&(this.compiledCharCodeToGlyphId[tn]=Me),De}compileGlyph(qe,tn){if(!qe||qe.length===0||qe[0]===14)return hn;let Me=this.fontMatrix;if(this.isCFFCIDFont){const Ue=this.fdSelect.getFDIndex(tn);Ue>=0&&Ue<this.fdArray.length?Me=this.fdArray[Ue].getByName("FontMatrix")||xe.FONT_IDENTITY_MATRIX:(0,xe.warn)("Invalid fd index for glyph index.")}const De=[{cmd:"save"},{cmd:"transform",args:Me.slice()},{cmd:"scale",args:["size","-size"]}];return this.compileGlyphImpl(qe,De,tn),De.push({cmd:"restore"}),De}compileGlyphImpl(){(0,xe.unreachable)("Children classes should implement this.")}hasBuiltPath(qe){const{charCode:tn,glyphId:Me}=rn(this.cmap,qe);return this.compiledGlyphs[Me]!==void 0&&this.compiledCharCodeToGlyphId[tn]!==void 0}}class pn extends He{constructor(qe,tn,Me){super(Me||[488e-6,0,0,488e-6,0,0]),this.glyphs=qe,this.cmap=tn}compileGlyphImpl(qe,tn){un(qe,tn,this)}}class Xe extends He{constructor(qe,tn,Me,De){super(Me||[.001,0,0,.001,0,0]),this.glyphs=qe.glyphs,this.gsubrs=qe.gsubrs||[],this.subrs=qe.subrs||[],this.cmap=tn,this.glyphNameMap=De||(0,Re.getGlyphsUnicode)(),this.gsubrsBias=Ge(this.gsubrs),this.subrsBias=Ge(this.subrs),this.isCFFCIDFont=qe.isCFFCIDFont,this.fdSelect=qe.fdSelect,this.fdArray=qe.fdArray}compileGlyphImpl(qe,tn,Me){Qe(qe,tn,this,Me)}}class fn{static create(qe,tn){const Me=new Uint8Array(qe.data);let De,Ue,We,$e,on,Je;const an=Ye(Me,4);for(let Ke=0,sn=12;Ke<an;Ke++,sn+=16){const gn=(0,xe.bytesToString)(Me.subarray(sn,sn+4)),mn=Te(Me,sn+8),yn=Te(Me,sn+12);switch(gn){case"cmap":De=Oe(Me,mn);break;case"glyf":Ue=Me.subarray(mn,mn+yn);break;case"loca":We=Me.subarray(mn,mn+yn);break;case"head":Je=Ye(Me,mn+18),on=Ye(Me,mn+50);break;case"CFF ":$e=Ce(Me,mn,mn+yn,tn);break}}if(Ue){const Ke=Je?[1/Je,0,0,1/Je,0,0]:qe.fontMatrix;return new pn(St(Ue,We,on),De,Ke)}return new Xe($e,De,qe.fontMatrix,qe.glyphNameMap)}}_e.FontRendererFactory=fn},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.getMetrics=_e.getFontBasicMetrics=void 0;var xe=ze(3);const Ie=(0,xe.getLookupTableFactory)(function(e){e.Courier=600,e["Courier-Bold"]=600,e["Courier-BoldOblique"]=600,e["Courier-Oblique"]=600,e.Helvetica=(0,xe.getLookupTableFactory)(function(t){t.space=278,t.exclam=278,t.quotedbl=355,t.numbersign=556,t.dollar=556,t.percent=889,t.ampersand=667,t.quoteright=222,t.parenleft=333,t.parenright=333,t.asterisk=389,t.plus=584,t.comma=278,t.hyphen=333,t.period=278,t.slash=278,t.zero=556,t.one=556,t.two=556,t.three=556,t.four=556,t.five=556,t.six=556,t.seven=556,t.eight=556,t.nine=556,t.colon=278,t.semicolon=278,t.less=584,t.equal=584,t.greater=584,t.question=556,t.at=1015,t.A=667,t.B=667,t.C=722,t.D=722,t.E=667,t.F=611,t.G=778,t.H=722,t.I=278,t.J=500,t.K=667,t.L=556,t.M=833,t.N=722,t.O=778,t.P=667,t.Q=778,t.R=722,t.S=667,t.T=611,t.U=722,t.V=667,t.W=944,t.X=667,t.Y=667,t.Z=611,t.bracketleft=278,t.backslash=278,t.bracketright=278,t.asciicircum=469,t.underscore=556,t.quoteleft=222,t.a=556,t.b=556,t.c=500,t.d=556,t.e=556,t.f=278,t.g=556,t.h=556,t.i=222,t.j=222,t.k=500,t.l=222,t.m=833,t.n=556,t.o=556,t.p=556,t.q=556,t.r=333,t.s=500,t.t=278,t.u=556,t.v=500,t.w=722,t.x=500,t.y=500,t.z=500,t.braceleft=334,t.bar=260,t.braceright=334,t.asciitilde=584,t.exclamdown=333,t.cent=556,t.sterling=556,t.fraction=167,t.yen=556,t.florin=556,t.section=556,t.currency=556,t.quotesingle=191,t.quotedblleft=333,t.guillemotleft=556,t.guilsinglleft=333,t.guilsinglright=333,t.fi=500,t.fl=500,t.endash=556,t.dagger=556,t.daggerdbl=556,t.periodcentered=278,t.paragraph=537,t.bullet=350,t.quotesinglbase=222,t.quotedblbase=333,t.quotedblright=333,t.guillemotright=556,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=611,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=1e3,t.ordfeminine=370,t.Lslash=556,t.Oslash=778,t.OE=1e3,t.ordmasculine=365,t.ae=889,t.dotlessi=278,t.lslash=222,t.oslash=611,t.oe=944,t.germandbls=611,t.Idieresis=278,t.eacute=556,t.abreve=556,t.uhungarumlaut=556,t.ecaron=556,t.Ydieresis=667,t.divide=584,t.Yacute=667,t.Acircumflex=667,t.aacute=556,t.Ucircumflex=722,t.yacute=500,t.scommaaccent=500,t.ecircumflex=556,t.Uring=722,t.Udieresis=722,t.aogonek=556,t.Uacute=722,t.uogonek=556,t.Edieresis=667,t.Dcroat=722,t.commaaccent=250,t.copyright=737,t.Emacron=667,t.ccaron=500,t.aring=556,t.Ncommaaccent=722,t.lacute=222,t.agrave=556,t.Tcommaaccent=611,t.Cacute=722,t.atilde=556,t.Edotaccent=667,t.scaron=500,t.scedilla=500,t.iacute=278,t.lozenge=471,t.Rcaron=722,t.Gcommaaccent=778,t.ucircumflex=556,t.acircumflex=556,t.Amacron=667,t.rcaron=333,t.ccedilla=500,t.Zdotaccent=611,t.Thorn=667,t.Omacron=778,t.Racute=722,t.Sacute=667,t.dcaron=643,t.Umacron=722,t.uring=556,t.threesuperior=333,t.Ograve=778,t.Agrave=667,t.Abreve=667,t.multiply=584,t.uacute=556,t.Tcaron=611,t.partialdiff=476,t.ydieresis=500,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=667,t.adieresis=556,t.edieresis=556,t.cacute=500,t.nacute=556,t.umacron=556,t.Ncaron=722,t.Iacute=278,t.plusminus=584,t.brokenbar=260,t.registered=737,t.Gbreve=778,t.Idotaccent=278,t.summation=600,t.Egrave=667,t.racute=333,t.omacron=556,t.Zacute=611,t.Zcaron=611,t.greaterequal=549,t.Eth=722,t.Ccedilla=722,t.lcommaaccent=222,t.tcaron=317,t.eogonek=556,t.Uogonek=722,t.Aacute=667,t.Adieresis=667,t.egrave=556,t.zacute=500,t.iogonek=222,t.Oacute=778,t.oacute=556,t.amacron=556,t.sacute=500,t.idieresis=278,t.Ocircumflex=778,t.Ugrave=722,t.Delta=612,t.thorn=556,t.twosuperior=333,t.Odieresis=778,t.mu=556,t.igrave=278,t.ohungarumlaut=556,t.Eogonek=667,t.dcroat=556,t.threequarters=834,t.Scedilla=667,t.lcaron=299,t.Kcommaaccent=667,t.Lacute=556,t.trademark=1e3,t.edotaccent=556,t.Igrave=278,t.Imacron=278,t.Lcaron=556,t.onehalf=834,t.lessequal=549,t.ocircumflex=556,t.ntilde=556,t.Uhungarumlaut=722,t.Eacute=667,t.emacron=556,t.gbreve=556,t.onequarter=834,t.Scaron=667,t.Scommaaccent=667,t.Ohungarumlaut=778,t.degree=400,t.ograve=556,t.Ccaron=722,t.ugrave=556,t.radical=453,t.Dcaron=722,t.rcommaaccent=333,t.Ntilde=722,t.otilde=556,t.Rcommaaccent=722,t.Lcommaaccent=556,t.Atilde=667,t.Aogonek=667,t.Aring=667,t.Otilde=778,t.zdotaccent=500,t.Ecaron=667,t.Iogonek=278,t.kcommaaccent=500,t.minus=584,t.Icircumflex=278,t.ncaron=556,t.tcommaaccent=278,t.logicalnot=584,t.odieresis=556,t.udieresis=556,t.notequal=549,t.gcommaaccent=556,t.eth=556,t.zcaron=500,t.ncommaaccent=556,t.onesuperior=333,t.imacron=278,t.Euro=556}),e["Helvetica-Bold"]=(0,xe.getLookupTableFactory)(function(t){t.space=278,t.exclam=333,t.quotedbl=474,t.numbersign=556,t.dollar=556,t.percent=889,t.ampersand=722,t.quoteright=278,t.parenleft=333,t.parenright=333,t.asterisk=389,t.plus=584,t.comma=278,t.hyphen=333,t.period=278,t.slash=278,t.zero=556,t.one=556,t.two=556,t.three=556,t.four=556,t.five=556,t.six=556,t.seven=556,t.eight=556,t.nine=556,t.colon=333,t.semicolon=333,t.less=584,t.equal=584,t.greater=584,t.question=611,t.at=975,t.A=722,t.B=722,t.C=722,t.D=722,t.E=667,t.F=611,t.G=778,t.H=722,t.I=278,t.J=556,t.K=722,t.L=611,t.M=833,t.N=722,t.O=778,t.P=667,t.Q=778,t.R=722,t.S=667,t.T=611,t.U=722,t.V=667,t.W=944,t.X=667,t.Y=667,t.Z=611,t.bracketleft=333,t.backslash=278,t.bracketright=333,t.asciicircum=584,t.underscore=556,t.quoteleft=278,t.a=556,t.b=611,t.c=556,t.d=611,t.e=556,t.f=333,t.g=611,t.h=611,t.i=278,t.j=278,t.k=556,t.l=278,t.m=889,t.n=611,t.o=611,t.p=611,t.q=611,t.r=389,t.s=556,t.t=333,t.u=611,t.v=556,t.w=778,t.x=556,t.y=556,t.z=500,t.braceleft=389,t.bar=280,t.braceright=389,t.asciitilde=584,t.exclamdown=333,t.cent=556,t.sterling=556,t.fraction=167,t.yen=556,t.florin=556,t.section=556,t.currency=556,t.quotesingle=238,t.quotedblleft=500,t.guillemotleft=556,t.guilsinglleft=333,t.guilsinglright=333,t.fi=611,t.fl=611,t.endash=556,t.dagger=556,t.daggerdbl=556,t.periodcentered=278,t.paragraph=556,t.bullet=350,t.quotesinglbase=278,t.quotedblbase=500,t.quotedblright=500,t.guillemotright=556,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=611,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=1e3,t.ordfeminine=370,t.Lslash=611,t.Oslash=778,t.OE=1e3,t.ordmasculine=365,t.ae=889,t.dotlessi=278,t.lslash=278,t.oslash=611,t.oe=944,t.germandbls=611,t.Idieresis=278,t.eacute=556,t.abreve=556,t.uhungarumlaut=611,t.ecaron=556,t.Ydieresis=667,t.divide=584,t.Yacute=667,t.Acircumflex=722,t.aacute=556,t.Ucircumflex=722,t.yacute=556,t.scommaaccent=556,t.ecircumflex=556,t.Uring=722,t.Udieresis=722,t.aogonek=556,t.Uacute=722,t.uogonek=611,t.Edieresis=667,t.Dcroat=722,t.commaaccent=250,t.copyright=737,t.Emacron=667,t.ccaron=556,t.aring=556,t.Ncommaaccent=722,t.lacute=278,t.agrave=556,t.Tcommaaccent=611,t.Cacute=722,t.atilde=556,t.Edotaccent=667,t.scaron=556,t.scedilla=556,t.iacute=278,t.lozenge=494,t.Rcaron=722,t.Gcommaaccent=778,t.ucircumflex=611,t.acircumflex=556,t.Amacron=722,t.rcaron=389,t.ccedilla=556,t.Zdotaccent=611,t.Thorn=667,t.Omacron=778,t.Racute=722,t.Sacute=667,t.dcaron=743,t.Umacron=722,t.uring=611,t.threesuperior=333,t.Ograve=778,t.Agrave=722,t.Abreve=722,t.multiply=584,t.uacute=611,t.Tcaron=611,t.partialdiff=494,t.ydieresis=556,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=667,t.adieresis=556,t.edieresis=556,t.cacute=556,t.nacute=611,t.umacron=611,t.Ncaron=722,t.Iacute=278,t.plusminus=584,t.brokenbar=280,t.registered=737,t.Gbreve=778,t.Idotaccent=278,t.summation=600,t.Egrave=667,t.racute=389,t.omacron=611,t.Zacute=611,t.Zcaron=611,t.greaterequal=549,t.Eth=722,t.Ccedilla=722,t.lcommaaccent=278,t.tcaron=389,t.eogonek=556,t.Uogonek=722,t.Aacute=722,t.Adieresis=722,t.egrave=556,t.zacute=500,t.iogonek=278,t.Oacute=778,t.oacute=611,t.amacron=556,t.sacute=556,t.idieresis=278,t.Ocircumflex=778,t.Ugrave=722,t.Delta=612,t.thorn=611,t.twosuperior=333,t.Odieresis=778,t.mu=611,t.igrave=278,t.ohungarumlaut=611,t.Eogonek=667,t.dcroat=611,t.threequarters=834,t.Scedilla=667,t.lcaron=400,t.Kcommaaccent=722,t.Lacute=611,t.trademark=1e3,t.edotaccent=556,t.Igrave=278,t.Imacron=278,t.Lcaron=611,t.onehalf=834,t.lessequal=549,t.ocircumflex=611,t.ntilde=611,t.Uhungarumlaut=722,t.Eacute=667,t.emacron=556,t.gbreve=611,t.onequarter=834,t.Scaron=667,t.Scommaaccent=667,t.Ohungarumlaut=778,t.degree=400,t.ograve=611,t.Ccaron=722,t.ugrave=611,t.radical=549,t.Dcaron=722,t.rcommaaccent=389,t.Ntilde=722,t.otilde=611,t.Rcommaaccent=722,t.Lcommaaccent=611,t.Atilde=722,t.Aogonek=722,t.Aring=722,t.Otilde=778,t.zdotaccent=500,t.Ecaron=667,t.Iogonek=278,t.kcommaaccent=556,t.minus=584,t.Icircumflex=278,t.ncaron=611,t.tcommaaccent=333,t.logicalnot=584,t.odieresis=611,t.udieresis=611,t.notequal=549,t.gcommaaccent=611,t.eth=611,t.zcaron=500,t.ncommaaccent=611,t.onesuperior=333,t.imacron=278,t.Euro=556}),e["Helvetica-BoldOblique"]=(0,xe.getLookupTableFactory)(function(t){t.space=278,t.exclam=333,t.quotedbl=474,t.numbersign=556,t.dollar=556,t.percent=889,t.ampersand=722,t.quoteright=278,t.parenleft=333,t.parenright=333,t.asterisk=389,t.plus=584,t.comma=278,t.hyphen=333,t.period=278,t.slash=278,t.zero=556,t.one=556,t.two=556,t.three=556,t.four=556,t.five=556,t.six=556,t.seven=556,t.eight=556,t.nine=556,t.colon=333,t.semicolon=333,t.less=584,t.equal=584,t.greater=584,t.question=611,t.at=975,t.A=722,t.B=722,t.C=722,t.D=722,t.E=667,t.F=611,t.G=778,t.H=722,t.I=278,t.J=556,t.K=722,t.L=611,t.M=833,t.N=722,t.O=778,t.P=667,t.Q=778,t.R=722,t.S=667,t.T=611,t.U=722,t.V=667,t.W=944,t.X=667,t.Y=667,t.Z=611,t.bracketleft=333,t.backslash=278,t.bracketright=333,t.asciicircum=584,t.underscore=556,t.quoteleft=278,t.a=556,t.b=611,t.c=556,t.d=611,t.e=556,t.f=333,t.g=611,t.h=611,t.i=278,t.j=278,t.k=556,t.l=278,t.m=889,t.n=611,t.o=611,t.p=611,t.q=611,t.r=389,t.s=556,t.t=333,t.u=611,t.v=556,t.w=778,t.x=556,t.y=556,t.z=500,t.braceleft=389,t.bar=280,t.braceright=389,t.asciitilde=584,t.exclamdown=333,t.cent=556,t.sterling=556,t.fraction=167,t.yen=556,t.florin=556,t.section=556,t.currency=556,t.quotesingle=238,t.quotedblleft=500,t.guillemotleft=556,t.guilsinglleft=333,t.guilsinglright=333,t.fi=611,t.fl=611,t.endash=556,t.dagger=556,t.daggerdbl=556,t.periodcentered=278,t.paragraph=556,t.bullet=350,t.quotesinglbase=278,t.quotedblbase=500,t.quotedblright=500,t.guillemotright=556,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=611,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=1e3,t.ordfeminine=370,t.Lslash=611,t.Oslash=778,t.OE=1e3,t.ordmasculine=365,t.ae=889,t.dotlessi=278,t.lslash=278,t.oslash=611,t.oe=944,t.germandbls=611,t.Idieresis=278,t.eacute=556,t.abreve=556,t.uhungarumlaut=611,t.ecaron=556,t.Ydieresis=667,t.divide=584,t.Yacute=667,t.Acircumflex=722,t.aacute=556,t.Ucircumflex=722,t.yacute=556,t.scommaaccent=556,t.ecircumflex=556,t.Uring=722,t.Udieresis=722,t.aogonek=556,t.Uacute=722,t.uogonek=611,t.Edieresis=667,t.Dcroat=722,t.commaaccent=250,t.copyright=737,t.Emacron=667,t.ccaron=556,t.aring=556,t.Ncommaaccent=722,t.lacute=278,t.agrave=556,t.Tcommaaccent=611,t.Cacute=722,t.atilde=556,t.Edotaccent=667,t.scaron=556,t.scedilla=556,t.iacute=278,t.lozenge=494,t.Rcaron=722,t.Gcommaaccent=778,t.ucircumflex=611,t.acircumflex=556,t.Amacron=722,t.rcaron=389,t.ccedilla=556,t.Zdotaccent=611,t.Thorn=667,t.Omacron=778,t.Racute=722,t.Sacute=667,t.dcaron=743,t.Umacron=722,t.uring=611,t.threesuperior=333,t.Ograve=778,t.Agrave=722,t.Abreve=722,t.multiply=584,t.uacute=611,t.Tcaron=611,t.partialdiff=494,t.ydieresis=556,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=667,t.adieresis=556,t.edieresis=556,t.cacute=556,t.nacute=611,t.umacron=611,t.Ncaron=722,t.Iacute=278,t.plusminus=584,t.brokenbar=280,t.registered=737,t.Gbreve=778,t.Idotaccent=278,t.summation=600,t.Egrave=667,t.racute=389,t.omacron=611,t.Zacute=611,t.Zcaron=611,t.greaterequal=549,t.Eth=722,t.Ccedilla=722,t.lcommaaccent=278,t.tcaron=389,t.eogonek=556,t.Uogonek=722,t.Aacute=722,t.Adieresis=722,t.egrave=556,t.zacute=500,t.iogonek=278,t.Oacute=778,t.oacute=611,t.amacron=556,t.sacute=556,t.idieresis=278,t.Ocircumflex=778,t.Ugrave=722,t.Delta=612,t.thorn=611,t.twosuperior=333,t.Odieresis=778,t.mu=611,t.igrave=278,t.ohungarumlaut=611,t.Eogonek=667,t.dcroat=611,t.threequarters=834,t.Scedilla=667,t.lcaron=400,t.Kcommaaccent=722,t.Lacute=611,t.trademark=1e3,t.edotaccent=556,t.Igrave=278,t.Imacron=278,t.Lcaron=611,t.onehalf=834,t.lessequal=549,t.ocircumflex=611,t.ntilde=611,t.Uhungarumlaut=722,t.Eacute=667,t.emacron=556,t.gbreve=611,t.onequarter=834,t.Scaron=667,t.Scommaaccent=667,t.Ohungarumlaut=778,t.degree=400,t.ograve=611,t.Ccaron=722,t.ugrave=611,t.radical=549,t.Dcaron=722,t.rcommaaccent=389,t.Ntilde=722,t.otilde=611,t.Rcommaaccent=722,t.Lcommaaccent=611,t.Atilde=722,t.Aogonek=722,t.Aring=722,t.Otilde=778,t.zdotaccent=500,t.Ecaron=667,t.Iogonek=278,t.kcommaaccent=556,t.minus=584,t.Icircumflex=278,t.ncaron=611,t.tcommaaccent=333,t.logicalnot=584,t.odieresis=611,t.udieresis=611,t.notequal=549,t.gcommaaccent=611,t.eth=611,t.zcaron=500,t.ncommaaccent=611,t.onesuperior=333,t.imacron=278,t.Euro=556}),e["Helvetica-Oblique"]=(0,xe.getLookupTableFactory)(function(t){t.space=278,t.exclam=278,t.quotedbl=355,t.numbersign=556,t.dollar=556,t.percent=889,t.ampersand=667,t.quoteright=222,t.parenleft=333,t.parenright=333,t.asterisk=389,t.plus=584,t.comma=278,t.hyphen=333,t.period=278,t.slash=278,t.zero=556,t.one=556,t.two=556,t.three=556,t.four=556,t.five=556,t.six=556,t.seven=556,t.eight=556,t.nine=556,t.colon=278,t.semicolon=278,t.less=584,t.equal=584,t.greater=584,t.question=556,t.at=1015,t.A=667,t.B=667,t.C=722,t.D=722,t.E=667,t.F=611,t.G=778,t.H=722,t.I=278,t.J=500,t.K=667,t.L=556,t.M=833,t.N=722,t.O=778,t.P=667,t.Q=778,t.R=722,t.S=667,t.T=611,t.U=722,t.V=667,t.W=944,t.X=667,t.Y=667,t.Z=611,t.bracketleft=278,t.backslash=278,t.bracketright=278,t.asciicircum=469,t.underscore=556,t.quoteleft=222,t.a=556,t.b=556,t.c=500,t.d=556,t.e=556,t.f=278,t.g=556,t.h=556,t.i=222,t.j=222,t.k=500,t.l=222,t.m=833,t.n=556,t.o=556,t.p=556,t.q=556,t.r=333,t.s=500,t.t=278,t.u=556,t.v=500,t.w=722,t.x=500,t.y=500,t.z=500,t.braceleft=334,t.bar=260,t.braceright=334,t.asciitilde=584,t.exclamdown=333,t.cent=556,t.sterling=556,t.fraction=167,t.yen=556,t.florin=556,t.section=556,t.currency=556,t.quotesingle=191,t.quotedblleft=333,t.guillemotleft=556,t.guilsinglleft=333,t.guilsinglright=333,t.fi=500,t.fl=500,t.endash=556,t.dagger=556,t.daggerdbl=556,t.periodcentered=278,t.paragraph=537,t.bullet=350,t.quotesinglbase=222,t.quotedblbase=333,t.quotedblright=333,t.guillemotright=556,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=611,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=1e3,t.ordfeminine=370,t.Lslash=556,t.Oslash=778,t.OE=1e3,t.ordmasculine=365,t.ae=889,t.dotlessi=278,t.lslash=222,t.oslash=611,t.oe=944,t.germandbls=611,t.Idieresis=278,t.eacute=556,t.abreve=556,t.uhungarumlaut=556,t.ecaron=556,t.Ydieresis=667,t.divide=584,t.Yacute=667,t.Acircumflex=667,t.aacute=556,t.Ucircumflex=722,t.yacute=500,t.scommaaccent=500,t.ecircumflex=556,t.Uring=722,t.Udieresis=722,t.aogonek=556,t.Uacute=722,t.uogonek=556,t.Edieresis=667,t.Dcroat=722,t.commaaccent=250,t.copyright=737,t.Emacron=667,t.ccaron=500,t.aring=556,t.Ncommaaccent=722,t.lacute=222,t.agrave=556,t.Tcommaaccent=611,t.Cacute=722,t.atilde=556,t.Edotaccent=667,t.scaron=500,t.scedilla=500,t.iacute=278,t.lozenge=471,t.Rcaron=722,t.Gcommaaccent=778,t.ucircumflex=556,t.acircumflex=556,t.Amacron=667,t.rcaron=333,t.ccedilla=500,t.Zdotaccent=611,t.Thorn=667,t.Omacron=778,t.Racute=722,t.Sacute=667,t.dcaron=643,t.Umacron=722,t.uring=556,t.threesuperior=333,t.Ograve=778,t.Agrave=667,t.Abreve=667,t.multiply=584,t.uacute=556,t.Tcaron=611,t.partialdiff=476,t.ydieresis=500,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=667,t.adieresis=556,t.edieresis=556,t.cacute=500,t.nacute=556,t.umacron=556,t.Ncaron=722,t.Iacute=278,t.plusminus=584,t.brokenbar=260,t.registered=737,t.Gbreve=778,t.Idotaccent=278,t.summation=600,t.Egrave=667,t.racute=333,t.omacron=556,t.Zacute=611,t.Zcaron=611,t.greaterequal=549,t.Eth=722,t.Ccedilla=722,t.lcommaaccent=222,t.tcaron=317,t.eogonek=556,t.Uogonek=722,t.Aacute=667,t.Adieresis=667,t.egrave=556,t.zacute=500,t.iogonek=222,t.Oacute=778,t.oacute=556,t.amacron=556,t.sacute=500,t.idieresis=278,t.Ocircumflex=778,t.Ugrave=722,t.Delta=612,t.thorn=556,t.twosuperior=333,t.Odieresis=778,t.mu=556,t.igrave=278,t.ohungarumlaut=556,t.Eogonek=667,t.dcroat=556,t.threequarters=834,t.Scedilla=667,t.lcaron=299,t.Kcommaaccent=667,t.Lacute=556,t.trademark=1e3,t.edotaccent=556,t.Igrave=278,t.Imacron=278,t.Lcaron=556,t.onehalf=834,t.lessequal=549,t.ocircumflex=556,t.ntilde=556,t.Uhungarumlaut=722,t.Eacute=667,t.emacron=556,t.gbreve=556,t.onequarter=834,t.Scaron=667,t.Scommaaccent=667,t.Ohungarumlaut=778,t.degree=400,t.ograve=556,t.Ccaron=722,t.ugrave=556,t.radical=453,t.Dcaron=722,t.rcommaaccent=333,t.Ntilde=722,t.otilde=556,t.Rcommaaccent=722,t.Lcommaaccent=556,t.Atilde=667,t.Aogonek=667,t.Aring=667,t.Otilde=778,t.zdotaccent=500,t.Ecaron=667,t.Iogonek=278,t.kcommaaccent=500,t.minus=584,t.Icircumflex=278,t.ncaron=556,t.tcommaaccent=278,t.logicalnot=584,t.odieresis=556,t.udieresis=556,t.notequal=549,t.gcommaaccent=556,t.eth=556,t.zcaron=500,t.ncommaaccent=556,t.onesuperior=333,t.imacron=278,t.Euro=556}),e.Symbol=(0,xe.getLookupTableFactory)(function(t){t.space=250,t.exclam=333,t.universal=713,t.numbersign=500,t.existential=549,t.percent=833,t.ampersand=778,t.suchthat=439,t.parenleft=333,t.parenright=333,t.asteriskmath=500,t.plus=549,t.comma=250,t.minus=549,t.period=250,t.slash=278,t.zero=500,t.one=500,t.two=500,t.three=500,t.four=500,t.five=500,t.six=500,t.seven=500,t.eight=500,t.nine=500,t.colon=278,t.semicolon=278,t.less=549,t.equal=549,t.greater=549,t.question=444,t.congruent=549,t.Alpha=722,t.Beta=667,t.Chi=722,t.Delta=612,t.Epsilon=611,t.Phi=763,t.Gamma=603,t.Eta=722,t.Iota=333,t.theta1=631,t.Kappa=722,t.Lambda=686,t.Mu=889,t.Nu=722,t.Omicron=722,t.Pi=768,t.Theta=741,t.Rho=556,t.Sigma=592,t.Tau=611,t.Upsilon=690,t.sigma1=439,t.Omega=768,t.Xi=645,t.Psi=795,t.Zeta=611,t.bracketleft=333,t.therefore=863,t.bracketright=333,t.perpendicular=658,t.underscore=500,t.radicalex=500,t.alpha=631,t.beta=549,t.chi=549,t.delta=494,t.epsilon=439,t.phi=521,t.gamma=411,t.eta=603,t.iota=329,t.phi1=603,t.kappa=549,t.lambda=549,t.mu=576,t.nu=521,t.omicron=549,t.pi=549,t.theta=521,t.rho=549,t.sigma=603,t.tau=439,t.upsilon=576,t.omega1=713,t.omega=686,t.xi=493,t.psi=686,t.zeta=494,t.braceleft=480,t.bar=200,t.braceright=480,t.similar=549,t.Euro=750,t.Upsilon1=620,t.minute=247,t.lessequal=549,t.fraction=167,t.infinity=713,t.florin=500,t.club=753,t.diamond=753,t.heart=753,t.spade=753,t.arrowboth=1042,t.arrowleft=987,t.arrowup=603,t.arrowright=987,t.arrowdown=603,t.degree=400,t.plusminus=549,t.second=411,t.greaterequal=549,t.multiply=549,t.proportional=713,t.partialdiff=494,t.bullet=460,t.divide=549,t.notequal=549,t.equivalence=549,t.approxequal=549,t.ellipsis=1e3,t.arrowvertex=603,t.arrowhorizex=1e3,t.carriagereturn=658,t.aleph=823,t.Ifraktur=686,t.Rfraktur=795,t.weierstrass=987,t.circlemultiply=768,t.circleplus=768,t.emptyset=823,t.intersection=768,t.union=768,t.propersuperset=713,t.reflexsuperset=713,t.notsubset=713,t.propersubset=713,t.reflexsubset=713,t.element=713,t.notelement=713,t.angle=768,t.gradient=713,t.registerserif=790,t.copyrightserif=790,t.trademarkserif=890,t.product=823,t.radical=549,t.dotmath=250,t.logicalnot=713,t.logicaland=603,t.logicalor=603,t.arrowdblboth=1042,t.arrowdblleft=987,t.arrowdblup=603,t.arrowdblright=987,t.arrowdbldown=603,t.lozenge=494,t.angleleft=329,t.registersans=790,t.copyrightsans=790,t.trademarksans=786,t.summation=713,t.parenlefttp=384,t.parenleftex=384,t.parenleftbt=384,t.bracketlefttp=384,t.bracketleftex=384,t.bracketleftbt=384,t.bracelefttp=494,t.braceleftmid=494,t.braceleftbt=494,t.braceex=494,t.angleright=329,t.integral=274,t.integraltp=686,t.integralex=686,t.integralbt=686,t.parenrighttp=384,t.parenrightex=384,t.parenrightbt=384,t.bracketrighttp=384,t.bracketrightex=384,t.bracketrightbt=384,t.bracerighttp=494,t.bracerightmid=494,t.bracerightbt=494,t.apple=790}),e["Times-Roman"]=(0,xe.getLookupTableFactory)(function(t){t.space=250,t.exclam=333,t.quotedbl=408,t.numbersign=500,t.dollar=500,t.percent=833,t.ampersand=778,t.quoteright=333,t.parenleft=333,t.parenright=333,t.asterisk=500,t.plus=564,t.comma=250,t.hyphen=333,t.period=250,t.slash=278,t.zero=500,t.one=500,t.two=500,t.three=500,t.four=500,t.five=500,t.six=500,t.seven=500,t.eight=500,t.nine=500,t.colon=278,t.semicolon=278,t.less=564,t.equal=564,t.greater=564,t.question=444,t.at=921,t.A=722,t.B=667,t.C=667,t.D=722,t.E=611,t.F=556,t.G=722,t.H=722,t.I=333,t.J=389,t.K=722,t.L=611,t.M=889,t.N=722,t.O=722,t.P=556,t.Q=722,t.R=667,t.S=556,t.T=611,t.U=722,t.V=722,t.W=944,t.X=722,t.Y=722,t.Z=611,t.bracketleft=333,t.backslash=278,t.bracketright=333,t.asciicircum=469,t.underscore=500,t.quoteleft=333,t.a=444,t.b=500,t.c=444,t.d=500,t.e=444,t.f=333,t.g=500,t.h=500,t.i=278,t.j=278,t.k=500,t.l=278,t.m=778,t.n=500,t.o=500,t.p=500,t.q=500,t.r=333,t.s=389,t.t=278,t.u=500,t.v=500,t.w=722,t.x=500,t.y=500,t.z=444,t.braceleft=480,t.bar=200,t.braceright=480,t.asciitilde=541,t.exclamdown=333,t.cent=500,t.sterling=500,t.fraction=167,t.yen=500,t.florin=500,t.section=500,t.currency=500,t.quotesingle=180,t.quotedblleft=444,t.guillemotleft=500,t.guilsinglleft=333,t.guilsinglright=333,t.fi=556,t.fl=556,t.endash=500,t.dagger=500,t.daggerdbl=500,t.periodcentered=250,t.paragraph=453,t.bullet=350,t.quotesinglbase=333,t.quotedblbase=444,t.quotedblright=444,t.guillemotright=500,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=444,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=889,t.ordfeminine=276,t.Lslash=611,t.Oslash=722,t.OE=889,t.ordmasculine=310,t.ae=667,t.dotlessi=278,t.lslash=278,t.oslash=500,t.oe=722,t.germandbls=500,t.Idieresis=333,t.eacute=444,t.abreve=444,t.uhungarumlaut=500,t.ecaron=444,t.Ydieresis=722,t.divide=564,t.Yacute=722,t.Acircumflex=722,t.aacute=444,t.Ucircumflex=722,t.yacute=500,t.scommaaccent=389,t.ecircumflex=444,t.Uring=722,t.Udieresis=722,t.aogonek=444,t.Uacute=722,t.uogonek=500,t.Edieresis=611,t.Dcroat=722,t.commaaccent=250,t.copyright=760,t.Emacron=611,t.ccaron=444,t.aring=444,t.Ncommaaccent=722,t.lacute=278,t.agrave=444,t.Tcommaaccent=611,t.Cacute=667,t.atilde=444,t.Edotaccent=611,t.scaron=389,t.scedilla=389,t.iacute=278,t.lozenge=471,t.Rcaron=667,t.Gcommaaccent=722,t.ucircumflex=500,t.acircumflex=444,t.Amacron=722,t.rcaron=333,t.ccedilla=444,t.Zdotaccent=611,t.Thorn=556,t.Omacron=722,t.Racute=667,t.Sacute=556,t.dcaron=588,t.Umacron=722,t.uring=500,t.threesuperior=300,t.Ograve=722,t.Agrave=722,t.Abreve=722,t.multiply=564,t.uacute=500,t.Tcaron=611,t.partialdiff=476,t.ydieresis=500,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=611,t.adieresis=444,t.edieresis=444,t.cacute=444,t.nacute=500,t.umacron=500,t.Ncaron=722,t.Iacute=333,t.plusminus=564,t.brokenbar=200,t.registered=760,t.Gbreve=722,t.Idotaccent=333,t.summation=600,t.Egrave=611,t.racute=333,t.omacron=500,t.Zacute=611,t.Zcaron=611,t.greaterequal=549,t.Eth=722,t.Ccedilla=667,t.lcommaaccent=278,t.tcaron=326,t.eogonek=444,t.Uogonek=722,t.Aacute=722,t.Adieresis=722,t.egrave=444,t.zacute=444,t.iogonek=278,t.Oacute=722,t.oacute=500,t.amacron=444,t.sacute=389,t.idieresis=278,t.Ocircumflex=722,t.Ugrave=722,t.Delta=612,t.thorn=500,t.twosuperior=300,t.Odieresis=722,t.mu=500,t.igrave=278,t.ohungarumlaut=500,t.Eogonek=611,t.dcroat=500,t.threequarters=750,t.Scedilla=556,t.lcaron=344,t.Kcommaaccent=722,t.Lacute=611,t.trademark=980,t.edotaccent=444,t.Igrave=333,t.Imacron=333,t.Lcaron=611,t.onehalf=750,t.lessequal=549,t.ocircumflex=500,t.ntilde=500,t.Uhungarumlaut=722,t.Eacute=611,t.emacron=444,t.gbreve=500,t.onequarter=750,t.Scaron=556,t.Scommaaccent=556,t.Ohungarumlaut=722,t.degree=400,t.ograve=500,t.Ccaron=667,t.ugrave=500,t.radical=453,t.Dcaron=722,t.rcommaaccent=333,t.Ntilde=722,t.otilde=500,t.Rcommaaccent=667,t.Lcommaaccent=611,t.Atilde=722,t.Aogonek=722,t.Aring=722,t.Otilde=722,t.zdotaccent=444,t.Ecaron=611,t.Iogonek=333,t.kcommaaccent=500,t.minus=564,t.Icircumflex=333,t.ncaron=500,t.tcommaaccent=278,t.logicalnot=564,t.odieresis=500,t.udieresis=500,t.notequal=549,t.gcommaaccent=500,t.eth=500,t.zcaron=444,t.ncommaaccent=500,t.onesuperior=300,t.imacron=278,t.Euro=500}),e["Times-Bold"]=(0,xe.getLookupTableFactory)(function(t){t.space=250,t.exclam=333,t.quotedbl=555,t.numbersign=500,t.dollar=500,t.percent=1e3,t.ampersand=833,t.quoteright=333,t.parenleft=333,t.parenright=333,t.asterisk=500,t.plus=570,t.comma=250,t.hyphen=333,t.period=250,t.slash=278,t.zero=500,t.one=500,t.two=500,t.three=500,t.four=500,t.five=500,t.six=500,t.seven=500,t.eight=500,t.nine=500,t.colon=333,t.semicolon=333,t.less=570,t.equal=570,t.greater=570,t.question=500,t.at=930,t.A=722,t.B=667,t.C=722,t.D=722,t.E=667,t.F=611,t.G=778,t.H=778,t.I=389,t.J=500,t.K=778,t.L=667,t.M=944,t.N=722,t.O=778,t.P=611,t.Q=778,t.R=722,t.S=556,t.T=667,t.U=722,t.V=722,t.W=1e3,t.X=722,t.Y=722,t.Z=667,t.bracketleft=333,t.backslash=278,t.bracketright=333,t.asciicircum=581,t.underscore=500,t.quoteleft=333,t.a=500,t.b=556,t.c=444,t.d=556,t.e=444,t.f=333,t.g=500,t.h=556,t.i=278,t.j=333,t.k=556,t.l=278,t.m=833,t.n=556,t.o=500,t.p=556,t.q=556,t.r=444,t.s=389,t.t=333,t.u=556,t.v=500,t.w=722,t.x=500,t.y=500,t.z=444,t.braceleft=394,t.bar=220,t.braceright=394,t.asciitilde=520,t.exclamdown=333,t.cent=500,t.sterling=500,t.fraction=167,t.yen=500,t.florin=500,t.section=500,t.currency=500,t.quotesingle=278,t.quotedblleft=500,t.guillemotleft=500,t.guilsinglleft=333,t.guilsinglright=333,t.fi=556,t.fl=556,t.endash=500,t.dagger=500,t.daggerdbl=500,t.periodcentered=250,t.paragraph=540,t.bullet=350,t.quotesinglbase=333,t.quotedblbase=500,t.quotedblright=500,t.guillemotright=500,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=500,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=1e3,t.ordfeminine=300,t.Lslash=667,t.Oslash=778,t.OE=1e3,t.ordmasculine=330,t.ae=722,t.dotlessi=278,t.lslash=278,t.oslash=500,t.oe=722,t.germandbls=556,t.Idieresis=389,t.eacute=444,t.abreve=500,t.uhungarumlaut=556,t.ecaron=444,t.Ydieresis=722,t.divide=570,t.Yacute=722,t.Acircumflex=722,t.aacute=500,t.Ucircumflex=722,t.yacute=500,t.scommaaccent=389,t.ecircumflex=444,t.Uring=722,t.Udieresis=722,t.aogonek=500,t.Uacute=722,t.uogonek=556,t.Edieresis=667,t.Dcroat=722,t.commaaccent=250,t.copyright=747,t.Emacron=667,t.ccaron=444,t.aring=500,t.Ncommaaccent=722,t.lacute=278,t.agrave=500,t.Tcommaaccent=667,t.Cacute=722,t.atilde=500,t.Edotaccent=667,t.scaron=389,t.scedilla=389,t.iacute=278,t.lozenge=494,t.Rcaron=722,t.Gcommaaccent=778,t.ucircumflex=556,t.acircumflex=500,t.Amacron=722,t.rcaron=444,t.ccedilla=444,t.Zdotaccent=667,t.Thorn=611,t.Omacron=778,t.Racute=722,t.Sacute=556,t.dcaron=672,t.Umacron=722,t.uring=556,t.threesuperior=300,t.Ograve=778,t.Agrave=722,t.Abreve=722,t.multiply=570,t.uacute=556,t.Tcaron=667,t.partialdiff=494,t.ydieresis=500,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=667,t.adieresis=500,t.edieresis=444,t.cacute=444,t.nacute=556,t.umacron=556,t.Ncaron=722,t.Iacute=389,t.plusminus=570,t.brokenbar=220,t.registered=747,t.Gbreve=778,t.Idotaccent=389,t.summation=600,t.Egrave=667,t.racute=444,t.omacron=500,t.Zacute=667,t.Zcaron=667,t.greaterequal=549,t.Eth=722,t.Ccedilla=722,t.lcommaaccent=278,t.tcaron=416,t.eogonek=444,t.Uogonek=722,t.Aacute=722,t.Adieresis=722,t.egrave=444,t.zacute=444,t.iogonek=278,t.Oacute=778,t.oacute=500,t.amacron=500,t.sacute=389,t.idieresis=278,t.Ocircumflex=778,t.Ugrave=722,t.Delta=612,t.thorn=556,t.twosuperior=300,t.Odieresis=778,t.mu=556,t.igrave=278,t.ohungarumlaut=500,t.Eogonek=667,t.dcroat=556,t.threequarters=750,t.Scedilla=556,t.lcaron=394,t.Kcommaaccent=778,t.Lacute=667,t.trademark=1e3,t.edotaccent=444,t.Igrave=389,t.Imacron=389,t.Lcaron=667,t.onehalf=750,t.lessequal=549,t.ocircumflex=500,t.ntilde=556,t.Uhungarumlaut=722,t.Eacute=667,t.emacron=444,t.gbreve=500,t.onequarter=750,t.Scaron=556,t.Scommaaccent=556,t.Ohungarumlaut=778,t.degree=400,t.ograve=500,t.Ccaron=722,t.ugrave=556,t.radical=549,t.Dcaron=722,t.rcommaaccent=444,t.Ntilde=722,t.otilde=500,t.Rcommaaccent=722,t.Lcommaaccent=667,t.Atilde=722,t.Aogonek=722,t.Aring=722,t.Otilde=778,t.zdotaccent=444,t.Ecaron=667,t.Iogonek=389,t.kcommaaccent=556,t.minus=570,t.Icircumflex=389,t.ncaron=556,t.tcommaaccent=333,t.logicalnot=570,t.odieresis=500,t.udieresis=556,t.notequal=549,t.gcommaaccent=500,t.eth=500,t.zcaron=444,t.ncommaaccent=556,t.onesuperior=300,t.imacron=278,t.Euro=500}),e["Times-BoldItalic"]=(0,xe.getLookupTableFactory)(function(t){t.space=250,t.exclam=389,t.quotedbl=555,t.numbersign=500,t.dollar=500,t.percent=833,t.ampersand=778,t.quoteright=333,t.parenleft=333,t.parenright=333,t.asterisk=500,t.plus=570,t.comma=250,t.hyphen=333,t.period=250,t.slash=278,t.zero=500,t.one=500,t.two=500,t.three=500,t.four=500,t.five=500,t.six=500,t.seven=500,t.eight=500,t.nine=500,t.colon=333,t.semicolon=333,t.less=570,t.equal=570,t.greater=570,t.question=500,t.at=832,t.A=667,t.B=667,t.C=667,t.D=722,t.E=667,t.F=667,t.G=722,t.H=778,t.I=389,t.J=500,t.K=667,t.L=611,t.M=889,t.N=722,t.O=722,t.P=611,t.Q=722,t.R=667,t.S=556,t.T=611,t.U=722,t.V=667,t.W=889,t.X=667,t.Y=611,t.Z=611,t.bracketleft=333,t.backslash=278,t.bracketright=333,t.asciicircum=570,t.underscore=500,t.quoteleft=333,t.a=500,t.b=500,t.c=444,t.d=500,t.e=444,t.f=333,t.g=500,t.h=556,t.i=278,t.j=278,t.k=500,t.l=278,t.m=778,t.n=556,t.o=500,t.p=500,t.q=500,t.r=389,t.s=389,t.t=278,t.u=556,t.v=444,t.w=667,t.x=500,t.y=444,t.z=389,t.braceleft=348,t.bar=220,t.braceright=348,t.asciitilde=570,t.exclamdown=389,t.cent=500,t.sterling=500,t.fraction=167,t.yen=500,t.florin=500,t.section=500,t.currency=500,t.quotesingle=278,t.quotedblleft=500,t.guillemotleft=500,t.guilsinglleft=333,t.guilsinglright=333,t.fi=556,t.fl=556,t.endash=500,t.dagger=500,t.daggerdbl=500,t.periodcentered=250,t.paragraph=500,t.bullet=350,t.quotesinglbase=333,t.quotedblbase=500,t.quotedblright=500,t.guillemotright=500,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=500,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=944,t.ordfeminine=266,t.Lslash=611,t.Oslash=722,t.OE=944,t.ordmasculine=300,t.ae=722,t.dotlessi=278,t.lslash=278,t.oslash=500,t.oe=722,t.germandbls=500,t.Idieresis=389,t.eacute=444,t.abreve=500,t.uhungarumlaut=556,t.ecaron=444,t.Ydieresis=611,t.divide=570,t.Yacute=611,t.Acircumflex=667,t.aacute=500,t.Ucircumflex=722,t.yacute=444,t.scommaaccent=389,t.ecircumflex=444,t.Uring=722,t.Udieresis=722,t.aogonek=500,t.Uacute=722,t.uogonek=556,t.Edieresis=667,t.Dcroat=722,t.commaaccent=250,t.copyright=747,t.Emacron=667,t.ccaron=444,t.aring=500,t.Ncommaaccent=722,t.lacute=278,t.agrave=500,t.Tcommaaccent=611,t.Cacute=667,t.atilde=500,t.Edotaccent=667,t.scaron=389,t.scedilla=389,t.iacute=278,t.lozenge=494,t.Rcaron=667,t.Gcommaaccent=722,t.ucircumflex=556,t.acircumflex=500,t.Amacron=667,t.rcaron=389,t.ccedilla=444,t.Zdotaccent=611,t.Thorn=611,t.Omacron=722,t.Racute=667,t.Sacute=556,t.dcaron=608,t.Umacron=722,t.uring=556,t.threesuperior=300,t.Ograve=722,t.Agrave=667,t.Abreve=667,t.multiply=570,t.uacute=556,t.Tcaron=611,t.partialdiff=494,t.ydieresis=444,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=667,t.adieresis=500,t.edieresis=444,t.cacute=444,t.nacute=556,t.umacron=556,t.Ncaron=722,t.Iacute=389,t.plusminus=570,t.brokenbar=220,t.registered=747,t.Gbreve=722,t.Idotaccent=389,t.summation=600,t.Egrave=667,t.racute=389,t.omacron=500,t.Zacute=611,t.Zcaron=611,t.greaterequal=549,t.Eth=722,t.Ccedilla=667,t.lcommaaccent=278,t.tcaron=366,t.eogonek=444,t.Uogonek=722,t.Aacute=667,t.Adieresis=667,t.egrave=444,t.zacute=389,t.iogonek=278,t.Oacute=722,t.oacute=500,t.amacron=500,t.sacute=389,t.idieresis=278,t.Ocircumflex=722,t.Ugrave=722,t.Delta=612,t.thorn=500,t.twosuperior=300,t.Odieresis=722,t.mu=576,t.igrave=278,t.ohungarumlaut=500,t.Eogonek=667,t.dcroat=500,t.threequarters=750,t.Scedilla=556,t.lcaron=382,t.Kcommaaccent=667,t.Lacute=611,t.trademark=1e3,t.edotaccent=444,t.Igrave=389,t.Imacron=389,t.Lcaron=611,t.onehalf=750,t.lessequal=549,t.ocircumflex=500,t.ntilde=556,t.Uhungarumlaut=722,t.Eacute=667,t.emacron=444,t.gbreve=500,t.onequarter=750,t.Scaron=556,t.Scommaaccent=556,t.Ohungarumlaut=722,t.degree=400,t.ograve=500,t.Ccaron=667,t.ugrave=556,t.radical=549,t.Dcaron=722,t.rcommaaccent=389,t.Ntilde=722,t.otilde=500,t.Rcommaaccent=667,t.Lcommaaccent=611,t.Atilde=667,t.Aogonek=667,t.Aring=667,t.Otilde=722,t.zdotaccent=389,t.Ecaron=667,t.Iogonek=389,t.kcommaaccent=500,t.minus=606,t.Icircumflex=389,t.ncaron=556,t.tcommaaccent=278,t.logicalnot=606,t.odieresis=500,t.udieresis=556,t.notequal=549,t.gcommaaccent=500,t.eth=500,t.zcaron=389,t.ncommaaccent=556,t.onesuperior=300,t.imacron=278,t.Euro=500}),e["Times-Italic"]=(0,xe.getLookupTableFactory)(function(t){t.space=250,t.exclam=333,t.quotedbl=420,t.numbersign=500,t.dollar=500,t.percent=833,t.ampersand=778,t.quoteright=333,t.parenleft=333,t.parenright=333,t.asterisk=500,t.plus=675,t.comma=250,t.hyphen=333,t.period=250,t.slash=278,t.zero=500,t.one=500,t.two=500,t.three=500,t.four=500,t.five=500,t.six=500,t.seven=500,t.eight=500,t.nine=500,t.colon=333,t.semicolon=333,t.less=675,t.equal=675,t.greater=675,t.question=500,t.at=920,t.A=611,t.B=611,t.C=667,t.D=722,t.E=611,t.F=611,t.G=722,t.H=722,t.I=333,t.J=444,t.K=667,t.L=556,t.M=833,t.N=667,t.O=722,t.P=611,t.Q=722,t.R=611,t.S=500,t.T=556,t.U=722,t.V=611,t.W=833,t.X=611,t.Y=556,t.Z=556,t.bracketleft=389,t.backslash=278,t.bracketright=389,t.asciicircum=422,t.underscore=500,t.quoteleft=333,t.a=500,t.b=500,t.c=444,t.d=500,t.e=444,t.f=278,t.g=500,t.h=500,t.i=278,t.j=278,t.k=444,t.l=278,t.m=722,t.n=500,t.o=500,t.p=500,t.q=500,t.r=389,t.s=389,t.t=278,t.u=500,t.v=444,t.w=667,t.x=444,t.y=444,t.z=389,t.braceleft=400,t.bar=275,t.braceright=400,t.asciitilde=541,t.exclamdown=389,t.cent=500,t.sterling=500,t.fraction=167,t.yen=500,t.florin=500,t.section=500,t.currency=500,t.quotesingle=214,t.quotedblleft=556,t.guillemotleft=500,t.guilsinglleft=333,t.guilsinglright=333,t.fi=500,t.fl=500,t.endash=500,t.dagger=500,t.daggerdbl=500,t.periodcentered=250,t.paragraph=523,t.bullet=350,t.quotesinglbase=333,t.quotedblbase=556,t.quotedblright=556,t.guillemotright=500,t.ellipsis=889,t.perthousand=1e3,t.questiondown=500,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=889,t.AE=889,t.ordfeminine=276,t.Lslash=556,t.Oslash=722,t.OE=944,t.ordmasculine=310,t.ae=667,t.dotlessi=278,t.lslash=278,t.oslash=500,t.oe=667,t.germandbls=500,t.Idieresis=333,t.eacute=444,t.abreve=500,t.uhungarumlaut=500,t.ecaron=444,t.Ydieresis=556,t.divide=675,t.Yacute=556,t.Acircumflex=611,t.aacute=500,t.Ucircumflex=722,t.yacute=444,t.scommaaccent=389,t.ecircumflex=444,t.Uring=722,t.Udieresis=722,t.aogonek=500,t.Uacute=722,t.uogonek=500,t.Edieresis=611,t.Dcroat=722,t.commaaccent=250,t.copyright=760,t.Emacron=611,t.ccaron=444,t.aring=500,t.Ncommaaccent=667,t.lacute=278,t.agrave=500,t.Tcommaaccent=556,t.Cacute=667,t.atilde=500,t.Edotaccent=611,t.scaron=389,t.scedilla=389,t.iacute=278,t.lozenge=471,t.Rcaron=611,t.Gcommaaccent=722,t.ucircumflex=500,t.acircumflex=500,t.Amacron=611,t.rcaron=389,t.ccedilla=444,t.Zdotaccent=556,t.Thorn=611,t.Omacron=722,t.Racute=611,t.Sacute=500,t.dcaron=544,t.Umacron=722,t.uring=500,t.threesuperior=300,t.Ograve=722,t.Agrave=611,t.Abreve=611,t.multiply=675,t.uacute=500,t.Tcaron=556,t.partialdiff=476,t.ydieresis=444,t.Nacute=667,t.icircumflex=278,t.Ecircumflex=611,t.adieresis=500,t.edieresis=444,t.cacute=444,t.nacute=500,t.umacron=500,t.Ncaron=667,t.Iacute=333,t.plusminus=675,t.brokenbar=275,t.registered=760,t.Gbreve=722,t.Idotaccent=333,t.summation=600,t.Egrave=611,t.racute=389,t.omacron=500,t.Zacute=556,t.Zcaron=556,t.greaterequal=549,t.Eth=722,t.Ccedilla=667,t.lcommaaccent=278,t.tcaron=300,t.eogonek=444,t.Uogonek=722,t.Aacute=611,t.Adieresis=611,t.egrave=444,t.zacute=389,t.iogonek=278,t.Oacute=722,t.oacute=500,t.amacron=500,t.sacute=389,t.idieresis=278,t.Ocircumflex=722,t.Ugrave=722,t.Delta=612,t.thorn=500,t.twosuperior=300,t.Odieresis=722,t.mu=500,t.igrave=278,t.ohungarumlaut=500,t.Eogonek=611,t.dcroat=500,t.threequarters=750,t.Scedilla=500,t.lcaron=300,t.Kcommaaccent=667,t.Lacute=556,t.trademark=980,t.edotaccent=444,t.Igrave=333,t.Imacron=333,t.Lcaron=611,t.onehalf=750,t.lessequal=549,t.ocircumflex=500,t.ntilde=500,t.Uhungarumlaut=722,t.Eacute=611,t.emacron=444,t.gbreve=500,t.onequarter=750,t.Scaron=500,t.Scommaaccent=500,t.Ohungarumlaut=722,t.degree=400,t.ograve=500,t.Ccaron=667,t.ugrave=500,t.radical=453,t.Dcaron=722,t.rcommaaccent=389,t.Ntilde=667,t.otilde=500,t.Rcommaaccent=611,t.Lcommaaccent=556,t.Atilde=611,t.Aogonek=611,t.Aring=611,t.Otilde=722,t.zdotaccent=389,t.Ecaron=611,t.Iogonek=333,t.kcommaaccent=444,t.minus=675,t.Icircumflex=333,t.ncaron=500,t.tcommaaccent=278,t.logicalnot=675,t.odieresis=500,t.udieresis=500,t.notequal=549,t.gcommaaccent=500,t.eth=500,t.zcaron=389,t.ncommaaccent=500,t.onesuperior=300,t.imacron=278,t.Euro=500}),e.ZapfDingbats=(0,xe.getLookupTableFactory)(function(t){t.space=278,t.a1=974,t.a2=961,t.a202=974,t.a3=980,t.a4=719,t.a5=789,t.a119=790,t.a118=791,t.a117=690,t.a11=960,t.a12=939,t.a13=549,t.a14=855,t.a15=911,t.a16=933,t.a105=911,t.a17=945,t.a18=974,t.a19=755,t.a20=846,t.a21=762,t.a22=761,t.a23=571,t.a24=677,t.a25=763,t.a26=760,t.a27=759,t.a28=754,t.a6=494,t.a7=552,t.a8=537,t.a9=577,t.a10=692,t.a29=786,t.a30=788,t.a31=788,t.a32=790,t.a33=793,t.a34=794,t.a35=816,t.a36=823,t.a37=789,t.a38=841,t.a39=823,t.a40=833,t.a41=816,t.a42=831,t.a43=923,t.a44=744,t.a45=723,t.a46=749,t.a47=790,t.a48=792,t.a49=695,t.a50=776,t.a51=768,t.a52=792,t.a53=759,t.a54=707,t.a55=708,t.a56=682,t.a57=701,t.a58=826,t.a59=815,t.a60=789,t.a61=789,t.a62=707,t.a63=687,t.a64=696,t.a65=689,t.a66=786,t.a67=787,t.a68=713,t.a69=791,t.a70=785,t.a71=791,t.a72=873,t.a73=761,t.a74=762,t.a203=762,t.a75=759,t.a204=759,t.a76=892,t.a77=892,t.a78=788,t.a79=784,t.a81=438,t.a82=138,t.a83=277,t.a84=415,t.a97=392,t.a98=392,t.a99=668,t.a100=668,t.a89=390,t.a90=390,t.a93=317,t.a94=317,t.a91=276,t.a92=276,t.a205=509,t.a85=509,t.a206=410,t.a86=410,t.a87=234,t.a88=234,t.a95=334,t.a96=334,t.a101=732,t.a102=544,t.a103=544,t.a104=910,t.a106=667,t.a107=760,t.a108=760,t.a112=776,t.a111=595,t.a110=694,t.a109=626,t.a120=788,t.a121=788,t.a122=788,t.a123=788,t.a124=788,t.a125=788,t.a126=788,t.a127=788,t.a128=788,t.a129=788,t.a130=788,t.a131=788,t.a132=788,t.a133=788,t.a134=788,t.a135=788,t.a136=788,t.a137=788,t.a138=788,t.a139=788,t.a140=788,t.a141=788,t.a142=788,t.a143=788,t.a144=788,t.a145=788,t.a146=788,t.a147=788,t.a148=788,t.a149=788,t.a150=788,t.a151=788,t.a152=788,t.a153=788,t.a154=788,t.a155=788,t.a156=788,t.a157=788,t.a158=788,t.a159=788,t.a160=894,t.a161=838,t.a163=1016,t.a164=458,t.a196=748,t.a165=924,t.a192=748,t.a166=918,t.a167=927,t.a168=928,t.a169=928,t.a170=834,t.a171=873,t.a172=828,t.a173=924,t.a162=924,t.a174=917,t.a175=930,t.a176=931,t.a177=463,t.a178=883,t.a179=836,t.a193=836,t.a180=867,t.a199=867,t.a181=696,t.a200=696,t.a182=874,t.a201=874,t.a183=760,t.a184=946,t.a197=771,t.a185=865,t.a194=771,t.a198=888,t.a186=967,t.a195=888,t.a187=831,t.a188=873,t.a189=927,t.a190=970,t.a191=918})});_e.getMetrics=Ie;const Re=(0,xe.getLookupTableFactory)(function(e){e.Courier={ascent:629,descent:-157,capHeight:562,xHeight:-426},e["Courier-Bold"]={ascent:629,descent:-157,capHeight:562,xHeight:439},e["Courier-Oblique"]={ascent:629,descent:-157,capHeight:562,xHeight:426},e["Courier-BoldOblique"]={ascent:629,descent:-157,capHeight:562,xHeight:426},e.Helvetica={ascent:718,descent:-207,capHeight:718,xHeight:523},e["Helvetica-Bold"]={ascent:718,descent:-207,capHeight:718,xHeight:532},e["Helvetica-Oblique"]={ascent:718,descent:-207,capHeight:718,xHeight:523},e["Helvetica-BoldOblique"]={ascent:718,descent:-207,capHeight:718,xHeight:532},e["Times-Roman"]={ascent:683,descent:-217,capHeight:662,xHeight:450},e["Times-Bold"]={ascent:683,descent:-217,capHeight:676,xHeight:461},e["Times-Italic"]={ascent:683,descent:-217,capHeight:653,xHeight:441},e["Times-BoldItalic"]={ascent:683,descent:-217,capHeight:669,xHeight:462},e.Symbol={ascent:Math.NaN,descent:Math.NaN,capHeight:Math.NaN,xHeight:Math.NaN},e.ZapfDingbats={ascent:Math.NaN,descent:Math.NaN,capHeight:Math.NaN,xHeight:Math.NaN}});_e.getFontBasicMetrics=Re},(Ve,_e)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.GlyfTable=void 0;const ze=1,xe=2,Ie=4,Re=8,e=16,t=32,Te=64,Ye=1,en=2,je=8,nn=32,Ge=64,Oe=128,Ce=256;class St{constructor({glyfTable:Xe,isGlyphLocationsLong:fn,locaTable:dn,numGlyphs:qe}){this.glyphs=[];const tn=new DataView(dn.buffer,dn.byteOffset,dn.byteLength),Me=new DataView(Xe.buffer,Xe.byteOffset,Xe.byteLength),De=fn?4:2;let Ue=fn?tn.getUint32(0):2*tn.getUint16(0),We=0;for(let $e=0;$e<qe;$e++){We+=De;const on=fn?tn.getUint32(We):2*tn.getUint16(We);if(on===Ue){this.glyphs.push(new rn({}));continue}const Je=rn.parse(Ue,Me);this.glyphs.push(Je),Ue=on}}getSize(){return this.glyphs.reduce((Xe,fn)=>{const dn=fn.getSize();return Xe+(dn+3&-4)},0)}write(){const Xe=this.getSize(),fn=new DataView(new ArrayBuffer(Xe)),dn=Xe>131070,qe=dn?4:2,tn=new DataView(new ArrayBuffer((this.glyphs.length+1)*qe));dn?tn.setUint32(0,0):tn.setUint16(0,0);let Me=0,De=0;for(const Ue of this.glyphs)Me+=Ue.write(Me,fn),Me=Me+3&-4,De+=qe,dn?tn.setUint32(De,Me):tn.setUint16(De,Me>>1);return{isLocationLong:dn,loca:new Uint8Array(tn.buffer),glyf:new Uint8Array(fn.buffer)}}scale(Xe){for(let fn=0,dn=this.glyphs.length;fn<dn;fn++)this.glyphs[fn].scale(Xe[fn])}}_e.GlyfTable=St;class rn{constructor({header:Xe=null,simple:fn=null,composites:dn=null}){this.header=Xe,this.simple=fn,this.composites=dn}static parse(Xe,fn){const[dn,qe]=un.parse(Xe,fn);if(Xe+=dn,qe.numberOfContours<0){const Me=[];for(;;){const[De,Ue]=He.parse(Xe,fn);if(Xe+=De,Me.push(Ue),!(Ue.flags&nn))break}return new rn({header:qe,composites:Me})}const tn=hn.parse(Xe,fn,qe.numberOfContours);return new rn({header:qe,simple:tn})}getSize(){if(!this.header)return 0;const Xe=this.simple?this.simple.getSize():this.composites.reduce((fn,dn)=>fn+dn.getSize(),0);return this.header.getSize()+Xe}write(Xe,fn){if(!this.header)return 0;const dn=Xe;if(Xe+=this.header.write(Xe,fn),this.simple)Xe+=this.simple.write(Xe,fn);else for(const qe of this.composites)Xe+=qe.write(Xe,fn);return Xe-dn}scale(Xe){if(!this.header)return;const fn=(this.header.xMin+this.header.xMax)/2;if(this.header.scale(fn,Xe),this.simple)this.simple.scale(fn,Xe);else for(const dn of this.composites)dn.scale(fn,Xe)}}class un{constructor({numberOfContours:Xe,xMin:fn,yMin:dn,xMax:qe,yMax:tn}){this.numberOfContours=Xe,this.xMin=fn,this.yMin=dn,this.xMax=qe,this.yMax=tn}static parse(Xe,fn){return[10,new un({numberOfContours:fn.getInt16(Xe),xMin:fn.getInt16(Xe+2),yMin:fn.getInt16(Xe+4),xMax:fn.getInt16(Xe+6),yMax:fn.getInt16(Xe+8)})]}getSize(){return 10}write(Xe,fn){return fn.setInt16(Xe,this.numberOfContours),fn.setInt16(Xe+2,this.xMin),fn.setInt16(Xe+4,this.yMin),fn.setInt16(Xe+6,this.xMax),fn.setInt16(Xe+8,this.yMax),10}scale(Xe,fn){this.xMin=Math.round(Xe+(this.xMin-Xe)*fn),this.xMax=Math.round(Xe+(this.xMax-Xe)*fn)}}class Qe{constructor({flags:Xe,xCoordinates:fn,yCoordinates:dn}){this.xCoordinates=fn,this.yCoordinates=dn,this.flags=Xe}}class hn{constructor({contours:Xe,instructions:fn}){this.contours=Xe,this.instructions=fn}static parse(Xe,fn,dn){const qe=[];for(let gn=0;gn<dn;gn++){const mn=fn.getUint16(Xe);Xe+=2,qe.push(mn)}const tn=qe[dn-1]+1,Me=fn.getUint16(Xe);Xe+=2;const De=new Uint8Array(fn).slice(Xe,Xe+Me);Xe+=Me;const Ue=[];for(let gn=0;gn<tn;Xe++,gn++){let mn=fn.getUint8(Xe);if(Ue.push(mn),mn&Re){const yn=fn.getUint8(++Xe);mn^=Re;for(let Sn=0;Sn<yn;Sn++)Ue.push(mn);gn+=yn}}const We=[];let $e=[],on=[],Je=[];const an=[];let Ke=0,sn=0;for(let gn=0;gn<tn;gn++){const mn=Ue[gn];if(mn&xe){const yn=fn.getUint8(Xe++);sn+=mn&e?yn:-yn,$e.push(sn)}else mn&e||(sn+=fn.getInt16(Xe),Xe+=2),$e.push(sn);qe[Ke]===gn&&(Ke++,We.push($e),$e=[])}sn=0,Ke=0;for(let gn=0;gn<tn;gn++){const mn=Ue[gn];if(mn&Ie){const yn=fn.getUint8(Xe++);sn+=mn&t?yn:-yn,on.push(sn)}else mn&t||(sn+=fn.getInt16(Xe),Xe+=2),on.push(sn);Je.push(mn&ze|mn&Te),qe[Ke]===gn&&($e=We[Ke],Ke++,an.push(new Qe({flags:Je,xCoordinates:$e,yCoordinates:on})),on=[],Je=[])}return new hn({contours:an,instructions:De})}getSize(){let Xe=this.contours.length*2+2+this.instructions.length,fn=0,dn=0;for(const qe of this.contours){Xe+=qe.flags.length;for(let tn=0,Me=qe.xCoordinates.length;tn<Me;tn++){const De=qe.xCoordinates[tn],Ue=qe.yCoordinates[tn];let We=Math.abs(De-fn);We>255?Xe+=2:We>0&&(Xe+=1),fn=De,We=Math.abs(Ue-dn),We>255?Xe+=2:We>0&&(Xe+=1),dn=Ue}}return Xe}write(Xe,fn){const dn=Xe,qe=[],tn=[],Me=[];let De=0,Ue=0;for(const We of this.contours){for(let $e=0,on=We.xCoordinates.length;$e<on;$e++){let Je=We.flags[$e];const an=We.xCoordinates[$e];let Ke=an-De;if(Ke===0)Je|=e,qe.push(0);else{const gn=Math.abs(Ke);gn<=255?(Je|=Ke>=0?xe|e:xe,qe.push(gn)):qe.push(Ke)}De=an;const sn=We.yCoordinates[$e];if(Ke=sn-Ue,Ke===0)Je|=t,tn.push(0);else{const gn=Math.abs(Ke);gn<=255?(Je|=Ke>=0?Ie|t:Ie,tn.push(gn)):tn.push(Ke)}Ue=sn,Me.push(Je)}fn.setUint16(Xe,qe.length-1),Xe+=2}fn.setUint16(Xe,this.instructions.length),Xe+=2,this.instructions.length&&(new Uint8Array(fn.buffer,0,fn.buffer.byteLength).set(this.instructions,Xe),Xe+=this.instructions.length);for(const We of Me)fn.setUint8(Xe++,We);for(let We=0,$e=qe.length;We<$e;We++){const on=qe[We],Je=Me[We];Je&xe?fn.setUint8(Xe++,on):Je&e||(fn.setInt16(Xe,on),Xe+=2)}for(let We=0,$e=tn.length;We<$e;We++){const on=tn[We],Je=Me[We];Je&Ie?fn.setUint8(Xe++,on):Je&t||(fn.setInt16(Xe,on),Xe+=2)}return Xe-dn}scale(Xe,fn){for(const dn of this.contours)if(dn.xCoordinates.length!==0)for(let qe=0,tn=dn.xCoordinates.length;qe<tn;qe++)dn.xCoordinates[qe]=Math.round(Xe+(dn.xCoordinates[qe]-Xe)*fn)}}class He{constructor({flags:Xe,glyphIndex:fn,argument1:dn,argument2:qe,transf:tn,instructions:Me}){this.flags=Xe,this.glyphIndex=fn,this.argument1=dn,this.argument2=qe,this.transf=tn,this.instructions=Me}static parse(Xe,fn){const dn=Xe,qe=[];let tn=fn.getUint16(Xe);const Me=fn.getUint16(Xe+2);Xe+=4;let De,Ue;tn&Ye?(tn&en?(De=fn.getInt16(Xe),Ue=fn.getInt16(Xe+2)):(De=fn.getUint16(Xe),Ue=fn.getUint16(Xe+2)),Xe+=4,tn^=Ye):(tn&en?(De=fn.getInt8(Xe),Ue=fn.getInt8(Xe+1)):(De=fn.getUint8(Xe),Ue=fn.getUint8(Xe+1)),Xe+=2),tn&je?(qe.push(fn.getUint16(Xe)),Xe+=2):tn&Ge?(qe.push(fn.getUint16(Xe),fn.getUint16(Xe+2)),Xe+=4):tn&Oe&&(qe.push(fn.getUint16(Xe),fn.getUint16(Xe+2),fn.getUint16(Xe+4),fn.getUint16(Xe+6)),Xe+=8);let We=null;if(tn&Ce){const $e=fn.getUint16(Xe);Xe+=2,We=new Uint8Array(fn).slice(Xe,Xe+$e),Xe+=$e}return[Xe-dn,new He({flags:tn,glyphIndex:Me,argument1:De,argument2:Ue,transf:qe,instructions:We})]}getSize(){let Xe=4+this.transf.length*2;return this.flags&Ce&&(Xe+=2+this.instructions.length),Xe+=2,this.flags&2?this.argument1>=-128&&this.argument1<=127&&this.argument2>=-128&&this.argument2<=127||(Xe+=2):this.argument1>=0&&this.argument1<=255&&this.argument2>=0&&this.argument2<=255||(Xe+=2),Xe}write(Xe,fn){const dn=Xe;return this.flags&en?this.argument1>=-128&&this.argument1<=127&&this.argument2>=-128&&this.argument2<=127||(this.flags|=Ye):this.argument1>=0&&this.argument1<=255&&this.argument2>=0&&this.argument2<=255||(this.flags|=Ye),fn.setUint16(Xe,this.flags),fn.setUint16(Xe+2,this.glyphIndex),Xe+=4,this.flags&Ye?(this.flags&en?(fn.setInt16(Xe,this.argument1),fn.setInt16(Xe+2,this.argument2)):(fn.setUint16(Xe,this.argument1),fn.setUint16(Xe+2,this.argument2)),Xe+=4):(fn.setUint8(Xe,this.argument1),fn.setUint8(Xe+1,this.argument2),Xe+=2),this.flags&Ce&&(fn.setUint16(Xe,this.instructions.length),Xe+=2,this.instructions.length&&(new Uint8Array(fn.buffer,0,fn.buffer.byteLength).set(this.instructions,Xe),Xe+=this.instructions.length)),Xe-dn}scale(Xe,fn){}}},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.OpenTypeFileBuilder=void 0;var xe=ze(3),Ie=ze(2);function Re(je,nn,Ge){je[nn]=Ge>>8&255,je[nn+1]=Ge&255}function e(je,nn,Ge){je[nn]=Ge>>24&255,je[nn+1]=Ge>>16&255,je[nn+2]=Ge>>8&255,je[nn+3]=Ge&255}function t(je,nn,Ge){if(Ge instanceof Uint8Array)je.set(Ge,nn);else if(typeof Ge=="string")for(let Oe=0,Ce=Ge.length;Oe<Ce;Oe++)je[nn++]=Ge.charCodeAt(Oe)&255;else for(const Oe of Ge)je[nn++]=Oe&255}const Te=12,Ye=16;class en{constructor(nn){this.sfnt=nn,this.tables=Object.create(null)}static getSearchParams(nn,Ge){let Oe=1,Ce=0;for(;(Oe^nn)>Oe;)Oe<<=1,Ce++;const St=Oe*Ge;return{range:St,entry:Ce,rangeShift:Ge*nn-St}}toArray(){let nn=this.sfnt;const Ge=this.tables,Oe=Object.keys(Ge);Oe.sort();const Ce=Oe.length;let St,rn,un,Qe,hn,He=Te+Ce*Ye;const pn=[He];for(St=0;St<Ce;St++){Qe=Ge[Oe[St]];const dn=(Qe.length+3&-4)>>>0;He+=dn,pn.push(He)}const Xe=new Uint8Array(He);for(St=0;St<Ce;St++)Qe=Ge[Oe[St]],t(Xe,pn[St],Qe);nn==="true"&&(nn=(0,Ie.string32)(65536)),Xe[0]=nn.charCodeAt(0)&255,Xe[1]=nn.charCodeAt(1)&255,Xe[2]=nn.charCodeAt(2)&255,Xe[3]=nn.charCodeAt(3)&255,Re(Xe,4,Ce);const fn=en.getSearchParams(Ce,16);for(Re(Xe,6,fn.range),Re(Xe,8,fn.entry),Re(Xe,10,fn.rangeShift),He=Te,St=0;St<Ce;St++){hn=Oe[St],Xe[He]=hn.charCodeAt(0)&255,Xe[He+1]=hn.charCodeAt(1)&255,Xe[He+2]=hn.charCodeAt(2)&255,Xe[He+3]=hn.charCodeAt(3)&255;let dn=0;for(rn=pn[St],un=pn[St+1];rn<un;rn+=4){const qe=(0,xe.readUint32)(Xe,rn);dn=dn+qe>>>0}e(Xe,He+4,dn),e(Xe,He+8,pn[St]),e(Xe,He+12,Ge[hn].length),He+=Ye}return Xe}addTable(nn,Ge){if(nn in this.tables)throw new Error("Table "+nn+" already exists");this.tables[nn]=Ge}}_e.OpenTypeFileBuilder=en},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.Type1Font=void 0;var xe=ze(35),Ie=ze(2),Re=ze(38),e=ze(3),t=ze(8),Te=ze(49);function Ye(Ge,Oe,Ce){const St=Ge.length,rn=Oe.length,un=St-rn;let Qe=Ce,hn=!1;for(;Qe<un;){let He=0;for(;He<rn&&Ge[Qe+He]===Oe[He];)He++;if(He>=rn){for(Qe+=He;Qe<St&&(0,e.isWhiteSpace)(Ge[Qe]);)Qe++;hn=!0;break}Qe++}return{found:hn,length:Qe}}function en(Ge,Oe){const Ce=[101,101,120,101,99],St=Ge.pos;let rn,un,Qe;try{rn=Ge.getBytes(Oe),un=rn.length}catch{}if(un===Oe&&(Qe=Ye(rn,Ce,Oe-2*Ce.length),Qe.found&&Qe.length===Oe))return{stream:new t.Stream(rn),length:Oe};(0,Ie.warn)('Invalid "Length1" property in Type1 font -- trying to recover.'),Ge.pos=St;const hn=2048;let He;for(;;){const pn=Ge.peekBytes(hn);if(Qe=Ye(pn,Ce,0),Qe.length===0)break;if(Ge.pos+=Qe.length,Qe.found){He=Ge.pos-St;break}}return Ge.pos=St,He?{stream:new t.Stream(Ge.getBytes(He)),length:He}:((0,Ie.warn)('Unable to recover "Length1" property in Type1 font -- using as is.'),{stream:new t.Stream(Ge.getBytes(Oe)),length:Oe})}function je(Ge,Oe){const Ce=Ge.getBytes();if(Ce.length===0)throw new Ie.FormatError("getEexecBlock - no font program found.");return{stream:new t.Stream(Ce),length:Ce.length}}class nn{constructor(Oe,Ce,St){let un=St.length1;St.length2;let Qe=Ce.peekBytes(6);const hn=Qe[0]===128&&Qe[1]===1;hn&&(Ce.skip(6),un=Qe[5]<<24|Qe[4]<<16|Qe[3]<<8|Qe[2]);const He=en(Ce,un);new Te.Type1Parser(He.stream,!1,Re.SEAC_ANALYSIS_ENABLED).extractFontHeader(St),hn&&(Qe=Ce.getBytes(6),Qe[5]<<24|Qe[4]<<16|Qe[3]<<8|Qe[2]);const Xe=je(Ce),dn=new Te.Type1Parser(Xe.stream,!0,Re.SEAC_ANALYSIS_ENABLED).extractFontProgram(St);for(const De in dn.properties)St[De]=dn.properties[De];const qe=dn.charstrings,tn=this.getType2Charstrings(qe),Me=this.getType2Subrs(dn.subrs);this.charstrings=qe,this.data=this.wrap(Oe,tn,this.charstrings,Me,St),this.seacs=this.getSeacs(dn.charstrings)}get numGlyphs(){return this.charstrings.length+1}getCharset(){const Oe=[".notdef"];for(const{glyphName:Ce}of this.charstrings)Oe.push(Ce);return Oe}getGlyphMapping(Oe){const Ce=this.charstrings;if(Oe.composite){const hn=Object.create(null);for(let He=0,pn=Ce.length;He<pn;He++){const Xe=Oe.cMap.charCodeOf(He);hn[Xe]=He+1}return hn}const St=[".notdef"];let rn,un;for(un=0;un<Ce.length;un++)St.push(Ce[un].glyphName);const Qe=Oe.builtInEncoding;if(Qe){rn=Object.create(null);for(const hn in Qe)un=St.indexOf(Qe[hn]),un>=0&&(rn[hn]=un)}return(0,Re.type1FontGlyphMapping)(Oe,rn,St)}hasGlyphId(Oe){return Oe<0||Oe>=this.numGlyphs?!1:Oe===0?!0:this.charstrings[Oe-1].charstring.length>0}getSeacs(Oe){const Ce=[];for(let St=0,rn=Oe.length;St<rn;St++){const un=Oe[St];un.seac&&(Ce[St+1]=un.seac)}return Ce}getType2Charstrings(Oe){const Ce=[];for(const St of Oe)Ce.push(St.charstring);return Ce}getType2Subrs(Oe){let Ce=0;const St=Oe.length;St<1133?Ce=107:St<33769?Ce=1131:Ce=32768;const rn=[];let un;for(un=0;un<Ce;un++)rn.push([11]);for(un=0;un<St;un++)rn.push(Oe[un]);return rn}wrap(Oe,Ce,St,rn,un){const Qe=new xe.CFF;Qe.header=new xe.CFFHeader(1,0,4,4),Qe.names=[Oe];const hn=new xe.CFFTopDict;hn.setByName("version",391),hn.setByName("Notice",392),hn.setByName("FullName",393),hn.setByName("FamilyName",394),hn.setByName("Weight",395),hn.setByName("Encoding",null),hn.setByName("FontMatrix",un.fontMatrix),hn.setByName("FontBBox",un.bbox),hn.setByName("charset",null),hn.setByName("CharStrings",null),hn.setByName("Private",null),Qe.topDict=hn;const He=new xe.CFFStrings;He.add("Version 0.11"),He.add("See original notice"),He.add(Oe),He.add(Oe),He.add("Medium"),Qe.strings=He,Qe.globalSubrIndex=new xe.CFFIndex;const pn=Ce.length,Xe=[".notdef"];let fn,dn;for(fn=0;fn<pn;fn++){const We=St[fn].glyphName;xe.CFFStandardStrings.indexOf(We)===-1&&He.add(We),Xe.push(We)}Qe.charset=new xe.CFFCharset(!1,0,Xe);const qe=new xe.CFFIndex;for(qe.add([139,14]),fn=0;fn<pn;fn++)qe.add(Ce[fn]);Qe.charStrings=qe;const tn=new xe.CFFPrivateDict;tn.setByName("Subrs",null);const Me=["BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StemSnapH","StemSnapV","BlueShift","BlueFuzz","BlueScale","LanguageGroup","ExpansionFactor","ForceBold","StdHW","StdVW"];for(fn=0,dn=Me.length;fn<dn;fn++){const We=Me[fn];if(!(We in un.privateData))continue;const $e=un.privateData[We];if(Array.isArray($e))for(let on=$e.length-1;on>0;on--)$e[on]-=$e[on-1];tn.setByName(We,$e)}Qe.topDict.privateDict=tn;const De=new xe.CFFIndex;for(fn=0,dn=rn.length;fn<dn;fn++)De.add(rn[fn]);return tn.subrsIndex=De,new xe.CFFCompiler(Qe).compile()}}_e.Type1Font=nn},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.Type1Parser=void 0;var xe=ze(37),Ie=ze(3),Re=ze(8),e=ze(2);const t=!1,Te={vmoveto:[4],rlineto:[5],hlineto:[6],vlineto:[7],rrcurveto:[8],flex:[12,35],endchar:[14],rmoveto:[21],hmoveto:[22],vhcurveto:[30],hvcurveto:[31]};class Ye{constructor(){this.width=0,this.lsb=0,this.flexing=!1,this.output=[],this.stack=[]}convert(un,Qe,hn){const He=un.length;let pn=!1,Xe,fn,dn;for(let qe=0;qe<He;qe++){let tn=un[qe];if(tn<32){switch(tn===12&&(tn=(tn<<8)+un[++qe]),tn){case 1:{this.stack=[];break}case 3:{this.stack=[];break}case 4:if(this.flexing){if(this.stack.length<1){pn=!0;break}const $e=this.stack.pop();this.stack.push(0,$e);break}pn=this.executeCommand(1,Te.vmoveto);break;case 5:pn=this.executeCommand(2,Te.rlineto);break;case 6:pn=this.executeCommand(1,Te.hlineto);break;case 7:pn=this.executeCommand(1,Te.vlineto);break;case 8:pn=this.executeCommand(6,Te.rrcurveto);break;case 9:this.stack=[];break;case 10:if(this.stack.length<1){pn=!0;break}if(dn=this.stack.pop(),!Qe[dn]){pn=!0;break}pn=this.convert(Qe[dn],Qe,hn);break;case 11:return pn;case 13:if(this.stack.length<2){pn=!0;break}Xe=this.stack.pop(),fn=this.stack.pop(),this.lsb=fn,this.width=Xe,this.stack.push(Xe,fn),pn=this.executeCommand(2,Te.hmoveto);break;case 14:this.output.push(Te.endchar[0]);break;case 21:if(this.flexing)break;pn=this.executeCommand(2,Te.rmoveto);break;case 22:if(this.flexing){this.stack.push(0);break}pn=this.executeCommand(1,Te.hmoveto);break;case 30:pn=this.executeCommand(4,Te.vhcurveto);break;case 31:pn=this.executeCommand(4,Te.hvcurveto);break;case 3072:this.stack=[];break;case 3073:{this.stack=[];break}case 3074:{this.stack=[];break}case 3078:if(hn){const $e=this.stack.at(-5);this.seac=this.stack.splice(-4,4),this.seac[0]+=this.lsb-$e,pn=this.executeCommand(0,Te.endchar)}else pn=this.executeCommand(4,Te.endchar);break;case 3079:if(this.stack.length<4){pn=!0;break}this.stack.pop(),Xe=this.stack.pop();const Me=this.stack.pop();fn=this.stack.pop(),this.lsb=fn,this.width=Xe,this.stack.push(Xe,fn,Me),pn=this.executeCommand(3,Te.rmoveto);break;case 3084:if(this.stack.length<2){pn=!0;break}const De=this.stack.pop(),Ue=this.stack.pop();this.stack.push(Ue/De);break;case 3088:if(this.stack.length<2){pn=!0;break}dn=this.stack.pop();const We=this.stack.pop();if(dn===0&&We===3){const $e=this.stack.splice(-17,17);this.stack.push($e[2]+$e[0],$e[3]+$e[1],$e[4],$e[5],$e[6],$e[7],$e[8],$e[9],$e[10],$e[11],$e[12],$e[13],$e[14]),pn=this.executeCommand(13,Te.flex,!0),this.flexing=!1,this.stack.push($e[15],$e[16])}else dn===1&&We===0&&(this.flexing=!0);break;case 3089:break;case 3105:this.stack=[];break;default:(0,e.warn)('Unknown type 1 charstring command of "'+tn+'"');break}if(pn)break;continue}else tn<=246?tn-=139:tn<=250?tn=(tn-247)*256+un[++qe]+108:tn<=254?tn=-((tn-251)*256)-un[++qe]-108:tn=(un[++qe]&255)<<24|(un[++qe]&255)<<16|(un[++qe]&255)<<8|(un[++qe]&255)<<0;this.stack.push(tn)}return pn}executeCommand(un,Qe,hn){const He=this.stack.length;if(un>He)return!0;const pn=He-un;for(let Xe=pn;Xe<He;Xe++){let fn=this.stack[Xe];Number.isInteger(fn)?this.output.push(28,fn>>8&255,fn&255):(fn=65536*fn|0,this.output.push(255,fn>>24&255,fn>>16&255,fn>>8&255,fn&255))}return this.output.push(...Qe),hn?this.stack.splice(pn,un):this.stack.length=0,!1}}const en=55665,je=4330;function nn(rn){return rn>=48&&rn<=57||rn>=65&&rn<=70||rn>=97&&rn<=102}function Ge(rn,un,Qe){if(Qe>=rn.length)return new Uint8Array(0);const hn=52845,He=22719;let pn=un|0,Xe,fn;for(Xe=0;Xe<Qe;Xe++)pn=(rn[Xe]+pn)*hn+He&65535;const dn=rn.length-Qe,qe=new Uint8Array(dn);for(Xe=Qe,fn=0;fn<dn;Xe++,fn++){const tn=rn[Xe];qe[fn]=tn^pn>>8,pn=(tn+pn)*hn+He&65535}return qe}function Oe(rn,un,Qe){let pn=un|0;const Xe=rn.length,fn=Xe>>>1,dn=new Uint8Array(fn);let qe,tn;for(qe=0,tn=0;qe<Xe;qe++){const Me=rn[qe];if(!nn(Me))continue;qe++;let De;for(;qe<Xe&&!nn(De=rn[qe]);)qe++;if(qe<Xe){const Ue=parseInt(String.fromCharCode(Me,De),16);dn[tn++]=Ue^pn>>8,pn=(Ue+pn)*52845+22719&65535}}return dn.slice(Qe,tn)}function Ce(rn){return rn===47||rn===91||rn===93||rn===123||rn===125||rn===40||rn===41}class St{constructor(un,Qe,hn){if(Qe){const He=un.getBytes(),pn=!((nn(He[0])||(0,Ie.isWhiteSpace)(He[0]))&&nn(He[1])&&nn(He[2])&&nn(He[3])&&nn(He[4])&&nn(He[5])&&nn(He[6])&&nn(He[7]));un=new Re.Stream(pn?Ge(He,en,4):Oe(He,en,4))}this.seacAnalysisEnabled=!!hn,this.stream=un,this.nextChar()}readNumberArray(){this.getToken();const un=[];for(;;){const Qe=this.getToken();if(Qe===null||Qe==="]"||Qe==="}")break;un.push(parseFloat(Qe||0))}return un}readNumber(){const un=this.getToken();return parseFloat(un||0)}readInt(){const un=this.getToken();return parseInt(un||0,10)|0}readBoolean(){return this.getToken()==="true"?1:0}nextChar(){return this.currentChar=this.stream.getByte()}prevChar(){return this.stream.skip(-2),this.currentChar=this.stream.getByte()}getToken(){let un=!1,Qe=this.currentChar;for(;;){if(Qe===-1)return null;if(un)(Qe===10||Qe===13)&&(un=!1);else if(Qe===37)un=!0;else if(!(0,Ie.isWhiteSpace)(Qe))break;Qe=this.nextChar()}if(Ce(Qe))return this.nextChar(),String.fromCharCode(Qe);let hn="";do hn+=String.fromCharCode(Qe),Qe=this.nextChar();while(Qe>=0&&!(0,Ie.isWhiteSpace)(Qe)&&!Ce(Qe));return hn}readCharStrings(un,Qe){return Qe===-1?un:Ge(un,je,Qe)}extractFontProgram(un){const Qe=this.stream,hn=[],He=[],pn=Object.create(null);pn.lenIV=4;const Xe={subrs:[],charstrings:[],properties:{privateData:pn}};let fn,dn,qe,tn;for(;(fn=this.getToken())!==null;)if(fn==="/")switch(fn=this.getToken(),fn){case"CharStrings":for(this.getToken(),this.getToken(),this.getToken(),this.getToken();fn=this.getToken(),!(fn===null||fn==="end");){if(fn!=="/")continue;const De=this.getToken();dn=this.readInt(),this.getToken(),qe=dn>0?Qe.getBytes(dn):new Uint8Array(0),tn=Xe.properties.privateData.lenIV;const Ue=this.readCharStrings(qe,tn);this.nextChar(),fn=this.getToken(),fn==="noaccess"?this.getToken():fn==="/"&&this.prevChar(),He.push({glyph:De,encoded:Ue})}break;case"Subrs":for(this.readInt(),this.getToken();this.getToken()==="dup";){const De=this.readInt();dn=this.readInt(),this.getToken(),qe=dn>0?Qe.getBytes(dn):new Uint8Array(0),tn=Xe.properties.privateData.lenIV;const Ue=this.readCharStrings(qe,tn);this.nextChar(),fn=this.getToken(),fn==="noaccess"&&this.getToken(),hn[De]=Ue}break;case"BlueValues":case"OtherBlues":case"FamilyBlues":case"FamilyOtherBlues":const Me=this.readNumberArray();Me.length>0&&Me.length%2;break;case"StemSnapH":case"StemSnapV":Xe.properties.privateData[fn]=this.readNumberArray();break;case"StdHW":case"StdVW":Xe.properties.privateData[fn]=this.readNumberArray()[0];break;case"BlueShift":case"lenIV":case"BlueFuzz":case"BlueScale":case"LanguageGroup":Xe.properties.privateData[fn]=this.readNumber();break;case"ExpansionFactor":Xe.properties.privateData[fn]=this.readNumber()||.06;break;case"ForceBold":Xe.properties.privateData[fn]=this.readBoolean();break}for(const{encoded:Me,glyph:De}of He){const Ue=new Ye,We=Ue.convert(Me,hn,this.seacAnalysisEnabled);let $e=Ue.output;We&&($e=[14]);const on={glyphName:De,charstring:$e,width:Ue.width,lsb:Ue.lsb,seac:Ue.seac};if(De===".notdef"?Xe.charstrings.unshift(on):Xe.charstrings.push(on),un.builtInEncoding){const Je=un.builtInEncoding.indexOf(De);Je>-1&&un.widths[Je]===void 0&&Je>=un.firstChar&&Je<=un.lastChar&&(un.widths[Je]=Ue.width)}}return Xe}extractFontHeader(un){let Qe;for(;(Qe=this.getToken())!==null;)if(Qe==="/")switch(Qe=this.getToken(),Qe){case"FontMatrix":const hn=this.readNumberArray();un.fontMatrix=hn;break;case"Encoding":const He=this.getToken();let pn;if(!/^\d+$/.test(He))pn=(0,xe.getEncoding)(He);else{pn=[];const fn=parseInt(He,10)|0;this.getToken();for(let dn=0;dn<fn;dn++){for(Qe=this.getToken();Qe!=="dup"&&Qe!=="def";)if(Qe=this.getToken(),Qe===null)return;if(Qe==="def")break;const qe=this.readInt();this.getToken();const tn=this.getToken();pn[qe]=tn,this.getToken()}}un.builtInEncoding=pn;break;case"FontBBox":const Xe=this.readNumberArray();un.ascent=Math.max(Xe[3],Xe[1]),un.descent=Math.min(Xe[1],Xe[3]),un.ascentScaled=!0;break}}}_e.Type1Parser=St},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.Pattern=void 0,_e.clearPatternCaches=Ce,_e.getTilingPatternIR=un;var xe=ze(2),Ie=ze(5),Re=ze(12),e=ze(3);const t={FUNCTION_BASED:1,AXIAL:2,RADIAL:3,FREE_FORM_MESH:4,LATTICE_FORM_MESH:5,COONS_PATCH_MESH:6,TENSOR_PATCH_MESH:7};class Te{constructor(){(0,xe.unreachable)("Cannot initialize Pattern.")}static parseShading(hn,He,pn,Xe,fn){const dn=hn instanceof Ie.BaseStream?hn.dict:hn,qe=dn.get("ShadingType");try{switch(qe){case t.AXIAL:case t.RADIAL:return new en(dn,He,pn,Xe,fn);case t.FREE_FORM_MESH:case t.LATTICE_FORM_MESH:case t.COONS_PATCH_MESH:case t.TENSOR_PATCH_MESH:return new St(hn,He,pn,Xe,fn);default:throw new xe.FormatError("Unsupported ShadingType: "+qe)}}catch(tn){if(tn instanceof e.MissingDataException)throw tn;return(0,xe.warn)(tn),new rn}}}_e.Pattern=Te;class Ye{static SMALL_NUMBER=1e-6;constructor(){this.constructor===Ye&&(0,xe.unreachable)("Cannot initialize BaseShading.")}getIR(){(0,xe.unreachable)("Abstract method `getIR` called.")}}class en extends Ye{constructor(hn,He,pn,Xe,fn){super(),this.coordsArr=hn.getArray("Coords"),this.shadingType=hn.get("ShadingType");const dn=Re.ColorSpace.parse({cs:hn.getRaw("CS")||hn.getRaw("ColorSpace"),xref:He,resources:pn,pdfFunctionFactory:Xe,localColorSpaceCache:fn}),qe=hn.getArray("BBox");this.bbox=Array.isArray(qe)&&qe.length===4?xe.Util.normalizeRect(qe):null;let tn=0,Me=1;if(hn.has("Domain")){const On=hn.getArray("Domain");tn=On[0],Me=On[1]}let De=!1,Ue=!1;if(hn.has("Extend")){const On=hn.getArray("Extend");De=On[0],Ue=On[1]}if(this.shadingType===t.RADIAL&&(!De||!Ue)){const[On,Mn,Bn,Hn,$n,Un]=this.coordsArr,qn=Math.hypot(On-Hn,Mn-$n);Bn<=Un+qn&&Un<=Bn+qn&&(0,xe.warn)("Unsupported radial gradient.")}this.extendStart=De,this.extendEnd=Ue;const We=hn.getRaw("Function"),$e=Xe.createFromArray(We),on=840,Je=(Me-tn)/on,an=this.colorStops=[];if(tn>=Me||Je<=0){(0,xe.info)("Bad shading domain.");return}const Ke=new Float32Array(dn.numComps),sn=new Float32Array(1);let gn,mn=0;sn[0]=tn,$e(sn,0,Ke,0);let yn=dn.getRgb(Ke,0);const Sn=xe.Util.makeHexColor(yn[0],yn[1],yn[2]);an.push([0,Sn]);let _n=1;sn[0]=tn+Je,$e(sn,0,Ke,0);let wn=dn.getRgb(Ke,0),Nn=wn[0]-yn[0]+1,Tn=wn[1]-yn[1]+1,Cn=wn[2]-yn[2]+1,In=wn[0]-yn[0]-1,Rn=wn[1]-yn[1]-1,bn=wn[2]-yn[2]-1;for(let On=2;On<on;On++){sn[0]=tn+On*Je,$e(sn,0,Ke,0),gn=dn.getRgb(Ke,0);const Mn=On-mn;if(Nn=Math.min(Nn,(gn[0]-yn[0]+1)/Mn),Tn=Math.min(Tn,(gn[1]-yn[1]+1)/Mn),Cn=Math.min(Cn,(gn[2]-yn[2]+1)/Mn),In=Math.max(In,(gn[0]-yn[0]-1)/Mn),Rn=Math.max(Rn,(gn[1]-yn[1]-1)/Mn),bn=Math.max(bn,(gn[2]-yn[2]-1)/Mn),!(In<=Nn&&Rn<=Tn&&bn<=Cn)){const Hn=xe.Util.makeHexColor(wn[0],wn[1],wn[2]);an.push([_n/on,Hn]),Nn=gn[0]-wn[0]+1,Tn=gn[1]-wn[1]+1,Cn=gn[2]-wn[2]+1,In=gn[0]-wn[0]-1,Rn=gn[1]-wn[1]-1,bn=gn[2]-wn[2]-1,mn=_n,yn=wn}_n=On,wn=gn}const kn=xe.Util.makeHexColor(wn[0],wn[1],wn[2]);an.push([1,kn]);let En="transparent";hn.has("Background")&&(gn=dn.getRgb(hn.get("Background"),0),En=xe.Util.makeHexColor(gn[0],gn[1],gn[2])),De||(an.unshift([0,En]),an[1][0]+=Ye.SMALL_NUMBER),Ue||(an.at(-1)[0]-=Ye.SMALL_NUMBER,an.push([1,En])),this.colorStops=an}getIR(){const hn=this.coordsArr,He=this.shadingType;let pn,Xe,fn,dn,qe;return He===t.AXIAL?(Xe=[hn[0],hn[1]],fn=[hn[2],hn[3]],dn=null,qe=null,pn="axial"):He===t.RADIAL?(Xe=[hn[0],hn[1]],fn=[hn[3],hn[4]],dn=hn[2],qe=hn[5],pn="radial"):(0,xe.unreachable)(`getPattern type unknown: ${He}`),["RadialAxial",pn,this.bbox,this.colorStops,Xe,fn,dn,qe]}}class je{constructor(hn,He){this.stream=hn,this.context=He,this.buffer=0,this.bufferLength=0;const pn=He.numComps;this.tmpCompsBuf=new Float32Array(pn);const Xe=He.colorSpace.numComps;this.tmpCsCompsBuf=He.colorFn?new Float32Array(Xe):this.tmpCompsBuf}get hasData(){if(this.stream.end)return this.stream.pos<this.stream.end;if(this.bufferLength>0)return!0;const hn=this.stream.getByte();return hn<0?!1:(this.buffer=hn,this.bufferLength=8,!0)}readBits(hn){let He=this.buffer,pn=this.bufferLength;if(hn===32){if(pn===0)return(this.stream.getByte()<<24|this.stream.getByte()<<16|this.stream.getByte()<<8|this.stream.getByte())>>>0;He=He<<24|this.stream.getByte()<<16|this.stream.getByte()<<8|this.stream.getByte();const Xe=this.stream.getByte();return this.buffer=Xe&(1<<pn)-1,(He<<8-pn|(Xe&255)>>pn)>>>0}if(hn===8&&pn===0)return this.stream.getByte();for(;pn<hn;)He=He<<8|this.stream.getByte(),pn+=8;return pn-=hn,this.bufferLength=pn,this.buffer=He&(1<<pn)-1,He>>pn}align(){this.buffer=0,this.bufferLength=0}readFlag(){return this.readBits(this.context.bitsPerFlag)}readCoordinate(){const hn=this.context.bitsPerCoordinate,He=this.readBits(hn),pn=this.readBits(hn),Xe=this.context.decode,fn=hn<32?1/((1<<hn)-1):23283064365386963e-26;return[He*fn*(Xe[1]-Xe[0])+Xe[0],pn*fn*(Xe[3]-Xe[2])+Xe[2]]}readComponents(){const hn=this.context.numComps,He=this.context.bitsPerComponent,pn=He<32?1/((1<<He)-1):23283064365386963e-26,Xe=this.context.decode,fn=this.tmpCompsBuf;for(let qe=0,tn=4;qe<hn;qe++,tn+=2){const Me=this.readBits(He);fn[qe]=Me*pn*(Xe[tn+1]-Xe[tn])+Xe[tn]}const dn=this.tmpCsCompsBuf;return this.context.colorFn&&this.context.colorFn(fn,0,dn,0),this.context.colorSpace.getRgb(dn,0)}}let nn=Object.create(null);function Ge(Qe){const hn=[];for(let He=0;He<=Qe;He++){const pn=He/Qe,Xe=1-pn;hn.push(new Float32Array([Xe**3,3*pn*Xe**2,3*pn**2*Xe,pn**3]))}return hn}function Oe(Qe){return nn[Qe]||=Ge(Qe)}function Ce(){nn=Object.create(null)}class St extends Ye{static MIN_SPLIT_PATCH_CHUNKS_AMOUNT=3;static MAX_SPLIT_PATCH_CHUNKS_AMOUNT=20;static TRIANGLE_DENSITY=20;constructor(hn,He,pn,Xe,fn){if(super(),!(hn instanceof Ie.BaseStream))throw new xe.FormatError("Mesh data is not a stream");const dn=hn.dict;this.shadingType=dn.get("ShadingType");const qe=dn.getArray("BBox");this.bbox=Array.isArray(qe)&&qe.length===4?xe.Util.normalizeRect(qe):null;const tn=Re.ColorSpace.parse({cs:dn.getRaw("CS")||dn.getRaw("ColorSpace"),xref:He,resources:pn,pdfFunctionFactory:Xe,localColorSpaceCache:fn});this.background=dn.has("Background")?tn.getRgb(dn.get("Background"),0):null;const Me=dn.getRaw("Function"),De=Me?Xe.createFromArray(Me):null;this.coords=[],this.colors=[],this.figures=[];const Ue={bitsPerCoordinate:dn.get("BitsPerCoordinate"),bitsPerComponent:dn.get("BitsPerComponent"),bitsPerFlag:dn.get("BitsPerFlag"),decode:dn.getArray("Decode"),colorFn:De,colorSpace:tn,numComps:De?1:tn.numComps},We=new je(hn,Ue);let $e=!1;switch(this.shadingType){case t.FREE_FORM_MESH:this._decodeType4Shading(We);break;case t.LATTICE_FORM_MESH:const on=dn.get("VerticesPerRow")|0;if(on<2)throw new xe.FormatError("Invalid VerticesPerRow");this._decodeType5Shading(We,on);break;case t.COONS_PATCH_MESH:this._decodeType6Shading(We),$e=!0;break;case t.TENSOR_PATCH_MESH:this._decodeType7Shading(We),$e=!0;break;default:(0,xe.unreachable)("Unsupported mesh type.");break}if($e){this._updateBounds();for(let on=0,Je=this.figures.length;on<Je;on++)this._buildFigureFromPatch(on)}this._updateBounds(),this._packData()}_decodeType4Shading(hn){const He=this.coords,pn=this.colors,Xe=[];let fn=0;for(;hn.hasData;){const dn=hn.readFlag(),qe=hn.readCoordinate(),tn=hn.readComponents();if(fn===0){if(!(0<=dn&&dn<=2))throw new xe.FormatError("Unknown type4 flag");switch(dn){case 0:fn=3;break;case 1:Xe.push(Xe.at(-2),Xe.at(-1)),fn=1;break;case 2:Xe.push(Xe.at(-3),Xe.at(-1)),fn=1;break}}Xe.push(He.length),He.push(qe),pn.push(tn),fn--,hn.align()}this.figures.push({type:"triangles",coords:new Int32Array(Xe),colors:new Int32Array(Xe)})}_decodeType5Shading(hn,He){const pn=this.coords,Xe=this.colors,fn=[];for(;hn.hasData;){const dn=hn.readCoordinate(),qe=hn.readComponents();fn.push(pn.length),pn.push(dn),Xe.push(qe)}this.figures.push({type:"lattice",coords:new Int32Array(fn),colors:new Int32Array(fn),verticesPerRow:He})}_decodeType6Shading(hn){const He=this.coords,pn=this.colors,Xe=new Int32Array(16),fn=new Int32Array(4);for(;hn.hasData;){const dn=hn.readFlag();if(!(0<=dn&&dn<=3))throw new xe.FormatError("Unknown type6 flag");const qe=He.length;for(let $e=0,on=dn!==0?8:12;$e<on;$e++)He.push(hn.readCoordinate());const tn=pn.length;for(let $e=0,on=dn!==0?2:4;$e<on;$e++)pn.push(hn.readComponents());let Me,De,Ue,We;switch(dn){case 0:Xe[12]=qe+3,Xe[13]=qe+4,Xe[14]=qe+5,Xe[15]=qe+6,Xe[8]=qe+2,Xe[11]=qe+7,Xe[4]=qe+1,Xe[7]=qe+8,Xe[0]=qe,Xe[1]=qe+11,Xe[2]=qe+10,Xe[3]=qe+9,fn[2]=tn+1,fn[3]=tn+2,fn[0]=tn,fn[1]=tn+3;break;case 1:Me=Xe[12],De=Xe[13],Ue=Xe[14],We=Xe[15],Xe[12]=We,Xe[13]=qe+0,Xe[14]=qe+1,Xe[15]=qe+2,Xe[8]=Ue,Xe[11]=qe+3,Xe[4]=De,Xe[7]=qe+4,Xe[0]=Me,Xe[1]=qe+7,Xe[2]=qe+6,Xe[3]=qe+5,Me=fn[2],De=fn[3],fn[2]=De,fn[3]=tn,fn[0]=Me,fn[1]=tn+1;break;case 2:Me=Xe[15],De=Xe[11],Xe[12]=Xe[3],Xe[13]=qe+0,Xe[14]=qe+1,Xe[15]=qe+2,Xe[8]=Xe[7],Xe[11]=qe+3,Xe[4]=De,Xe[7]=qe+4,Xe[0]=Me,Xe[1]=qe+7,Xe[2]=qe+6,Xe[3]=qe+5,Me=fn[3],fn[2]=fn[1],fn[3]=tn,fn[0]=Me,fn[1]=tn+1;break;case 3:Xe[12]=Xe[0],Xe[13]=qe+0,Xe[14]=qe+1,Xe[15]=qe+2,Xe[8]=Xe[1],Xe[11]=qe+3,Xe[4]=Xe[2],Xe[7]=qe+4,Xe[0]=Xe[3],Xe[1]=qe+7,Xe[2]=qe+6,Xe[3]=qe+5,fn[2]=fn[0],fn[3]=tn,fn[0]=fn[1],fn[1]=tn+1;break}Xe[5]=He.length,He.push([(-4*He[Xe[0]][0]-He[Xe[15]][0]+6*(He[Xe[4]][0]+He[Xe[1]][0])-2*(He[Xe[12]][0]+He[Xe[3]][0])+3*(He[Xe[13]][0]+He[Xe[7]][0]))/9,(-4*He[Xe[0]][1]-He[Xe[15]][1]+6*(He[Xe[4]][1]+He[Xe[1]][1])-2*(He[Xe[12]][1]+He[Xe[3]][1])+3*(He[Xe[13]][1]+He[Xe[7]][1]))/9]),Xe[6]=He.length,He.push([(-4*He[Xe[3]][0]-He[Xe[12]][0]+6*(He[Xe[2]][0]+He[Xe[7]][0])-2*(He[Xe[0]][0]+He[Xe[15]][0])+3*(He[Xe[4]][0]+He[Xe[14]][0]))/9,(-4*He[Xe[3]][1]-He[Xe[12]][1]+6*(He[Xe[2]][1]+He[Xe[7]][1])-2*(He[Xe[0]][1]+He[Xe[15]][1])+3*(He[Xe[4]][1]+He[Xe[14]][1]))/9]),Xe[9]=He.length,He.push([(-4*He[Xe[12]][0]-He[Xe[3]][0]+6*(He[Xe[8]][0]+He[Xe[13]][0])-2*(He[Xe[0]][0]+He[Xe[15]][0])+3*(He[Xe[11]][0]+He[Xe[1]][0]))/9,(-4*He[Xe[12]][1]-He[Xe[3]][1]+6*(He[Xe[8]][1]+He[Xe[13]][1])-2*(He[Xe[0]][1]+He[Xe[15]][1])+3*(He[Xe[11]][1]+He[Xe[1]][1]))/9]),Xe[10]=He.length,He.push([(-4*He[Xe[15]][0]-He[Xe[0]][0]+6*(He[Xe[11]][0]+He[Xe[14]][0])-2*(He[Xe[12]][0]+He[Xe[3]][0])+3*(He[Xe[2]][0]+He[Xe[8]][0]))/9,(-4*He[Xe[15]][1]-He[Xe[0]][1]+6*(He[Xe[11]][1]+He[Xe[14]][1])-2*(He[Xe[12]][1]+He[Xe[3]][1])+3*(He[Xe[2]][1]+He[Xe[8]][1]))/9]),this.figures.push({type:"patch",coords:new Int32Array(Xe),colors:new Int32Array(fn)})}}_decodeType7Shading(hn){const He=this.coords,pn=this.colors,Xe=new Int32Array(16),fn=new Int32Array(4);for(;hn.hasData;){const dn=hn.readFlag();if(!(0<=dn&&dn<=3))throw new xe.FormatError("Unknown type7 flag");const qe=He.length;for(let $e=0,on=dn!==0?12:16;$e<on;$e++)He.push(hn.readCoordinate());const tn=pn.length;for(let $e=0,on=dn!==0?2:4;$e<on;$e++)pn.push(hn.readComponents());let Me,De,Ue,We;switch(dn){case 0:Xe[12]=qe+3,Xe[13]=qe+4,Xe[14]=qe+5,Xe[15]=qe+6,Xe[8]=qe+2,Xe[9]=qe+13,Xe[10]=qe+14,Xe[11]=qe+7,Xe[4]=qe+1,Xe[5]=qe+12,Xe[6]=qe+15,Xe[7]=qe+8,Xe[0]=qe,Xe[1]=qe+11,Xe[2]=qe+10,Xe[3]=qe+9,fn[2]=tn+1,fn[3]=tn+2,fn[0]=tn,fn[1]=tn+3;break;case 1:Me=Xe[12],De=Xe[13],Ue=Xe[14],We=Xe[15],Xe[12]=We,Xe[13]=qe+0,Xe[14]=qe+1,Xe[15]=qe+2,Xe[8]=Ue,Xe[9]=qe+9,Xe[10]=qe+10,Xe[11]=qe+3,Xe[4]=De,Xe[5]=qe+8,Xe[6]=qe+11,Xe[7]=qe+4,Xe[0]=Me,Xe[1]=qe+7,Xe[2]=qe+6,Xe[3]=qe+5,Me=fn[2],De=fn[3],fn[2]=De,fn[3]=tn,fn[0]=Me,fn[1]=tn+1;break;case 2:Me=Xe[15],De=Xe[11],Xe[12]=Xe[3],Xe[13]=qe+0,Xe[14]=qe+1,Xe[15]=qe+2,Xe[8]=Xe[7],Xe[9]=qe+9,Xe[10]=qe+10,Xe[11]=qe+3,Xe[4]=De,Xe[5]=qe+8,Xe[6]=qe+11,Xe[7]=qe+4,Xe[0]=Me,Xe[1]=qe+7,Xe[2]=qe+6,Xe[3]=qe+5,Me=fn[3],fn[2]=fn[1],fn[3]=tn,fn[0]=Me,fn[1]=tn+1;break;case 3:Xe[12]=Xe[0],Xe[13]=qe+0,Xe[14]=qe+1,Xe[15]=qe+2,Xe[8]=Xe[1],Xe[9]=qe+9,Xe[10]=qe+10,Xe[11]=qe+3,Xe[4]=Xe[2],Xe[5]=qe+8,Xe[6]=qe+11,Xe[7]=qe+4,Xe[0]=Xe[3],Xe[1]=qe+7,Xe[2]=qe+6,Xe[3]=qe+5,fn[2]=fn[0],fn[3]=tn,fn[0]=fn[1],fn[1]=tn+1;break}this.figures.push({type:"patch",coords:new Int32Array(Xe),colors:new Int32Array(fn)})}}_buildFigureFromPatch(hn){const He=this.figures[hn];(0,xe.assert)(He.type==="patch","Unexpected patch mesh figure");const pn=this.coords,Xe=this.colors,fn=He.coords,dn=He.colors,qe=Math.min(pn[fn[0]][0],pn[fn[3]][0],pn[fn[12]][0],pn[fn[15]][0]),tn=Math.min(pn[fn[0]][1],pn[fn[3]][1],pn[fn[12]][1],pn[fn[15]][1]),Me=Math.max(pn[fn[0]][0],pn[fn[3]][0],pn[fn[12]][0],pn[fn[15]][0]),De=Math.max(pn[fn[0]][1],pn[fn[3]][1],pn[fn[12]][1],pn[fn[15]][1]);let Ue=Math.ceil((Me-qe)*St.TRIANGLE_DENSITY/(this.bounds[2]-this.bounds[0]));Ue=Math.max(St.MIN_SPLIT_PATCH_CHUNKS_AMOUNT,Math.min(St.MAX_SPLIT_PATCH_CHUNKS_AMOUNT,Ue));let We=Math.ceil((De-tn)*St.TRIANGLE_DENSITY/(this.bounds[3]-this.bounds[1]));We=Math.max(St.MIN_SPLIT_PATCH_CHUNKS_AMOUNT,Math.min(St.MAX_SPLIT_PATCH_CHUNKS_AMOUNT,We));const $e=Ue+1,on=new Int32Array((We+1)*$e),Je=new Int32Array((We+1)*$e);let an=0;const Ke=new Uint8Array(3),sn=new Uint8Array(3),gn=Xe[dn[0]],mn=Xe[dn[1]],yn=Xe[dn[2]],Sn=Xe[dn[3]],_n=Oe(We),wn=Oe(Ue);for(let Nn=0;Nn<=We;Nn++){Ke[0]=(gn[0]*(We-Nn)+yn[0]*Nn)/We|0,Ke[1]=(gn[1]*(We-Nn)+yn[1]*Nn)/We|0,Ke[2]=(gn[2]*(We-Nn)+yn[2]*Nn)/We|0,sn[0]=(mn[0]*(We-Nn)+Sn[0]*Nn)/We|0,sn[1]=(mn[1]*(We-Nn)+Sn[1]*Nn)/We|0,sn[2]=(mn[2]*(We-Nn)+Sn[2]*Nn)/We|0;for(let Tn=0;Tn<=Ue;Tn++,an++){if((Nn===0||Nn===We)&&(Tn===0||Tn===Ue))continue;let Cn=0,In=0,Rn=0;for(let kn=0;kn<=3;kn++)for(let En=0;En<=3;En++,Rn++){const On=_n[Nn][kn]*wn[Tn][En];Cn+=pn[fn[Rn]][0]*On,In+=pn[fn[Rn]][1]*On}on[an]=pn.length,pn.push([Cn,In]),Je[an]=Xe.length;const bn=new Uint8Array(3);bn[0]=(Ke[0]*(Ue-Tn)+sn[0]*Tn)/Ue|0,bn[1]=(Ke[1]*(Ue-Tn)+sn[1]*Tn)/Ue|0,bn[2]=(Ke[2]*(Ue-Tn)+sn[2]*Tn)/Ue|0,Xe.push(bn)}}on[0]=fn[0],Je[0]=dn[0],on[Ue]=fn[3],Je[Ue]=dn[1],on[$e*We]=fn[12],Je[$e*We]=dn[2],on[$e*We+Ue]=fn[15],Je[$e*We+Ue]=dn[3],this.figures[hn]={type:"lattice",coords:on,colors:Je,verticesPerRow:$e}}_updateBounds(){let hn=this.coords[0][0],He=this.coords[0][1],pn=hn,Xe=He;for(let fn=1,dn=this.coords.length;fn<dn;fn++){const qe=this.coords[fn][0],tn=this.coords[fn][1];hn=hn>qe?qe:hn,He=He>tn?tn:He,pn=pn<qe?qe:pn,Xe=Xe<tn?tn:Xe}this.bounds=[hn,He,pn,Xe]}_packData(){let hn,He,pn,Xe;const fn=this.coords,dn=new Float32Array(fn.length*2);for(hn=0,pn=0,He=fn.length;hn<He;hn++){const De=fn[hn];dn[pn++]=De[0],dn[pn++]=De[1]}this.coords=dn;const qe=this.colors,tn=new Uint8Array(qe.length*3);for(hn=0,pn=0,He=qe.length;hn<He;hn++){const De=qe[hn];tn[pn++]=De[0],tn[pn++]=De[1],tn[pn++]=De[2]}this.colors=tn;const Me=this.figures;for(hn=0,He=Me.length;hn<He;hn++){const De=Me[hn],Ue=De.coords,We=De.colors;for(pn=0,Xe=Ue.length;pn<Xe;pn++)Ue[pn]*=2,We[pn]*=3}}getIR(){return["Mesh",this.shadingType,this.coords,this.colors,this.figures,this.bounds,this.bbox,this.background]}}class rn extends Ye{getIR(){return["Dummy"]}}function un(Qe,hn,He){const pn=hn.getArray("Matrix"),Xe=xe.Util.normalizeRect(hn.getArray("BBox")),fn=hn.get("XStep"),dn=hn.get("YStep"),qe=hn.get("PaintType"),tn=hn.get("TilingType");if(Xe[2]-Xe[0]===0||Xe[3]-Xe[1]===0)throw new xe.FormatError(`Invalid getTilingPatternIR /BBox array: [${Xe}].`);return["TilingPattern",He,Qe,pn,Xe,fn,dn,qe,tn]}},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.getXfaFontDict=Oe,_e.getXfaFontName=nn;var xe=ze(52),Ie=ze(4),Re=ze(53),e=ze(54),t=ze(55),Te=ze(56),Ye=ze(3),en=ze(38);const je=(0,Ye.getLookupTableFactory)(function(Ce){Ce["MyriadPro-Regular"]=Ce["PdfJS-Fallback-Regular"]={name:"LiberationSans-Regular",factors:t.MyriadProRegularFactors,baseWidths:e.LiberationSansRegularWidths,baseMapping:e.LiberationSansRegularMapping,metrics:t.MyriadProRegularMetrics},Ce["MyriadPro-Bold"]=Ce["PdfJS-Fallback-Bold"]={name:"LiberationSans-Bold",factors:t.MyriadProBoldFactors,baseWidths:e.LiberationSansBoldWidths,baseMapping:e.LiberationSansBoldMapping,metrics:t.MyriadProBoldMetrics},Ce["MyriadPro-It"]=Ce["MyriadPro-Italic"]=Ce["PdfJS-Fallback-Italic"]={name:"LiberationSans-Italic",factors:t.MyriadProItalicFactors,baseWidths:e.LiberationSansItalicWidths,baseMapping:e.LiberationSansItalicMapping,metrics:t.MyriadProItalicMetrics},Ce["MyriadPro-BoldIt"]=Ce["MyriadPro-BoldItalic"]=Ce["PdfJS-Fallback-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:t.MyriadProBoldItalicFactors,baseWidths:e.LiberationSansBoldItalicWidths,baseMapping:e.LiberationSansBoldItalicMapping,metrics:t.MyriadProBoldItalicMetrics},Ce.ArialMT=Ce.Arial=Ce["Arial-Regular"]={name:"LiberationSans-Regular",baseWidths:e.LiberationSansRegularWidths,baseMapping:e.LiberationSansRegularMapping},Ce["Arial-BoldMT"]=Ce["Arial-Bold"]={name:"LiberationSans-Bold",baseWidths:e.LiberationSansBoldWidths,baseMapping:e.LiberationSansBoldMapping},Ce["Arial-ItalicMT"]=Ce["Arial-Italic"]={name:"LiberationSans-Italic",baseWidths:e.LiberationSansItalicWidths,baseMapping:e.LiberationSansItalicMapping},Ce["Arial-BoldItalicMT"]=Ce["Arial-BoldItalic"]={name:"LiberationSans-BoldItalic",baseWidths:e.LiberationSansBoldItalicWidths,baseMapping:e.LiberationSansBoldItalicMapping},Ce["Calibri-Regular"]={name:"LiberationSans-Regular",factors:xe.CalibriRegularFactors,baseWidths:e.LiberationSansRegularWidths,baseMapping:e.LiberationSansRegularMapping,metrics:xe.CalibriRegularMetrics},Ce["Calibri-Bold"]={name:"LiberationSans-Bold",factors:xe.CalibriBoldFactors,baseWidths:e.LiberationSansBoldWidths,baseMapping:e.LiberationSansBoldMapping,metrics:xe.CalibriBoldMetrics},Ce["Calibri-Italic"]={name:"LiberationSans-Italic",factors:xe.CalibriItalicFactors,baseWidths:e.LiberationSansItalicWidths,baseMapping:e.LiberationSansItalicMapping,metrics:xe.CalibriItalicMetrics},Ce["Calibri-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:xe.CalibriBoldItalicFactors,baseWidths:e.LiberationSansBoldItalicWidths,baseMapping:e.LiberationSansBoldItalicMapping,metrics:xe.CalibriBoldItalicMetrics},Ce["Segoeui-Regular"]={name:"LiberationSans-Regular",factors:Te.SegoeuiRegularFactors,baseWidths:e.LiberationSansRegularWidths,baseMapping:e.LiberationSansRegularMapping,metrics:Te.SegoeuiRegularMetrics},Ce["Segoeui-Bold"]={name:"LiberationSans-Bold",factors:Te.SegoeuiBoldFactors,baseWidths:e.LiberationSansBoldWidths,baseMapping:e.LiberationSansBoldMapping,metrics:Te.SegoeuiBoldMetrics},Ce["Segoeui-Italic"]={name:"LiberationSans-Italic",factors:Te.SegoeuiItalicFactors,baseWidths:e.LiberationSansItalicWidths,baseMapping:e.LiberationSansItalicMapping,metrics:Te.SegoeuiItalicMetrics},Ce["Segoeui-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:Te.SegoeuiBoldItalicFactors,baseWidths:e.LiberationSansBoldItalicWidths,baseMapping:e.LiberationSansBoldItalicMapping,metrics:Te.SegoeuiBoldItalicMetrics},Ce["Helvetica-Regular"]=Ce.Helvetica={name:"LiberationSans-Regular",factors:Re.HelveticaRegularFactors,baseWidths:e.LiberationSansRegularWidths,baseMapping:e.LiberationSansRegularMapping,metrics:Re.HelveticaRegularMetrics},Ce["Helvetica-Bold"]={name:"LiberationSans-Bold",factors:Re.HelveticaBoldFactors,baseWidths:e.LiberationSansBoldWidths,baseMapping:e.LiberationSansBoldMapping,metrics:Re.HelveticaBoldMetrics},Ce["Helvetica-Italic"]={name:"LiberationSans-Italic",factors:Re.HelveticaItalicFactors,baseWidths:e.LiberationSansItalicWidths,baseMapping:e.LiberationSansItalicMapping,metrics:Re.HelveticaItalicMetrics},Ce["Helvetica-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:Re.HelveticaBoldItalicFactors,baseWidths:e.LiberationSansBoldItalicWidths,baseMapping:e.LiberationSansBoldItalicMapping,metrics:Re.HelveticaBoldItalicMetrics}});function nn(Ce){const St=(0,en.normalizeFontName)(Ce);return je()[St]}function Ge(Ce){const St=nn(Ce);if(!St)return null;const{baseWidths:rn,baseMapping:un,factors:Qe}=St,hn=Qe?rn.map((fn,dn)=>fn*Qe[dn]):rn;let He=-2,pn;const Xe=[];for(const[fn,dn]of un.map((qe,tn)=>[qe,tn]).sort(([qe],[tn])=>qe-tn))fn!==-1&&(fn===He+1?(pn.push(hn[dn]),He+=1):(He=fn,pn=[hn[dn]],Xe.push(fn,pn)));return Xe}function Oe(Ce){const St=Ge(Ce),rn=new Ie.Dict(null);rn.set("BaseFont",Ie.Name.get(Ce)),rn.set("Type",Ie.Name.get("Font")),rn.set("Subtype",Ie.Name.get("CIDFontType2")),rn.set("Encoding",Ie.Name.get("Identity-H")),rn.set("CIDToGIDMap",Ie.Name.get("Identity")),rn.set("W",St),rn.set("FirstChar",St[0]),rn.set("LastChar",St.at(-2)+St.at(-1).length-1);const un=new Ie.Dict(null);rn.set("FontDescriptor",un);const Qe=new Ie.Dict(null);return Qe.set("Ordering","Identity"),Qe.set("Registry","Adobe"),Qe.set("Supplement",0),rn.set("CIDSystemInfo",Qe),rn}},(Ve,_e)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.CalibriRegularMetrics=_e.CalibriRegularFactors=_e.CalibriItalicMetrics=_e.CalibriItalicFactors=_e.CalibriBoldMetrics=_e.CalibriBoldItalicMetrics=_e.CalibriBoldItalicFactors=_e.CalibriBoldFactors=void 0;const ze=[1.3877,1,1,1,.97801,.92482,.89552,.91133,.81988,.97566,.98152,.93548,.93548,1.2798,.85284,.92794,1,.96134,1.54657,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.82845,.82845,.85284,.85284,.85284,.75859,.92138,.83908,.7762,.73293,.87289,.73133,.7514,.81921,.87356,.95958,.59526,.75727,.69225,1.04924,.9121,.86943,.79795,.88198,.77958,.70864,.81055,.90399,.88653,.96017,.82577,.77892,.78257,.97507,1.54657,.97507,.85284,.89552,.90176,.88762,.8785,.75241,.8785,.90518,.95015,.77618,.8785,.88401,.91916,.86304,.88401,.91488,.8785,.8801,.8785,.8785,.91343,.7173,1.04106,.8785,.85075,.95794,.82616,.85162,.79492,.88331,1.69808,.88331,.85284,.97801,.89552,.91133,.89552,.91133,1.7801,.89552,1.24487,1.13254,1.12401,.96839,.85284,.68787,.70645,.85592,.90747,1.01466,1.0088,.90323,1,1.07463,1,.91056,.75806,1.19118,.96839,.78864,.82845,.84133,.75859,.83908,.83908,.83908,.83908,.83908,.83908,.77539,.73293,.73133,.73133,.73133,.73133,.95958,.95958,.95958,.95958,.88506,.9121,.86943,.86943,.86943,.86943,.86943,.85284,.87508,.90399,.90399,.90399,.90399,.77892,.79795,.90807,.88762,.88762,.88762,.88762,.88762,.88762,.8715,.75241,.90518,.90518,.90518,.90518,.88401,.88401,.88401,.88401,.8785,.8785,.8801,.8801,.8801,.8801,.8801,.90747,.89049,.8785,.8785,.8785,.8785,.85162,.8785,.85162,.83908,.88762,.83908,.88762,.83908,.88762,.73293,.75241,.73293,.75241,.73293,.75241,.73293,.75241,.87289,.83016,.88506,.93125,.73133,.90518,.73133,.90518,.73133,.90518,.73133,.90518,.73133,.90518,.81921,.77618,.81921,.77618,.81921,.77618,1,1,.87356,.8785,.91075,.89608,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.76229,.90167,.59526,.91916,1,1,.86304,.69225,.88401,1,1,.70424,.79468,.91926,.88175,.70823,.94903,.9121,.8785,1,1,.9121,.8785,.87802,.88656,.8785,.86943,.8801,.86943,.8801,.86943,.8801,.87402,.89291,.77958,.91343,1,1,.77958,.91343,.70864,.7173,.70864,.7173,.70864,.7173,.70864,.7173,1,1,.81055,.75841,.81055,1.06452,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.96017,.95794,.77892,.85162,.77892,.78257,.79492,.78257,.79492,.78257,.79492,.9297,.56892,.83908,.88762,.77539,.8715,.87508,.89049,1,1,.81055,1.04106,1.20528,1.20528,1,1.15543,.70674,.98387,.94721,1.33431,1.45894,.95161,1.06303,.83908,.80352,.57184,.6965,.56289,.82001,.56029,.81235,1.02988,.83908,.7762,.68156,.80367,.73133,.78257,.87356,.86943,.95958,.75727,.89019,1.04924,.9121,.7648,.86943,.87356,.79795,.78275,.81055,.77892,.9762,.82577,.99819,.84896,.95958,.77892,.96108,1.01407,.89049,1.02988,.94211,.96108,.8936,.84021,.87842,.96399,.79109,.89049,1.00813,1.02988,.86077,.87445,.92099,.84723,.86513,.8801,.75638,.85714,.78216,.79586,.87965,.94211,.97747,.78287,.97926,.84971,1.02988,.94211,.8801,.94211,.84971,.73133,1,1,1,1,1,1,1,1,1,1,1,1,.90264,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.90518,1,1,1,1,1,1,1,1,1,1,1,1,.90548,1,1,1,1,1,1,.96017,.95794,.96017,.95794,.96017,.95794,.77892,.85162,1,1,.89552,.90527,1,.90363,.92794,.92794,.92794,.92794,.87012,.87012,.87012,.89552,.89552,1.42259,.71143,1.06152,1,1,1.03372,1.03372,.97171,1.4956,2.2807,.93835,.83406,.91133,.84107,.91133,1,1,1,.72021,1,1.23108,.83489,.88525,.88525,.81499,.90527,1.81055,.90527,1.81055,1.31006,1.53711,.94434,1.08696,1,.95018,.77192,.85284,.90747,1.17534,.69825,.9716,1.37077,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.08004,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,.90727,.90727,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];_e.CalibriBoldFactors=ze;const xe={lineHeight:1.2207,lineGap:.2207};_e.CalibriBoldMetrics=xe;const Ie=[1.3877,1,1,1,.97801,.92482,.89552,.91133,.81988,.97566,.98152,.93548,.93548,1.2798,.85284,.92794,1,.96134,1.56239,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.82845,.82845,.85284,.85284,.85284,.75859,.92138,.83908,.7762,.71805,.87289,.73133,.7514,.81921,.87356,.95958,.59526,.75727,.69225,1.04924,.90872,.85938,.79795,.87068,.77958,.69766,.81055,.90399,.88653,.96068,.82577,.77892,.78257,.97507,1.529,.97507,.85284,.89552,.90176,.94908,.86411,.74012,.86411,.88323,.95015,.86411,.86331,.88401,.91916,.86304,.88401,.9039,.86331,.86331,.86411,.86411,.90464,.70852,1.04106,.86331,.84372,.95794,.82616,.84548,.79492,.88331,1.69808,.88331,.85284,.97801,.89552,.91133,.89552,.91133,1.7801,.89552,1.24487,1.13254,1.19129,.96839,.85284,.68787,.70645,.85592,.90747,1.01466,1.0088,.90323,1,1.07463,1,.91056,.75806,1.19118,.96839,.78864,.82845,.84133,.75859,.83908,.83908,.83908,.83908,.83908,.83908,.77539,.71805,.73133,.73133,.73133,.73133,.95958,.95958,.95958,.95958,.88506,.90872,.85938,.85938,.85938,.85938,.85938,.85284,.87068,.90399,.90399,.90399,.90399,.77892,.79795,.90807,.94908,.94908,.94908,.94908,.94908,.94908,.85887,.74012,.88323,.88323,.88323,.88323,.88401,.88401,.88401,.88401,.8785,.86331,.86331,.86331,.86331,.86331,.86331,.90747,.89049,.86331,.86331,.86331,.86331,.84548,.86411,.84548,.83908,.94908,.83908,.94908,.83908,.94908,.71805,.74012,.71805,.74012,.71805,.74012,.71805,.74012,.87289,.79538,.88506,.92726,.73133,.88323,.73133,.88323,.73133,.88323,.73133,.88323,.73133,.88323,.81921,.86411,.81921,.86411,.81921,.86411,1,1,.87356,.86331,.91075,.8777,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.76467,.90167,.59526,.91916,1,1,.86304,.69225,.88401,1,1,.70424,.77312,.91926,.88175,.70823,.94903,.90872,.86331,1,1,.90872,.86331,.86906,.88116,.86331,.85938,.86331,.85938,.86331,.85938,.86331,.87402,.86549,.77958,.90464,1,1,.77958,.90464,.69766,.70852,.69766,.70852,.69766,.70852,.69766,.70852,1,1,.81055,.75841,.81055,1.06452,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.96068,.95794,.77892,.84548,.77892,.78257,.79492,.78257,.79492,.78257,.79492,.9297,.56892,.83908,.94908,.77539,.85887,.87068,.89049,1,1,.81055,1.04106,1.20528,1.20528,1,1.15543,.70088,.98387,.94721,1.33431,1.45894,.95161,1.48387,.83908,.80352,.57118,.6965,.56347,.79179,.55853,.80346,1.02988,.83908,.7762,.67174,.86036,.73133,.78257,.87356,.86441,.95958,.75727,.89019,1.04924,.90872,.74889,.85938,.87891,.79795,.7957,.81055,.77892,.97447,.82577,.97466,.87179,.95958,.77892,.94252,.95612,.8753,1.02988,.92733,.94252,.87411,.84021,.8728,.95612,.74081,.8753,1.02189,1.02988,.84814,.87445,.91822,.84723,.85668,.86331,.81344,.87581,.76422,.82046,.96057,.92733,.99375,.78022,.95452,.86015,1.02988,.92733,.86331,.92733,.86015,.73133,1,1,1,1,1,1,1,1,1,1,1,1,.90631,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.88323,1,1,1,1,1,1,1,1,1,1,1,1,.85174,1,1,1,1,1,1,.96068,.95794,.96068,.95794,.96068,.95794,.77892,.84548,1,1,.89552,.90527,1,.90363,.92794,.92794,.92794,.89807,.87012,.87012,.87012,.89552,.89552,1.42259,.71094,1.06152,1,1,1.03372,1.03372,.97171,1.4956,2.2807,.92972,.83406,.91133,.83326,.91133,1,1,1,.72021,1,1.23108,.83489,.88525,.88525,.81499,.90616,1.81055,.90527,1.81055,1.3107,1.53711,.94434,1.08696,1,.95018,.77192,.85284,.90747,1.17534,.69825,.9716,1.37077,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.08004,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,.90727,.90727,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];_e.CalibriBoldItalicFactors=Ie;const Re={lineHeight:1.2207,lineGap:.2207};_e.CalibriBoldItalicMetrics=Re;const e=[1.3877,1,1,1,1.17223,1.1293,.89552,.91133,.80395,1.02269,1.15601,.91056,.91056,1.2798,.85284,.89807,1,.90861,1.39543,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.96309,.96309,.85284,.85284,.85284,.83319,.88071,.8675,.81552,.72346,.85193,.73206,.7522,.81105,.86275,.90685,.6377,.77892,.75593,1.02638,.89249,.84118,.77452,.85374,.75186,.67789,.79776,.88844,.85066,.94309,.77818,.7306,.76659,1.10369,1.38313,1.10369,1.06139,.89552,.8739,.9245,.9245,.83203,.9245,.85865,1.09842,.9245,.9245,1.03297,1.07692,.90918,1.03297,.94959,.9245,.92274,.9245,.9245,1.02933,.77832,1.20562,.9245,.8916,.98986,.86621,.89453,.79004,.94152,1.77256,.94152,.85284,.97801,.89552,.91133,.89552,.91133,1.91729,.89552,1.17889,1.13254,1.16359,.92098,.85284,.68787,.71353,.84737,.90747,1.0088,1.0044,.87683,1,1.09091,1,.92229,.739,1.15642,.92098,.76288,.80504,.80972,.75859,.8675,.8675,.8675,.8675,.8675,.8675,.76318,.72346,.73206,.73206,.73206,.73206,.90685,.90685,.90685,.90685,.86477,.89249,.84118,.84118,.84118,.84118,.84118,.85284,.84557,.88844,.88844,.88844,.88844,.7306,.77452,.86331,.9245,.9245,.9245,.9245,.9245,.9245,.84843,.83203,.85865,.85865,.85865,.85865,.82601,.82601,.82601,.82601,.94469,.9245,.92274,.92274,.92274,.92274,.92274,.90747,.86651,.9245,.9245,.9245,.9245,.89453,.9245,.89453,.8675,.9245,.8675,.9245,.8675,.9245,.72346,.83203,.72346,.83203,.72346,.83203,.72346,.83203,.85193,.8875,.86477,.99034,.73206,.85865,.73206,.85865,.73206,.85865,.73206,.85865,.73206,.85865,.81105,.9245,.81105,.9245,.81105,.9245,1,1,.86275,.9245,.90872,.93591,.90685,.82601,.90685,.82601,.90685,.82601,.90685,1.03297,.90685,.82601,.77896,1.05611,.6377,1.07692,1,1,.90918,.75593,1.03297,1,1,.76032,.9375,.98156,.93407,.77261,1.11429,.89249,.9245,1,1,.89249,.9245,.92534,.86698,.9245,.84118,.92274,.84118,.92274,.84118,.92274,.8667,.86291,.75186,1.02933,1,1,.75186,1.02933,.67789,.77832,.67789,.77832,.67789,.77832,.67789,.77832,1,1,.79776,.97655,.79776,1.23023,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.94309,.98986,.7306,.89453,.7306,.76659,.79004,.76659,.79004,.76659,.79004,1.09231,.54873,.8675,.9245,.76318,.84843,.84557,.86651,1,1,.79776,1.20562,1.18622,1.18622,1,1.1437,.67009,.96334,.93695,1.35191,1.40909,.95161,1.48387,.8675,.90861,.6192,.7363,.64824,.82411,.56321,.85696,1.23516,.8675,.81552,.7286,.84134,.73206,.76659,.86275,.84369,.90685,.77892,.85871,1.02638,.89249,.75828,.84118,.85984,.77452,.76466,.79776,.7306,.90782,.77818,.903,.87291,.90685,.7306,.99058,1.03667,.94635,1.23516,.9849,.99058,.92393,.8916,.942,1.03667,.75026,.94635,1.0297,1.23516,.90918,.94048,.98217,.89746,.84153,.92274,.82507,.88832,.84438,.88178,1.03525,.9849,1.00225,.78086,.97248,.89404,1.23516,.9849,.92274,.9849,.89404,.73206,1,1,1,1,1,1,1,1,1,1,1,1,.89693,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.85865,1,1,1,1,1,1,1,1,1,1,1,1,.90933,1,1,1,1,1,1,.94309,.98986,.94309,.98986,.94309,.98986,.7306,.89453,1,1,.89552,.90527,1,.90186,1.12308,1.12308,1.12308,1.12308,1.2566,1.2566,1.2566,.89552,.89552,1.42259,.68994,1.03809,1,1,1.0176,1.0176,1.11523,1.4956,2.01462,.97858,.82616,.91133,.83437,.91133,1,1,1,.70508,1,1.23108,.79801,.84426,.84426,.774,.90572,1.81055,.90749,1.81055,1.28809,1.55469,.94434,1.07806,1,.97094,.7589,.85284,.90747,1.19658,.69825,.97622,1.33512,.90747,.90747,.85284,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.0336,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,1.05859,1.05859,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];_e.CalibriItalicFactors=e;const t={lineHeight:1.2207,lineGap:.2207};_e.CalibriItalicMetrics=t;const Te=[1.3877,1,1,1,1.17223,1.1293,.89552,.91133,.80395,1.02269,1.15601,.91056,.91056,1.2798,.85284,.89807,1,.90861,1.39016,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.96309,.96309,.85284,.85284,.85284,.83319,.88071,.8675,.81552,.73834,.85193,.73206,.7522,.81105,.86275,.90685,.6377,.77892,.75593,1.02638,.89385,.85122,.77452,.86503,.75186,.68887,.79776,.88844,.85066,.94258,.77818,.7306,.76659,1.10369,1.39016,1.10369,1.06139,.89552,.8739,.86128,.94469,.8457,.94469,.89464,1.09842,.84636,.94469,1.03297,1.07692,.90918,1.03297,.95897,.94469,.9482,.94469,.94469,1.04692,.78223,1.20562,.94469,.90332,.98986,.86621,.90527,.79004,.94152,1.77256,.94152,.85284,.97801,.89552,.91133,.89552,.91133,1.91729,.89552,1.17889,1.13254,1.08707,.92098,.85284,.68787,.71353,.84737,.90747,1.0088,1.0044,.87683,1,1.09091,1,.92229,.739,1.15642,.92098,.76288,.80504,.80972,.75859,.8675,.8675,.8675,.8675,.8675,.8675,.76318,.73834,.73206,.73206,.73206,.73206,.90685,.90685,.90685,.90685,.86477,.89385,.85122,.85122,.85122,.85122,.85122,.85284,.85311,.88844,.88844,.88844,.88844,.7306,.77452,.86331,.86128,.86128,.86128,.86128,.86128,.86128,.8693,.8457,.89464,.89464,.89464,.89464,.82601,.82601,.82601,.82601,.94469,.94469,.9482,.9482,.9482,.9482,.9482,.90747,.86651,.94469,.94469,.94469,.94469,.90527,.94469,.90527,.8675,.86128,.8675,.86128,.8675,.86128,.73834,.8457,.73834,.8457,.73834,.8457,.73834,.8457,.85193,.92454,.86477,.9921,.73206,.89464,.73206,.89464,.73206,.89464,.73206,.89464,.73206,.89464,.81105,.84636,.81105,.84636,.81105,.84636,1,1,.86275,.94469,.90872,.95786,.90685,.82601,.90685,.82601,.90685,.82601,.90685,1.03297,.90685,.82601,.77741,1.05611,.6377,1.07692,1,1,.90918,.75593,1.03297,1,1,.76032,.90452,.98156,1.11842,.77261,1.11429,.89385,.94469,1,1,.89385,.94469,.95877,.86901,.94469,.85122,.9482,.85122,.9482,.85122,.9482,.8667,.90016,.75186,1.04692,1,1,.75186,1.04692,.68887,.78223,.68887,.78223,.68887,.78223,.68887,.78223,1,1,.79776,.92188,.79776,1.23023,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.94258,.98986,.7306,.90527,.7306,.76659,.79004,.76659,.79004,.76659,.79004,1.09231,.54873,.8675,.86128,.76318,.8693,.85311,.86651,1,1,.79776,1.20562,1.18622,1.18622,1,1.1437,.67742,.96334,.93695,1.35191,1.40909,.95161,1.48387,.86686,.90861,.62267,.74359,.65649,.85498,.56963,.88254,1.23516,.8675,.81552,.75443,.84503,.73206,.76659,.86275,.85122,.90685,.77892,.85746,1.02638,.89385,.75657,.85122,.86275,.77452,.74171,.79776,.7306,.95165,.77818,.89772,.88831,.90685,.7306,.98142,1.02191,.96576,1.23516,.99018,.98142,.9236,.89258,.94035,1.02191,.78848,.96576,.9561,1.23516,.90918,.92578,.95424,.89746,.83969,.9482,.80113,.89442,.85208,.86155,.98022,.99018,1.00452,.81209,.99247,.89181,1.23516,.99018,.9482,.99018,.89181,.73206,1,1,1,1,1,1,1,1,1,1,1,1,.88844,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.89464,1,1,1,1,1,1,1,1,1,1,1,1,.96766,1,1,1,1,1,1,.94258,.98986,.94258,.98986,.94258,.98986,.7306,.90527,1,1,.89552,.90527,1,.90186,1.12308,1.12308,1.12308,1.12308,1.2566,1.2566,1.2566,.89552,.89552,1.42259,.69043,1.03809,1,1,1.0176,1.0176,1.11523,1.4956,2.01462,.99331,.82616,.91133,.84286,.91133,1,1,1,.70508,1,1.23108,.79801,.84426,.84426,.774,.90527,1.81055,.90527,1.81055,1.28809,1.55469,.94434,1.07806,1,.97094,.7589,.85284,.90747,1.19658,.69825,.97622,1.33512,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.0336,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,1.05859,1.05859,1,1,1,1.07185,.99413,.96334,1.08065,1,1,1,1,1,1,1,1,1,1,1];_e.CalibriRegularFactors=Te;const Ye={lineHeight:1.2207,lineGap:.2207};_e.CalibriRegularMetrics=Ye},(Ve,_e)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.HelveticaRegularMetrics=_e.HelveticaRegularFactors=_e.HelveticaItalicMetrics=_e.HelveticaItalicFactors=_e.HelveticaBoldMetrics=_e.HelveticaBoldItalicMetrics=_e.HelveticaBoldItalicFactors=_e.HelveticaBoldFactors=void 0;const ze=[.76116,1,1,1.0006,.99998,.99974,.99973,.99973,.99982,.99977,1.00087,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99998,1,1.00003,1.00003,1.00003,1.00026,.9999,.99977,.99977,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,.99973,.99977,1.00026,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,.99998,1.0006,.99998,1.00003,.99973,.99998,.99973,1.00026,.99973,1.00026,.99973,.99998,1.00026,1.00026,1.0006,1.0006,.99973,1.0006,.99982,1.00026,1.00026,1.00026,1.00026,.99959,.99973,.99998,1.00026,.99973,1.00022,.99973,.99973,1,.99959,1.00077,.99959,1.00003,.99998,.99973,.99973,.99973,.99973,1.00077,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.99973,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,.99977,.99977,.99977,.99977,.99977,.99977,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,.99973,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.06409,1.00026,1.00026,1.00026,1.00026,1.00026,.99973,1.00026,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,1.03374,.99977,1.00026,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,.99977,1.00026,.99977,1.00026,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.00042,.99973,.99973,1.0006,.99977,.99973,.99973,1.00026,1.0006,1.00026,1.0006,1.00026,1.03828,1.00026,.99999,1.00026,1.0006,.99977,1.00026,.99977,1.00026,.99977,1.00026,.9993,.9998,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1,1.00016,.99977,.99959,.99977,.99959,.99977,.99959,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00026,.99998,1.00026,.8121,1.00026,.99998,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,1.00016,1.00022,1.00001,.99973,1.00001,1.00026,1,1.00026,1,1.00026,1,1.0006,.99973,.99977,.99973,1,.99982,1.00022,1.00026,1.00001,.99973,1.00026,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,1.00034,.99977,1,.99997,1.00026,1.00078,1.00036,.99973,1.00013,1.0006,.99977,.99977,.99988,.85148,1.00001,1.00026,.99977,1.00022,1.0006,.99977,1.00001,.99999,.99977,1.00069,1.00022,.99977,1.00001,.99984,1.00026,1.00001,1.00024,1.00001,.9999,1,1.0006,1.00001,1.00041,.99962,1.00026,1.0006,.99995,1.00041,.99942,.99973,.99927,1.00082,.99902,1.00026,1.00087,1.0006,1.00069,.99973,.99867,.99973,.9993,1.00026,1.00049,1.00056,1,.99988,.99935,.99995,.99954,1.00055,.99945,1.00032,1.0006,.99995,1.00026,.99995,1.00032,1.00001,1.00008,.99971,1.00019,.9994,1.00001,1.0006,1.00044,.99973,1.00023,1.00047,1,.99942,.99561,.99989,1.00035,.99977,1.00035,.99977,1.00019,.99944,1.00001,1.00021,.99926,1.00035,1.00035,.99942,1.00048,.99999,.99977,1.00022,1.00035,1.00001,.99977,1.00026,.99989,1.00057,1.00001,.99936,1.00052,1.00012,.99996,1.00043,1,1.00035,.9994,.99976,1.00035,.99973,1.00052,1.00041,1.00119,1.00037,.99973,1.00002,.99986,1.00041,1.00041,.99902,.9996,1.00034,.99999,1.00026,.99999,1.00026,.99973,1.00052,.99973,1,.99973,1.00041,1.00075,.9994,1.0003,.99999,1,1.00041,.99955,1,.99915,.99973,.99973,1.00026,1.00119,.99955,.99973,1.0006,.99911,1.0006,1.00026,.99972,1.00026,.99902,1.00041,.99973,.99999,1,1,1.00038,1.0005,1.00016,1.00022,1.00016,1.00022,1.00016,1.00022,1.00001,.99973,1,1,.99973,1,1,.99955,1.0006,1.0006,1.0006,1.0006,1,1,1,.99973,.99973,.99972,1,1,1.00106,.99999,.99998,.99998,.99999,.99998,1.66475,1,.99973,.99973,1.00023,.99973,.99971,1.00047,1.00023,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1,1,1,1,1,1,1,.99972,1,1.20985,1.39713,1.00003,1.00031,1.00015,1,.99561,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.99972,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1];_e.HelveticaBoldFactors=ze;const xe={lineHeight:1.2,lineGap:.2};_e.HelveticaBoldMetrics=xe;const Ie=[.76116,1,1,1.0006,.99998,.99974,.99973,.99973,.99982,.99977,1.00087,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99998,1,1.00003,1.00003,1.00003,1.00026,.9999,.99977,.99977,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,.99973,.99977,1.00026,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,.99998,1.0006,.99998,1.00003,.99973,.99998,.99973,1.00026,.99973,1.00026,.99973,.99998,1.00026,1.00026,1.0006,1.0006,.99973,1.0006,.99982,1.00026,1.00026,1.00026,1.00026,.99959,.99973,.99998,1.00026,.99973,1.00022,.99973,.99973,1,.99959,1.00077,.99959,1.00003,.99998,.99973,.99973,.99973,.99973,1.00077,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.99973,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,.99977,.99977,.99977,.99977,.99977,.99977,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,.99973,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.06409,1.00026,1.00026,1.00026,1.00026,1.00026,.99973,1.00026,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,1.0044,.99977,1.00026,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,.99977,1.00026,.99977,1.00026,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99971,.99973,.99973,1.0006,.99977,.99973,.99973,1.00026,1.0006,1.00026,1.0006,1.00026,1.01011,1.00026,.99999,1.00026,1.0006,.99977,1.00026,.99977,1.00026,.99977,1.00026,.9993,.9998,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1,1.00016,.99977,.99959,.99977,.99959,.99977,.99959,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00026,.99998,1.00026,.8121,1.00026,.99998,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,1.00016,1.00022,1.00001,.99973,1.00001,1.00026,1,1.00026,1,1.00026,1,1.0006,.99973,.99977,.99973,1,.99982,1.00022,1.00026,1.00001,.99973,1.00026,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99977,1,1,1.00026,.99969,.99972,.99981,.9998,1.0006,.99977,.99977,1.00022,.91155,1.00001,1.00026,.99977,1.00022,1.0006,.99977,1.00001,.99999,.99977,.99966,1.00022,1.00032,1.00001,.99944,1.00026,1.00001,.99968,1.00001,1.00047,1,1.0006,1.00001,.99981,1.00101,1.00026,1.0006,.99948,.99981,1.00064,.99973,.99942,1.00101,1.00061,1.00026,1.00069,1.0006,1.00014,.99973,1.01322,.99973,1.00065,1.00026,1.00012,.99923,1,1.00064,1.00076,.99948,1.00055,1.00063,1.00007,.99943,1.0006,.99948,1.00026,.99948,.99943,1.00001,1.00001,1.00029,1.00038,1.00035,1.00001,1.0006,1.0006,.99973,.99978,1.00001,1.00057,.99989,.99967,.99964,.99967,.99977,.99999,.99977,1.00038,.99977,1.00001,.99973,1.00066,.99967,.99967,1.00041,.99998,.99999,.99977,1.00022,.99967,1.00001,.99977,1.00026,.99964,1.00031,1.00001,.99999,.99999,1,1.00023,1,1,.99999,1.00035,1.00001,.99999,.99973,.99977,.99999,1.00058,.99973,.99973,.99955,.9995,1.00026,1.00026,1.00032,.99989,1.00034,.99999,1.00026,1.00026,1.00026,.99973,.45998,.99973,1.00026,.99973,1.00001,.99999,.99982,.99994,.99996,1,1.00042,1.00044,1.00029,1.00023,.99973,.99973,1.00026,.99949,1.00002,.99973,1.0006,1.0006,1.0006,.99975,1.00026,1.00026,1.00032,.98685,.99973,1.00026,1,1,.99966,1.00044,1.00016,1.00022,1.00016,1.00022,1.00016,1.00022,1.00001,.99973,1,1,.99973,1,1,.99955,1.0006,1.0006,1.0006,1.0006,1,1,1,.99973,.99973,.99972,1,1,1.00106,.99999,.99998,.99998,.99999,.99998,1.66475,1,.99973,.99973,1,.99973,.99971,.99978,1,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1.00098,1,1,1,1.00049,1,1,.99972,1,1.20985,1.39713,1.00003,1.00031,1.00015,1,.99561,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.99972,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1];_e.HelveticaBoldItalicFactors=Ie;const Re={lineHeight:1.35,lineGap:.2};_e.HelveticaBoldItalicMetrics=Re;const e=[.76116,1,1,1.0006,1.0006,1.00006,.99973,.99973,.99982,1.00001,1.00043,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.0006,1,1.00003,1.00003,1.00003,.99973,.99987,1.00001,1.00001,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,1,1.00001,.99973,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,1.0006,1.0006,1.0006,.99949,.99973,.99998,.99973,.99973,1,.99973,.99973,1.0006,.99973,.99973,.99924,.99924,1,.99924,.99999,.99973,.99973,.99973,.99973,.99998,1,1.0006,.99973,1,.99977,1,1,1,1.00005,1.0009,1.00005,1.00003,.99998,.99973,.99973,.99973,.99973,1.0009,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.9998,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,1.00001,1.00001,1.00001,1.00001,1.00001,1.00001,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,1,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.06409,1.00026,.99973,.99973,.99973,.99973,1,.99973,1,1.00001,.99973,1.00001,.99973,1.00001,.99973,.99977,1,.99977,1,.99977,1,.99977,1,.99977,1.0288,.99977,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,.99977,.99973,.99977,.99973,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99924,1.0006,1.0006,.99946,1.00034,1,.99924,1.00001,1,1,.99973,.99924,.99973,.99924,.99973,1.06311,.99973,1.00024,.99973,.99924,.99977,.99973,.99977,.99973,.99977,.99973,1.00041,.9998,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1,1.00016,.99977,.99998,.99977,.99998,.99977,.99998,1.00001,1,1.00001,1,1.00001,1,1.00001,1,1.00026,1.0006,1.00026,.89547,1.00026,1.0006,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,1.00016,.99977,1.00001,1,1.00001,1.00026,1,1.00026,1,1.00026,1,.99924,.99973,1.00001,.99973,1,.99982,1.00022,1.00026,1.00001,1,1.00026,1.0006,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,1.00001,1,1.00054,.99977,1.00084,1.00007,.99973,1.00013,.99924,1.00001,1.00001,.99945,.91221,1.00001,1.00026,.99977,1.00022,1.0006,1.00001,1.00001,.99999,.99977,.99933,1.00022,1.00054,1.00001,1.00065,1.00026,1.00001,1.0001,1.00001,1.00052,1,1.0006,1.00001,.99945,.99897,.99968,.99924,1.00036,.99945,.99949,1,1.0006,.99897,.99918,.99968,.99911,.99924,1,.99962,1.01487,1,1.0005,.99973,1.00012,1.00043,1,.99995,.99994,1.00036,.99947,1.00019,1.00063,1.00025,.99924,1.00036,.99973,1.00036,1.00025,1.00001,1.00001,1.00027,1.0001,1.00068,1.00001,1.0006,1.0006,1,1.00008,.99957,.99972,.9994,.99954,.99975,1.00051,1.00001,1.00019,1.00001,1.0001,.99986,1.00001,1.00001,1.00038,.99954,.99954,.9994,1.00066,.99999,.99977,1.00022,1.00054,1.00001,.99977,1.00026,.99975,1.0001,1.00001,.99993,.9995,.99955,1.00016,.99978,.99974,1.00019,1.00022,.99955,1.00053,.99973,1.00089,1.00005,.99967,1.00048,.99973,1.00002,1.00034,.99973,.99973,.99964,1.00006,1.00066,.99947,.99973,.98894,.99973,1,.44898,1,.99946,1,1.00039,1.00082,.99991,.99991,.99985,1.00022,1.00023,1.00061,1.00006,.99966,.99973,.99973,.99973,1.00019,1.0008,1,.99924,.99924,.99924,.99983,1.00044,.99973,.99964,.98332,1,.99973,1,1,.99962,.99895,1.00016,.99977,1.00016,.99977,1.00016,.99977,1.00001,1,1,1,.99973,1,1,.99955,.99924,.99924,.99924,.99924,.99998,.99998,.99998,.99973,.99973,.99972,1,1,1.00267,.99999,.99998,.99998,1,.99998,1.66475,1,.99973,.99973,1.00023,.99973,1.00423,.99925,.99999,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1.00049,1,1.00245,1,1,1,1,.96329,1,1.20985,1.39713,1.00003,.8254,1.00015,1,1.00035,1.00027,1.00031,1.00031,1.00003,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.95317,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1];_e.HelveticaItalicFactors=e;const t={lineHeight:1.35,lineGap:.2};_e.HelveticaItalicMetrics=t;const Te=[.76116,1,1,1.0006,1.0006,1.00006,.99973,.99973,.99982,1.00001,1.00043,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.0006,1,1.00003,1.00003,1.00003,.99973,.99987,1.00001,1.00001,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,1,1.00001,.99973,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,1.0006,1.0006,1.0006,.99949,.99973,.99998,.99973,.99973,1,.99973,.99973,1.0006,.99973,.99973,.99924,.99924,1,.99924,.99999,.99973,.99973,.99973,.99973,.99998,1,1.0006,.99973,1,.99977,1,1,1,1.00005,1.0009,1.00005,1.00003,.99998,.99973,.99973,.99973,.99973,1.0009,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.9998,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,1.00001,1.00001,1.00001,1.00001,1.00001,1.00001,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,1,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.06409,1.00026,.99973,.99973,.99973,.99973,1,.99973,1,1.00001,.99973,1.00001,.99973,1.00001,.99973,.99977,1,.99977,1,.99977,1,.99977,1,.99977,1.04596,.99977,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,.99977,.99973,.99977,.99973,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99924,1.0006,1.0006,1.00019,1.00034,1,.99924,1.00001,1,1,.99973,.99924,.99973,.99924,.99973,1.02572,.99973,1.00005,.99973,.99924,.99977,.99973,.99977,.99973,.99977,.99973,.99999,.9998,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1,1.00016,.99977,.99998,.99977,.99998,.99977,.99998,1.00001,1,1.00001,1,1.00001,1,1.00001,1,1.00026,1.0006,1.00026,.84533,1.00026,1.0006,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,1.00016,.99977,1.00001,1,1.00001,1.00026,1,1.00026,1,1.00026,1,.99924,.99973,1.00001,.99973,1,.99982,1.00022,1.00026,1.00001,1,1.00026,1.0006,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99928,1,.99977,1.00013,1.00055,.99947,.99945,.99941,.99924,1.00001,1.00001,1.0004,.91621,1.00001,1.00026,.99977,1.00022,1.0006,1.00001,1.00005,.99999,.99977,1.00015,1.00022,.99977,1.00001,.99973,1.00026,1.00001,1.00019,1.00001,.99946,1,1.0006,1.00001,.99978,1.00045,.99973,.99924,1.00023,.99978,.99966,1,1.00065,1.00045,1.00019,.99973,.99973,.99924,1,1,.96499,1,1.00055,.99973,1.00008,1.00027,1,.9997,.99995,1.00023,.99933,1.00019,1.00015,1.00031,.99924,1.00023,.99973,1.00023,1.00031,1.00001,.99928,1.00029,1.00092,1.00035,1.00001,1.0006,1.0006,1,.99988,.99975,1,1.00082,.99561,.9996,1.00035,1.00001,.99962,1.00001,1.00092,.99964,1.00001,.99963,.99999,1.00035,1.00035,1.00082,.99962,.99999,.99977,1.00022,1.00035,1.00001,.99977,1.00026,.9996,.99967,1.00001,1.00034,1.00074,1.00054,1.00053,1.00063,.99971,.99962,1.00035,.99975,.99977,.99973,1.00043,.99953,1.0007,.99915,.99973,1.00008,.99892,1.00073,1.00073,1.00114,.99915,1.00073,.99955,.99973,1.00092,.99973,1,.99998,1,1.0003,1,1.00043,1.00001,.99969,1.0003,1,1.00035,1.00001,.9995,1,1.00092,.99973,.99973,.99973,1.0007,.9995,1,.99924,1.0006,.99924,.99972,1.00062,.99973,1.00114,1.00073,1,.99955,1,1,1.00047,.99968,1.00016,.99977,1.00016,.99977,1.00016,.99977,1.00001,1,1,1,.99973,1,1,.99955,.99924,.99924,.99924,.99924,.99998,.99998,.99998,.99973,.99973,.99972,1,1,1.00267,.99999,.99998,.99998,1,.99998,1.66475,1,.99973,.99973,1.00023,.99973,.99971,.99925,1.00023,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1,1,1,1,1,1,1,.96329,1,1.20985,1.39713,1.00003,.8254,1.00015,1,1.00035,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.95317,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];_e.HelveticaRegularFactors=Te;const Ye={lineHeight:1.2,lineGap:.2};_e.HelveticaRegularMetrics=Ye},(Ve,_e)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.LiberationSansRegularWidths=_e.LiberationSansRegularMapping=_e.LiberationSansItalicWidths=_e.LiberationSansItalicMapping=_e.LiberationSansBoldWidths=_e.LiberationSansBoldMapping=_e.LiberationSansBoldItalicWidths=_e.LiberationSansBoldItalicMapping=void 0;const ze=[365,0,333,278,333,474,556,556,889,722,238,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,333,333,584,584,584,611,975,722,722,722,722,667,611,778,722,278,556,722,611,833,722,778,667,778,722,667,611,722,667,944,667,667,611,333,278,333,584,556,333,556,611,556,611,556,333,611,611,278,278,556,278,889,611,611,611,611,389,556,333,611,556,778,556,556,500,389,280,389,584,333,556,556,556,556,280,556,333,737,370,556,584,737,552,400,549,333,333,333,576,556,278,333,333,365,556,834,834,834,611,722,722,722,722,722,722,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,556,556,556,556,556,278,278,278,278,611,611,611,611,611,611,611,549,611,611,611,611,611,556,611,556,722,556,722,556,722,556,722,556,722,556,722,556,722,556,722,719,722,611,667,556,667,556,667,556,667,556,667,556,778,611,778,611,778,611,778,611,722,611,722,611,278,278,278,278,278,278,278,278,278,278,785,556,556,278,722,556,556,611,278,611,278,611,385,611,479,611,278,722,611,722,611,722,611,708,723,611,778,611,778,611,778,611,1e3,944,722,389,722,389,722,389,667,556,667,556,667,556,667,556,611,333,611,479,611,333,722,611,722,611,722,611,722,611,722,611,722,611,944,778,667,556,667,611,500,611,500,611,500,278,556,722,556,1e3,889,778,611,667,556,611,333,333,333,333,333,333,333,333,333,333,333,465,722,333,853,906,474,825,927,838,278,722,722,601,719,667,611,722,778,278,722,667,833,722,644,778,722,667,600,611,667,821,667,809,802,278,667,615,451,611,278,582,615,610,556,606,475,460,611,541,278,558,556,612,556,445,611,766,619,520,684,446,582,715,576,753,845,278,582,611,582,845,667,669,885,567,711,667,278,276,556,1094,1062,875,610,722,622,719,722,719,722,567,712,667,904,626,719,719,610,702,833,722,778,719,667,722,611,622,854,667,730,703,1005,1019,870,979,719,711,1031,719,556,618,615,417,635,556,709,497,615,615,500,635,740,604,611,604,611,556,490,556,875,556,615,581,833,844,729,854,615,552,854,583,556,556,611,417,552,556,278,281,278,969,906,611,500,615,556,604,778,611,487,447,944,778,944,778,944,778,667,556,333,333,556,1e3,1e3,552,278,278,278,278,500,500,500,556,556,350,1e3,1e3,240,479,333,333,604,333,167,396,556,556,1094,556,885,489,1115,1e3,768,600,834,834,834,834,1e3,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,722,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,611,611,333,333,333,333,333,333,333,333,222,222,333,333,333,333,333,333,333,333];_e.LiberationSansBoldWidths=ze;const xe=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];_e.LiberationSansBoldMapping=xe;const Ie=[365,0,333,278,333,474,556,556,889,722,238,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,333,333,584,584,584,611,975,722,722,722,722,667,611,778,722,278,556,722,611,833,722,778,667,778,722,667,611,722,667,944,667,667,611,333,278,333,584,556,333,556,611,556,611,556,333,611,611,278,278,556,278,889,611,611,611,611,389,556,333,611,556,778,556,556,500,389,280,389,584,333,556,556,556,556,280,556,333,737,370,556,584,737,552,400,549,333,333,333,576,556,278,333,333,365,556,834,834,834,611,722,722,722,722,722,722,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,556,556,556,556,556,278,278,278,278,611,611,611,611,611,611,611,549,611,611,611,611,611,556,611,556,722,556,722,556,722,556,722,556,722,556,722,556,722,556,722,740,722,611,667,556,667,556,667,556,667,556,667,556,778,611,778,611,778,611,778,611,722,611,722,611,278,278,278,278,278,278,278,278,278,278,782,556,556,278,722,556,556,611,278,611,278,611,396,611,479,611,278,722,611,722,611,722,611,708,723,611,778,611,778,611,778,611,1e3,944,722,389,722,389,722,389,667,556,667,556,667,556,667,556,611,333,611,479,611,333,722,611,722,611,722,611,722,611,722,611,722,611,944,778,667,556,667,611,500,611,500,611,500,278,556,722,556,1e3,889,778,611,667,556,611,333,333,333,333,333,333,333,333,333,333,333,333,722,333,854,906,473,844,930,847,278,722,722,610,671,667,611,722,778,278,722,667,833,722,657,778,718,667,590,611,667,822,667,829,781,278,667,620,479,611,278,591,620,621,556,610,479,492,611,558,278,566,556,603,556,450,611,712,605,532,664,409,591,704,578,773,834,278,591,611,591,834,667,667,886,614,719,667,278,278,556,1094,1042,854,622,719,677,719,722,708,722,614,722,667,927,643,719,719,615,687,833,722,778,719,667,722,611,677,781,667,729,708,979,989,854,1e3,708,719,1042,729,556,619,604,534,618,556,736,510,611,611,507,622,740,604,611,611,611,556,889,556,885,556,646,583,889,935,707,854,594,552,865,589,556,556,611,469,563,556,278,278,278,969,906,611,507,619,556,611,778,611,575,467,944,778,944,778,944,778,667,556,333,333,556,1e3,1e3,552,278,278,278,278,500,500,500,556,556,350,1e3,1e3,240,479,333,333,604,333,167,396,556,556,1104,556,885,516,1146,1e3,768,600,834,834,834,834,999,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,722,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,611,611,333,333,333,333,333,333,333,333,222,222,333,333,333,333,333,333,333,333];_e.LiberationSansBoldItalicWidths=Ie;const Re=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];_e.LiberationSansBoldItalicMapping=Re;const e=[365,0,333,278,278,355,556,556,889,667,191,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,278,278,584,584,584,556,1015,667,667,722,722,667,611,778,722,278,500,667,556,833,722,778,667,778,722,667,611,722,667,944,667,667,611,278,278,278,469,556,333,556,556,500,556,556,278,556,556,222,222,500,222,833,556,556,556,556,333,500,278,556,500,722,500,500,500,334,260,334,584,333,556,556,556,556,260,556,333,737,370,556,584,737,552,400,549,333,333,333,576,537,278,333,333,365,556,834,834,834,611,667,667,667,667,667,667,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,500,556,556,556,556,278,278,278,278,556,556,556,556,556,556,556,549,611,556,556,556,556,500,556,500,667,556,667,556,667,556,722,500,722,500,722,500,722,500,722,625,722,556,667,556,667,556,667,556,667,556,667,556,778,556,778,556,778,556,778,556,722,556,722,556,278,278,278,278,278,278,278,222,278,278,733,444,500,222,667,500,500,556,222,556,222,556,281,556,400,556,222,722,556,722,556,722,556,615,723,556,778,556,778,556,778,556,1e3,944,722,333,722,333,722,333,667,500,667,500,667,500,667,500,611,278,611,354,611,278,722,556,722,556,722,556,722,556,722,556,722,556,944,722,667,500,667,611,500,611,500,611,500,222,556,667,556,1e3,889,778,611,667,500,611,278,333,333,333,333,333,333,333,333,333,333,333,667,278,789,846,389,794,865,775,222,667,667,570,671,667,611,722,778,278,667,667,833,722,648,778,725,667,600,611,667,837,667,831,761,278,667,570,439,555,222,550,570,571,500,556,439,463,555,542,222,500,492,548,500,447,556,670,573,486,603,374,550,652,546,728,779,222,550,556,550,779,667,667,843,544,708,667,278,278,500,1066,982,844,589,715,639,724,667,651,667,544,704,667,917,614,715,715,589,686,833,722,778,725,667,722,611,639,795,667,727,673,920,923,805,886,651,694,1022,682,556,562,522,493,553,556,688,465,556,556,472,564,686,550,556,556,556,500,833,500,835,500,572,518,830,851,621,736,526,492,752,534,556,556,556,378,496,500,222,222,222,910,828,556,472,565,500,556,778,556,492,339,944,722,944,722,944,722,667,500,333,333,556,1e3,1e3,552,222,222,222,222,333,333,333,556,556,350,1e3,1e3,188,354,333,333,500,333,167,365,556,556,1094,556,885,323,1083,1e3,768,600,834,834,834,834,1e3,500,998,500,1e3,500,500,494,612,823,713,584,549,713,979,719,274,549,549,584,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,500,500,333,333,333,333,333,333,333,333,222,222,294,294,324,324,316,328,398,285];_e.LiberationSansItalicWidths=e;const t=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];_e.LiberationSansItalicMapping=t;const Te=[365,0,333,278,278,355,556,556,889,667,191,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,278,278,584,584,584,556,1015,667,667,722,722,667,611,778,722,278,500,667,556,833,722,778,667,778,722,667,611,722,667,944,667,667,611,278,278,278,469,556,333,556,556,500,556,556,278,556,556,222,222,500,222,833,556,556,556,556,333,500,278,556,500,722,500,500,500,334,260,334,584,333,556,556,556,556,260,556,333,737,370,556,584,737,552,400,549,333,333,333,576,537,278,333,333,365,556,834,834,834,611,667,667,667,667,667,667,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,500,556,556,556,556,278,278,278,278,556,556,556,556,556,556,556,549,611,556,556,556,556,500,556,500,667,556,667,556,667,556,722,500,722,500,722,500,722,500,722,615,722,556,667,556,667,556,667,556,667,556,667,556,778,556,778,556,778,556,778,556,722,556,722,556,278,278,278,278,278,278,278,222,278,278,735,444,500,222,667,500,500,556,222,556,222,556,292,556,334,556,222,722,556,722,556,722,556,604,723,556,778,556,778,556,778,556,1e3,944,722,333,722,333,722,333,667,500,667,500,667,500,667,500,611,278,611,375,611,278,722,556,722,556,722,556,722,556,722,556,722,556,944,722,667,500,667,611,500,611,500,611,500,222,556,667,556,1e3,889,778,611,667,500,611,278,333,333,333,333,333,333,333,333,333,333,333,667,278,784,838,384,774,855,752,222,667,667,551,668,667,611,722,778,278,667,668,833,722,650,778,722,667,618,611,667,798,667,835,748,278,667,578,446,556,222,547,578,575,500,557,446,441,556,556,222,500,500,576,500,448,556,690,569,482,617,395,547,648,525,713,781,222,547,556,547,781,667,667,865,542,719,667,278,278,500,1057,1010,854,583,722,635,719,667,656,667,542,677,667,923,604,719,719,583,656,833,722,778,719,667,722,611,635,760,667,740,667,917,938,792,885,656,719,1010,722,556,573,531,365,583,556,669,458,559,559,438,583,688,552,556,542,556,500,458,500,823,500,573,521,802,823,625,719,521,510,750,542,556,556,556,365,510,500,222,278,222,906,812,556,438,559,500,552,778,556,489,411,944,722,944,722,944,722,667,500,333,333,556,1e3,1e3,552,222,222,222,222,333,333,333,556,556,350,1e3,1e3,188,354,333,333,500,333,167,365,556,556,1094,556,885,323,1073,1e3,768,600,834,834,834,834,1e3,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,719,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,500,500,333,333,333,333,333,333,333,333,222,222,294,294,324,324,316,328,398,285];_e.LiberationSansRegularWidths=Te;const Ye=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];_e.LiberationSansRegularMapping=Ye},(Ve,_e)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.MyriadProRegularMetrics=_e.MyriadProRegularFactors=_e.MyriadProItalicMetrics=_e.MyriadProItalicFactors=_e.MyriadProBoldMetrics=_e.MyriadProBoldItalicMetrics=_e.MyriadProBoldItalicFactors=_e.MyriadProBoldFactors=void 0;const ze=[1.36898,1,1,.72706,.80479,.83734,.98894,.99793,.9897,.93884,.86209,.94292,.94292,1.16661,1.02058,.93582,.96694,.93582,1.19137,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.78076,.78076,1.02058,1.02058,1.02058,.72851,.78966,.90838,.83637,.82391,.96376,.80061,.86275,.8768,.95407,1.0258,.73901,.85022,.83655,1.0156,.95546,.92179,.87107,.92179,.82114,.8096,.89713,.94438,.95353,.94083,.91905,.90406,.9446,.94292,1.18777,.94292,1.02058,.89903,.90088,.94938,.97898,.81093,.97571,.94938,1.024,.9577,.95933,.98621,1.0474,.97455,.98981,.9672,.95933,.9446,.97898,.97407,.97646,.78036,1.10208,.95442,.95298,.97579,.9332,.94039,.938,.80687,1.01149,.80687,1.02058,.80479,.99793,.99793,.99793,.99793,1.01149,1.00872,.90088,.91882,1.0213,.8361,1.02058,.62295,.54324,.89022,1.08595,1,1,.90088,1,.97455,.93582,.90088,1,1.05686,.8361,.99642,.99642,.99642,.72851,.90838,.90838,.90838,.90838,.90838,.90838,.868,.82391,.80061,.80061,.80061,.80061,1.0258,1.0258,1.0258,1.0258,.97484,.95546,.92179,.92179,.92179,.92179,.92179,1.02058,.92179,.94438,.94438,.94438,.94438,.90406,.86958,.98225,.94938,.94938,.94938,.94938,.94938,.94938,.9031,.81093,.94938,.94938,.94938,.94938,.98621,.98621,.98621,.98621,.93969,.95933,.9446,.9446,.9446,.9446,.9446,1.08595,.9446,.95442,.95442,.95442,.95442,.94039,.97898,.94039,.90838,.94938,.90838,.94938,.90838,.94938,.82391,.81093,.82391,.81093,.82391,.81093,.82391,.81093,.96376,.84313,.97484,.97571,.80061,.94938,.80061,.94938,.80061,.94938,.80061,.94938,.80061,.94938,.8768,.9577,.8768,.9577,.8768,.9577,1,1,.95407,.95933,.97069,.95933,1.0258,.98621,1.0258,.98621,1.0258,.98621,1.0258,.98621,1.0258,.98621,.887,1.01591,.73901,1.0474,1,1,.97455,.83655,.98981,1,1,.83655,.73977,.83655,.73903,.84638,1.033,.95546,.95933,1,1,.95546,.95933,.8271,.95417,.95933,.92179,.9446,.92179,.9446,.92179,.9446,.936,.91964,.82114,.97646,1,1,.82114,.97646,.8096,.78036,.8096,.78036,1,1,.8096,.78036,1,1,.89713,.77452,.89713,1.10208,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94083,.97579,.90406,.94039,.90406,.9446,.938,.9446,.938,.9446,.938,1,.99793,.90838,.94938,.868,.9031,.92179,.9446,1,1,.89713,1.10208,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90989,.9358,.91945,.83181,.75261,.87992,.82976,.96034,.83689,.97268,1.0078,.90838,.83637,.8019,.90157,.80061,.9446,.95407,.92436,1.0258,.85022,.97153,1.0156,.95546,.89192,.92179,.92361,.87107,.96318,.89713,.93704,.95638,.91905,.91709,.92796,1.0258,.93704,.94836,1.0373,.95933,1.0078,.95871,.94836,.96174,.92601,.9498,.98607,.95776,.95933,1.05453,1.0078,.98275,.9314,.95617,.91701,1.05993,.9446,.78367,.9553,1,.86832,1.0128,.95871,.99394,.87548,.96361,.86774,1.0078,.95871,.9446,.95871,.86774,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.94083,.97579,.94083,.97579,.94083,.97579,.90406,.94039,.96694,1,.89903,1,1,1,.93582,.93582,.93582,1,.908,.908,.918,.94219,.94219,.96544,1,1.285,1,1,.81079,.81079,1,1,.74854,1,1,1,1,.99793,1,1,1,.65,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.17173,1,.80535,.76169,1.02058,1.0732,1.05486,1,1,1.30692,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.16161,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];_e.MyriadProBoldFactors=ze;const xe={lineHeight:1.2,lineGap:.2};_e.MyriadProBoldMetrics=xe;const Ie=[1.36898,1,1,.66227,.80779,.81625,.97276,.97276,.97733,.92222,.83266,.94292,.94292,1.16148,1.02058,.93582,.96694,.93582,1.17337,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.78076,.78076,1.02058,1.02058,1.02058,.71541,.76813,.85576,.80591,.80729,.94299,.77512,.83655,.86523,.92222,.98621,.71743,.81698,.79726,.98558,.92222,.90637,.83809,.90637,.80729,.76463,.86275,.90699,.91605,.9154,.85308,.85458,.90531,.94292,1.21296,.94292,1.02058,.89903,1.18616,.99613,.91677,.78216,.91677,.90083,.98796,.9135,.92168,.95381,.98981,.95298,.95381,.93459,.92168,.91513,.92004,.91677,.95077,.748,1.04502,.91677,.92061,.94236,.89544,.89364,.9,.80687,.8578,.80687,1.02058,.80779,.97276,.97276,.97276,.97276,.8578,.99973,1.18616,.91339,1.08074,.82891,1.02058,.55509,.71526,.89022,1.08595,1,1,1.18616,1,.96736,.93582,1.18616,1,1.04864,.82711,.99043,.99043,.99043,.71541,.85576,.85576,.85576,.85576,.85576,.85576,.845,.80729,.77512,.77512,.77512,.77512,.98621,.98621,.98621,.98621,.95961,.92222,.90637,.90637,.90637,.90637,.90637,1.02058,.90251,.90699,.90699,.90699,.90699,.85458,.83659,.94951,.99613,.99613,.99613,.99613,.99613,.99613,.85811,.78216,.90083,.90083,.90083,.90083,.95381,.95381,.95381,.95381,.9135,.92168,.91513,.91513,.91513,.91513,.91513,1.08595,.91677,.91677,.91677,.91677,.91677,.89364,.92332,.89364,.85576,.99613,.85576,.99613,.85576,.99613,.80729,.78216,.80729,.78216,.80729,.78216,.80729,.78216,.94299,.76783,.95961,.91677,.77512,.90083,.77512,.90083,.77512,.90083,.77512,.90083,.77512,.90083,.86523,.9135,.86523,.9135,.86523,.9135,1,1,.92222,.92168,.92222,.92168,.98621,.95381,.98621,.95381,.98621,.95381,.98621,.95381,.98621,.95381,.86036,.97096,.71743,.98981,1,1,.95298,.79726,.95381,1,1,.79726,.6894,.79726,.74321,.81691,1.0006,.92222,.92168,1,1,.92222,.92168,.79464,.92098,.92168,.90637,.91513,.90637,.91513,.90637,.91513,.909,.87514,.80729,.95077,1,1,.80729,.95077,.76463,.748,.76463,.748,1,1,.76463,.748,1,1,.86275,.72651,.86275,1.04502,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.9154,.94236,.85458,.89364,.85458,.90531,.9,.90531,.9,.90531,.9,1,.97276,.85576,.99613,.845,.85811,.90251,.91677,1,1,.86275,1.04502,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.00899,1.30628,.85576,.80178,.66862,.7927,.69323,.88127,.72459,.89711,.95381,.85576,.80591,.7805,.94729,.77512,.90531,.92222,.90637,.98621,.81698,.92655,.98558,.92222,.85359,.90637,.90976,.83809,.94523,.86275,.83509,.93157,.85308,.83392,.92346,.98621,.83509,.92886,.91324,.92168,.95381,.90646,.92886,.90557,.86847,.90276,.91324,.86842,.92168,.99531,.95381,.9224,.85408,.92699,.86847,1.0051,.91513,.80487,.93481,1,.88159,1.05214,.90646,.97355,.81539,.89398,.85923,.95381,.90646,.91513,.90646,.85923,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.9154,.94236,.9154,.94236,.9154,.94236,.85458,.89364,.96694,1,.89903,1,1,1,.91782,.91782,.91782,1,.896,.896,.896,.9332,.9332,.95973,1,1.26,1,1,.80479,.80178,1,1,.85633,1,1,1,1,.97276,1,1,1,.698,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.14542,1,.79199,.78694,1.02058,1.03493,1.05486,1,1,1.23026,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.20006,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];_e.MyriadProBoldItalicFactors=Ie;const Re={lineHeight:1.2,lineGap:.2};_e.MyriadProBoldItalicMetrics=Re;const e=[1.36898,1,1,.65507,.84943,.85639,.88465,.88465,.86936,.88307,.86948,.85283,.85283,1.06383,1.02058,.75945,.9219,.75945,1.17337,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.75945,.75945,1.02058,1.02058,1.02058,.69046,.70926,.85158,.77812,.76852,.89591,.70466,.76125,.80094,.86822,.83864,.728,.77212,.79475,.93637,.87514,.8588,.76013,.8588,.72421,.69866,.77598,.85991,.80811,.87832,.78112,.77512,.8562,1.0222,1.18417,1.0222,1.27014,.89903,1.15012,.93859,.94399,.846,.94399,.81453,1.0186,.94219,.96017,1.03075,1.02175,.912,1.03075,.96998,.96017,.93859,.94399,.94399,.95493,.746,1.12658,.94578,.91,.979,.882,.882,.83,.85034,.83537,.85034,1.02058,.70869,.88465,.88465,.88465,.88465,.83537,.90083,1.15012,.9161,.94565,.73541,1.02058,.53609,.69353,.79519,1.08595,1,1,1.15012,1,.91974,.75945,1.15012,1,.9446,.73361,.9005,.9005,.9005,.62864,.85158,.85158,.85158,.85158,.85158,.85158,.773,.76852,.70466,.70466,.70466,.70466,.83864,.83864,.83864,.83864,.90561,.87514,.8588,.8588,.8588,.8588,.8588,1.02058,.85751,.85991,.85991,.85991,.85991,.77512,.76013,.88075,.93859,.93859,.93859,.93859,.93859,.93859,.8075,.846,.81453,.81453,.81453,.81453,.82424,.82424,.82424,.82424,.9278,.96017,.93859,.93859,.93859,.93859,.93859,1.08595,.8562,.94578,.94578,.94578,.94578,.882,.94578,.882,.85158,.93859,.85158,.93859,.85158,.93859,.76852,.846,.76852,.846,.76852,.846,.76852,.846,.89591,.8544,.90561,.94399,.70466,.81453,.70466,.81453,.70466,.81453,.70466,.81453,.70466,.81453,.80094,.94219,.80094,.94219,.80094,.94219,1,1,.86822,.96017,.86822,.96017,.83864,.82424,.83864,.82424,.83864,.82424,.83864,1.03075,.83864,.82424,.81402,1.02738,.728,1.02175,1,1,.912,.79475,1.03075,1,1,.79475,.83911,.79475,.66266,.80553,1.06676,.87514,.96017,1,1,.87514,.96017,.86865,.87396,.96017,.8588,.93859,.8588,.93859,.8588,.93859,.867,.84759,.72421,.95493,1,1,.72421,.95493,.69866,.746,.69866,.746,1,1,.69866,.746,1,1,.77598,.88417,.77598,1.12658,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.87832,.979,.77512,.882,.77512,.8562,.83,.8562,.83,.8562,.83,1,.88465,.85158,.93859,.773,.8075,.85751,.8562,1,1,.77598,1.12658,1.15012,1.15012,1.15012,1.15012,1.15012,1.15313,1.15012,1.15012,1.15012,1.08106,1.03901,.85158,.77025,.62264,.7646,.65351,.86026,.69461,.89947,1.03075,.85158,.77812,.76449,.88836,.70466,.8562,.86822,.8588,.83864,.77212,.85308,.93637,.87514,.82352,.8588,.85701,.76013,.89058,.77598,.8156,.82565,.78112,.77899,.89386,.83864,.8156,.9486,.92388,.96186,1.03075,.91123,.9486,.93298,.878,.93942,.92388,.84596,.96186,.95119,1.03075,.922,.88787,.95829,.88,.93559,.93859,.78815,.93758,1,.89217,1.03737,.91123,.93969,.77487,.85769,.86799,1.03075,.91123,.93859,.91123,.86799,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.87832,.979,.87832,.979,.87832,.979,.77512,.882,.9219,1,.89903,1,1,1,.87321,.87321,.87321,1,1.027,1.027,1.027,.86847,.86847,.79121,1,1.124,1,1,.73572,.73572,1,1,.85034,1,1,1,1,.88465,1,1,1,.669,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.04828,1,.74948,.75187,1.02058,.98391,1.02119,1,1,1.06233,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.05233,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];_e.MyriadProItalicFactors=e;const t={lineHeight:1.2,lineGap:.2};_e.MyriadProItalicMetrics=t;const Te=[1.36898,1,1,.76305,.82784,.94935,.89364,.92241,.89073,.90706,.98472,.85283,.85283,1.0664,1.02058,.74505,.9219,.74505,1.23456,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.74505,.74505,1.02058,1.02058,1.02058,.73002,.72601,.91755,.8126,.80314,.92222,.73764,.79726,.83051,.90284,.86023,.74,.8126,.84869,.96518,.91115,.8858,.79761,.8858,.74498,.73914,.81363,.89591,.83659,.89633,.85608,.8111,.90531,1.0222,1.22736,1.0222,1.27014,.89903,.90088,.86667,1.0231,.896,1.01411,.90083,1.05099,1.00512,.99793,1.05326,1.09377,.938,1.06226,1.00119,.99793,.98714,1.0231,1.01231,.98196,.792,1.19137,.99074,.962,1.01915,.926,.942,.856,.85034,.92006,.85034,1.02058,.69067,.92241,.92241,.92241,.92241,.92006,.9332,.90088,.91882,.93484,.75339,1.02058,.56866,.54324,.79519,1.08595,1,1,.90088,1,.95325,.74505,.90088,1,.97198,.75339,.91009,.91009,.91009,.66466,.91755,.91755,.91755,.91755,.91755,.91755,.788,.80314,.73764,.73764,.73764,.73764,.86023,.86023,.86023,.86023,.92915,.91115,.8858,.8858,.8858,.8858,.8858,1.02058,.8858,.89591,.89591,.89591,.89591,.8111,.79611,.89713,.86667,.86667,.86667,.86667,.86667,.86667,.86936,.896,.90083,.90083,.90083,.90083,.84224,.84224,.84224,.84224,.97276,.99793,.98714,.98714,.98714,.98714,.98714,1.08595,.89876,.99074,.99074,.99074,.99074,.942,1.0231,.942,.91755,.86667,.91755,.86667,.91755,.86667,.80314,.896,.80314,.896,.80314,.896,.80314,.896,.92222,.93372,.92915,1.01411,.73764,.90083,.73764,.90083,.73764,.90083,.73764,.90083,.73764,.90083,.83051,1.00512,.83051,1.00512,.83051,1.00512,1,1,.90284,.99793,.90976,.99793,.86023,.84224,.86023,.84224,.86023,.84224,.86023,1.05326,.86023,.84224,.82873,1.07469,.74,1.09377,1,1,.938,.84869,1.06226,1,1,.84869,.83704,.84869,.81441,.85588,1.08927,.91115,.99793,1,1,.91115,.99793,.91887,.90991,.99793,.8858,.98714,.8858,.98714,.8858,.98714,.894,.91434,.74498,.98196,1,1,.74498,.98196,.73914,.792,.73914,.792,1,1,.73914,.792,1,1,.81363,.904,.81363,1.19137,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89633,1.01915,.8111,.942,.8111,.90531,.856,.90531,.856,.90531,.856,1,.92241,.91755,.86667,.788,.86936,.8858,.89876,1,1,.81363,1.19137,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90388,1.03901,.92138,.78105,.7154,.86169,.80513,.94007,.82528,.98612,1.06226,.91755,.8126,.81884,.92819,.73764,.90531,.90284,.8858,.86023,.8126,.91172,.96518,.91115,.83089,.8858,.87791,.79761,.89297,.81363,.88157,.89992,.85608,.81992,.94307,.86023,.88157,.95308,.98699,.99793,1.06226,.95817,.95308,.97358,.928,.98088,.98699,.92761,.99793,.96017,1.06226,.986,.944,.95978,.938,.96705,.98714,.80442,.98972,1,.89762,1.04552,.95817,.99007,.87064,.91879,.88888,1.06226,.95817,.98714,.95817,.88888,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.89633,1.01915,.89633,1.01915,.89633,1.01915,.8111,.942,.9219,1,.89903,1,1,1,.93173,.93173,.93173,1,1.06304,1.06304,1.06904,.89903,.89903,.80549,1,1.156,1,1,.76575,.76575,1,1,.72458,1,1,1,1,.92241,1,1,1,.619,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.07257,1,.74705,.71119,1.02058,1.024,1.02119,1,1,1.1536,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.05638,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];_e.MyriadProRegularFactors=Te;const Ye={lineHeight:1.2,lineGap:.2};_e.MyriadProRegularMetrics=Ye},(Ve,_e)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.SegoeuiRegularMetrics=_e.SegoeuiRegularFactors=_e.SegoeuiItalicMetrics=_e.SegoeuiItalicFactors=_e.SegoeuiBoldMetrics=_e.SegoeuiBoldItalicMetrics=_e.SegoeuiBoldItalicFactors=_e.SegoeuiBoldFactors=void 0;const ze=[1.76738,1,1,.99297,.9824,1.04016,1.06497,1.03424,.97529,1.17647,1.23203,1.1085,1.1085,1.16939,1.2107,.9754,1.21408,.9754,1.59578,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,.81378,.81378,1.2107,1.2107,1.2107,.71703,.97847,.97363,.88776,.8641,1.02096,.79795,.85132,.914,1.06085,1.1406,.8007,.89858,.83693,1.14889,1.09398,.97489,.92094,.97489,.90399,.84041,.95923,1.00135,1,1.06467,.98243,.90996,.99361,1.1085,1.56942,1.1085,1.2107,.74627,.94282,.96752,1.01519,.86304,1.01359,.97278,1.15103,1.01359,.98561,1.02285,1.02285,1.00527,1.02285,1.0302,.99041,1.0008,1.01519,1.01359,1.02258,.79104,1.16862,.99041,.97454,1.02511,.99298,.96752,.95801,.94856,1.16579,.94856,1.2107,.9824,1.03424,1.03424,1,1.03424,1.16579,.8727,1.3871,1.18622,1.10818,1.04478,1.2107,1.18622,.75155,.94994,1.28826,1.21408,1.21408,.91056,1,.91572,.9754,.64663,1.18328,1.24866,1.04478,1.14169,1.15749,1.17389,.71703,.97363,.97363,.97363,.97363,.97363,.97363,.93506,.8641,.79795,.79795,.79795,.79795,1.1406,1.1406,1.1406,1.1406,1.02096,1.09398,.97426,.97426,.97426,.97426,.97426,1.2107,.97489,1.00135,1.00135,1.00135,1.00135,.90996,.92094,1.02798,.96752,.96752,.96752,.96752,.96752,.96752,.93136,.86304,.97278,.97278,.97278,.97278,1.02285,1.02285,1.02285,1.02285,.97122,.99041,1,1,1,1,1,1.28826,1.0008,.99041,.99041,.99041,.99041,.96752,1.01519,.96752,.97363,.96752,.97363,.96752,.97363,.96752,.8641,.86304,.8641,.86304,.8641,.86304,.8641,.86304,1.02096,1.03057,1.02096,1.03517,.79795,.97278,.79795,.97278,.79795,.97278,.79795,.97278,.79795,.97278,.914,1.01359,.914,1.01359,.914,1.01359,1,1,1.06085,.98561,1.06085,1.00879,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,.97138,1.08692,.8007,1.02285,1,1,1.00527,.83693,1.02285,1,1,.83693,.9455,.83693,.90418,.83693,1.13005,1.09398,.99041,1,1,1.09398,.99041,.96692,1.09251,.99041,.97489,1.0008,.97489,1.0008,.97489,1.0008,.93994,.97931,.90399,1.02258,1,1,.90399,1.02258,.84041,.79104,.84041,.79104,.84041,.79104,.84041,.79104,1,1,.95923,1.07034,.95923,1.16862,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.06467,1.02511,.90996,.96752,.90996,.99361,.95801,.99361,.95801,.99361,.95801,1.07733,1.03424,.97363,.96752,.93506,.93136,.97489,1.0008,1,1,.95923,1.16862,1.15103,1.15103,1.01173,1.03959,.75953,.81378,.79912,1.15103,1.21994,.95161,.87815,1.01149,.81525,.7676,.98167,1.01134,1.02546,.84097,1.03089,1.18102,.97363,.88776,.85134,.97826,.79795,.99361,1.06085,.97489,1.1406,.89858,1.0388,1.14889,1.09398,.86039,.97489,1.0595,.92094,.94793,.95923,.90996,.99346,.98243,1.02112,.95493,1.1406,.90996,1.03574,1.02597,1.0008,1.18102,1.06628,1.03574,1.0192,1.01932,1.00886,.97531,1.0106,1.0008,1.13189,1.18102,1.02277,.98683,1.0016,.99561,1.07237,1.0008,.90434,.99921,.93803,.8965,1.23085,1.06628,1.04983,.96268,1.0499,.98439,1.18102,1.06628,1.0008,1.06628,.98439,.79795,1,1,1,1,1,1,1,1,1,1,1,1,1.09466,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.97278,1,1,1,1,1,1,1,1,1,1,1,1,1.02065,1,1,1,1,1,1,1.06467,1.02511,1.06467,1.02511,1.06467,1.02511,.90996,.96752,1,1.21408,.89903,1,1,.75155,1.04394,1.04394,1.04394,1.04394,.98633,.98633,.98633,.73047,.73047,1.20642,.91211,1.25635,1.222,1.02956,1.03372,1.03372,.96039,1.24633,1,1.12454,.93503,1.03424,1.19687,1.03424,1,1,1,.771,1,1,1.15749,1.15749,1.15749,1.10948,.86279,.94434,.86279,.94434,.86182,1,1,1.16897,1,.96085,.90137,1.2107,1.18416,1.13973,.69825,.9716,2.10339,1.29004,1.29004,1.21172,1.29004,1.29004,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18874,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.09193,1.09193,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];_e.SegoeuiBoldFactors=ze;const xe={lineHeight:1.33008,lineGap:0};_e.SegoeuiBoldMetrics=xe;const Ie=[1.76738,1,1,.98946,1.03959,1.04016,1.02809,1.036,.97639,1.10953,1.23203,1.11144,1.11144,1.16939,1.21237,.9754,1.21261,.9754,1.59754,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,.81378,.81378,1.21237,1.21237,1.21237,.73541,.97847,.97363,.89723,.87897,1.0426,.79429,.85292,.91149,1.05815,1.1406,.79631,.90128,.83853,1.04396,1.10615,.97552,.94436,.97552,.88641,.80527,.96083,1.00135,1,1.06777,.9817,.91142,.99361,1.11144,1.57293,1.11144,1.21237,.74627,1.31818,1.06585,.97042,.83055,.97042,.93503,1.1261,.97042,.97922,1.14236,.94552,1.01054,1.14236,1.02471,.97922,.94165,.97042,.97042,1.0276,.78929,1.1261,.97922,.95874,1.02197,.98507,.96752,.97168,.95107,1.16579,.95107,1.21237,1.03959,1.036,1.036,1,1.036,1.16579,.87357,1.31818,1.18754,1.26781,1.05356,1.21237,1.18622,.79487,.94994,1.29004,1.24047,1.24047,1.31818,1,.91484,.9754,1.31818,1.1349,1.24866,1.05356,1.13934,1.15574,1.17389,.73541,.97363,.97363,.97363,.97363,.97363,.97363,.94385,.87897,.79429,.79429,.79429,.79429,1.1406,1.1406,1.1406,1.1406,1.0426,1.10615,.97552,.97552,.97552,.97552,.97552,1.21237,.97552,1.00135,1.00135,1.00135,1.00135,.91142,.94436,.98721,1.06585,1.06585,1.06585,1.06585,1.06585,1.06585,.96705,.83055,.93503,.93503,.93503,.93503,1.14236,1.14236,1.14236,1.14236,.93125,.97922,.94165,.94165,.94165,.94165,.94165,1.29004,.94165,.97922,.97922,.97922,.97922,.96752,.97042,.96752,.97363,1.06585,.97363,1.06585,.97363,1.06585,.87897,.83055,.87897,.83055,.87897,.83055,.87897,.83055,1.0426,1.0033,1.0426,.97042,.79429,.93503,.79429,.93503,.79429,.93503,.79429,.93503,.79429,.93503,.91149,.97042,.91149,.97042,.91149,.97042,1,1,1.05815,.97922,1.05815,.97922,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,.97441,1.04302,.79631,1.01582,1,1,1.01054,.83853,1.14236,1,1,.83853,1.09125,.83853,.90418,.83853,1.19508,1.10615,.97922,1,1,1.10615,.97922,1.01034,1.10466,.97922,.97552,.94165,.97552,.94165,.97552,.94165,.91602,.91981,.88641,1.0276,1,1,.88641,1.0276,.80527,.78929,.80527,.78929,.80527,.78929,.80527,.78929,1,1,.96083,1.05403,.95923,1.16862,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.06777,1.02197,.91142,.96752,.91142,.99361,.97168,.99361,.97168,.99361,.97168,1.23199,1.036,.97363,1.06585,.94385,.96705,.97552,.94165,1,1,.96083,1.1261,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,.95161,1.27126,1.00811,.83284,.77702,.99137,.95253,1.0347,.86142,1.07205,1.14236,.97363,.89723,.86869,1.09818,.79429,.99361,1.05815,.97552,1.1406,.90128,1.06662,1.04396,1.10615,.84918,.97552,1.04694,.94436,.98015,.96083,.91142,1.00356,.9817,1.01945,.98999,1.1406,.91142,1.04961,.9898,1.00639,1.14236,1.07514,1.04961,.99607,1.02897,1.008,.9898,.95134,1.00639,1.11121,1.14236,1.00518,.97981,1.02186,1,1.08578,.94165,.99314,.98387,.93028,.93377,1.35125,1.07514,1.10687,.93491,1.04232,1.00351,1.14236,1.07514,.94165,1.07514,1.00351,.79429,1,1,1,1,1,1,1,1,1,1,1,1,1.09097,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.93503,1,1,1,1,1,1,1,1,1,1,1,1,.96609,1,1,1,1,1,1,1.06777,1.02197,1.06777,1.02197,1.06777,1.02197,.91142,.96752,1,1.21261,.89903,1,1,.75155,1.04745,1.04745,1.04745,1.04394,.98633,.98633,.98633,.72959,.72959,1.20502,.91406,1.26514,1.222,1.02956,1.03372,1.03372,.96039,1.24633,1,1.09125,.93327,1.03336,1.16541,1.036,1,1,1,.771,1,1,1.15574,1.15574,1.15574,1.15574,.86364,.94434,.86279,.94434,.86224,1,1,1.16798,1,.96085,.90068,1.21237,1.18416,1.13904,.69825,.9716,2.10339,1.29004,1.29004,1.21339,1.29004,1.29004,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18775,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.13269,1.13269,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];_e.SegoeuiBoldItalicFactors=Ie;const Re={lineHeight:1.33008,lineGap:0};_e.SegoeuiBoldItalicMetrics=Re;const e=[1.76738,1,1,.98946,1.14763,1.05365,1.06234,.96927,.92586,1.15373,1.18414,.91349,.91349,1.07403,1.17308,.78383,1.20088,.78383,1.42531,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.78383,.78383,1.17308,1.17308,1.17308,.77349,.94565,.94729,.85944,.88506,.9858,.74817,.80016,.88449,.98039,.95782,.69238,.89898,.83231,.98183,1.03989,.96924,.86237,.96924,.80595,.74524,.86091,.95402,.94143,.98448,.8858,.83089,.93285,1.0949,1.39016,1.0949,1.45994,.74627,1.04839,.97454,.97454,.87207,.97454,.87533,1.06151,.97454,1.00176,1.16484,1.08132,.98047,1.16484,1.02989,1.01054,.96225,.97454,.97454,1.06598,.79004,1.16344,1.00351,.94629,.9973,.91016,.96777,.9043,.91082,.92481,.91082,1.17308,.95748,.96927,.96927,1,.96927,.92481,.80597,1.04839,1.23393,1.1781,.9245,1.17308,1.20808,.63218,.94261,1.24822,1.09971,1.09971,1.04839,1,.85273,.78032,1.04839,1.09971,1.22326,.9245,1.09836,1.13525,1.15222,.70424,.94729,.94729,.94729,.94729,.94729,.94729,.85498,.88506,.74817,.74817,.74817,.74817,.95782,.95782,.95782,.95782,.9858,1.03989,.96924,.96924,.96924,.96924,.96924,1.17308,.96924,.95402,.95402,.95402,.95402,.83089,.86237,.88409,.97454,.97454,.97454,.97454,.97454,.97454,.92916,.87207,.87533,.87533,.87533,.87533,.93146,.93146,.93146,.93146,.93854,1.01054,.96225,.96225,.96225,.96225,.96225,1.24822,.8761,1.00351,1.00351,1.00351,1.00351,.96777,.97454,.96777,.94729,.97454,.94729,.97454,.94729,.97454,.88506,.87207,.88506,.87207,.88506,.87207,.88506,.87207,.9858,.95391,.9858,.97454,.74817,.87533,.74817,.87533,.74817,.87533,.74817,.87533,.74817,.87533,.88449,.97454,.88449,.97454,.88449,.97454,1,1,.98039,1.00176,.98039,1.00176,.95782,.93146,.95782,.93146,.95782,.93146,.95782,1.16484,.95782,.93146,.84421,1.12761,.69238,1.08132,1,1,.98047,.83231,1.16484,1,1,.84723,1.04861,.84723,.78755,.83231,1.23736,1.03989,1.01054,1,1,1.03989,1.01054,.9857,1.03849,1.01054,.96924,.96225,.96924,.96225,.96924,.96225,.92383,.90171,.80595,1.06598,1,1,.80595,1.06598,.74524,.79004,.74524,.79004,.74524,.79004,.74524,.79004,1,1,.86091,1.02759,.85771,1.16344,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.98448,.9973,.83089,.96777,.83089,.93285,.9043,.93285,.9043,.93285,.9043,1.31868,.96927,.94729,.97454,.85498,.92916,.96924,.8761,1,1,.86091,1.16344,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,.81965,.81965,.94729,.78032,.71022,.90883,.84171,.99877,.77596,1.05734,1.2,.94729,.85944,.82791,.9607,.74817,.93285,.98039,.96924,.95782,.89898,.98316,.98183,1.03989,.78614,.96924,.97642,.86237,.86075,.86091,.83089,.90082,.8858,.97296,1.01284,.95782,.83089,1.0976,1.04,1.03342,1.2,1.0675,1.0976,.98205,1.03809,1.05097,1.04,.95364,1.03342,1.05401,1.2,1.02148,1.0119,1.04724,1.0127,1.02732,.96225,.8965,.97783,.93574,.94818,1.30679,1.0675,1.11826,.99821,1.0557,1.0326,1.2,1.0675,.96225,1.0675,1.0326,.74817,1,1,1,1,1,1,1,1,1,1,1,1,1.03754,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.87533,1,1,1,1,1,1,1,1,1,1,1,1,.98705,1,1,1,1,1,1,.98448,.9973,.98448,.9973,.98448,.9973,.83089,.96777,1,1.20088,.89903,1,1,.75155,.94945,.94945,.94945,.94945,1.12317,1.12317,1.12317,.67603,.67603,1.15621,.73584,1.21191,1.22135,1.06483,.94868,.94868,.95996,1.24633,1,1.07497,.87709,.96927,1.01473,.96927,1,1,1,.77295,1,1,1.09836,1.09836,1.09836,1.01522,.86321,.94434,.8649,.94434,.86182,1,1,1.083,1,.91578,.86438,1.17308,1.18416,1.14589,.69825,.97622,1.96791,1.24822,1.24822,1.17308,1.24822,1.24822,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.17984,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.10742,1.10742,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];_e.SegoeuiItalicFactors=e;const t={lineHeight:1.33008,lineGap:0};_e.SegoeuiItalicMetrics=t;const Te=[1.76738,1,1,.98594,1.02285,1.10454,1.06234,.96927,.92037,1.19985,1.2046,.90616,.90616,1.07152,1.1714,.78032,1.20088,.78032,1.40246,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.78032,.78032,1.1714,1.1714,1.1714,.80597,.94084,.96706,.85944,.85734,.97093,.75842,.79936,.88198,.9831,.95782,.71387,.86969,.84636,1.07796,1.03584,.96924,.83968,.96924,.82826,.79649,.85771,.95132,.93119,.98965,.88433,.8287,.93365,1.08612,1.3638,1.08612,1.45786,.74627,.80499,.91484,1.05707,.92383,1.05882,.9403,1.12654,1.05882,1.01756,1.09011,1.09011,.99414,1.09011,1.034,1.01756,1.05356,1.05707,1.05882,1.04399,.84863,1.21968,1.01756,.95801,1.00068,.91797,.96777,.9043,.90351,.92105,.90351,1.1714,.85337,.96927,.96927,.99912,.96927,.92105,.80597,1.2434,1.20808,1.05937,.90957,1.1714,1.20808,.75155,.94261,1.24644,1.09971,1.09971,.84751,1,.85273,.78032,.61584,1.05425,1.17914,.90957,1.08665,1.11593,1.14169,.73381,.96706,.96706,.96706,.96706,.96706,.96706,.86035,.85734,.75842,.75842,.75842,.75842,.95782,.95782,.95782,.95782,.97093,1.03584,.96924,.96924,.96924,.96924,.96924,1.1714,.96924,.95132,.95132,.95132,.95132,.8287,.83968,.89049,.91484,.91484,.91484,.91484,.91484,.91484,.93575,.92383,.9403,.9403,.9403,.9403,.8717,.8717,.8717,.8717,1.00527,1.01756,1.05356,1.05356,1.05356,1.05356,1.05356,1.24644,.95923,1.01756,1.01756,1.01756,1.01756,.96777,1.05707,.96777,.96706,.91484,.96706,.91484,.96706,.91484,.85734,.92383,.85734,.92383,.85734,.92383,.85734,.92383,.97093,1.0969,.97093,1.05882,.75842,.9403,.75842,.9403,.75842,.9403,.75842,.9403,.75842,.9403,.88198,1.05882,.88198,1.05882,.88198,1.05882,1,1,.9831,1.01756,.9831,1.01756,.95782,.8717,.95782,.8717,.95782,.8717,.95782,1.09011,.95782,.8717,.84784,1.11551,.71387,1.09011,1,1,.99414,.84636,1.09011,1,1,.84636,1.0536,.84636,.94298,.84636,1.23297,1.03584,1.01756,1,1,1.03584,1.01756,1.00323,1.03444,1.01756,.96924,1.05356,.96924,1.05356,.96924,1.05356,.93066,.98293,.82826,1.04399,1,1,.82826,1.04399,.79649,.84863,.79649,.84863,.79649,.84863,.79649,.84863,1,1,.85771,1.17318,.85771,1.21968,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.98965,1.00068,.8287,.96777,.8287,.93365,.9043,.93365,.9043,.93365,.9043,1.08571,.96927,.96706,.91484,.86035,.93575,.96924,.95923,1,1,.85771,1.21968,1.11437,1.11437,.93109,.91202,.60411,.84164,.55572,1.01173,.97361,.81818,.81818,.96635,.78032,.72727,.92366,.98601,1.03405,.77968,1.09799,1.2,.96706,.85944,.85638,.96491,.75842,.93365,.9831,.96924,.95782,.86969,.94152,1.07796,1.03584,.78437,.96924,.98715,.83968,.83491,.85771,.8287,.94492,.88433,.9287,1.0098,.95782,.8287,1.0625,.98248,1.03424,1.2,1.01071,1.0625,.95246,1.03809,1.04912,.98248,1.00221,1.03424,1.05443,1.2,1.04785,.99609,1.00169,1.05176,.99346,1.05356,.9087,1.03004,.95542,.93117,1.23362,1.01071,1.07831,1.02512,1.05205,1.03502,1.2,1.01071,1.05356,1.01071,1.03502,.75842,1,1,1,1,1,1,1,1,1,1,1,1,1.03719,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.9403,1,1,1,1,1,1,1,1,1,1,1,1,1.04021,1,1,1,1,1,1,.98965,1.00068,.98965,1.00068,.98965,1.00068,.8287,.96777,1,1.20088,.89903,1,1,.75155,1.03077,1.03077,1.03077,1.03077,1.13196,1.13196,1.13196,.67428,.67428,1.16039,.73291,1.20996,1.22135,1.06483,.94868,.94868,.95996,1.24633,1,1.07497,.87796,.96927,1.01518,.96927,1,1,1,.77295,1,1,1.10539,1.10539,1.11358,1.06967,.86279,.94434,.86279,.94434,.86182,1,1,1.083,1,.91578,.86507,1.1714,1.18416,1.14589,.69825,.97622,1.9697,1.24822,1.24822,1.17238,1.24822,1.24822,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18083,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.10938,1.10938,1,1,1,1.05425,1.09971,1.09971,1.09971,1,1,1,1,1,1,1,1,1,1,1];_e.SegoeuiRegularFactors=Te;const Ye={lineHeight:1.33008,lineGap:0};_e.SegoeuiRegularMetrics=Ye},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.PostScriptEvaluator=_e.PostScriptCompiler=_e.PDFFunctionFactory=void 0,_e.isPDFFunction=je;var xe=ze(4),Ie=ze(2),Re=ze(58),e=ze(5),t=ze(59);class Te{constructor({xref:Me,isEvalSupported:De=!0}){this.xref=Me,this.isEvalSupported=De!==!1}create(Me){const De=this.getCached(Me);if(De)return De;const Ue=en.parse({xref:this.xref,isEvalSupported:this.isEvalSupported,fn:Me instanceof xe.Ref?this.xref.fetch(Me):Me});return this._cache(Me,Ue),Ue}createFromArray(Me){const De=this.getCached(Me);if(De)return De;const Ue=en.parseArray({xref:this.xref,isEvalSupported:this.isEvalSupported,fnObj:Me instanceof xe.Ref?this.xref.fetch(Me):Me});return this._cache(Me,Ue),Ue}getCached(Me){let De;if(Me instanceof xe.Ref?De=Me:Me instanceof xe.Dict?De=Me.objId:Me instanceof e.BaseStream&&(De=Me.dict?.objId),De){const Ue=this._localFunctionCache.getByRef(De);if(Ue)return Ue}return null}_cache(Me,De){if(!De)throw new Error('PDFFunctionFactory._cache - expected "parsedFunction" argument.');let Ue;Me instanceof xe.Ref?Ue=Me:Me instanceof xe.Dict?Ue=Me.objId:Me instanceof e.BaseStream&&(Ue=Me.dict?.objId),Ue&&this._localFunctionCache.set(null,Ue,De)}get _localFunctionCache(){return(0,Ie.shadow)(this,"_localFunctionCache",new t.LocalFunctionCache)}}_e.PDFFunctionFactory=Te;function Ye(tn){if(!Array.isArray(tn))return null;const Me=tn.length;for(let De=0;De<Me;De++)if(typeof tn[De]!="number"){const Ue=new Array(Me);for(let We=0;We<Me;We++)Ue[We]=+tn[We];return Ue}return tn}class en{static getSampleArray(Me,De,Ue,We){let $e,on,Je=1;for($e=0,on=Me.length;$e<on;$e++)Je*=Me[$e];Je*=De;const an=new Array(Je);let Ke=0,sn=0;const gn=1/(2**Ue-1),mn=We.getBytes((Je*Ue+7)/8);let yn=0;for($e=0;$e<Je;$e++){for(;Ke<Ue;)sn<<=8,sn|=mn[yn++],Ke+=8;Ke-=Ue,an[$e]=(sn>>Ke)*gn,sn&=(1<<Ke)-1}return an}static parse({xref:Me,isEvalSupported:De,fn:Ue}){const We=Ue.dict||Ue;switch(We.get("FunctionType")){case 0:return this.constructSampled({xref:Me,isEvalSupported:De,fn:Ue,dict:We});case 1:break;case 2:return this.constructInterpolated({xref:Me,isEvalSupported:De,dict:We});case 3:return this.constructStiched({xref:Me,isEvalSupported:De,dict:We});case 4:return this.constructPostScript({xref:Me,isEvalSupported:De,fn:Ue,dict:We})}throw new Ie.FormatError("Unknown type of function")}static parseArray({xref:Me,isEvalSupported:De,fnObj:Ue}){if(!Array.isArray(Ue))return this.parse({xref:Me,isEvalSupported:De,fn:Ue});const We=[];for(const $e of Ue)We.push(this.parse({xref:Me,isEvalSupported:De,fn:Me.fetchIfRef($e)}));return function($e,on,Je,an){for(let Ke=0,sn=We.length;Ke<sn;Ke++)We[Ke]($e,on,Je,an+Ke)}}static constructSampled({xref:Me,isEvalSupported:De,fn:Ue,dict:We}){function $e(Nn){const Tn=Nn.length,Cn=[];let In=0;for(let Rn=0;Rn<Tn;Rn+=2)Cn[In++]=[Nn[Rn],Nn[Rn+1]];return Cn}function on(Nn,Tn,Cn,In,Rn){return In+(Nn-Tn)*((Rn-In)/(Cn-Tn))}let Je=Ye(We.getArray("Domain")),an=Ye(We.getArray("Range"));if(!Je||!an)throw new Ie.FormatError("No domain or range");const Ke=Je.length/2,sn=an.length/2;Je=$e(Je),an=$e(an);const gn=Ye(We.getArray("Size")),mn=We.get("BitsPerSample"),yn=We.get("Order")||1;yn!==1&&(0,Ie.info)("No support for cubic spline interpolation: "+yn);let Sn=Ye(We.getArray("Encode"));if(Sn)Sn=$e(Sn);else{Sn=[];for(let Nn=0;Nn<Ke;++Nn)Sn.push([0,gn[Nn]-1])}let _n=Ye(We.getArray("Decode"));_n=_n?$e(_n):an;const wn=this.getSampleArray(gn,sn,mn,Ue);return function(Tn,Cn,In,Rn){const bn=1<<Ke,kn=new Float64Array(bn),En=new Uint32Array(bn);let On,Mn;for(Mn=0;Mn<bn;Mn++)kn[Mn]=1;let Bn=sn,Hn=1;for(On=0;On<Ke;++On){const $n=Je[On][0],Un=Je[On][1],qn=Math.min(Math.max(Tn[Cn+On],$n),Un);let jn=on(qn,$n,Un,Sn[On][0],Sn[On][1]);const Xn=gn[On];jn=Math.min(Math.max(jn,0),Xn-1);const Gn=jn<Xn-1?Math.floor(jn):jn-1,ri=Gn+1-jn,ui=jn-Gn,ti=Gn*Bn,Yn=ti+Bn;for(Mn=0;Mn<bn;Mn++)Mn&Hn?(kn[Mn]*=ui,En[Mn]+=Yn):(kn[Mn]*=ri,En[Mn]+=ti);Bn*=Xn,Hn<<=1}for(Mn=0;Mn<sn;++Mn){let $n=0;for(On=0;On<bn;On++)$n+=wn[En[On]+Mn]*kn[On];$n=on($n,0,1,_n[Mn][0],_n[Mn][1]),In[Rn+Mn]=Math.min(Math.max($n,an[Mn][0]),an[Mn][1])}}}static constructInterpolated({xref:Me,isEvalSupported:De,dict:Ue}){const We=Ye(Ue.getArray("C0"))||[0],$e=Ye(Ue.getArray("C1"))||[1],on=Ue.get("N"),Je=[];for(let Ke=0,sn=We.length;Ke<sn;++Ke)Je.push($e[Ke]-We[Ke]);const an=Je.length;return function(sn,gn,mn,yn){const Sn=on===1?sn[gn]:sn[gn]**on;for(let _n=0;_n<an;++_n)mn[yn+_n]=We[_n]+Sn*Je[_n]}}static constructStiched({xref:Me,isEvalSupported:De,dict:Ue}){const We=Ye(Ue.getArray("Domain"));if(!We)throw new Ie.FormatError("No domain");if(We.length/2!==1)throw new Ie.FormatError("Bad domain for stiched function");const on=[];for(const sn of Ue.get("Functions"))on.push(this.parse({xref:Me,isEvalSupported:De,fn:Me.fetchIfRef(sn)}));const Je=Ye(Ue.getArray("Bounds")),an=Ye(Ue.getArray("Encode")),Ke=new Float32Array(1);return function(gn,mn,yn,Sn){const wn=function(En,On,Mn){return En>Mn?En=Mn:En<On&&(En=On),En}(gn[mn],We[0],We[1]),Nn=Je.length;let Tn;for(Tn=0;Tn<Nn&&!(wn<Je[Tn]);++Tn);let Cn=We[0];Tn>0&&(Cn=Je[Tn-1]);let In=We[1];Tn<Je.length&&(In=Je[Tn]);const Rn=an[2*Tn],bn=an[2*Tn+1];Ke[0]=Cn===In?Rn:Rn+(wn-Cn)*(bn-Rn)/(In-Cn),on[Tn](Ke,0,yn,Sn)}}static constructPostScript({xref:Me,isEvalSupported:De,fn:Ue,dict:We}){const $e=Ye(We.getArray("Domain")),on=Ye(We.getArray("Range"));if(!$e)throw new Ie.FormatError("No domain.");if(!on)throw new Ie.FormatError("No range.");const Je=new Re.PostScriptLexer(Ue),Ke=new Re.PostScriptParser(Je).parse();if(De&&Ie.FeatureTest.isEvalSupported){const Nn=new qe().compile(Ke,$e,on);if(Nn)return new Function("src","srcOffset","dest","destOffset",Nn)}(0,Ie.info)("Unable to compile PS function");const sn=on.length>>1,gn=$e.length>>1,mn=new Ge(Ke),yn=Object.create(null);let _n=2048*4;const wn=new Float32Array(gn);return function(Tn,Cn,In,Rn){let bn,kn,En="";const On=wn;for(bn=0;bn<gn;bn++)kn=Tn[Cn+bn],On[bn]=kn,En+=kn+"_";const Mn=yn[En];if(Mn!==void 0){In.set(Mn,Rn);return}const Bn=new Float32Array(sn),Hn=mn.execute(On),$n=Hn.length-sn;for(bn=0;bn<sn;bn++){kn=Hn[$n+bn];let Un=on[bn*2];kn<Un?kn=Un:(Un=on[bn*2+1],kn>Un&&(kn=Un)),Bn[bn]=kn}_n>0&&(_n--,yn[En]=Bn),In.set(Bn,Rn)}}}function je(tn){let Me;if(tn instanceof xe.Dict)Me=tn;else if(tn instanceof e.BaseStream)Me=tn.dict;else return!1;return Me.has("FunctionType")}class nn{static MAX_STACK_SIZE=100;constructor(Me){this.stack=Me?Array.from(Me):[]}push(Me){if(this.stack.length>=nn.MAX_STACK_SIZE)throw new Error("PostScript function stack overflow.");this.stack.push(Me)}pop(){if(this.stack.length<=0)throw new Error("PostScript function stack underflow.");return this.stack.pop()}copy(Me){if(this.stack.length+Me>=nn.MAX_STACK_SIZE)throw new Error("PostScript function stack overflow.");const De=this.stack;for(let Ue=De.length-Me,We=Me-1;We>=0;We--,Ue++)De.push(De[Ue])}index(Me){this.push(this.stack[this.stack.length-Me-1])}roll(Me,De){const Ue=this.stack,We=Ue.length-Me,$e=Ue.length-1,on=We+(De-Math.floor(De/Me)*Me);for(let Je=We,an=$e;Je<an;Je++,an--){const Ke=Ue[Je];Ue[Je]=Ue[an],Ue[an]=Ke}for(let Je=We,an=on-1;Je<an;Je++,an--){const Ke=Ue[Je];Ue[Je]=Ue[an],Ue[an]=Ke}for(let Je=on,an=$e;Je<an;Je++,an--){const Ke=Ue[Je];Ue[Je]=Ue[an],Ue[an]=Ke}}}class Ge{constructor(Me){this.operators=Me}execute(Me){const De=new nn(Me);let Ue=0;const We=this.operators,$e=We.length;let on,Je,an;for(;Ue<$e;){if(on=We[Ue++],typeof on=="number"){De.push(on);continue}switch(on){case"jz":an=De.pop(),Je=De.pop(),Je||(Ue=an);break;case"j":Je=De.pop(),Ue=Je;break;case"abs":Je=De.pop(),De.push(Math.abs(Je));break;case"add":an=De.pop(),Je=De.pop(),De.push(Je+an);break;case"and":an=De.pop(),Je=De.pop(),typeof Je=="boolean"&&typeof an=="boolean"?De.push(Je&&an):De.push(Je&an);break;case"atan":an=De.pop(),Je=De.pop(),Je=Math.atan2(Je,an)/Math.PI*180,Je<0&&(Je+=360),De.push(Je);break;case"bitshift":an=De.pop(),Je=De.pop(),Je>0?De.push(Je<<an):De.push(Je>>an);break;case"ceiling":Je=De.pop(),De.push(Math.ceil(Je));break;case"copy":Je=De.pop(),De.copy(Je);break;case"cos":Je=De.pop(),De.push(Math.cos(Je%360/180*Math.PI));break;case"cvi":Je=De.pop()|0,De.push(Je);break;case"cvr":break;case"div":an=De.pop(),Je=De.pop(),De.push(Je/an);break;case"dup":De.copy(1);break;case"eq":an=De.pop(),Je=De.pop(),De.push(Je===an);break;case"exch":De.roll(2,1);break;case"exp":an=De.pop(),Je=De.pop(),De.push(Je**an);break;case"false":De.push(!1);break;case"floor":Je=De.pop(),De.push(Math.floor(Je));break;case"ge":an=De.pop(),Je=De.pop(),De.push(Je>=an);break;case"gt":an=De.pop(),Je=De.pop(),De.push(Je>an);break;case"idiv":an=De.pop(),Je=De.pop(),De.push(Je/an|0);break;case"index":Je=De.pop(),De.index(Je);break;case"le":an=De.pop(),Je=De.pop(),De.push(Je<=an);break;case"ln":Je=De.pop(),De.push(Math.log(Je));break;case"log":Je=De.pop(),De.push(Math.log10(Je));break;case"lt":an=De.pop(),Je=De.pop(),De.push(Je<an);break;case"mod":an=De.pop(),Je=De.pop(),De.push(Je%an);break;case"mul":an=De.pop(),Je=De.pop(),De.push(Je*an);break;case"ne":an=De.pop(),Je=De.pop(),De.push(Je!==an);break;case"neg":Je=De.pop(),De.push(-Je);break;case"not":Je=De.pop(),typeof Je=="boolean"?De.push(!Je):De.push(~Je);break;case"or":an=De.pop(),Je=De.pop(),typeof Je=="boolean"&&typeof an=="boolean"?De.push(Je||an):De.push(Je|an);break;case"pop":De.pop();break;case"roll":an=De.pop(),Je=De.pop(),De.roll(Je,an);break;case"round":Je=De.pop(),De.push(Math.round(Je));break;case"sin":Je=De.pop(),De.push(Math.sin(Je%360/180*Math.PI));break;case"sqrt":Je=De.pop(),De.push(Math.sqrt(Je));break;case"sub":an=De.pop(),Je=De.pop(),De.push(Je-an);break;case"true":De.push(!0);break;case"truncate":Je=De.pop(),Je=Je<0?Math.ceil(Je):Math.floor(Je),De.push(Je);break;case"xor":an=De.pop(),Je=De.pop(),typeof Je=="boolean"&&typeof an=="boolean"?De.push(Je!==an):De.push(Je^an);break;default:throw new Ie.FormatError(`Unknown operator ${on}`)}}return De.stack}}_e.PostScriptEvaluator=Ge;class Oe{constructor(Me){this.type=Me}visit(Me){(0,Ie.unreachable)("abstract method")}}class Ce extends Oe{constructor(Me,De,Ue){super("args"),this.index=Me,this.min=De,this.max=Ue}visit(Me){Me.visitArgument(this)}}class St extends Oe{constructor(Me){super("literal"),this.number=Me,this.min=Me,this.max=Me}visit(Me){Me.visitLiteral(this)}}class rn extends Oe{constructor(Me,De,Ue,We,$e){super("binary"),this.op=Me,this.arg1=De,this.arg2=Ue,this.min=We,this.max=$e}visit(Me){Me.visitBinaryOperation(this)}}class un extends Oe{constructor(Me,De){super("max"),this.arg=Me,this.min=Me.min,this.max=De}visit(Me){Me.visitMin(this)}}class Qe extends Oe{constructor(Me,De,Ue){super("var"),this.index=Me,this.min=De,this.max=Ue}visit(Me){Me.visitVariable(this)}}class hn extends Oe{constructor(Me,De){super("definition"),this.variable=Me,this.arg=De}visit(Me){Me.visitVariableDefinition(this)}}class He{constructor(){this.parts=[]}visitArgument(Me){this.parts.push("Math.max(",Me.min,", Math.min(",Me.max,", src[srcOffset + ",Me.index,"]))")}visitVariable(Me){this.parts.push("v",Me.index)}visitLiteral(Me){this.parts.push(Me.number)}visitBinaryOperation(Me){this.parts.push("("),Me.arg1.visit(this),this.parts.push(" ",Me.op," "),Me.arg2.visit(this),this.parts.push(")")}visitVariableDefinition(Me){this.parts.push("var "),Me.variable.visit(this),this.parts.push(" = "),Me.arg.visit(this),this.parts.push(";")}visitMin(Me){this.parts.push("Math.min("),Me.arg.visit(this),this.parts.push(", ",Me.max,")")}toString(){return this.parts.join("")}}function pn(tn,Me){return Me.type==="literal"&&Me.number===0?tn:tn.type==="literal"&&tn.number===0?Me:Me.type==="literal"&&tn.type==="literal"?new St(tn.number+Me.number):new rn("+",tn,Me,tn.min+Me.min,tn.max+Me.max)}function Xe(tn,Me){if(Me.type==="literal"){if(Me.number===0)return new St(0);if(Me.number===1)return tn;if(tn.type==="literal")return new St(tn.number*Me.number)}if(tn.type==="literal"){if(tn.number===0)return new St(0);if(tn.number===1)return Me}const De=Math.min(tn.min*Me.min,tn.min*Me.max,tn.max*Me.min,tn.max*Me.max),Ue=Math.max(tn.min*Me.min,tn.min*Me.max,tn.max*Me.min,tn.max*Me.max);return new rn("*",tn,Me,De,Ue)}function fn(tn,Me){if(Me.type==="literal"){if(Me.number===0)return tn;if(tn.type==="literal")return new St(tn.number-Me.number)}return Me.type==="binary"&&Me.op==="-"&&tn.type==="literal"&&tn.number===1&&Me.arg1.type==="literal"&&Me.arg1.number===1?Me.arg2:new rn("-",tn,Me,tn.min-Me.max,tn.max-Me.min)}function dn(tn,Me){return tn.min>=Me?new St(Me):tn.max<=Me?tn:new un(tn,Me)}class qe{compile(Me,De,Ue){const We=[],$e=[],on=De.length>>1,Je=Ue.length>>1;let an=0,Ke,sn,gn,mn,yn,Sn,_n,wn;for(let Tn=0;Tn<on;Tn++)We.push(new Ce(Tn,De[Tn*2],De[Tn*2+1]));for(let Tn=0,Cn=Me.length;Tn<Cn;Tn++){if(wn=Me[Tn],typeof wn=="number"){We.push(new St(wn));continue}switch(wn){case"add":if(We.length<2)return null;mn=We.pop(),gn=We.pop(),We.push(pn(gn,mn));break;case"cvr":if(We.length<1)return null;break;case"mul":if(We.length<2)return null;mn=We.pop(),gn=We.pop(),We.push(Xe(gn,mn));break;case"sub":if(We.length<2)return null;mn=We.pop(),gn=We.pop(),We.push(fn(gn,mn));break;case"exch":if(We.length<2)return null;yn=We.pop(),Sn=We.pop(),We.push(yn,Sn);break;case"pop":if(We.length<1)return null;We.pop();break;case"index":if(We.length<1||(gn=We.pop(),gn.type!=="literal")||(Ke=gn.number,Ke<0||!Number.isInteger(Ke)||We.length<Ke))return null;if(yn=We[We.length-Ke-1],yn.type==="literal"||yn.type==="var"){We.push(yn);break}_n=new Qe(an++,yn.min,yn.max),We[We.length-Ke-1]=_n,We.push(_n),$e.push(new hn(_n,yn));break;case"dup":if(We.length<1)return null;if(typeof Me[Tn+1]=="number"&&Me[Tn+2]==="gt"&&Me[Tn+3]===Tn+7&&Me[Tn+4]==="jz"&&Me[Tn+5]==="pop"&&Me[Tn+6]===Me[Tn+1]){gn=We.pop(),We.push(dn(gn,Me[Tn+1])),Tn+=6;break}if(yn=We.at(-1),yn.type==="literal"||yn.type==="var"){We.push(yn);break}_n=new Qe(an++,yn.min,yn.max),We[We.length-1]=_n,We.push(_n),$e.push(new hn(_n,yn));break;case"roll":if(We.length<2||(mn=We.pop(),gn=We.pop(),mn.type!=="literal"||gn.type!=="literal")||(sn=mn.number,Ke=gn.number,Ke<=0||!Number.isInteger(Ke)||!Number.isInteger(sn)||We.length<Ke))return null;if(sn=(sn%Ke+Ke)%Ke,sn===0)break;We.push(...We.splice(We.length-Ke,Ke-sn));break;default:return null}}if(We.length!==Je)return null;const Nn=[];for(const Tn of $e){const Cn=new He;Tn.visit(Cn),Nn.push(Cn.toString())}for(let Tn=0,Cn=We.length;Tn<Cn;Tn++){const In=We[Tn],Rn=new He;In.visit(Rn);const bn=Ue[Tn*2],kn=Ue[Tn*2+1],En=[Rn.toString()];bn>In.min&&(En.unshift("Math.max(",bn,", "),En.push(")")),kn<In.max&&(En.unshift("Math.min(",kn,", "),En.push(")")),En.unshift("dest[destOffset + ",Tn,"] = "),En.push(";"),Nn.push(En.join(""))}return Nn.join(`
`)}}_e.PostScriptCompiler=qe},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.PostScriptParser=_e.PostScriptLexer=void 0;var xe=ze(2),Ie=ze(4),Re=ze(3);class e{constructor(je){this.lexer=je,this.operators=[],this.token=null,this.prev=null}nextToken(){this.prev=this.token,this.token=this.lexer.getToken()}accept(je){return this.token.type===je?(this.nextToken(),!0):!1}expect(je){if(this.accept(je))return!0;throw new xe.FormatError(`Unexpected symbol: found ${this.token.type} expected ${je}.`)}parse(){return this.nextToken(),this.expect(t.LBRACE),this.parseBlock(),this.expect(t.RBRACE),this.operators}parseBlock(){for(;;)if(this.accept(t.NUMBER))this.operators.push(this.prev.value);else if(this.accept(t.OPERATOR))this.operators.push(this.prev.value);else if(this.accept(t.LBRACE))this.parseCondition();else return}parseCondition(){const je=this.operators.length;if(this.operators.push(null,null),this.parseBlock(),this.expect(t.RBRACE),this.accept(t.IF))this.operators[je]=this.operators.length,this.operators[je+1]="jz";else if(this.accept(t.LBRACE)){const nn=this.operators.length;this.operators.push(null,null);const Ge=this.operators.length;this.parseBlock(),this.expect(t.RBRACE),this.expect(t.IFELSE),this.operators[nn]=this.operators.length,this.operators[nn+1]="j",this.operators[je]=Ge,this.operators[je+1]="jz"}else throw new xe.FormatError("PS Function: error parsing conditional.")}}_e.PostScriptParser=e;const t={LBRACE:0,RBRACE:1,NUMBER:2,OPERATOR:3,IF:4,IFELSE:5};class Te{static get opCache(){return(0,xe.shadow)(this,"opCache",Object.create(null))}constructor(je,nn){this.type=je,this.value=nn}static getOperator(je){return Te.opCache[je]||=new Te(t.OPERATOR,je)}static get LBRACE(){return(0,xe.shadow)(this,"LBRACE",new Te(t.LBRACE,"{"))}static get RBRACE(){return(0,xe.shadow)(this,"RBRACE",new Te(t.RBRACE,"}"))}static get IF(){return(0,xe.shadow)(this,"IF",new Te(t.IF,"IF"))}static get IFELSE(){return(0,xe.shadow)(this,"IFELSE",new Te(t.IFELSE,"IFELSE"))}}class Ye{constructor(je){this.stream=je,this.nextChar(),this.strBuf=[]}nextChar(){return this.currentChar=this.stream.getByte()}getToken(){let je=!1,nn=this.currentChar;for(;;){if(nn<0)return Ie.EOF;if(je)(nn===10||nn===13)&&(je=!1);else if(nn===37)je=!0;else if(!(0,Re.isWhiteSpace)(nn))break;nn=this.nextChar()}switch(nn|0){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return new Te(t.NUMBER,this.getNumber());case 123:return this.nextChar(),Te.LBRACE;case 125:return this.nextChar(),Te.RBRACE}const Ge=this.strBuf;for(Ge.length=0,Ge[0]=String.fromCharCode(nn);(nn=this.nextChar())>=0&&(nn>=65&&nn<=90||nn>=97&&nn<=122);)Ge.push(String.fromCharCode(nn));const Oe=Ge.join("");switch(Oe.toLowerCase()){case"if":return Te.IF;case"ifelse":return Te.IFELSE;default:return Te.getOperator(Oe)}}getNumber(){let je=this.currentChar;const nn=this.strBuf;for(nn.length=0,nn[0]=String.fromCharCode(je);(je=this.nextChar())>=0&&(je>=48&&je<=57||je===45||je===46);)nn.push(String.fromCharCode(je));const Ge=parseFloat(nn.join(""));if(isNaN(Ge))throw new xe.FormatError(`Invalid floating point number: ${Ge}`);return Ge}}_e.PostScriptLexer=Ye},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.RegionalImageCache=_e.LocalTilingPatternCache=_e.LocalImageCache=_e.LocalGStateCache=_e.LocalFunctionCache=_e.LocalColorSpaceCache=_e.GlobalImageCache=void 0;var xe=ze(2),Ie=ze(4);class Re{constructor(Oe){this.constructor===Re&&(0,xe.unreachable)("Cannot initialize BaseLocalCache."),this._onlyRefs=Oe?.onlyRefs===!0,this._onlyRefs||(this._nameRefMap=new Map,this._imageMap=new Map),this._imageCache=new Ie.RefSetCache}getByName(Oe){this._onlyRefs&&(0,xe.unreachable)("Should not call `getByName` method.");const Ce=this._nameRefMap.get(Oe);return Ce?this.getByRef(Ce):this._imageMap.get(Oe)||null}getByRef(Oe){return this._imageCache.get(Oe)||null}set(Oe,Ce,St){(0,xe.unreachable)("Abstract method `set` called.")}}class e extends Re{set(Oe,Ce=null,St){if(typeof Oe!="string")throw new Error('LocalImageCache.set - expected "name" argument.');if(Ce){if(this._imageCache.has(Ce))return;this._nameRefMap.set(Oe,Ce),this._imageCache.put(Ce,St);return}this._imageMap.has(Oe)||this._imageMap.set(Oe,St)}}_e.LocalImageCache=e;class t extends Re{set(Oe=null,Ce=null,St){if(typeof Oe!="string"&&!Ce)throw new Error('LocalColorSpaceCache.set - expected "name" and/or "ref" argument.');if(Ce){if(this._imageCache.has(Ce))return;Oe!==null&&this._nameRefMap.set(Oe,Ce),this._imageCache.put(Ce,St);return}this._imageMap.has(Oe)||this._imageMap.set(Oe,St)}}_e.LocalColorSpaceCache=t;class Te extends Re{constructor(Oe){super({onlyRefs:!0})}set(Oe=null,Ce,St){if(!Ce)throw new Error('LocalFunctionCache.set - expected "ref" argument.');this._imageCache.has(Ce)||this._imageCache.put(Ce,St)}}_e.LocalFunctionCache=Te;class Ye extends Re{set(Oe,Ce=null,St){if(typeof Oe!="string")throw new Error('LocalGStateCache.set - expected "name" argument.');if(Ce){if(this._imageCache.has(Ce))return;this._nameRefMap.set(Oe,Ce),this._imageCache.put(Ce,St);return}this._imageMap.has(Oe)||this._imageMap.set(Oe,St)}}_e.LocalGStateCache=Ye;class en extends Re{constructor(Oe){super({onlyRefs:!0})}set(Oe=null,Ce,St){if(!Ce)throw new Error('LocalTilingPatternCache.set - expected "ref" argument.');this._imageCache.has(Ce)||this._imageCache.put(Ce,St)}}_e.LocalTilingPatternCache=en;class je extends Re{constructor(Oe){super({onlyRefs:!0})}set(Oe=null,Ce,St){if(!Ce)throw new Error('RegionalImageCache.set - expected "ref" argument.');this._imageCache.has(Ce)||this._imageCache.put(Ce,St)}}_e.RegionalImageCache=je;class nn{static NUM_PAGES_THRESHOLD=2;static MIN_IMAGES_TO_CACHE=10;static MAX_BYTE_SIZE=5*xe.MAX_IMAGE_SIZE_TO_CACHE;constructor(){this._refCache=new Ie.RefSetCache,this._imageCache=new Ie.RefSetCache}get _byteSize(){let Oe=0;for(const Ce of this._imageCache)Oe+=Ce.byteSize;return Oe}get _cacheLimitReached(){return!(this._imageCache.size<nn.MIN_IMAGES_TO_CACHE||this._byteSize<nn.MAX_BYTE_SIZE)}shouldCache(Oe,Ce){let St=this._refCache.get(Oe);return St||(St=new Set,this._refCache.put(Oe,St)),St.add(Ce),!(St.size<nn.NUM_PAGES_THRESHOLD||!this._imageCache.has(Oe)&&this._cacheLimitReached)}addByteSize(Oe,Ce){const St=this._imageCache.get(Oe);St&&(St.byteSize||(St.byteSize=Ce))}getData(Oe,Ce){const St=this._refCache.get(Oe);if(!St||St.size<nn.NUM_PAGES_THRESHOLD)return null;const rn=this._imageCache.get(Oe);return rn?(St.add(Ce),rn):null}setData(Oe,Ce){if(!this._refCache.has(Oe))throw new Error('GlobalImageCache.setData - expected "shouldCache" to have been called.');if(!this._imageCache.has(Oe)){if(this._cacheLimitReached){(0,xe.warn)("GlobalImageCache.setData - cache limit reached.");return}this._imageCache.put(Oe,Ce)}}clear(Oe=!1){Oe||this._refCache.clear(),this._imageCache.clear()}}_e.GlobalImageCache=nn},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.bidi=Oe;var xe=ze(2);const Ie=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","ON","ON","ET","ET","ET","ON","ON","ON","ON","ON","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","ON","ET","ET","ET","ET","ON","ON","ON","ON","L","ON","ON","BN","ON","ON","ET","ET","EN","EN","ON","L","ON","ON","ON","EN","L","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L"],Re=["AN","AN","AN","AN","AN","AN","ON","ON","AL","ET","ET","AL","CS","AL","ON","ON","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","ON","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","ON","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL"];function e(Ce){return(Ce&1)!==0}function t(Ce){return(Ce&1)===0}function Te(Ce,St,rn){let un,Qe;for(un=St,Qe=Ce.length;un<Qe;++un)if(Ce[un]!==rn)return un;return un}function Ye(Ce,St,rn,un){for(let Qe=St;Qe<rn;++Qe)Ce[Qe]=un}function en(Ce,St,rn){for(let un=St,Qe=rn-1;un<Qe;++un,--Qe){const hn=Ce[un];Ce[un]=Ce[Qe],Ce[Qe]=hn}}function je(Ce,St,rn=!1){let un="ltr";return rn?un="ttb":St||(un="rtl"),{str:Ce,dir:un}}const nn=[],Ge=[];function Oe(Ce,St=-1,rn=!1){let un=!0;const Qe=Ce.length;if(Qe===0||rn)return je(Ce,un,rn);nn.length=Qe,Ge.length=Qe;let hn=0,He,pn;for(He=0;He<Qe;++He){nn[He]=Ce.charAt(He);const $e=Ce.charCodeAt(He);let on="L";$e<=255?on=Ie[$e]:1424<=$e&&$e<=1524?on="R":1536<=$e&&$e<=1791?(on=Re[$e&255],on||(0,xe.warn)("Bidi: invalid Unicode character "+$e.toString(16))):(1792<=$e&&$e<=2220||64336<=$e&&$e<=65023||65136<=$e&&$e<=65279)&&(on="AL"),(on==="R"||on==="AL"||on==="AN")&&hn++,Ge[He]=on}if(hn===0)return un=!0,je(Ce,un);St===-1&&(hn/Qe<.3&&Qe>4?(un=!0,St=0):(un=!1,St=1));const Xe=[];for(He=0;He<Qe;++He)Xe[He]=St;const fn=e(St)?"R":"L",dn=fn,qe=dn;let tn=dn;for(He=0;He<Qe;++He)Ge[He]==="NSM"?Ge[He]=tn:tn=Ge[He];tn=dn;let Me;for(He=0;He<Qe;++He)Me=Ge[He],Me==="EN"?Ge[He]=tn==="AL"?"AN":"EN":(Me==="R"||Me==="L"||Me==="AL")&&(tn=Me);for(He=0;He<Qe;++He)Me=Ge[He],Me==="AL"&&(Ge[He]="R");for(He=1;He<Qe-1;++He)Ge[He]==="ES"&&Ge[He-1]==="EN"&&Ge[He+1]==="EN"&&(Ge[He]="EN"),Ge[He]==="CS"&&(Ge[He-1]==="EN"||Ge[He-1]==="AN")&&Ge[He+1]===Ge[He-1]&&(Ge[He]=Ge[He-1]);for(He=0;He<Qe;++He)if(Ge[He]==="EN"){for(let $e=He-1;$e>=0&&Ge[$e]==="ET";--$e)Ge[$e]="EN";for(let $e=He+1;$e<Qe&&Ge[$e]==="ET";++$e)Ge[$e]="EN"}for(He=0;He<Qe;++He)Me=Ge[He],(Me==="WS"||Me==="ES"||Me==="ET"||Me==="CS")&&(Ge[He]="ON");for(tn=dn,He=0;He<Qe;++He)Me=Ge[He],Me==="EN"?Ge[He]=tn==="L"?"L":"EN":(Me==="R"||Me==="L")&&(tn=Me);for(He=0;He<Qe;++He)if(Ge[He]==="ON"){const $e=Te(Ge,He+1,"ON");let on=dn;He>0&&(on=Ge[He-1]);let Je=qe;$e+1<Qe&&(Je=Ge[$e+1]),on!=="L"&&(on="R"),Je!=="L"&&(Je="R"),on===Je&&Ye(Ge,He,$e,on),He=$e-1}for(He=0;He<Qe;++He)Ge[He]==="ON"&&(Ge[He]=fn);for(He=0;He<Qe;++He)Me=Ge[He],t(Xe[He])?Me==="R"?Xe[He]+=1:(Me==="AN"||Me==="EN")&&(Xe[He]+=2):(Me==="L"||Me==="AN"||Me==="EN")&&(Xe[He]+=1);let De=-1,Ue=99,We;for(He=0,pn=Xe.length;He<pn;++He)We=Xe[He],De<We&&(De=We),Ue>We&&e(We)&&(Ue=We);for(We=De;We>=Ue;--We){let $e=-1;for(He=0,pn=Xe.length;He<pn;++He)Xe[He]<We?$e>=0&&(en(nn,$e,He),$e=-1):$e<0&&($e=He);$e>=0&&en(nn,$e,Xe.length)}for(He=0,pn=nn.length;He<pn;++He){const $e=nn[He];($e==="<"||$e===">")&&(nn[He]="")}return je(nn.join(""),un)}},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.getFontSubstitution=Ge;var xe=ze(38),Ie=ze(3);const Re={style:"normal",weight:"normal"},e={style:"normal",weight:"bold"},t={style:"italic",weight:"normal"},Te={style:"italic",weight:"bold"},Ye=new Map([["Times-Roman",{local:["Times New Roman","Times-Roman","Times","Liberation Serif","Nimbus Roman","Nimbus Roman L","Tinos","Thorndale","TeX Gyre Termes","FreeSerif","DejaVu Serif","Bitstream Vera Serif","Ubuntu"],style:Re,ultimate:"serif"}],["Times-Bold",{alias:"Times-Roman",style:e,ultimate:"serif"}],["Times-Italic",{alias:"Times-Roman",style:t,ultimate:"serif"}],["Times-BoldItalic",{alias:"Times-Roman",style:Te,ultimate:"serif"}],["Helvetica",{local:["Helvetica","Helvetica Neue","Arial","Arial Nova","Liberation Sans","Arimo","Nimbus Sans","Nimbus Sans L","A030","TeX Gyre Heros","FreeSans","DejaVu Sans","Albany","Bitstream Vera Sans","Arial Unicode MS","Microsoft Sans Serif","Apple Symbols","Cantarell"],path:"LiberationSans-Regular.ttf",style:Re,ultimate:"sans-serif"}],["Helvetica-Bold",{alias:"Helvetica",path:"LiberationSans-Bold.ttf",style:e,ultimate:"sans-serif"}],["Helvetica-Oblique",{alias:"Helvetica",path:"LiberationSans-Italic.ttf",style:t,ultimate:"sans-serif"}],["Helvetica-BoldOblique",{alias:"Helvetica",path:"LiberationSans-BoldItalic.ttf",style:Te,ultimate:"sans-serif"}],["Courier",{local:["Courier","Courier New","Liberation Mono","Nimbus Mono","Nimbus Mono L","Cousine","Cumberland","TeX Gyre Cursor","FreeMono"],style:Re,ultimate:"monospace"}],["Courier-Bold",{alias:"Courier",style:e,ultimate:"monospace"}],["Courier-Oblique",{alias:"Courier",style:t,ultimate:"monospace"}],["Courier-BoldOblique",{alias:"Courier",style:Te,ultimate:"monospace"}],["ArialBlack",{local:["Arial Black"],style:{style:"normal",weight:"900"},fallback:"Helvetica-Bold"}],["ArialBlack-Bold",{alias:"ArialBlack"}],["ArialBlack-Italic",{alias:"ArialBlack",style:{style:"italic",weight:"900"},fallback:"Helvetica-BoldOblique"}],["ArialBlack-BoldItalic",{alias:"ArialBlack-Italic"}],["ArialNarrow",{local:["Arial Narrow","Liberation Sans Narrow","Helvetica Condensed","Nimbus Sans Narrow","TeX Gyre Heros Cn"],style:Re,fallback:"Helvetica"}],["ArialNarrow-Bold",{alias:"ArialNarrow",style:e,fallback:"Helvetica-Bold"}],["ArialNarrow-Italic",{alias:"ArialNarrow",style:t,fallback:"Helvetica-Oblique"}],["ArialNarrow-BoldItalic",{alias:"ArialNarrow",style:Te,fallback:"Helvetica-BoldOblique"}],["Calibri",{local:["Calibri","Carlito"],style:Re,fallback:"Helvetica"}],["Calibri-Bold",{alias:"Calibri",style:e,fallback:"Helvetica-Bold"}],["Calibri-Italic",{alias:"Calibri",style:t,fallback:"Helvetica-Oblique"}],["Calibri-BoldItalic",{alias:"Calibri",style:Te,fallback:"Helvetica-BoldOblique"}],["Wingdings",{local:["Wingdings","URW Dingbats"],style:Re}],["Wingdings-Regular",{alias:"Wingdings"}],["Wingdings-Bold",{alias:"Wingdings"}]]),en=new Map([["Arial-Black","ArialBlack"]]);function je(Oe){switch(Oe){case e:return"Bold";case t:return"Italic";case Te:return"Bold Italic";default:if(Oe?.weight==="bold")return"Bold";if(Oe?.style==="italic")return"Italic"}return""}function nn({alias:Oe,local:Ce,path:St,fallback:rn,style:un,ultimate:Qe},hn,He,pn=!0,Xe=!0,fn=""){const dn={style:null,ultimate:null};if(Ce){const qe=fn?` ${fn}`:"";for(const tn of Ce)hn.push(`local(${tn}${qe})`)}if(Oe){const qe=Ye.get(Oe),tn=fn||je(un);Object.assign(dn,nn(qe,hn,He,pn&&!rn,Xe&&!St,tn))}if(un&&(dn.style=un),Qe&&(dn.ultimate=Qe),pn&&rn){const qe=Ye.get(rn),{ultimate:tn}=nn(qe,hn,He,pn,Xe&&!St,fn);dn.ultimate||=tn}return Xe&&St&&He&&hn.push(`url(${He}${St})`),dn}function Ge(Oe,Ce,St,rn,un){rn=(0,xe.normalizeFontName)(rn);const Qe=rn;let hn=Oe.get(Qe);if(hn)return hn;let He=Ye.get(rn);if(!He){for(const[De,Ue]of en)if(rn.startsWith(De)){rn=`${Ue}${rn.substring(De.length)}`,He=Ye.get(rn);break}}let pn=!1;He||(He=Ye.get(un),pn=!0);const Xe=`${Ce.getDocId()}_s${Ce.createFontId()}`;if(!He){if(!(0,Ie.validateFontName)(rn))return Oe.set(Qe,null),null;const De=/bold/gi.test(rn),Ue=/oblique|italic/gi.test(rn),We=De&&Ue&&Te||De&&e||Ue&&t||Re;return hn={css:Xe,guessFallback:!0,loadedName:Xe,baseFontName:rn,src:`local(${rn})`,style:We},Oe.set(Qe,hn),hn}const fn=[];pn&&(0,Ie.validateFontName)(rn)&&fn.push(`local(${rn})`);const{style:dn,ultimate:qe}=nn(He,fn,St),tn=qe===null,Me=tn?"":`,${qe}`;return hn={css:`${Xe}${Me}`,guessFallback:tn,loadedName:Xe,baseFontName:rn,src:fn.join(","),style:dn},Oe.set(Qe,hn),hn}},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.ImageResizer=void 0;var xe=ze(2);const Ie=2048,Re=65537,e=128;class t{constructor(Ye,en){this._imgData=Ye,this._isMask=en}static needsToBeResized(Ye,en){if(Ye<=this._goodSquareLength&&en<=this._goodSquareLength)return!1;const{MAX_DIM:je}=this;if(Ye>je||en>je)return!0;const nn=Ye*en;if(this._hasMaxArea)return nn>this.MAX_AREA;if(nn<this._goodSquareLength**2)return!1;if(this._areGoodDims(Ye,en))return this._goodSquareLength=Math.max(this._goodSquareLength,Math.floor(Math.sqrt(Ye*en))),!1;this._goodSquareLength=this._guessMax(this._goodSquareLength,je,e,0);const Ge=this.MAX_AREA=this._goodSquareLength**2;return nn>Ge}static get MAX_DIM(){return(0,xe.shadow)(this,"MAX_DIM",this._guessMax(Ie,Re,0,1))}static get MAX_AREA(){return this._hasMaxArea=!0,(0,xe.shadow)(this,"MAX_AREA",this._guessMax(t._goodSquareLength,this.MAX_DIM,e,0)**2)}static set MAX_AREA(Ye){Ye>=0&&(this._hasMaxArea=!0,(0,xe.shadow)(this,"MAX_AREA",Ye))}static setMaxArea(Ye){this._hasMaxArea||(this.MAX_AREA=Ye>>2)}static _areGoodDims(Ye,en){try{const je=new OffscreenCanvas(Ye,en),nn=je.getContext("2d");nn.fillRect(0,0,1,1);const Ge=nn.getImageData(0,0,1,1).data[3];return je.width=je.height=1,Ge!==0}catch{return!1}}static _guessMax(Ye,en,je,nn){for(;Ye+je+1<en;){const Ge=Math.floor((Ye+en)/2),Oe=nn||Ge;this._areGoodDims(Ge,Oe)?Ye=Ge:en=Ge}return Ye}static async createImage(Ye,en=!1){return new t(Ye,en)._createImage()}async _createImage(){const Ye=this._encodeBMP(),en=new Blob([Ye.buffer],{type:"image/bmp"}),je=createImageBitmap(en),{MAX_AREA:nn,MAX_DIM:Ge}=t,{_imgData:Oe}=this,{width:Ce,height:St}=Oe,rn=Math.max(Ce/Ge,St/Ge,Math.sqrt(Ce*St/nn)),un=Math.max(rn,2),Qe=Math.round(10*(rn+1.25))/10/un,hn=Math.floor(Math.log2(Qe)),He=new Array(hn+2).fill(2);He[0]=un,He.splice(-1,1,Qe/(1<<hn));let pn=Ce,Xe=St,fn=await je;for(const dn of He){const qe=pn,tn=Xe;pn=Math.floor(pn/dn)-1,Xe=Math.floor(Xe/dn)-1;const Me=new OffscreenCanvas(pn,Xe);Me.getContext("2d").drawImage(fn,0,0,qe,tn,0,0,pn,Xe),fn=Me.transferToImageBitmap()}return Oe.data=null,Oe.bitmap=fn,Oe.width=pn,Oe.height=Xe,Oe}_encodeBMP(){const{width:Ye,height:en,kind:je}=this._imgData;let nn=this._imgData.data,Ge,Oe=new Uint8Array(0),Ce=Oe,St=0;switch(je){case xe.ImageKind.GRAYSCALE_1BPP:{Ge=1,Oe=new Uint8Array(this._isMask?[255,255,255,255,0,0,0,0]:[0,0,0,0,255,255,255,255]);const Xe=Ye+7>>3,fn=Xe+3&-4;if(Xe!==fn){const dn=new Uint8Array(fn*en);let qe=0;for(let tn=0,Me=en*Xe;tn<Me;tn+=Xe,qe+=fn)dn.set(nn.subarray(tn,tn+Xe),qe);nn=dn}break}case xe.ImageKind.RGB_24BPP:{if(Ge=24,Ye&3){const Xe=3*Ye,fn=Xe+3&-4,dn=fn-Xe,qe=new Uint8Array(fn*en);let tn=0;for(let Me=0,De=en*Xe;Me<De;Me+=Xe){const Ue=nn.subarray(Me,Me+Xe);for(let We=0;We<Xe;We+=3)qe[tn++]=Ue[We+2],qe[tn++]=Ue[We+1],qe[tn++]=Ue[We];tn+=dn}nn=qe}else for(let Xe=0,fn=nn.length;Xe<fn;Xe+=3){const dn=nn[Xe];nn[Xe]=nn[Xe+2],nn[Xe+2]=dn}break}case xe.ImageKind.RGBA_32BPP:Ge=32,St=3,Ce=new Uint8Array(68);const pn=new DataView(Ce.buffer);xe.FeatureTest.isLittleEndian?(pn.setUint32(0,255,!0),pn.setUint32(4,65280,!0),pn.setUint32(8,16711680,!0),pn.setUint32(12,4278190080,!0)):(pn.setUint32(0,4278190080,!0),pn.setUint32(4,16711680,!0),pn.setUint32(8,65280,!0),pn.setUint32(12,255,!0));break;default:throw new Error("invalid format")}let rn=0;const un=40+Ce.length,Qe=14+un+Oe.length+nn.length,hn=new Uint8Array(Qe),He=new DataView(hn.buffer);return He.setUint16(rn,19778,!0),rn+=2,He.setUint32(rn,Qe,!0),rn+=4,He.setUint32(rn,0,!0),rn+=4,He.setUint32(rn,14+un+Oe.length,!0),rn+=4,He.setUint32(rn,un,!0),rn+=4,He.setInt32(rn,Ye,!0),rn+=4,He.setInt32(rn,-en,!0),rn+=4,He.setUint16(rn,1,!0),rn+=2,He.setUint16(rn,Ge,!0),rn+=2,He.setUint32(rn,St,!0),rn+=4,He.setUint32(rn,0,!0),rn+=4,He.setInt32(rn,0,!0),rn+=4,He.setInt32(rn,0,!0),rn+=4,He.setUint32(rn,Oe.length/4,!0),rn+=4,He.setUint32(rn,0,!0),rn+=4,hn.set(Ce,rn),rn+=Ce.length,hn.set(Oe,rn),rn+=Oe.length,hn.set(nn,rn),hn}}_e.ImageResizer=t,t._goodSquareLength=Ie},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.MurmurHash3_64=void 0;var xe=ze(2);const Ie=3285377520,Re=4294901760,e=65535;class t{constructor(Ye){this.h1=Ye?Ye&4294967295:Ie,this.h2=Ye?Ye&4294967295:Ie}update(Ye){let en,je;if(typeof Ye=="string"){en=new Uint8Array(Ye.length*2),je=0;for(let Xe=0,fn=Ye.length;Xe<fn;Xe++){const dn=Ye.charCodeAt(Xe);dn<=255?en[je++]=dn:(en[je++]=dn>>>8,en[je++]=dn&255)}}else if((0,xe.isArrayBuffer)(Ye))en=Ye.slice(),je=en.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const nn=je>>2,Ge=je-nn*4,Oe=new Uint32Array(en.buffer,0,nn);let Ce=0,St=0,rn=this.h1,un=this.h2;const Qe=3432918353,hn=461845907,He=Qe&e,pn=hn&e;for(let Xe=0;Xe<nn;Xe++)Xe&1?(Ce=Oe[Xe],Ce=Ce*Qe&Re|Ce*He&e,Ce=Ce<<15|Ce>>>17,Ce=Ce*hn&Re|Ce*pn&e,rn^=Ce,rn=rn<<13|rn>>>19,rn=rn*5+3864292196):(St=Oe[Xe],St=St*Qe&Re|St*He&e,St=St<<15|St>>>17,St=St*hn&Re|St*pn&e,un^=St,un=un<<13|un>>>19,un=un*5+3864292196);switch(Ce=0,Ge){case 3:Ce^=en[nn*4+2]<<16;case 2:Ce^=en[nn*4+1]<<8;case 1:Ce^=en[nn*4],Ce=Ce*Qe&Re|Ce*He&e,Ce=Ce<<15|Ce>>>17,Ce=Ce*hn&Re|Ce*pn&e,nn&1?rn^=Ce:un^=Ce}this.h1=rn,this.h2=un}hexdigest(){let Ye=this.h1,en=this.h2;return Ye^=en>>>1,Ye=Ye*3981806797&Re|Ye*36045&e,en=en*4283543511&Re|((en<<16|Ye>>>16)*2950163797&Re)>>>16,Ye^=en>>>1,Ye=Ye*444984403&Re|Ye*60499&e,en=en*3301882366&Re|((en<<16|Ye>>>16)*3120437893&Re)>>>16,Ye^=en>>>1,(Ye>>>0).toString(16).padStart(8,"0")+(en>>>0).toString(16).padStart(8,"0")}}_e.MurmurHash3_64=t},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.OperatorList=void 0;var xe=ze(2);function Ie(Ye,en,je,nn,Ge){let Oe=Ye;for(let Ce=0,St=en.length-1;Ce<St;Ce++){const rn=en[Ce];Oe=Oe[rn]||=[]}Oe[en.at(-1)]={checkFn:je,iterateFn:nn,processFn:Ge}}const Re=[];Ie(Re,[xe.OPS.save,xe.OPS.transform,xe.OPS.paintInlineImageXObject,xe.OPS.restore],null,function(en,je){const nn=en.fnArray,Ge=en.iCurr-3,Oe=(je-Ge)%4;switch(Oe){case 0:return nn[je]===xe.OPS.save;case 1:return nn[je]===xe.OPS.transform;case 2:return nn[je]===xe.OPS.paintInlineImageXObject;case 3:return nn[je]===xe.OPS.restore}throw new Error(`iterateInlineImageGroup - invalid pos: ${Oe}`)},function(en,je){const St=en.fnArray,rn=en.argsArray,un=en.iCurr,Qe=un-3,hn=un-2,He=un-1,pn=Math.min(Math.floor((je-Qe)/4),200);if(pn<10)return je-(je-Qe)%4;let Xe=0;const fn=[];let dn=0,qe=1,tn=1;for(let on=0;on<pn;on++){const Je=rn[hn+(on<<2)],an=rn[He+(on<<2)][0];qe+an.width>1e3&&(Xe=Math.max(Xe,qe),tn+=dn+2,qe=0,dn=0),fn.push({transform:Je,x:qe,y:tn,w:an.width,h:an.height}),qe+=an.width+2,dn=Math.max(dn,an.height)}const Me=Math.max(Xe,qe)+1,De=tn+dn+1,Ue=new Uint8Array(Me*De*4),We=Me<<2;for(let on=0;on<pn;on++){const Je=rn[He+(on<<2)][0].data,an=fn[on].w<<2;let Ke=0,sn=fn[on].x+fn[on].y*Me<<2;Ue.set(Je.subarray(0,an),sn-We);for(let gn=0,mn=fn[on].h;gn<mn;gn++)Ue.set(Je.subarray(Ke,Ke+an),sn),Ke+=an,sn+=We;for(Ue.set(Je.subarray(Ke-an,Ke),sn);sn>=0;)Je[sn-4]=Je[sn],Je[sn-3]=Je[sn+1],Je[sn-2]=Je[sn+2],Je[sn-1]=Je[sn+3],Je[sn+an]=Je[sn+an-4],Je[sn+an+1]=Je[sn+an-3],Je[sn+an+2]=Je[sn+an-2],Je[sn+an+3]=Je[sn+an-1],sn-=We}const $e={width:Me,height:De};if(en.isOffscreenCanvasSupported){const on=new OffscreenCanvas(Me,De);on.getContext("2d").putImageData(new ImageData(new Uint8ClampedArray(Ue.buffer),Me,De),0,0),$e.bitmap=on.transferToImageBitmap(),$e.data=null}else $e.kind=xe.ImageKind.RGBA_32BPP,$e.data=Ue;return St.splice(Qe,pn*4,xe.OPS.paintInlineImageXObjectGroup),rn.splice(Qe,pn*4,[$e,fn]),Qe+1}),Ie(Re,[xe.OPS.save,xe.OPS.transform,xe.OPS.paintImageMaskXObject,xe.OPS.restore],null,function(en,je){const nn=en.fnArray,Ge=en.iCurr-3,Oe=(je-Ge)%4;switch(Oe){case 0:return nn[je]===xe.OPS.save;case 1:return nn[je]===xe.OPS.transform;case 2:return nn[je]===xe.OPS.paintImageMaskXObject;case 3:return nn[je]===xe.OPS.restore}throw new Error(`iterateImageMaskGroup - invalid pos: ${Oe}`)},function(en,je){const Ce=en.fnArray,St=en.argsArray,rn=en.iCurr,un=rn-3,Qe=rn-2,hn=rn-1;let He=Math.floor((je-un)/4);if(He<10)return je-(je-un)%4;let pn=!1,Xe,fn;const dn=St[hn][0],qe=St[Qe][0],tn=St[Qe][1],Me=St[Qe][2],De=St[Qe][3];if(tn===Me){pn=!0,Xe=Qe+4;let Ue=hn+4;for(let We=1;We<He;We++,Xe+=4,Ue+=4)if(fn=St[Xe],St[Ue][0]!==dn||fn[0]!==qe||fn[1]!==tn||fn[2]!==Me||fn[3]!==De){We<10?pn=!1:He=We;break}}if(pn){He=Math.min(He,1e3);const Ue=new Float32Array(He*2);Xe=Qe;for(let We=0;We<He;We++,Xe+=4)fn=St[Xe],Ue[We<<1]=fn[4],Ue[(We<<1)+1]=fn[5];Ce.splice(un,He*4,xe.OPS.paintImageMaskXObjectRepeat),St.splice(un,He*4,[dn,qe,tn,Me,De,Ue])}else{He=Math.min(He,100);const Ue=[];for(let We=0;We<He;We++){fn=St[Qe+(We<<2)];const $e=St[hn+(We<<2)][0];Ue.push({data:$e.data,width:$e.width,height:$e.height,interpolate:$e.interpolate,count:$e.count,transform:fn})}Ce.splice(un,He*4,xe.OPS.paintImageMaskXObjectGroup),St.splice(un,He*4,[Ue])}return un+1}),Ie(Re,[xe.OPS.save,xe.OPS.transform,xe.OPS.paintImageXObject,xe.OPS.restore],function(Ye){const en=Ye.argsArray,je=Ye.iCurr-2;return en[je][1]===0&&en[je][2]===0},function(en,je){const nn=en.fnArray,Ge=en.argsArray,Oe=en.iCurr-3,Ce=(je-Oe)%4;switch(Ce){case 0:return nn[je]===xe.OPS.save;case 1:if(nn[je]!==xe.OPS.transform)return!1;const St=en.iCurr-2,rn=Ge[St][0],un=Ge[St][3];return!(Ge[je][0]!==rn||Ge[je][1]!==0||Ge[je][2]!==0||Ge[je][3]!==un);case 2:if(nn[je]!==xe.OPS.paintImageXObject)return!1;const Qe=en.iCurr-1,hn=Ge[Qe][0];return Ge[je][0]===hn;case 3:return nn[je]===xe.OPS.restore}throw new Error(`iterateImageGroup - invalid pos: ${Ce}`)},function(Ye,en){const Ge=Ye.fnArray,Oe=Ye.argsArray,Ce=Ye.iCurr,St=Ce-3,rn=Ce-2,un=Ce-1,Qe=Oe[un][0],hn=Oe[rn][0],He=Oe[rn][3],pn=Math.min(Math.floor((en-St)/4),1e3);if(pn<3)return en-(en-St)%4;const Xe=new Float32Array(pn*2);let fn=rn;for(let qe=0;qe<pn;qe++,fn+=4){const tn=Oe[fn];Xe[qe<<1]=tn[4],Xe[(qe<<1)+1]=tn[5]}const dn=[Qe,hn,He,Xe];return Ge.splice(St,pn*4,xe.OPS.paintImageXObjectRepeat),Oe.splice(St,pn*4,dn),St+1}),Ie(Re,[xe.OPS.beginText,xe.OPS.setFont,xe.OPS.setTextMatrix,xe.OPS.showText,xe.OPS.endText],null,function(en,je){const nn=en.fnArray,Ge=en.argsArray,Oe=en.iCurr-4,Ce=(je-Oe)%5;switch(Ce){case 0:return nn[je]===xe.OPS.beginText;case 1:return nn[je]===xe.OPS.setFont;case 2:return nn[je]===xe.OPS.setTextMatrix;case 3:if(nn[je]!==xe.OPS.showText)return!1;const St=en.iCurr-3,rn=Ge[St][0],un=Ge[St][1];return!(Ge[je][0]!==rn||Ge[je][1]!==un);case 4:return nn[je]===xe.OPS.endText}throw new Error(`iterateShowTextGroup - invalid pos: ${Ce}`)},function(Ye,en){const Ge=Ye.fnArray,Oe=Ye.argsArray,Ce=Ye.iCurr,St=Ce-4,rn=Ce-3,un=Ce-2,Qe=Ce-1,hn=Ce,He=Oe[rn][0],pn=Oe[rn][1];let Xe=Math.min(Math.floor((en-St)/5),1e3);if(Xe<3)return en-(en-St)%5;let fn=St;St>=4&&Ge[St-4]===Ge[rn]&&Ge[St-3]===Ge[un]&&Ge[St-2]===Ge[Qe]&&Ge[St-1]===Ge[hn]&&Oe[St-4][0]===He&&Oe[St-4][1]===pn&&(Xe++,fn-=5);let dn=fn+4;for(let qe=1;qe<Xe;qe++)Ge.splice(dn,3),Oe.splice(dn,3),dn+=2;return dn+1});class e{constructor(en){this.queue=en}_optimize(){}push(en,je){this.queue.fnArray.push(en),this.queue.argsArray.push(je),this._optimize()}flush(){}reset(){}}class t extends e{constructor(en){super(en),this.state=null,this.context={iCurr:0,fnArray:en.fnArray,argsArray:en.argsArray,isOffscreenCanvasSupported:!1},this.match=null,this.lastProcessed=0}set isOffscreenCanvasSupported(en){this.context.isOffscreenCanvasSupported=en}_optimize(){const en=this.queue.fnArray;let je=this.lastProcessed,nn=en.length,Ge=this.state,Oe=this.match;if(!Ge&&!Oe&&je+1===nn&&!Re[en[je]]){this.lastProcessed=nn;return}const Ce=this.context;for(;je<nn;){if(Oe){if((0,Oe.iterateFn)(Ce,je)){je++;continue}if(je=(0,Oe.processFn)(Ce,je+1),nn=en.length,Oe=null,Ge=null,je>=nn)break}if(Ge=(Ge||Re)[en[je]],!Ge||Array.isArray(Ge)){je++;continue}if(Ce.iCurr=je,je++,Ge.checkFn&&!(0,Ge.checkFn)(Ce)){Ge=null;continue}Oe=Ge,Ge=null}this.state=Ge,this.match=Oe,this.lastProcessed=je}flush(){for(;this.match;){const en=this.queue.fnArray.length;this.lastProcessed=(0,this.match.processFn)(this.context,en),this.match=null,this.state=null,this._optimize()}}reset(){this.state=null,this.match=null,this.lastProcessed=0}}class Te{static CHUNK_SIZE=1e3;static CHUNK_SIZE_ABOUT=this.CHUNK_SIZE-5;constructor(en=0,je){this._streamSink=je,this.fnArray=[],this.argsArray=[],this.optimizer=je&&!(en&xe.RenderingIntentFlag.OPLIST)?new t(this):new e(this),this.dependencies=new Set,this._totalLength=0,this.weight=0,this._resolved=je?null:Promise.resolve()}set isOffscreenCanvasSupported(en){this.optimizer.isOffscreenCanvasSupported=en}get length(){return this.argsArray.length}get ready(){return this._resolved||this._streamSink.ready}get totalLength(){return this._totalLength+this.length}addOp(en,je){this.optimizer.push(en,je),this.weight++,this._streamSink&&(this.weight>=Te.CHUNK_SIZE?this.flush():this.weight>=Te.CHUNK_SIZE_ABOUT&&(en===xe.OPS.restore||en===xe.OPS.endText)&&this.flush())}addImageOps(en,je,nn){nn!==void 0&&this.addOp(xe.OPS.beginMarkedContentProps,["OC",nn]),this.addOp(en,je),nn!==void 0&&this.addOp(xe.OPS.endMarkedContent,[])}addDependency(en){this.dependencies.has(en)||(this.dependencies.add(en),this.addOp(xe.OPS.dependency,[en]))}addDependencies(en){for(const je of en)this.addDependency(je)}addOpList(en){if(!(en instanceof Te)){(0,xe.warn)('addOpList - ignoring invalid "opList" parameter.');return}for(const je of en.dependencies)this.dependencies.add(je);for(let je=0,nn=en.length;je<nn;je++)this.addOp(en.fnArray[je],en.argsArray[je])}getIR(){return{fnArray:this.fnArray,argsArray:this.argsArray,length:this.length}}get _transfers(){const en=[],{fnArray:je,argsArray:nn,length:Ge}=this;for(let Oe=0;Oe<Ge;Oe++)switch(je[Oe]){case xe.OPS.paintInlineImageXObject:case xe.OPS.paintInlineImageXObjectGroup:case xe.OPS.paintImageMaskXObject:const Ce=nn[Oe][0];!Ce.cached&&Ce.data?.buffer instanceof ArrayBuffer&&en.push(Ce.data.buffer);break}return en}flush(en=!1,je=null){this.optimizer.flush();const nn=this.length;this._totalLength+=nn,this._streamSink.enqueue({fnArray:this.fnArray,argsArray:this.argsArray,lastChunk:en,separateAnnots:je,length:nn},1,this._transfers),this.dependencies.clear(),this.fnArray.length=0,this.argsArray.length=0,this.weight=0,this.optimizer.reset()}}_e.OperatorList=Te},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.PDFImage=void 0;var xe=ze(2),Ie=ze(28),Re=ze(5),e=ze(12),t=ze(18),Te=ze(62),Ye=ze(26),en=ze(30),je=ze(4);function nn(Ce,St,rn,un){return Ce=St+Ce*rn,Ce<0?Ce=0:Ce>un&&(Ce=un),Ce}function Ge(Ce,St,rn,un,Qe,hn){const He=Qe*hn;let pn;St<=8?pn=new Uint8Array(He):St<=16?pn=new Uint16Array(He):pn=new Uint32Array(He);const Xe=rn/Qe,fn=un/hn;let dn,qe,tn,Me=0,De;const Ue=new Uint16Array(Qe),We=rn;for(dn=0;dn<Qe;dn++)Ue[dn]=Math.floor(dn*Xe);for(dn=0;dn<hn;dn++)for(tn=Math.floor(dn*fn)*We,qe=0;qe<Qe;qe++)De=tn+Ue[qe],pn[Me++]=Ce[De];return pn}class Oe{constructor({xref:St,res:rn,image:un,isInline:Qe=!1,smask:hn=null,mask:He=null,isMask:pn=!1,pdfFunctionFactory:Xe,localColorSpaceCache:fn}){this.image=un;const dn=un.dict,qe=dn.get("F","Filter");let tn;if(qe instanceof je.Name)tn=qe.name;else if(Array.isArray(qe)){const We=St.fetchIfRef(qe[0]);We instanceof je.Name&&(tn=We.name)}switch(tn){case"JPXDecode":const We=new en.JpxImage;We.parseImageProperties(un.stream),un.stream.reset(),un.width=We.width,un.height=We.height,un.bitsPerComponent=We.bitsPerComponent,un.numComps=We.componentsCount;break;case"JBIG2Decode":un.bitsPerComponent=1,un.numComps=1;break}let Me=dn.get("W","Width"),De=dn.get("H","Height");if(Number.isInteger(un.width)&&un.width>0&&Number.isInteger(un.height)&&un.height>0&&(un.width!==Me||un.height!==De)&&((0,xe.warn)("PDFImage - using the Width/Height of the image data, rather than the image dictionary."),Me=un.width,De=un.height),Me<1||De<1)throw new xe.FormatError(`Invalid image width: ${Me} or height: ${De}`);this.width=Me,this.height=De,this.interpolate=dn.get("I","Interpolate"),this.imageMask=dn.get("IM","ImageMask")||!1,this.matte=dn.get("Matte")||!1;let Ue=un.bitsPerComponent;if(!Ue&&(Ue=dn.get("BPC","BitsPerComponent"),!Ue))if(this.imageMask)Ue=1;else throw new xe.FormatError(`Bits per component missing in image: ${this.imageMask}`);if(this.bpc=Ue,!this.imageMask){let We=dn.getRaw("CS")||dn.getRaw("ColorSpace");if(!We)switch((0,xe.info)("JPX images (which do not require color spaces)"),un.numComps){case 1:We=je.Name.get("DeviceGray");break;case 3:We=je.Name.get("DeviceRGB");break;case 4:We=je.Name.get("DeviceCMYK");break;default:throw new Error(`JPX images with ${un.numComps} color components not supported.`)}this.colorSpace=e.ColorSpace.parse({cs:We,xref:St,resources:Qe?rn:null,pdfFunctionFactory:Xe,localColorSpaceCache:fn}),this.numComps=this.colorSpace.numComps}if(this.decode=dn.getArray("D","Decode"),this.needsDecode=!1,this.decode&&(this.colorSpace&&!this.colorSpace.isDefaultDecode(this.decode,Ue)||pn&&!e.ColorSpace.isDefaultDecode(this.decode,1))){this.needsDecode=!0;const We=(1<<Ue)-1;this.decodeCoefficients=[],this.decodeAddends=[];const $e=this.colorSpace?.name==="Indexed";for(let on=0,Je=0;on<this.decode.length;on+=2,++Je){const an=this.decode[on],Ke=this.decode[on+1];this.decodeCoefficients[Je]=$e?(Ke-an)/We:Ke-an,this.decodeAddends[Je]=$e?an:We*an}}hn?this.smask=new Oe({xref:St,res:rn,image:hn,isInline:Qe,pdfFunctionFactory:Xe,localColorSpaceCache:fn}):He&&(He instanceof Re.BaseStream?He.dict.get("IM","ImageMask")?this.mask=new Oe({xref:St,res:rn,image:He,isInline:Qe,isMask:!0,pdfFunctionFactory:Xe,localColorSpaceCache:fn}):(0,xe.warn)("Ignoring /Mask in image without /ImageMask."):this.mask=He)}static async buildImage({xref:St,res:rn,image:un,isInline:Qe=!1,pdfFunctionFactory:hn,localColorSpaceCache:He}){const pn=un;let Xe=null,fn=null;const dn=un.dict.get("SMask"),qe=un.dict.get("Mask");return dn?dn instanceof Re.BaseStream?Xe=dn:(0,xe.warn)("Unsupported /SMask format."):qe&&(qe instanceof Re.BaseStream||Array.isArray(qe)?fn=qe:(0,xe.warn)("Unsupported /Mask format.")),new Oe({xref:St,res:rn,image:pn,isInline:Qe,smask:Xe,mask:fn,pdfFunctionFactory:hn,localColorSpaceCache:He})}static createRawMask({imgArray:St,width:rn,height:un,imageIsFromDecodeStream:Qe,inverseDecode:hn,interpolate:He}){const pn=(rn+7>>3)*un,Xe=St.byteLength,fn=pn===Xe;let dn,qe;if(Qe&&(!hn||fn)?dn=St:hn?(dn=new Uint8Array(pn),dn.set(St),dn.fill(255,Xe)):dn=new Uint8Array(St),hn)for(qe=0;qe<Xe;qe++)dn[qe]^=255;return{data:dn,width:rn,height:un,interpolate:He}}static async createMask({imgArray:St,width:rn,height:un,imageIsFromDecodeStream:Qe,inverseDecode:hn,interpolate:He,isOffscreenCanvasSupported:pn=!1}){const Xe=rn===1&&un===1&&hn===(St.length===0||!!(St[0]&128));if(Xe)return{isSingleOpaquePixel:Xe};if(pn){if(Te.ImageResizer.needsToBeResized(rn,un)){const Me=new Uint8ClampedArray(rn*un*4);return(0,Ie.convertBlackAndWhiteToRGBA)({src:St,dest:Me,width:rn,height:un,nonBlackColor:0,inverseDecode:hn}),Te.ImageResizer.createImage({kind:xe.ImageKind.RGBA_32BPP,data:Me,width:rn,height:un,interpolate:He})}const fn=new OffscreenCanvas(rn,un),dn=fn.getContext("2d"),qe=dn.createImageData(rn,un);(0,Ie.convertBlackAndWhiteToRGBA)({src:St,dest:qe.data,width:rn,height:un,nonBlackColor:0,inverseDecode:hn}),dn.putImageData(qe,0,0);const tn=fn.transferToImageBitmap();return{data:null,width:rn,height:un,interpolate:He,bitmap:tn}}return this.createRawMask({imgArray:St,width:rn,height:un,inverseDecode:hn,imageIsFromDecodeStream:Qe,interpolate:He})}get drawWidth(){return Math.max(this.width,this.smask?.width||0,this.mask?.width||0)}get drawHeight(){return Math.max(this.height,this.smask?.height||0,this.mask?.height||0)}decodeBuffer(St){const rn=this.bpc,un=this.numComps,Qe=this.decodeAddends,hn=this.decodeCoefficients,He=(1<<rn)-1;let pn,Xe;if(rn===1){for(pn=0,Xe=St.length;pn<Xe;pn++)St[pn]=+!St[pn];return}let fn=0;for(pn=0,Xe=this.width*this.height;pn<Xe;pn++)for(let dn=0;dn<un;dn++)St[fn]=nn(St[fn],Qe[dn],hn[dn],He),fn++}getComponents(St){const rn=this.bpc;if(rn===8)return St;const un=this.width,Qe=this.height,hn=this.numComps,He=un*Qe*hn;let pn=0,Xe;rn<=8?Xe=new Uint8Array(He):rn<=16?Xe=new Uint16Array(He):Xe=new Uint32Array(He);const fn=un*hn,dn=(1<<rn)-1;let qe=0,tn,Me;if(rn===1){let De,Ue,We;for(let $e=0;$e<Qe;$e++){for(Ue=qe+(fn&-8),We=qe+fn;qe<Ue;)Me=St[pn++],Xe[qe]=Me>>7&1,Xe[qe+1]=Me>>6&1,Xe[qe+2]=Me>>5&1,Xe[qe+3]=Me>>4&1,Xe[qe+4]=Me>>3&1,Xe[qe+5]=Me>>2&1,Xe[qe+6]=Me>>1&1,Xe[qe+7]=Me&1,qe+=8;if(qe<We)for(Me=St[pn++],De=128;qe<We;)Xe[qe++]=+!!(Me&De),De>>=1}}else{let De=0;for(Me=0,qe=0,tn=He;qe<tn;++qe){for(qe%fn===0&&(Me=0,De=0);De<rn;)Me=Me<<8|St[pn++],De+=8;const Ue=De-rn;let We=Me>>Ue;We<0?We=0:We>dn&&(We=dn),Xe[qe]=We,Me&=(1<<Ue)-1,De=Ue}}return Xe}fillOpacity(St,rn,un,Qe,hn){const He=this.smask,pn=this.mask;let Xe,fn,dn,qe,tn,Me;if(He)fn=He.width,dn=He.height,Xe=new Uint8ClampedArray(fn*dn),He.fillGrayBuffer(Xe),(fn!==rn||dn!==un)&&(Xe=Ge(Xe,He.bpc,fn,dn,rn,un));else if(pn)if(pn instanceof Oe){for(fn=pn.width,dn=pn.height,Xe=new Uint8ClampedArray(fn*dn),pn.numComps=1,pn.fillGrayBuffer(Xe),qe=0,tn=fn*dn;qe<tn;++qe)Xe[qe]=255-Xe[qe];(fn!==rn||dn!==un)&&(Xe=Ge(Xe,pn.bpc,fn,dn,rn,un))}else if(Array.isArray(pn)){Xe=new Uint8ClampedArray(rn*un);const De=this.numComps;for(qe=0,tn=rn*un;qe<tn;++qe){let Ue=0;const We=qe*De;for(Me=0;Me<De;++Me){const $e=hn[We+Me],on=Me*2;if($e<pn[on]||$e>pn[on+1]){Ue=255;break}}Xe[qe]=Ue}}else throw new xe.FormatError("Unknown mask format.");if(Xe)for(qe=0,Me=3,tn=rn*Qe;qe<tn;++qe,Me+=4)St[Me]=Xe[qe];else for(qe=0,Me=3,tn=rn*Qe;qe<tn;++qe,Me+=4)St[Me]=255}undoPreblend(St,rn,un){const Qe=this.smask?.matte;if(!Qe)return;const hn=this.colorSpace.getRgb(Qe,0),He=hn[0],pn=hn[1],Xe=hn[2],fn=rn*un*4;for(let dn=0;dn<fn;dn+=4){const qe=St[dn+3];if(qe===0){St[dn]=255,St[dn+1]=255,St[dn+2]=255;continue}const tn=255/qe;St[dn]=(St[dn]-He)*tn+He,St[dn+1]=(St[dn+1]-pn)*tn+pn,St[dn+2]=(St[dn+2]-Xe)*tn+Xe}}async createImageData(St=!1,rn=!1){const un=this.drawWidth,Qe=this.drawHeight,hn={width:un,height:Qe,interpolate:this.interpolate,kind:0,data:null},He=this.numComps,pn=this.width,Xe=this.height,fn=this.bpc,dn=pn*He*fn+7>>3,qe=rn&&Te.ImageResizer.needsToBeResized(un,Qe);if(!St){let Ke;if(this.colorSpace.name==="DeviceGray"&&fn===1?Ke=xe.ImageKind.GRAYSCALE_1BPP:this.colorSpace.name==="DeviceRGB"&&fn===8&&!this.needsDecode&&(Ke=xe.ImageKind.RGB_24BPP),Ke&&!this.smask&&!this.mask&&un===pn&&Qe===Xe){const sn=this.getImageBytes(Xe*dn,{});if(rn)return qe?Te.ImageResizer.createImage({data:sn,kind:Ke,width:un,height:Qe,interpolate:this.interpolate},this.needsDecode):this.createBitmap(Ke,pn,Xe,sn);if(hn.kind=Ke,hn.data=sn,this.needsDecode){(0,xe.assert)(Ke===xe.ImageKind.GRAYSCALE_1BPP,"PDFImage.createImageData: The image must be grayscale.");const gn=hn.data;for(let mn=0,yn=gn.length;mn<yn;mn++)gn[mn]^=255}return hn}if(this.image instanceof Ye.JpegStream&&!this.smask&&!this.mask&&!this.needsDecode){let sn=Xe*dn;if(rn&&!qe){let gn=!1;switch(this.colorSpace.name){case"DeviceGray":sn*=4,gn=!0;break;case"DeviceRGB":sn=sn/3*4,gn=!0;break;case"DeviceCMYK":gn=!0;break}if(gn){const mn=this.getImageBytes(sn,{drawWidth:un,drawHeight:Qe,forceRGBA:!0});return this.createBitmap(xe.ImageKind.RGBA_32BPP,un,Qe,mn)}}else switch(this.colorSpace.name){case"DeviceGray":sn*=3;case"DeviceRGB":case"DeviceCMYK":return hn.kind=xe.ImageKind.RGB_24BPP,hn.data=this.getImageBytes(sn,{drawWidth:un,drawHeight:Qe,forceRGB:!0}),qe?Te.ImageResizer.createImage(hn):hn}}}const tn=this.getImageBytes(Xe*dn,{internal:!0}),Me=0|tn.length/dn*Qe/Xe,De=this.getComponents(tn);let Ue,We,$e,on,Je,an;if(rn&&!qe&&($e=new OffscreenCanvas(un,Qe),on=$e.getContext("2d"),Je=on.createImageData(un,Qe),an=Je.data),hn.kind=xe.ImageKind.RGBA_32BPP,!St&&!this.smask&&!this.mask?(!rn||qe?(hn.kind=xe.ImageKind.RGB_24BPP,an=new Uint8ClampedArray(un*Qe*3),Ue=0):(new Uint32Array(an.buffer).fill(xe.FeatureTest.isLittleEndian?4278190080:255),Ue=1),We=!1):((!rn||qe)&&(an=new Uint8ClampedArray(un*Qe*4)),Ue=1,We=!0,this.fillOpacity(an,un,Qe,Me,De)),this.needsDecode&&this.decodeBuffer(De),this.colorSpace.fillRgb(an,pn,Xe,un,Qe,Me,fn,De,Ue),We&&this.undoPreblend(an,un,Me),rn&&!qe){on.putImageData(Je,0,0);const Ke=$e.transferToImageBitmap();return{data:null,width:un,height:Qe,bitmap:Ke,interpolate:this.interpolate}}return hn.data=an,qe?Te.ImageResizer.createImage(hn):hn}fillGrayBuffer(St){const rn=this.numComps;if(rn!==1)throw new xe.FormatError(`Reading gray scale from a color image: ${rn}`);const un=this.width,Qe=this.height,hn=this.bpc,He=un*rn*hn+7>>3,pn=this.getImageBytes(Qe*He,{internal:!0}),Xe=this.getComponents(pn);let fn,dn;if(hn===1){if(dn=un*Qe,this.needsDecode)for(fn=0;fn<dn;++fn)St[fn]=Xe[fn]-1&255;else for(fn=0;fn<dn;++fn)St[fn]=-Xe[fn]&255;return}this.needsDecode&&this.decodeBuffer(Xe),dn=un*Qe;const qe=255/((1<<hn)-1);for(fn=0;fn<dn;++fn)St[fn]=qe*Xe[fn]}createBitmap(St,rn,un,Qe){const hn=new OffscreenCanvas(rn,un),He=hn.getContext("2d");let pn;St===xe.ImageKind.RGBA_32BPP?pn=new ImageData(Qe,rn,un):(pn=He.createImageData(rn,un),(0,Ie.convertToRGBA)({kind:St,src:Qe,dest:new Uint32Array(pn.data.buffer),width:rn,height:un,inverseDecode:this.needsDecode})),He.putImageData(pn,0,0);const Xe=hn.transferToImageBitmap();return{data:null,width:rn,height:un,bitmap:Xe,interpolate:this.interpolate}}getImageBytes(St,{drawWidth:rn,drawHeight:un,forceRGBA:Qe=!1,forceRGB:hn=!1,internal:He=!1}){this.image.reset(),this.image.drawWidth=rn||this.width,this.image.drawHeight=un||this.height,this.image.forceRGBA=!!Qe,this.image.forceRGB=!!hn;const pn=this.image.getBytes(St);return He||this.image instanceof t.DecodeStream?pn:((0,xe.assert)(pn instanceof Uint8Array,'PDFImage.getImageBytes: Unsupported "imageBytes" type.'),new Uint8Array(pn))}}_e.PDFImage=Oe},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.Catalog=void 0;var xe=ze(3),Ie=ze(2),Re=ze(4),e=ze(67),t=ze(5),Te=ze(68),Ye=ze(12),en=ze(69),je=ze(59),nn=ze(70),Ge=ze(72);function Oe(St){return St instanceof Re.Dict&&(St=St.get("D")),Array.isArray(St)?St:null}class Ce{constructor(rn,un){if(this.pdfManager=rn,this.xref=un,this._catDict=un.getCatalogObj(),!(this._catDict instanceof Re.Dict))throw new Ie.FormatError("Catalog object is not a dictionary.");this.toplevelPagesDict,this._actualNumPages=null,this.fontCache=new Re.RefSetCache,this.builtInCMapCache=new Map,this.standardFontDataCache=new Map,this.globalImageCache=new je.GlobalImageCache,this.pageKidsCountCache=new Re.RefSetCache,this.pageIndexCache=new Re.RefSetCache,this.nonBlendModesSet=new Re.RefSet,this.systemFontCache=new Map}cloneDict(){return this._catDict.clone()}get version(){const rn=this._catDict.get("Version");if(rn instanceof Re.Name){if(xe.PDF_VERSION_REGEXP.test(rn.name))return(0,Ie.shadow)(this,"version",rn.name);(0,Ie.warn)(`Invalid PDF catalog version: ${rn.name}`)}return(0,Ie.shadow)(this,"version",null)}get lang(){const rn=this._catDict.get("Lang");return(0,Ie.shadow)(this,"lang",typeof rn=="string"?(0,Ie.stringToPDFString)(rn):null)}get needsRendering(){const rn=this._catDict.get("NeedsRendering");return(0,Ie.shadow)(this,"needsRendering",typeof rn=="boolean"?rn:!1)}get collection(){let rn=null;try{const un=this._catDict.get("Collection");un instanceof Re.Dict&&un.size>0&&(rn=un)}catch(un){if(un instanceof xe.MissingDataException)throw un;(0,Ie.info)("Cannot fetch Collection entry; assuming no collection is present.")}return(0,Ie.shadow)(this,"collection",rn)}get acroForm(){let rn=null;try{const un=this._catDict.get("AcroForm");un instanceof Re.Dict&&un.size>0&&(rn=un)}catch(un){if(un instanceof xe.MissingDataException)throw un;(0,Ie.info)("Cannot fetch AcroForm entry; assuming no forms are present.")}return(0,Ie.shadow)(this,"acroForm",rn)}get acroFormRef(){const rn=this._catDict.getRaw("AcroForm");return(0,Ie.shadow)(this,"acroFormRef",rn instanceof Re.Ref?rn:null)}get metadata(){const rn=this._catDict.getRaw("Metadata");if(!(rn instanceof Re.Ref))return(0,Ie.shadow)(this,"metadata",null);let un=null;try{const Qe=this.xref.fetch(rn,!this.xref.encrypt?.encryptMetadata);if(Qe instanceof t.BaseStream&&Qe.dict instanceof Re.Dict){const hn=Qe.dict.get("Type"),He=Qe.dict.get("Subtype");if((0,Re.isName)(hn,"Metadata")&&(0,Re.isName)(He,"XML")){const pn=(0,Ie.stringToUTF8String)(Qe.getString());pn&&(un=new nn.MetadataParser(pn).serializable)}}}catch(Qe){if(Qe instanceof xe.MissingDataException)throw Qe;(0,Ie.info)(`Skipping invalid Metadata: "${Qe}".`)}return(0,Ie.shadow)(this,"metadata",un)}get markInfo(){let rn=null;try{rn=this._readMarkInfo()}catch(un){if(un instanceof xe.MissingDataException)throw un;(0,Ie.warn)("Unable to read mark info.")}return(0,Ie.shadow)(this,"markInfo",rn)}_readMarkInfo(){const rn=this._catDict.get("MarkInfo");if(!(rn instanceof Re.Dict))return null;const un={Marked:!1,UserProperties:!1,Suspects:!1};for(const Qe in un){const hn=rn.get(Qe);typeof hn=="boolean"&&(un[Qe]=hn)}return un}get structTreeRoot(){let rn=null;try{rn=this._readStructTreeRoot()}catch(un){if(un instanceof xe.MissingDataException)throw un;(0,Ie.warn)("Unable read to structTreeRoot info.")}return(0,Ie.shadow)(this,"structTreeRoot",rn)}_readStructTreeRoot(){const rn=this._catDict.getRaw("StructTreeRoot"),un=this.xref.fetchIfRef(rn);if(!(un instanceof Re.Dict))return null;const Qe=new Ge.StructTreeRoot(un,rn);return Qe.init(),Qe}get toplevelPagesDict(){const rn=this._catDict.get("Pages");if(!(rn instanceof Re.Dict))throw new Ie.FormatError("Invalid top-level pages dictionary.");return(0,Ie.shadow)(this,"toplevelPagesDict",rn)}get documentOutline(){let rn=null;try{rn=this._readDocumentOutline()}catch(un){if(un instanceof xe.MissingDataException)throw un;(0,Ie.warn)("Unable to read document outline.")}return(0,Ie.shadow)(this,"documentOutline",rn)}_readDocumentOutline(){let rn=this._catDict.get("Outlines");if(!(rn instanceof Re.Dict)||(rn=rn.getRaw("First"),!(rn instanceof Re.Ref)))return null;const un={items:[]},Qe=[{obj:rn,parent:un}],hn=new Re.RefSet;hn.put(rn);const He=this.xref,pn=new Uint8ClampedArray(3);for(;Qe.length>0;){const Xe=Qe.shift(),fn=He.fetchIfRef(Xe.obj);if(fn===null)continue;if(!fn.has("Title"))throw new Ie.FormatError("Invalid outline item encountered.");const dn={url:null,dest:null,action:null};Ce.parseDestDictionary({destDict:fn,resultObj:dn,docBaseUrl:this.baseUrl,docAttachments:this.attachments});const qe=fn.get("Title"),tn=fn.get("F")||0,Me=fn.getArray("C"),De=fn.get("Count");let Ue=pn;Array.isArray(Me)&&Me.length===3&&(Me[0]!==0||Me[1]!==0||Me[2]!==0)&&(Ue=Ye.ColorSpace.singletons.rgb.getRgb(Me,0));const We={action:dn.action,attachment:dn.attachment,dest:dn.dest,url:dn.url,unsafeUrl:dn.unsafeUrl,newWindow:dn.newWindow,setOCGState:dn.setOCGState,title:(0,Ie.stringToPDFString)(qe),color:Ue,count:Number.isInteger(De)?De:void 0,bold:!!(tn&2),italic:!!(tn&1),items:[]};Xe.parent.items.push(We),rn=fn.getRaw("First"),rn instanceof Re.Ref&&!hn.has(rn)&&(Qe.push({obj:rn,parent:We}),hn.put(rn)),rn=fn.getRaw("Next"),rn instanceof Re.Ref&&!hn.has(rn)&&(Qe.push({obj:rn,parent:Xe.parent}),hn.put(rn))}return un.items.length>0?un.items:null}get permissions(){let rn=null;try{rn=this._readPermissions()}catch(un){if(un instanceof xe.MissingDataException)throw un;(0,Ie.warn)("Unable to read permissions.")}return(0,Ie.shadow)(this,"permissions",rn)}_readPermissions(){const rn=this.xref.trailer.get("Encrypt");if(!(rn instanceof Re.Dict))return null;let un=rn.get("P");if(typeof un!="number")return null;un+=4294967296;const Qe=[];for(const hn in Ie.PermissionFlag){const He=Ie.PermissionFlag[hn];un&He&&Qe.push(He)}return Qe}get optionalContentConfig(){let rn=null;try{const un=this._catDict.get("OCProperties");if(!un)return(0,Ie.shadow)(this,"optionalContentConfig",null);const Qe=un.get("D");if(!Qe)return(0,Ie.shadow)(this,"optionalContentConfig",null);const hn=un.get("OCGs");if(!Array.isArray(hn))return(0,Ie.shadow)(this,"optionalContentConfig",null);const He=[],pn=[];for(const Xe of hn){if(!(Xe instanceof Re.Ref))continue;pn.push(Xe);const fn=this.xref.fetchIfRef(Xe);He.push({id:Xe.toString(),name:typeof fn.get("Name")=="string"?(0,Ie.stringToPDFString)(fn.get("Name")):null,intent:typeof fn.get("Intent")=="string"?(0,Ie.stringToPDFString)(fn.get("Intent")):null})}rn=this._readOptionalContentConfig(Qe,pn),rn.groups=He}catch(un){if(un instanceof xe.MissingDataException)throw un;(0,Ie.warn)(`Unable to read optional content config: ${un}`)}return(0,Ie.shadow)(this,"optionalContentConfig",rn)}_readOptionalContentConfig(rn,un){function Qe(dn){const qe=[];if(Array.isArray(dn))for(const tn of dn)tn instanceof Re.Ref&&un.includes(tn)&&qe.push(tn.toString());return qe}function hn(dn,qe=0){if(!Array.isArray(dn))return null;const tn=[];for(const De of dn){if(De instanceof Re.Ref&&un.includes(De)){Xe.put(De),tn.push(De.toString());continue}const Ue=He(De,qe);Ue&&tn.push(Ue)}if(qe>0)return tn;const Me=[];for(const De of un)Xe.has(De)||Me.push(De.toString());return Me.length&&tn.push({name:null,order:Me}),tn}function He(dn,qe){if(++qe>fn)return(0,Ie.warn)("parseNestedOrder - reached MAX_NESTED_LEVELS."),null;const tn=pn.fetchIfRef(dn);if(!Array.isArray(tn))return null;const Me=pn.fetchIfRef(tn[0]);if(typeof Me!="string")return null;const De=hn(tn.slice(1),qe);return!De||!De.length?null:{name:(0,Ie.stringToPDFString)(Me),order:De}}const pn=this.xref,Xe=new Re.RefSet,fn=10;return{name:typeof rn.get("Name")=="string"?(0,Ie.stringToPDFString)(rn.get("Name")):null,creator:typeof rn.get("Creator")=="string"?(0,Ie.stringToPDFString)(rn.get("Creator")):null,baseState:rn.get("BaseState")instanceof Re.Name?rn.get("BaseState").name:null,on:Qe(rn.get("ON")),off:Qe(rn.get("OFF")),order:hn(rn.get("Order")),groups:null}}setActualNumPages(rn=null){this._actualNumPages=rn}get hasActualNumPages(){return this._actualNumPages!==null}get _pagesCount(){const rn=this.toplevelPagesDict.get("Count");if(!Number.isInteger(rn))throw new Ie.FormatError("Page count in top-level pages dictionary is not an integer.");return(0,Ie.shadow)(this,"_pagesCount",rn)}get numPages(){return this.hasActualNumPages?this._actualNumPages:this._pagesCount}get destinations(){const rn=this._readDests(),un=Object.create(null);if(rn instanceof e.NameTree)for(const[Qe,hn]of rn.getAll()){const He=Oe(hn);He&&(un[(0,Ie.stringToPDFString)(Qe)]=He)}else rn instanceof Re.Dict&&rn.forEach(function(Qe,hn){const He=Oe(hn);He&&(un[Qe]=He)});return(0,Ie.shadow)(this,"destinations",un)}getDestination(rn){const un=this._readDests();if(un instanceof e.NameTree){const Qe=Oe(un.get(rn));if(Qe)return Qe;const hn=this.destinations[rn];if(hn)return(0,Ie.warn)(`Found "${rn}" at an incorrect position in the NameTree.`),hn}else if(un instanceof Re.Dict){const Qe=Oe(un.get(rn));if(Qe)return Qe}return null}_readDests(){const rn=this._catDict.get("Names");if(rn?.has("Dests"))return new e.NameTree(rn.getRaw("Dests"),this.xref);if(this._catDict.has("Dests"))return this._catDict.get("Dests")}get pageLabels(){let rn=null;try{rn=this._readPageLabels()}catch(un){if(un instanceof xe.MissingDataException)throw un;(0,Ie.warn)("Unable to read page labels.")}return(0,Ie.shadow)(this,"pageLabels",rn)}_readPageLabels(){const rn=this._catDict.getRaw("PageLabels");if(!rn)return null;const un=new Array(this.numPages);let Qe=null,hn="";const pn=new e.NumberTree(rn,this.xref).getAll();let Xe="",fn=1;for(let dn=0,qe=this.numPages;dn<qe;dn++){const tn=pn.get(dn);if(tn!==void 0){if(!(tn instanceof Re.Dict))throw new Ie.FormatError("PageLabel is not a dictionary.");if(tn.has("Type")&&!(0,Re.isName)(tn.get("Type"),"PageLabel"))throw new Ie.FormatError("Invalid type in PageLabel dictionary.");if(tn.has("S")){const Me=tn.get("S");if(!(Me instanceof Re.Name))throw new Ie.FormatError("Invalid style in PageLabel dictionary.");Qe=Me.name}else Qe=null;if(tn.has("P")){const Me=tn.get("P");if(typeof Me!="string")throw new Ie.FormatError("Invalid prefix in PageLabel dictionary.");hn=(0,Ie.stringToPDFString)(Me)}else hn="";if(tn.has("St")){const Me=tn.get("St");if(!(Number.isInteger(Me)&&Me>=1))throw new Ie.FormatError("Invalid start in PageLabel dictionary.");fn=Me}else fn=1}switch(Qe){case"D":Xe=fn;break;case"R":case"r":Xe=(0,xe.toRomanNumerals)(fn,Qe==="r");break;case"A":case"a":const Me=26,We=Qe==="a"?97:65,$e=fn-1;Xe=String.fromCharCode(We+$e%Me).repeat(Math.floor($e/Me)+1);break;default:if(Qe)throw new Ie.FormatError(`Invalid style "${Qe}" in PageLabel dictionary.`);Xe=""}un[dn]=hn+Xe,fn++}return un}get pageLayout(){const rn=this._catDict.get("PageLayout");let un="";if(rn instanceof Re.Name)switch(rn.name){case"SinglePage":case"OneColumn":case"TwoColumnLeft":case"TwoColumnRight":case"TwoPageLeft":case"TwoPageRight":un=rn.name}return(0,Ie.shadow)(this,"pageLayout",un)}get pageMode(){const rn=this._catDict.get("PageMode");let un="UseNone";if(rn instanceof Re.Name)switch(rn.name){case"UseNone":case"UseOutlines":case"UseThumbs":case"FullScreen":case"UseOC":case"UseAttachments":un=rn.name}return(0,Ie.shadow)(this,"pageMode",un)}get viewerPreferences(){const rn=this._catDict.get("ViewerPreferences");if(!(rn instanceof Re.Dict))return(0,Ie.shadow)(this,"viewerPreferences",null);let un=null;for(const Qe of rn.getKeys()){const hn=rn.get(Qe);let He;switch(Qe){case"HideToolbar":case"HideMenubar":case"HideWindowUI":case"FitWindow":case"CenterWindow":case"DisplayDocTitle":case"PickTrayByPDFSize":typeof hn=="boolean"&&(He=hn);break;case"NonFullScreenPageMode":if(hn instanceof Re.Name)switch(hn.name){case"UseNone":case"UseOutlines":case"UseThumbs":case"UseOC":He=hn.name;break;default:He="UseNone"}break;case"Direction":if(hn instanceof Re.Name)switch(hn.name){case"L2R":case"R2L":He=hn.name;break;default:He="L2R"}break;case"ViewArea":case"ViewClip":case"PrintArea":case"PrintClip":if(hn instanceof Re.Name)switch(hn.name){case"MediaBox":case"CropBox":case"BleedBox":case"TrimBox":case"ArtBox":He=hn.name;break;default:He="CropBox"}break;case"PrintScaling":if(hn instanceof Re.Name)switch(hn.name){case"None":case"AppDefault":He=hn.name;break;default:He="AppDefault"}break;case"Duplex":if(hn instanceof Re.Name)switch(hn.name){case"Simplex":case"DuplexFlipShortEdge":case"DuplexFlipLongEdge":He=hn.name;break;default:He="None"}break;case"PrintPageRange":Array.isArray(hn)&&hn.length%2===0&&hn.every((Xe,fn,dn)=>Number.isInteger(Xe)&&Xe>0&&(fn===0||Xe>=dn[fn-1])&&Xe<=this.numPages)&&(He=hn);break;case"NumCopies":Number.isInteger(hn)&&hn>0&&(He=hn);break;default:(0,Ie.warn)(`Ignoring non-standard key in ViewerPreferences: ${Qe}.`);continue}if(He===void 0){(0,Ie.warn)(`Bad value, for key "${Qe}", in ViewerPreferences: ${hn}.`);continue}un||(un=Object.create(null)),un[Qe]=He}return(0,Ie.shadow)(this,"viewerPreferences",un)}get openAction(){const rn=this._catDict.get("OpenAction"),un=Object.create(null);if(rn instanceof Re.Dict){const Qe=new Re.Dict(this.xref);Qe.set("A",rn);const hn={url:null,dest:null,action:null};Ce.parseDestDictionary({destDict:Qe,resultObj:hn}),Array.isArray(hn.dest)?un.dest=hn.dest:hn.action&&(un.action=hn.action)}else Array.isArray(rn)&&(un.dest=rn);return(0,Ie.shadow)(this,"openAction",(0,Ie.objectSize)(un)>0?un:null)}get attachments(){const rn=this._catDict.get("Names");let un=null;if(rn instanceof Re.Dict&&rn.has("EmbeddedFiles")){const Qe=new e.NameTree(rn.getRaw("EmbeddedFiles"),this.xref);for(const[hn,He]of Qe.getAll()){const pn=new en.FileSpec(He,this.xref);un||(un=Object.create(null)),un[(0,Ie.stringToPDFString)(hn)]=pn.serializable}}return(0,Ie.shadow)(this,"attachments",un)}get xfaImages(){const rn=this._catDict.get("Names");let un=null;if(rn instanceof Re.Dict&&rn.has("XFAImages")){const Qe=new e.NameTree(rn.getRaw("XFAImages"),this.xref);for(const[hn,He]of Qe.getAll())un||(un=new Re.Dict(this.xref)),un.set((0,Ie.stringToPDFString)(hn),He)}return(0,Ie.shadow)(this,"xfaImages",un)}_collectJavaScript(){const rn=this._catDict.get("Names");let un=null;function Qe(He,pn){if(!(pn instanceof Re.Dict)||!(0,Re.isName)(pn.get("S"),"JavaScript"))return;let Xe=pn.get("JS");if(Xe instanceof t.BaseStream)Xe=Xe.getString();else if(typeof Xe!="string")return;Xe=(0,Ie.stringToPDFString)(Xe).replaceAll("\0",""),Xe&&(un||=new Map).set(He,Xe)}if(rn instanceof Re.Dict&&rn.has("JavaScript")){const He=new e.NameTree(rn.getRaw("JavaScript"),this.xref);for(const[pn,Xe]of He.getAll())Qe((0,Ie.stringToPDFString)(pn),Xe)}const hn=this._catDict.get("OpenAction");return hn&&Qe("OpenAction",hn),un}get jsActions(){const rn=this._collectJavaScript();let un=(0,xe.collectActions)(this.xref,this._catDict,Ie.DocumentActionEventType);if(rn){un||=Object.create(null);for(const[Qe,hn]of rn)Qe in un?un[Qe].push(hn):un[Qe]=[hn]}return(0,Ie.shadow)(this,"jsActions",un)}async fontFallback(rn,un){const Qe=await Promise.all(this.fontCache);for(const hn of Qe)if(hn.loadedName===rn){hn.fallback(un);return}}async cleanup(rn=!1){(0,Te.clearGlobalCaches)(),this.globalImageCache.clear(rn),this.pageKidsCountCache.clear(),this.pageIndexCache.clear(),this.nonBlendModesSet.clear();const un=await Promise.all(this.fontCache);for(const{dict:Qe}of un)delete Qe.cacheKey;this.fontCache.clear(),this.builtInCMapCache.clear(),this.standardFontDataCache.clear(),this.systemFontCache.clear()}async getPageDict(rn){const un=[this.toplevelPagesDict],Qe=new Re.RefSet,hn=this._catDict.getRaw("Pages");hn instanceof Re.Ref&&Qe.put(hn);const He=this.xref,pn=this.pageKidsCountCache,Xe=this.pageIndexCache;let fn=0;for(;un.length;){const dn=un.pop();if(dn instanceof Re.Ref){const De=pn.get(dn);if(De>=0&&fn+De<=rn){fn+=De;continue}if(Qe.has(dn))throw new Ie.FormatError("Pages tree contains circular reference.");Qe.put(dn);const Ue=await He.fetchAsync(dn);if(Ue instanceof Re.Dict){let We=Ue.getRaw("Type");if(We instanceof Re.Ref&&(We=await He.fetchAsync(We)),(0,Re.isName)(We,"Page")||!Ue.has("Kids")){if(pn.has(dn)||pn.put(dn,1),Xe.has(dn)||Xe.put(dn,fn),fn===rn)return[Ue,dn];fn++;continue}}un.push(Ue);continue}if(!(dn instanceof Re.Dict))throw new Ie.FormatError("Page dictionary kid reference points to wrong type of object.");const{objId:qe}=dn;let tn=dn.getRaw("Count");if(tn instanceof Re.Ref&&(tn=await He.fetchAsync(tn)),Number.isInteger(tn)&&tn>=0&&(qe&&!pn.has(qe)&&pn.put(qe,tn),fn+tn<=rn)){fn+=tn;continue}let Me=dn.getRaw("Kids");if(Me instanceof Re.Ref&&(Me=await He.fetchAsync(Me)),!Array.isArray(Me)){let De=dn.getRaw("Type");if(De instanceof Re.Ref&&(De=await He.fetchAsync(De)),(0,Re.isName)(De,"Page")||!dn.has("Kids")){if(fn===rn)return[dn,null];fn++;continue}throw new Ie.FormatError("Page dictionary kids object is not an array.")}for(let De=Me.length-1;De>=0;De--)un.push(Me[De])}throw new Error(`Page index ${rn} not found.`)}async getAllPageDicts(rn=!1){const{ignoreErrors:un}=this.pdfManager.evaluatorOptions,Qe=[{currentNode:this.toplevelPagesDict,posInKids:0}],hn=new Re.RefSet,He=this._catDict.getRaw("Pages");He instanceof Re.Ref&&hn.put(He);const pn=new Map,Xe=this.xref,fn=this.pageIndexCache;let dn=0;function qe(Me,De){De&&!fn.has(De)&&fn.put(De,dn),pn.set(dn++,[Me,De])}function tn(Me){if(Me instanceof xe.XRefEntryException&&!rn)throw Me;rn&&un&&dn===0&&((0,Ie.warn)(`getAllPageDicts - Skipping invalid first page: "${Me}".`),Me=Re.Dict.empty),pn.set(dn++,[Me,null])}for(;Qe.length>0;){const Me=Qe.at(-1),{currentNode:De,posInKids:Ue}=Me;let We=De.getRaw("Kids");if(We instanceof Re.Ref)try{We=await Xe.fetchAsync(We)}catch(an){tn(an);break}if(!Array.isArray(We)){tn(new Ie.FormatError("Page dictionary kids object is not an array."));break}if(Ue>=We.length){Qe.pop();continue}const $e=We[Ue];let on;if($e instanceof Re.Ref){if(hn.has($e)){tn(new Ie.FormatError("Pages tree contains circular reference."));break}hn.put($e);try{on=await Xe.fetchAsync($e)}catch(an){tn(an);break}}else on=$e;if(!(on instanceof Re.Dict)){tn(new Ie.FormatError("Page dictionary kid reference points to wrong type of object."));break}let Je=on.getRaw("Type");if(Je instanceof Re.Ref)try{Je=await Xe.fetchAsync(Je)}catch(an){tn(an);break}(0,Re.isName)(Je,"Page")||!on.has("Kids")?qe(on,$e instanceof Re.Ref?$e:null):Qe.push({currentNode:on,posInKids:0}),Me.posInKids++}return pn}getPageIndex(rn){const un=this.pageIndexCache.get(rn);if(un!==void 0)return Promise.resolve(un);const Qe=this.xref;function hn(Xe){let fn=0,dn;return Qe.fetchAsync(Xe).then(function(qe){if((0,Re.isRefsEqual)(Xe,rn)&&!(0,Re.isDict)(qe,"Page")&&!(qe instanceof Re.Dict&&!qe.has("Type")&&qe.has("Contents")))throw new Ie.FormatError("The reference does not point to a /Page dictionary.");if(!qe)return null;if(!(qe instanceof Re.Dict))throw new Ie.FormatError("Node must be a dictionary.");return dn=qe.getRaw("Parent"),qe.getAsync("Parent")}).then(function(qe){if(!qe)return null;if(!(qe instanceof Re.Dict))throw new Ie.FormatError("Parent must be a dictionary.");return qe.getAsync("Kids")}).then(function(qe){if(!qe)return null;const tn=[];let Me=!1;for(const De of qe){if(!(De instanceof Re.Ref))throw new Ie.FormatError("Kid must be a reference.");if((0,Re.isRefsEqual)(De,Xe)){Me=!0;break}tn.push(Qe.fetchAsync(De).then(function(Ue){if(!(Ue instanceof Re.Dict))throw new Ie.FormatError("Kid node must be a dictionary.");Ue.has("Count")?fn+=Ue.get("Count"):fn++}))}if(!Me)throw new Ie.FormatError("Kid reference not found in parent's kids.");return Promise.all(tn).then(function(){return[fn,dn]})})}let He=0;const pn=Xe=>hn(Xe).then(fn=>{if(!fn)return this.pageIndexCache.put(rn,He),He;const[dn,qe]=fn;return He+=dn,pn(qe)});return pn(rn)}get baseUrl(){const rn=this._catDict.get("URI");if(rn instanceof Re.Dict){const un=rn.get("Base");if(typeof un=="string"){const Qe=(0,Ie.createValidAbsoluteUrl)(un,null,{tryConvertEncoding:!0});if(Qe)return(0,Ie.shadow)(this,"baseUrl",Qe.href)}}return(0,Ie.shadow)(this,"baseUrl",this.pdfManager.docBaseUrl)}static parseDestDictionary({destDict:rn,resultObj:un,docBaseUrl:Qe=null,docAttachments:hn=null}){if(!(rn instanceof Re.Dict)){(0,Ie.warn)("parseDestDictionary: `destDict` must be a dictionary.");return}let He=rn.get("A"),pn,Xe;if(He instanceof Re.Dict||(rn.has("Dest")?He=rn.get("Dest"):(He=rn.get("AA"),He instanceof Re.Dict&&(He.has("D")?He=He.get("D"):He.has("U")&&(He=He.get("U"))))),He instanceof Re.Dict){const fn=He.get("S");if(!(fn instanceof Re.Name)){(0,Ie.warn)("parseDestDictionary: Invalid type in Action dictionary.");return}const dn=fn.name;switch(dn){case"ResetForm":const qe=He.get("Flags"),tn=((typeof qe=="number"?qe:0)&1)===0,Me=[],De=[];for(const _n of He.get("Fields")||[])_n instanceof Re.Ref?De.push(_n.toString()):typeof _n=="string"&&Me.push((0,Ie.stringToPDFString)(_n));un.resetForm={fields:Me,refs:De,include:tn};break;case"URI":pn=He.get("URI"),pn instanceof Re.Name&&(pn="/"+pn.name);break;case"GoTo":Xe=He.get("D");break;case"Launch":case"GoToR":const Ue=He.get("F");Ue instanceof Re.Dict?pn=Ue.get("F")||null:typeof Ue=="string"&&(pn=Ue);let We=He.get("D");if(We&&(We instanceof Re.Name&&(We=We.name),typeof pn=="string")){const _n=pn.split("#")[0];typeof We=="string"?pn=_n+"#"+We:Array.isArray(We)&&(pn=_n+"#"+JSON.stringify(We))}const $e=He.get("NewWindow");typeof $e=="boolean"&&(un.newWindow=$e);break;case"GoToE":const on=He.get("T");let Je;if(hn&&on instanceof Re.Dict){const _n=on.get("R"),wn=on.get("N");(0,Re.isName)(_n,"C")&&typeof wn=="string"&&(Je=hn[(0,Ie.stringToPDFString)(wn)])}Je?un.attachment=Je:(0,Ie.warn)('parseDestDictionary - unimplemented "GoToE" action.');break;case"Named":const an=He.get("N");an instanceof Re.Name&&(un.action=an.name);break;case"SetOCGState":const Ke=He.get("State"),sn=He.get("PreserveRB");if(!Array.isArray(Ke)||Ke.length===0)break;const gn=[];for(const _n of Ke)if(_n instanceof Re.Name)switch(_n.name){case"ON":case"OFF":case"Toggle":gn.push(_n.name);break}else _n instanceof Re.Ref&&gn.push(_n.toString());if(gn.length!==Ke.length)break;un.setOCGState={state:gn,preserveRB:typeof sn=="boolean"?sn:!0};break;case"JavaScript":const mn=He.get("JS");let yn;mn instanceof t.BaseStream?yn=mn.getString():typeof mn=="string"&&(yn=mn);const Sn=yn&&(0,xe.recoverJsURL)((0,Ie.stringToPDFString)(yn));if(Sn){pn=Sn.url,un.newWindow=Sn.newWindow;break}default:if(dn==="JavaScript"||dn==="SubmitForm")break;(0,Ie.warn)(`parseDestDictionary - unsupported action: "${dn}".`);break}}else rn.has("Dest")&&(Xe=rn.get("Dest"));if(typeof pn=="string"){const fn=(0,Ie.createValidAbsoluteUrl)(pn,Qe,{addDefaultProtocol:!0,tryConvertEncoding:!0});fn&&(un.url=fn.href),un.unsafeUrl=pn}Xe&&(Xe instanceof Re.Name&&(Xe=Xe.name),typeof Xe=="string"?un.dest=(0,Ie.stringToPDFString)(Xe):Array.isArray(Xe)&&(un.dest=Xe))}}_e.Catalog=Ce},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.NumberTree=_e.NameTree=void 0;var xe=ze(4),Ie=ze(2);class Re{constructor(Ye,en,je){this.constructor===Re&&(0,Ie.unreachable)("Cannot initialize NameOrNumberTree."),this.root=Ye,this.xref=en,this._type=je}getAll(){const Ye=new Map;if(!this.root)return Ye;const en=this.xref,je=new xe.RefSet;je.put(this.root);const nn=[this.root];for(;nn.length>0;){const Ge=en.fetchIfRef(nn.shift());if(!(Ge instanceof xe.Dict))continue;if(Ge.has("Kids")){const Ce=Ge.get("Kids");if(!Array.isArray(Ce))continue;for(const St of Ce){if(je.has(St))throw new Ie.FormatError(`Duplicate entry in "${this._type}" tree.`);nn.push(St),je.put(St)}continue}const Oe=Ge.get(this._type);if(Array.isArray(Oe))for(let Ce=0,St=Oe.length;Ce<St;Ce+=2)Ye.set(en.fetchIfRef(Oe[Ce]),en.fetchIfRef(Oe[Ce+1]))}return Ye}get(Ye){if(!this.root)return null;const en=this.xref;let je=en.fetchIfRef(this.root),nn=0;const Ge=10;for(;je.has("Kids");){if(++nn>Ge)return(0,Ie.warn)(`Search depth limit reached for "${this._type}" tree.`),null;const Ce=je.get("Kids");if(!Array.isArray(Ce))return null;let St=0,rn=Ce.length-1;for(;St<=rn;){const un=St+rn>>1,Qe=en.fetchIfRef(Ce[un]),hn=Qe.get("Limits");if(Ye<en.fetchIfRef(hn[0]))rn=un-1;else if(Ye>en.fetchIfRef(hn[1]))St=un+1;else{je=Qe;break}}if(St>rn)return null}const Oe=je.get(this._type);if(Array.isArray(Oe)){let Ce=0,St=Oe.length-2;for(;Ce<=St;){const rn=Ce+St>>1,un=rn+(rn&1),Qe=en.fetchIfRef(Oe[un]);if(Ye<Qe)St=un-2;else if(Ye>Qe)Ce=un+2;else return en.fetchIfRef(Oe[un+1])}}return null}}class e extends Re{constructor(Ye,en){super(Ye,en,"Names")}}_e.NameTree=e;class t extends Re{constructor(Ye,en){super(Ye,en,"Nums")}}_e.NumberTree=t},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.clearGlobalCaches=e;var xe=ze(50),Ie=ze(4),Re=ze(40);function e(){(0,xe.clearPatternCaches)(),(0,Ie.clearPrimitiveCaches)(),(0,Re.clearUnicodeCaches)()}},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.FileSpec=void 0;var xe=ze(2),Ie=ze(5),Re=ze(4);function e(Te){return Te.has("UF")?Te.get("UF"):Te.has("F")?Te.get("F"):Te.has("Unix")?Te.get("Unix"):Te.has("Mac")?Te.get("Mac"):Te.has("DOS")?Te.get("DOS"):null}class t{constructor(Ye,en){Ye instanceof Re.Dict&&(this.xref=en,this.root=Ye,Ye.has("FS")&&(this.fs=Ye.get("FS")),this.description=Ye.has("Desc")?(0,xe.stringToPDFString)(Ye.get("Desc")):"",Ye.has("RF")&&(0,xe.warn)("Related file specifications are not supported"),this.contentAvailable=!0,Ye.has("EF")||(this.contentAvailable=!1,(0,xe.warn)("Non-embedded file specifications are not supported")))}get filename(){if(!this._filename&&this.root){const Ye=e(this.root)||"unnamed";this._filename=(0,xe.stringToPDFString)(Ye).replaceAll("\\\\","\\").replaceAll("\\/","/").replaceAll("\\","/")}return this._filename}get content(){if(!this.contentAvailable)return null;!this.contentRef&&this.root&&(this.contentRef=e(this.root.get("EF")));let Ye=null;if(this.contentRef){const en=this.xref.fetchIfRef(this.contentRef);en instanceof Ie.BaseStream?Ye=en.getBytes():(0,xe.warn)("Embedded file specification points to non-existing/invalid content")}else(0,xe.warn)("Embedded file specification does not have a content");return Ye}get serializable(){return{filename:this.filename,content:this.content}}}_e.FileSpec=t},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.MetadataParser=void 0;var xe=ze(71);class Ie{constructor(e){e=this._repair(e);const Te=new xe.SimpleXMLParser({lowerCaseName:!0}).parseFromString(e);this._metadataMap=new Map,this._data=e,Te&&this._parse(Te)}_repair(e){return e.replace(/^[^<]+/,"").replaceAll(/>\\376\\377([^<]+)/g,function(t,Te){const Ye=Te.replaceAll(/\\([0-3])([0-7])([0-7])/g,function(je,nn,Ge,Oe){return String.fromCharCode(nn*64+Ge*8+Oe*1)}).replaceAll(/&(amp|apos|gt|lt|quot);/g,function(je,nn){switch(nn){case"amp":return"&";case"apos":return"'";case"gt":return">";case"lt":return"<";case"quot":return'"'}throw new Error(`_repair: ${nn} isn't defined.`)}),en=[">"];for(let je=0,nn=Ye.length;je<nn;je+=2){const Ge=Ye.charCodeAt(je)*256+Ye.charCodeAt(je+1);Ge>=32&&Ge<127&&Ge!==60&&Ge!==62&&Ge!==38?en.push(String.fromCharCode(Ge)):en.push("&#x"+(65536+Ge).toString(16).substring(1)+";")}return en.join("")})}_getSequence(e){const t=e.nodeName;return t!=="rdf:bag"&&t!=="rdf:seq"&&t!=="rdf:alt"?null:e.childNodes.filter(Te=>Te.nodeName==="rdf:li")}_parseArray(e){if(!e.hasChildNodes())return;const[t]=e.childNodes,Te=this._getSequence(t)||[];this._metadataMap.set(e.nodeName,Te.map(Ye=>Ye.textContent.trim()))}_parse(e){let t=e.documentElement;if(t.nodeName!=="rdf:rdf")for(t=t.firstChild;t&&t.nodeName!=="rdf:rdf";)t=t.nextSibling;if(!(!t||t.nodeName!=="rdf:rdf"||!t.hasChildNodes())){for(const Te of t.childNodes)if(Te.nodeName==="rdf:description")for(const Ye of Te.childNodes){const en=Ye.nodeName;switch(en){case"#text":continue;case"dc:creator":case"dc:subject":this._parseArray(Ye);continue}this._metadataMap.set(en,Ye.textContent.trim())}}}get serializable(){return{parsedData:this._metadataMap,rawData:this._data}}}_e.MetadataParser=Ie},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.XMLParserErrorCode=_e.XMLParserBase=_e.SimpleXMLParser=_e.SimpleDOMNode=void 0;var xe=ze(3);const Ie={NoError:0,EndOfDocument:-1,UnterminatedCdat:-2,UnterminatedXmlDeclaration:-3,UnterminatedDoctypeDeclaration:-4,UnterminatedComment:-5,MalformedElement:-6,OutOfMemory:-7,UnterminatedAttributeValue:-8,UnterminatedElement:-9,ElementNeverBegun:-10};_e.XMLParserErrorCode=Ie;function Re(en,je){const nn=en[je];return nn===" "||nn===`
`||nn==="\r"||nn==="	"}function e(en){for(let je=0,nn=en.length;je<nn;je++)if(!Re(en,je))return!1;return!0}class t{_resolveEntities(je){return je.replaceAll(/&([^;]+);/g,(nn,Ge)=>{if(Ge.substring(0,2)==="#x")return String.fromCodePoint(parseInt(Ge.substring(2),16));if(Ge.substring(0,1)==="#")return String.fromCodePoint(parseInt(Ge.substring(1),10));switch(Ge){case"lt":return"<";case"gt":return">";case"amp":return"&";case"quot":return'"';case"apos":return"'"}return this.onResolveEntity(Ge)})}_parseContent(je,nn){const Ge=[];let Oe=nn;function Ce(){for(;Oe<je.length&&Re(je,Oe);)++Oe}for(;Oe<je.length&&!Re(je,Oe)&&je[Oe]!==">"&&je[Oe]!=="/";)++Oe;const St=je.substring(nn,Oe);for(Ce();Oe<je.length&&je[Oe]!==">"&&je[Oe]!=="/"&&je[Oe]!=="?";){Ce();let rn="",un="";for(;Oe<je.length&&!Re(je,Oe)&&je[Oe]!=="=";)rn+=je[Oe],++Oe;if(Ce(),je[Oe]!=="=")return null;++Oe,Ce();const Qe=je[Oe];if(Qe!=='"'&&Qe!=="'")return null;const hn=je.indexOf(Qe,++Oe);if(hn<0)return null;un=je.substring(Oe,hn),Ge.push({name:rn,value:this._resolveEntities(un)}),Oe=hn+1,Ce()}return{name:St,attributes:Ge,parsed:Oe-nn}}_parseProcessingInstruction(je,nn){let Ge=nn;function Oe(){for(;Ge<je.length&&Re(je,Ge);)++Ge}for(;Ge<je.length&&!Re(je,Ge)&&je[Ge]!==">"&&je[Ge]!=="?"&&je[Ge]!=="/";)++Ge;const Ce=je.substring(nn,Ge);Oe();const St=Ge;for(;Ge<je.length&&(je[Ge]!=="?"||je[Ge+1]!==">");)++Ge;const rn=je.substring(St,Ge);return{name:Ce,value:rn,parsed:Ge-nn}}parseXml(je){let nn=0;for(;nn<je.length;){const Ge=je[nn];let Oe=nn;if(Ge==="<"){++Oe;const Ce=je[Oe];let St;switch(Ce){case"/":if(++Oe,St=je.indexOf(">",Oe),St<0){this.onError(Ie.UnterminatedElement);return}this.onEndElement(je.substring(Oe,St)),Oe=St+1;break;case"?":++Oe;const rn=this._parseProcessingInstruction(je,Oe);if(je.substring(Oe+rn.parsed,Oe+rn.parsed+2)!=="?>"){this.onError(Ie.UnterminatedXmlDeclaration);return}this.onPi(rn.name,rn.value),Oe+=rn.parsed+2;break;case"!":if(je.substring(Oe+1,Oe+3)==="--"){if(St=je.indexOf("-->",Oe+3),St<0){this.onError(Ie.UnterminatedComment);return}this.onComment(je.substring(Oe+3,St)),Oe=St+3}else if(je.substring(Oe+1,Oe+8)==="[CDATA["){if(St=je.indexOf("]]>",Oe+8),St<0){this.onError(Ie.UnterminatedCdat);return}this.onCdata(je.substring(Oe+8,St)),Oe=St+3}else if(je.substring(Oe+1,Oe+8)==="DOCTYPE"){const hn=je.indexOf("[",Oe+8);let He=!1;if(St=je.indexOf(">",Oe+8),St<0){this.onError(Ie.UnterminatedDoctypeDeclaration);return}if(hn>0&&St>hn){if(St=je.indexOf("]>",Oe+8),St<0){this.onError(Ie.UnterminatedDoctypeDeclaration);return}He=!0}const pn=je.substring(Oe+8,St+(He?1:0));this.onDoctype(pn),Oe=St+(He?2:1)}else{this.onError(Ie.MalformedElement);return}break;default:const un=this._parseContent(je,Oe);if(un===null){this.onError(Ie.MalformedElement);return}let Qe=!1;if(je.substring(Oe+un.parsed,Oe+un.parsed+2)==="/>")Qe=!0;else if(je.substring(Oe+un.parsed,Oe+un.parsed+1)!==">"){this.onError(Ie.UnterminatedElement);return}this.onBeginElement(un.name,un.attributes,Qe),Oe+=un.parsed+(Qe?2:1);break}}else{for(;Oe<je.length&&je[Oe]!=="<";)Oe++;const Ce=je.substring(nn,Oe);this.onText(this._resolveEntities(Ce))}nn=Oe}}onResolveEntity(je){return`&${je};`}onPi(je,nn){}onComment(je){}onCdata(je){}onDoctype(je){}onText(je){}onBeginElement(je,nn,Ge){}onEndElement(je){}onError(je){}}_e.XMLParserBase=t;class Te{constructor(je,nn){this.nodeName=je,this.nodeValue=nn,Object.defineProperty(this,"parentNode",{value:null,writable:!0})}get firstChild(){return this.childNodes?.[0]}get nextSibling(){const je=this.parentNode.childNodes;if(!je)return;const nn=je.indexOf(this);if(nn!==-1)return je[nn+1]}get textContent(){return this.childNodes?this.childNodes.map(function(je){return je.textContent}).join(""):this.nodeValue||""}get children(){return this.childNodes||[]}hasChildNodes(){return this.childNodes?.length>0}searchNode(je,nn){if(nn>=je.length)return this;const Ge=je[nn];if(Ge.name.startsWith("#")&&nn<je.length-1)return this.searchNode(je,nn+1);const Oe=[];let Ce=this;for(;;){if(Ge.name===Ce.nodeName)if(Ge.pos===0){const St=Ce.searchNode(je,nn+1);if(St!==null)return St}else{if(Oe.length===0)return null;{const[St]=Oe.pop();let rn=0;for(const un of St.childNodes)if(Ge.name===un.nodeName){if(rn===Ge.pos)return un.searchNode(je,nn+1);rn++}return Ce.searchNode(je,nn+1)}}if(Ce.childNodes?.length>0)Oe.push([Ce,0]),Ce=Ce.childNodes[0];else{if(Oe.length===0)return null;for(;Oe.length!==0;){const[St,rn]=Oe.pop(),un=rn+1;if(un<St.childNodes.length){Oe.push([St,un]),Ce=St.childNodes[un];break}}if(Oe.length===0)return null}}}dump(je){if(this.nodeName==="#text"){je.push((0,xe.encodeToXmlString)(this.nodeValue));return}if(je.push(`<${this.nodeName}`),this.attributes)for(const nn of this.attributes)je.push(` ${nn.name}="${(0,xe.encodeToXmlString)(nn.value)}"`);if(this.hasChildNodes()){je.push(">");for(const nn of this.childNodes)nn.dump(je);je.push(`</${this.nodeName}>`)}else this.nodeValue?je.push(`>${(0,xe.encodeToXmlString)(this.nodeValue)}</${this.nodeName}>`):je.push("/>")}}_e.SimpleDOMNode=Te;class Ye extends t{constructor({hasAttributes:je=!1,lowerCaseName:nn=!1}){super(),this._currentFragment=null,this._stack=null,this._errorCode=Ie.NoError,this._hasAttributes=je,this._lowerCaseName=nn}parseFromString(je){if(this._currentFragment=[],this._stack=[],this._errorCode=Ie.NoError,this.parseXml(je),this._errorCode!==Ie.NoError)return;const[nn]=this._currentFragment;if(nn)return{documentElement:nn}}onText(je){if(e(je))return;const nn=new Te("#text",je);this._currentFragment.push(nn)}onCdata(je){const nn=new Te("#text",je);this._currentFragment.push(nn)}onBeginElement(je,nn,Ge){this._lowerCaseName&&(je=je.toLowerCase());const Oe=new Te(je);Oe.childNodes=[],this._hasAttributes&&(Oe.attributes=nn),this._currentFragment.push(Oe),!Ge&&(this._stack.push(this._currentFragment),this._currentFragment=Oe.childNodes)}onEndElement(je){this._currentFragment=this._stack.pop()||[];const nn=this._currentFragment.at(-1);if(!nn)return null;for(const Ge of nn.childNodes)Ge.parentNode=nn;return nn}onError(je){this._errorCode=je}}_e.SimpleXMLParser=Ye},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.StructTreeRoot=_e.StructTreePage=void 0;var xe=ze(2),Ie=ze(4),Re=ze(67),e=ze(73);const t=40,Te={PAGE_CONTENT:1,STREAM_CONTENT:2,OBJECT:3,ANNOTATION:4,ELEMENT:5};class Ye{constructor(Oe,Ce){this.dict=Oe,this.ref=Ce instanceof Ie.Ref?Ce:null,this.roleMap=new Map,this.structParentIds=null}init(){this.readRoleMap()}#e(Oe,Ce,St){if(!(Oe instanceof Ie.Ref)||Ce<0)return;this.structParentIds||=new Ie.RefSetCache;let rn=this.structParentIds.get(Oe);rn||(rn=[],this.structParentIds.put(Oe,rn)),rn.push([Ce,St])}addAnnotationIdToPage(Oe,Ce){this.#e(Oe,Ce,Te.ANNOTATION)}readRoleMap(){const Oe=this.dict.get("RoleMap");Oe instanceof Ie.Dict&&Oe.forEach((Ce,St)=>{St instanceof Ie.Name&&this.roleMap.set(Ce,St.name)})}static async canCreateStructureTree({catalogRef:Oe,pdfManager:Ce,newAnnotationsByPage:St}){if(!(Oe instanceof Ie.Ref))return(0,xe.warn)("Cannot save the struct tree: no catalog reference."),!1;let rn=0,un=!0;for(const[Qe,hn]of St){const{ref:He}=await Ce.getPage(Qe);if(!(He instanceof Ie.Ref)){(0,xe.warn)(`Cannot save the struct tree: page ${Qe} has no ref.`),un=!0;break}for(const pn of hn)pn.accessibilityData?.type&&(pn.parentTreeId=rn++,un=!1)}if(un){for(const Qe of St.values())for(const hn of Qe)delete hn.parentTreeId;return!1}return!0}static async createStructureTree({newAnnotationsByPage:Oe,xref:Ce,catalogRef:St,pdfManager:rn,newRefs:un}){const Qe=rn.catalog.cloneDict(),hn=Ce.getNewTemporaryRef();Qe.set("StructTreeRoot",hn);const He=[];await(0,e.writeObject)(St,Qe,He,Ce),un.push({ref:St,data:He.join("")});const pn=new Ie.Dict(Ce);pn.set("Type",Ie.Name.get("StructTreeRoot"));const Xe=Ce.getNewTemporaryRef();pn.set("ParentTree",Xe);const fn=[];pn.set("K",fn);const dn=new Ie.Dict(Ce),qe=[];dn.set("Nums",qe);const tn=await this.#t({newAnnotationsByPage:Oe,structTreeRootRef:hn,kids:fn,nums:qe,xref:Ce,pdfManager:rn,newRefs:un,buffer:He});pn.set("ParentTreeNextKey",tn),He.length=0,await(0,e.writeObject)(Xe,dn,He,Ce),un.push({ref:Xe,data:He.join("")}),He.length=0,await(0,e.writeObject)(hn,pn,He,Ce),un.push({ref:hn,data:He.join("")})}async canUpdateStructTree({pdfManager:Oe,newAnnotationsByPage:Ce}){if(!this.ref)return(0,xe.warn)("Cannot update the struct tree: no root reference."),!1;let St=this.dict.get("ParentTreeNextKey");if(!Number.isInteger(St)||St<0)return(0,xe.warn)("Cannot update the struct tree: invalid next key."),!1;const rn=this.dict.get("ParentTree");if(!(rn instanceof Ie.Dict))return(0,xe.warn)("Cannot update the struct tree: ParentTree isn't a dict."),!1;const un=rn.get("Nums");if(!Array.isArray(un))return(0,xe.warn)("Cannot update the struct tree: nums isn't an array."),!1;const{numPages:Qe}=Oe.catalog;for(const He of Ce.keys()){const{pageDict:pn,ref:Xe}=await Oe.getPage(He);if(!(Xe instanceof Ie.Ref))return(0,xe.warn)(`Cannot save the struct tree: page ${He} has no ref.`),!1;const fn=pn.get("StructParents");if(!Number.isInteger(fn)||fn<0||fn>=Qe)return(0,xe.warn)(`Cannot save the struct tree: page ${He} has no id.`),!1}let hn=!0;for(const[He,pn]of Ce){const{pageDict:Xe}=await Oe.getPage(He);Ye.#n({elements:pn,xref:this.dict.xref,pageDict:Xe,parentTree:rn});for(const fn of pn)fn.accessibilityData?.type&&(fn.parentTreeId=St++,hn=!1)}if(hn){for(const He of Ce.values())for(const pn of He)delete pn.parentTreeId,delete pn.structTreeParent;return!1}return!0}async updateStructureTree({newAnnotationsByPage:Oe,pdfManager:Ce,newRefs:St}){const rn=this.dict.xref,un=this.dict.clone(),Qe=this.ref;let hn=un.getRaw("ParentTree"),He;hn instanceof Ie.Ref?He=rn.fetch(hn):(He=hn,hn=rn.getNewTemporaryRef(),un.set("ParentTree",hn)),He=He.clone();let pn=He.getRaw("Nums"),Xe=null;pn instanceof Ie.Ref&&(Xe=pn,pn=rn.fetch(Xe)),pn=pn.slice(),Xe||He.set("Nums",pn);let fn=un.getRaw("K"),dn=null;fn instanceof Ie.Ref?(dn=fn,fn=rn.fetch(dn)):(dn=rn.getNewTemporaryRef(),un.set("K",dn)),fn=Array.isArray(fn)?fn.slice():[fn];const qe=[],tn=await Ye.#t({newAnnotationsByPage:Oe,structTreeRootRef:Qe,kids:fn,nums:pn,xref:rn,pdfManager:Ce,newRefs:St,buffer:qe});un.set("ParentTreeNextKey",tn),qe.length=0,await(0,e.writeObject)(dn,fn,qe,rn),St.push({ref:dn,data:qe.join("")}),Xe&&(qe.length=0,await(0,e.writeObject)(Xe,pn,qe,rn),St.push({ref:Xe,data:qe.join("")})),qe.length=0,await(0,e.writeObject)(hn,He,qe,rn),St.push({ref:hn,data:qe.join("")}),qe.length=0,await(0,e.writeObject)(Qe,un,qe,rn),St.push({ref:Qe,data:qe.join("")})}static async#t({newAnnotationsByPage:Oe,structTreeRootRef:Ce,kids:St,nums:rn,xref:un,pdfManager:Qe,newRefs:hn,buffer:He}){const pn=Ie.Name.get("OBJR");let Xe=-1/0;for(const[fn,dn]of Oe){const{ref:qe}=await Qe.getPage(fn);for(const{accessibilityData:{type:tn,title:Me,lang:De,alt:Ue,expanded:We,actualText:$e},ref:on,parentTreeId:Je,structTreeParent:an}of dn){Xe=Math.max(Xe,Je);const Ke=un.getNewTemporaryRef(),sn=new Ie.Dict(un);sn.set("S",Ie.Name.get(tn)),Me&&sn.set("T",Me),De&&sn.set("Lang",De),Ue&&sn.set("Alt",Ue),We&&sn.set("E",We),$e&&sn.set("ActualText",$e),an?await this.#i({structTreeParent:an,tagDict:sn,newTagRef:Ke,fallbackRef:Ce,xref:un,newRefs:hn,buffer:He}):sn.set("P",Ce);const gn=new Ie.Dict(un);sn.set("K",gn),gn.set("Type",pn),gn.set("Pg",qe),gn.set("Obj",on),He.length=0,await(0,e.writeObject)(Ke,sn,He,un),hn.push({ref:Ke,data:He.join("")}),rn.push(Je,Ke),St.push(Ke)}}return Xe+1}static#n({elements:Oe,xref:Ce,pageDict:St,parentTree:rn}){const un=new Map;for(const Xe of Oe)if(Xe.structTreeParentId){const fn=parseInt(Xe.structTreeParentId.split("_mc")[1],10);un.set(fn,Xe)}const Qe=St.get("StructParents"),He=new Re.NumberTree(rn,Ce).get(Qe);if(!Array.isArray(He))return;const pn=(Xe,fn,dn)=>{const qe=un.get(Xe);if(qe){const tn=fn.getRaw("P"),Me=Ce.fetchIfRef(tn);return tn instanceof Ie.Ref&&Me instanceof Ie.Dict&&(qe.structTreeParent={ref:dn,dict:fn}),!0}return!1};for(const Xe of He){if(!(Xe instanceof Ie.Ref))continue;const fn=Ce.fetch(Xe),dn=fn.get("K");if(Number.isInteger(dn)){pn(dn,fn,Xe);continue}if(Array.isArray(dn)){for(let qe of dn)if(qe=Ce.fetchIfRef(qe),Number.isInteger(qe)&&pn(qe,fn,Xe))break}}}static async#i({structTreeParent:{ref:Oe,dict:Ce},tagDict:St,newTagRef:rn,fallbackRef:un,xref:Qe,newRefs:hn,buffer:He}){const pn=Ce.getRaw("P");let Xe=Qe.fetchIfRef(pn);St.set("P",pn);let fn=!1,dn,qe=Xe.getRaw("K");if(qe instanceof Ie.Ref?dn=Qe.fetch(qe):(dn=qe,qe=Qe.getNewTemporaryRef(),Xe=Xe.clone(),Xe.set("K",qe),fn=!0),Array.isArray(dn)){const tn=dn.indexOf(Oe);if(tn>=0)dn=dn.slice(),dn.splice(tn+1,0,rn);else{(0,xe.warn)("Cannot update the struct tree: parent kid not found."),St.set("P",un);return}}else dn instanceof Ie.Dict&&(dn=[qe,rn],qe=Qe.getNewTemporaryRef(),Xe.set("K",qe),fn=!0);He.length=0,await(0,e.writeObject)(qe,dn,He,Qe),hn.push({ref:qe,data:He.join("")}),fn&&(He.length=0,await(0,e.writeObject)(pn,Xe,He,Qe),hn.push({ref:pn,data:He.join("")}))}}_e.StructTreeRoot=Ye;class en{constructor(Oe,Ce){this.tree=Oe,this.dict=Ce,this.kids=[],this.parseKids()}get role(){const Oe=this.dict.get("S"),Ce=Oe instanceof Ie.Name?Oe.name:"",{root:St}=this.tree;return St.roleMap.has(Ce)?St.roleMap.get(Ce):Ce}parseKids(){let Oe=null;const Ce=this.dict.getRaw("Pg");Ce instanceof Ie.Ref&&(Oe=Ce.toString());const St=this.dict.get("K");if(Array.isArray(St))for(const rn of St){const un=this.parseKid(Oe,rn);un&&this.kids.push(un)}else{const rn=this.parseKid(Oe,St);rn&&this.kids.push(rn)}}parseKid(Oe,Ce){if(Number.isInteger(Ce))return this.tree.pageDict.objId!==Oe?null:new je({type:Te.PAGE_CONTENT,mcid:Ce,pageObjId:Oe});let St=null;if(Ce instanceof Ie.Ref?St=this.dict.xref.fetch(Ce):Ce instanceof Ie.Dict&&(St=Ce),!St)return null;const rn=St.getRaw("Pg");rn instanceof Ie.Ref&&(Oe=rn.toString());const un=St.get("Type")instanceof Ie.Name?St.get("Type").name:null;if(un==="MCR"){if(this.tree.pageDict.objId!==Oe)return null;const Qe=St.getRaw("Stm");return new je({type:Te.STREAM_CONTENT,refObjId:Qe instanceof Ie.Ref?Qe.toString():null,pageObjId:Oe,mcid:St.get("MCID")})}if(un==="OBJR"){if(this.tree.pageDict.objId!==Oe)return null;const Qe=St.getRaw("Obj");return new je({type:Te.OBJECT,refObjId:Qe instanceof Ie.Ref?Qe.toString():null,pageObjId:Oe})}return new je({type:Te.ELEMENT,dict:St})}}class je{constructor({type:Oe,dict:Ce=null,mcid:St=null,pageObjId:rn=null,refObjId:un=null}){this.type=Oe,this.dict=Ce,this.mcid=St,this.pageObjId=rn,this.refObjId=un,this.parentNode=null}}class nn{constructor(Oe,Ce){this.root=Oe,this.rootDict=Oe?Oe.dict:null,this.pageDict=Ce,this.nodes=[]}parse(Oe){if(!this.root||!this.rootDict)return;const Ce=this.rootDict.get("ParentTree");if(!Ce)return;const St=this.pageDict.get("StructParents"),rn=Oe instanceof Ie.Ref&&this.root.structParentIds?.get(Oe);if(!Number.isInteger(St)&&!rn)return;const un=new Map,Qe=new Re.NumberTree(Ce,this.rootDict.xref);if(Number.isInteger(St)){const hn=Qe.get(St);if(Array.isArray(hn))for(const He of hn)He instanceof Ie.Ref&&this.addNode(this.rootDict.xref.fetch(He),un)}if(rn)for(const[hn,He]of rn){const pn=Qe.get(hn);if(pn){const Xe=this.addNode(this.rootDict.xref.fetchIfRef(pn),un);Xe?.kids?.length===1&&Xe.kids[0].type===Te.OBJECT&&(Xe.kids[0].type=He)}}}addNode(Oe,Ce,St=0){if(St>t)return(0,xe.warn)("StructTree MAX_DEPTH reached."),null;if(Ce.has(Oe))return Ce.get(Oe);const rn=new en(this,Oe);Ce.set(Oe,rn);const un=Oe.get("P");if(!un||(0,Ie.isName)(un.get("Type"),"StructTreeRoot"))return this.addTopLevelNode(Oe,rn)||Ce.delete(Oe),rn;const Qe=this.addNode(un,Ce,St+1);if(!Qe)return rn;let hn=!1;for(const He of Qe.kids)He.type===Te.ELEMENT&&He.dict===Oe&&(He.parentNode=rn,hn=!0);return hn||Ce.delete(Oe),rn}addTopLevelNode(Oe,Ce){const St=this.rootDict.get("K");if(!St)return!1;if(St instanceof Ie.Dict)return St.objId!==Oe.objId?!1:(this.nodes[0]=Ce,!0);if(!Array.isArray(St))return!0;let rn=!1;for(let un=0;un<St.length;un++)St[un]?.toString()===Oe.objId&&(this.nodes[un]=Ce,rn=!0);return rn}get serializable(){function Oe(St,rn,un=0){if(un>t){(0,xe.warn)("StructTree too deep to be fully serialized.");return}const Qe=Object.create(null);Qe.role=St.role,Qe.children=[],rn.children.push(Qe);const hn=St.dict.get("Alt");typeof hn=="string"&&(Qe.alt=(0,xe.stringToPDFString)(hn));const He=St.dict.get("Lang");typeof He=="string"&&(Qe.lang=(0,xe.stringToPDFString)(He));for(const pn of St.kids){const Xe=pn.type===Te.ELEMENT?pn.parentNode:null;if(Xe){Oe(Xe,Qe,un+1);continue}else pn.type===Te.PAGE_CONTENT||pn.type===Te.STREAM_CONTENT?Qe.children.push({type:"content",id:`p${pn.pageObjId}_mc${pn.mcid}`}):pn.type===Te.OBJECT?Qe.children.push({type:"object",id:pn.refObjId}):pn.type===Te.ANNOTATION&&Qe.children.push({type:"annotation",id:`${xe.AnnotationPrefix}${pn.refObjId}`})}}const Ce=Object.create(null);Ce.children=[],Ce.role="Root";for(const St of this.nodes)St&&Oe(St,Ce);return Ce}}_e.StructTreePage=nn},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.incrementalUpdate=hn,_e.writeDict=en,_e.writeObject=Ye;var xe=ze(2),Ie=ze(4),Re=ze(3),e=ze(71),t=ze(5),Te=ze(74);async function Ye(He,pn,Xe,{encrypt:fn=null}){const dn=fn?.createCipherTransform(He.num,He.gen);Xe.push(`${He.num} ${He.gen} obj
`),pn instanceof Ie.Dict?await en(pn,Xe,dn):pn instanceof t.BaseStream?await je(pn,Xe,dn):Array.isArray(pn)&&await nn(pn,Xe,dn),Xe.push(`
endobj
`)}async function en(He,pn,Xe){pn.push("<<");for(const fn of He.getKeys())pn.push(` /${(0,Re.escapePDFName)(fn)} `),await Ge(He.getRaw(fn),pn,Xe);pn.push(">>")}async function je(He,pn,Xe){let fn=He.getString();const{dict:dn}=He,[qe,tn]=await Promise.all([dn.getAsync("Filter"),dn.getAsync("DecodeParms")]),Me=Array.isArray(qe)?await dn.xref.fetchIfRefAsync(qe[0]):qe,De=(0,Ie.isName)(Me,"FlateDecode");if(typeof CompressionStream<"u"&&(fn.length>=256||De))try{const We=(0,xe.stringToBytes)(fn),$e=new CompressionStream("deflate"),on=$e.writable.getWriter();on.write(We),on.close();const Je=await new Response($e.readable).arrayBuffer();fn=(0,xe.bytesToString)(new Uint8Array(Je));let an,Ke;qe?De||(an=Array.isArray(qe)?[Ie.Name.get("FlateDecode"),...qe]:[Ie.Name.get("FlateDecode"),qe],tn&&(Ke=Array.isArray(tn)?[null,...tn]:[null,tn])):an=Ie.Name.get("FlateDecode"),an&&dn.set("Filter",an),Ke&&dn.set("DecodeParms",Ke)}catch(We){(0,xe.info)(`writeStream - cannot compress data: "${We}".`)}Xe&&(fn=Xe.encryptString(fn)),dn.set("Length",fn.length),await en(dn,pn,Xe),pn.push(` stream
`,fn,`
endstream`)}async function nn(He,pn,Xe){pn.push("[");let fn=!0;for(const dn of He)fn?fn=!1:pn.push(" "),await Ge(dn,pn,Xe);pn.push("]")}async function Ge(He,pn,Xe){He instanceof Ie.Name?pn.push(`/${(0,Re.escapePDFName)(He.name)}`):He instanceof Ie.Ref?pn.push(`${He.num} ${He.gen} R`):Array.isArray(He)?await nn(He,pn,Xe):typeof He=="string"?(Xe&&(He=Xe.encryptString(He)),pn.push(`(${(0,Re.escapeString)(He)})`)):typeof He=="number"?pn.push((0,Re.numberToString)(He)):typeof He=="boolean"?pn.push(He.toString()):He instanceof Ie.Dict?await en(He,pn,Xe):He instanceof t.BaseStream?await je(He,pn,Xe):He===null?pn.push("null"):(0,xe.warn)(`Unhandled value in writer: ${typeof He}, please file a bug.`)}function Oe(He,pn,Xe,fn){for(let dn=pn+Xe-1;dn>Xe-1;dn--)fn[dn]=He&255,He>>=8;return Xe+pn}function Ce(He,pn,Xe){for(let fn=0,dn=He.length;fn<dn;fn++)Xe[pn+fn]=He.charCodeAt(fn)&255}function St(He,pn){const Xe=Math.floor(Date.now()/1e3),fn=pn.filename||"",dn=[Xe.toString(),fn,He.toString()];let qe=dn.reduce((De,Ue)=>De+Ue.length,0);for(const De of Object.values(pn.info))dn.push(De),qe+=De.length;const tn=new Uint8Array(qe);let Me=0;for(const De of dn)Ce(De,Me,tn),Me+=De.length;return(0,xe.bytesToString)((0,Te.calculateMD5)(tn))}function rn(He,pn){const Xe=new e.SimpleXMLParser({hasAttributes:!0}).parseFromString(He);for(const{xfa:dn}of pn){if(!dn)continue;const{path:qe,value:tn}=dn;if(!qe)continue;const Me=(0,Re.parseXFAPath)(qe);let De=Xe.documentElement.searchNode(Me,0);!De&&Me.length>1&&(De=Xe.documentElement.searchNode([Me.at(-1)],0)),De?De.childNodes=Array.isArray(tn)?tn.map(Ue=>new e.SimpleDOMNode("value",Ue)):[new e.SimpleDOMNode("#text",tn)]:(0,xe.warn)(`Node not found for path: ${qe}`)}const fn=[];return Xe.documentElement.dump(fn),fn.join("")}async function un({xref:He,acroForm:pn,acroFormRef:Xe,hasXfa:fn,hasXfaDatasetsEntry:dn,xfaDatasetsRef:qe,needAppearances:tn,newRefs:Me}){if(fn&&!dn&&!qe&&(0,xe.warn)("XFA - Cannot save it"),!tn&&(!fn||!qe||dn))return;const De=pn.clone();if(fn&&!dn){const We=pn.get("XFA").slice();We.splice(2,0,"datasets"),We.splice(3,0,qe),De.set("XFA",We)}tn&&De.set("NeedAppearances",!0);const Ue=[];await Ye(Xe,De,Ue,He),Me.push({ref:Xe,data:Ue.join("")})}function Qe({xfaData:He,xfaDatasetsRef:pn,newRefs:Xe,xref:fn}){if(He===null){const tn=fn.fetchIfRef(pn);He=rn(tn.getString(),Xe)}const dn=fn.encrypt;dn&&(He=dn.createCipherTransform(pn.num,pn.gen).encryptString(He));const qe=`${pn.num} ${pn.gen} obj
<< /Type /EmbeddedFile /Length ${He.length}>>
stream
`+He+`
endstream
endobj
`;Xe.push({ref:pn,data:qe})}async function hn({originalData:He,xrefInfo:pn,newRefs:Xe,xref:fn=null,hasXfa:dn=!1,xfaDatasetsRef:qe=null,hasXfaDatasetsEntry:tn=!1,needAppearances:Me,acroFormRef:De=null,acroForm:Ue=null,xfaData:We=null}){await un({xref:fn,acroForm:Ue,acroFormRef:De,hasXfa:dn,hasXfaDatasetsEntry:tn,xfaDatasetsRef:qe,needAppearances:Me,newRefs:Xe}),dn&&Qe({xfaData:We,xfaDatasetsRef:qe,newRefs:Xe,xref:fn});const $e=new Ie.Dict(null),on=pn.newRef;let Je,an;const Ke=He.at(-1);Ke===10||Ke===13?(Je=[],an=He.length):(Je=[`
`],an=He.length+1),$e.set("Size",on.num+1),$e.set("Prev",pn.startXRef),$e.set("Type",Ie.Name.get("XRef")),pn.rootRef!==null&&$e.set("Root",pn.rootRef),pn.infoRef!==null&&$e.set("Info",pn.infoRef),pn.encryptRef!==null&&$e.set("Encrypt",pn.encryptRef),Xe.push({ref:on,data:""}),Xe=Xe.sort((Rn,bn)=>Rn.ref.num-bn.ref.num);const sn=[[0,1,65535]],gn=[0,1];let mn=0;for(const{ref:Rn,data:bn}of Xe)mn=Math.max(mn,an),sn.push([1,an,Math.min(Rn.gen,65535)]),an+=bn.length,gn.push(Rn.num,1),Je.push(bn);if($e.set("Index",gn),Array.isArray(pn.fileIds)&&pn.fileIds.length>0){const Rn=St(an,pn);$e.set("ID",[pn.fileIds[0],Rn])}const Sn=[1,Math.ceil(Math.log2(mn)/8),2],wn=(Sn[0]+Sn[1]+Sn[2])*sn.length;$e.set("W",Sn),$e.set("Length",wn),Je.push(`${on.num} ${on.gen} obj
`),await en($e,Je,null),Je.push(` stream
`);const Nn=Je.reduce((Rn,bn)=>Rn+bn.length,0),Tn=`
endstream
endobj
startxref
${an}
%%EOF
`,Cn=new Uint8Array(He.length+Nn+wn+Tn.length);Cn.set(He);let In=He.length;for(const Rn of Je)Ce(Rn,In,Cn),In+=Rn.length;for(const[Rn,bn,kn]of sn)In=Oe(Rn,Sn[0],In,Cn),In=Oe(bn,Sn[1],In,Cn),In=Oe(kn,Sn[2],In,Cn);return Ce(Tn,In,Cn),Cn}},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.calculateSHA256=_e.calculateMD5=_e.PDF20=_e.PDF17=_e.CipherTransformFactory=_e.ARCFourCipher=_e.AES256Cipher=_e.AES128Cipher=void 0,_e.calculateSHA384=je,_e.calculateSHA512=void 0;var xe=ze(2),Ie=ze(4),Re=ze(75);class e{constructor(He){this.a=0,this.b=0;const pn=new Uint8Array(256),Xe=He.length;for(let fn=0;fn<256;++fn)pn[fn]=fn;for(let fn=0,dn=0;fn<256;++fn){const qe=pn[fn];dn=dn+qe+He[fn%Xe]&255,pn[fn]=pn[dn],pn[dn]=qe}this.s=pn}encryptBlock(He){let pn=this.a,Xe=this.b;const fn=this.s,dn=He.length,qe=new Uint8Array(dn);for(let tn=0;tn<dn;++tn){pn=pn+1&255;const Me=fn[pn];Xe=Xe+Me&255;const De=fn[Xe];fn[pn]=De,fn[Xe]=Me,qe[tn]=He[tn]^fn[Me+De&255]}return this.a=pn,this.b=Xe,qe}decryptBlock(He){return this.encryptBlock(He)}encrypt(He){return this.encryptBlock(He)}}_e.ARCFourCipher=e;const t=function(){const He=new Uint8Array([7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21]),pn=new Int32Array([-680876936,-389564586,606105819,-1044525330,-176418897,1200080426,-1473231341,-45705983,1770035416,-1958414417,-42063,-1990404162,1804603682,-40341101,-1502002290,1236535329,-165796510,-1069501632,643717713,-373897302,-701558691,38016083,-660478335,-405537848,568446438,-1019803690,-187363961,1163531501,-1444681467,-51403784,1735328473,-1926607734,-378558,-2022574463,1839030562,-35309556,-1530992060,1272893353,-155497632,-1094730640,681279174,-358537222,-722521979,76029189,-640364487,-421815835,530742520,-995338651,-198630844,1126891415,-1416354905,-57434055,1700485571,-1894986606,-1051523,-2054922799,1873313359,-30611744,-1560198380,1309151649,-145523070,-1120210379,718787259,-343485551]);function Xe(fn,dn,qe){let tn=1732584193,Me=-271733879,De=-1732584194,Ue=271733878;const We=qe+72&-64,$e=new Uint8Array(We);let on,Je;for(on=0;on<qe;++on)$e[on]=fn[dn++];$e[on++]=128;const an=We-8;for(;on<an;)$e[on++]=0;$e[on++]=qe<<3&255,$e[on++]=qe>>5&255,$e[on++]=qe>>13&255,$e[on++]=qe>>21&255,$e[on++]=qe>>>29&255,$e[on++]=0,$e[on++]=0,$e[on++]=0;const Ke=new Int32Array(16);for(on=0;on<We;){for(Je=0;Je<16;++Je,on+=4)Ke[Je]=$e[on]|$e[on+1]<<8|$e[on+2]<<16|$e[on+3]<<24;let sn=tn,gn=Me,mn=De,yn=Ue,Sn,_n;for(Je=0;Je<64;++Je){Je<16?(Sn=gn&mn|~gn&yn,_n=Je):Je<32?(Sn=yn&gn|~yn&mn,_n=5*Je+1&15):Je<48?(Sn=gn^mn^yn,_n=3*Je+5&15):(Sn=mn^(gn|~yn),_n=7*Je&15);const wn=yn,Nn=sn+Sn+pn[Je]+Ke[_n]|0,Tn=He[Je];yn=mn,mn=gn,gn=gn+(Nn<<Tn|Nn>>>32-Tn)|0,sn=wn}tn=tn+sn|0,Me=Me+gn|0,De=De+mn|0,Ue=Ue+yn|0}return new Uint8Array([tn&255,tn>>8&255,tn>>16&255,tn>>>24&255,Me&255,Me>>8&255,Me>>16&255,Me>>>24&255,De&255,De>>8&255,De>>16&255,De>>>24&255,Ue&255,Ue>>8&255,Ue>>16&255,Ue>>>24&255])}return Xe}();_e.calculateMD5=t;class Te{constructor(He,pn){this.high=He|0,this.low=pn|0}and(He){this.high&=He.high,this.low&=He.low}xor(He){this.high^=He.high,this.low^=He.low}or(He){this.high|=He.high,this.low|=He.low}shiftRight(He){He>=32?(this.low=this.high>>>He-32|0,this.high=0):(this.low=this.low>>>He|this.high<<32-He,this.high=this.high>>>He|0)}shiftLeft(He){He>=32?(this.high=this.low<<He-32,this.low=0):(this.high=this.high<<He|this.low>>>32-He,this.low<<=He)}rotateRight(He){let pn,Xe;He&32?(Xe=this.low,pn=this.high):(pn=this.low,Xe=this.high),He&=31,this.low=pn>>>He|Xe<<32-He,this.high=Xe>>>He|pn<<32-He}not(){this.high=~this.high,this.low=~this.low}add(He){const pn=(this.low>>>0)+(He.low>>>0);let Xe=(this.high>>>0)+(He.high>>>0);pn>4294967295&&(Xe+=1),this.low=pn|0,this.high=Xe|0}copyTo(He,pn){He[pn]=this.high>>>24&255,He[pn+1]=this.high>>16&255,He[pn+2]=this.high>>8&255,He[pn+3]=this.high&255,He[pn+4]=this.low>>>24&255,He[pn+5]=this.low>>16&255,He[pn+6]=this.low>>8&255,He[pn+7]=this.low&255}assign(He){this.high=He.high,this.low=He.low}}const Ye=function(){function He(Ue,We){return Ue>>>We|Ue<<32-We}function pn(Ue,We,$e){return Ue&We^~Ue&$e}function Xe(Ue,We,$e){return Ue&We^Ue&$e^We&$e}function fn(Ue){return He(Ue,2)^He(Ue,13)^He(Ue,22)}function dn(Ue){return He(Ue,6)^He(Ue,11)^He(Ue,25)}function qe(Ue){return He(Ue,7)^He(Ue,18)^Ue>>>3}function tn(Ue){return He(Ue,17)^He(Ue,19)^Ue>>>10}const Me=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function De(Ue,We,$e){let on=1779033703,Je=3144134277,an=1013904242,Ke=2773480762,sn=1359893119,gn=2600822924,mn=528734635,yn=1541459225;const Sn=Math.ceil(($e+9)/64)*64,_n=new Uint8Array(Sn);let wn,Nn;for(wn=0;wn<$e;++wn)_n[wn]=Ue[We++];_n[wn++]=128;const Tn=Sn-8;for(;wn<Tn;)_n[wn++]=0;_n[wn++]=0,_n[wn++]=0,_n[wn++]=0,_n[wn++]=$e>>>29&255,_n[wn++]=$e>>21&255,_n[wn++]=$e>>13&255,_n[wn++]=$e>>5&255,_n[wn++]=$e<<3&255;const Cn=new Uint32Array(64);for(wn=0;wn<Sn;){for(Nn=0;Nn<16;++Nn)Cn[Nn]=_n[wn]<<24|_n[wn+1]<<16|_n[wn+2]<<8|_n[wn+3],wn+=4;for(Nn=16;Nn<64;++Nn)Cn[Nn]=tn(Cn[Nn-2])+Cn[Nn-7]+qe(Cn[Nn-15])+Cn[Nn-16]|0;let In=on,Rn=Je,bn=an,kn=Ke,En=sn,On=gn,Mn=mn,Bn=yn,Hn,$n;for(Nn=0;Nn<64;++Nn)Hn=Bn+dn(En)+pn(En,On,Mn)+Me[Nn]+Cn[Nn],$n=fn(In)+Xe(In,Rn,bn),Bn=Mn,Mn=On,On=En,En=kn+Hn|0,kn=bn,bn=Rn,Rn=In,In=Hn+$n|0;on=on+In|0,Je=Je+Rn|0,an=an+bn|0,Ke=Ke+kn|0,sn=sn+En|0,gn=gn+On|0,mn=mn+Mn|0,yn=yn+Bn|0}return new Uint8Array([on>>24&255,on>>16&255,on>>8&255,on&255,Je>>24&255,Je>>16&255,Je>>8&255,Je&255,an>>24&255,an>>16&255,an>>8&255,an&255,Ke>>24&255,Ke>>16&255,Ke>>8&255,Ke&255,sn>>24&255,sn>>16&255,sn>>8&255,sn&255,gn>>24&255,gn>>16&255,gn>>8&255,gn&255,mn>>24&255,mn>>16&255,mn>>8&255,mn&255,yn>>24&255,yn>>16&255,yn>>8&255,yn&255])}return De}();_e.calculateSHA256=Ye;const en=function(){function He(De,Ue,We,$e,on){De.assign(Ue),De.and(We),on.assign(Ue),on.not(),on.and($e),De.xor(on)}function pn(De,Ue,We,$e,on){De.assign(Ue),De.and(We),on.assign(Ue),on.and($e),De.xor(on),on.assign(We),on.and($e),De.xor(on)}function Xe(De,Ue,We){De.assign(Ue),De.rotateRight(28),We.assign(Ue),We.rotateRight(34),De.xor(We),We.assign(Ue),We.rotateRight(39),De.xor(We)}function fn(De,Ue,We){De.assign(Ue),De.rotateRight(14),We.assign(Ue),We.rotateRight(18),De.xor(We),We.assign(Ue),We.rotateRight(41),De.xor(We)}function dn(De,Ue,We){De.assign(Ue),De.rotateRight(1),We.assign(Ue),We.rotateRight(8),De.xor(We),We.assign(Ue),We.shiftRight(7),De.xor(We)}function qe(De,Ue,We){De.assign(Ue),De.rotateRight(19),We.assign(Ue),We.rotateRight(61),De.xor(We),We.assign(Ue),We.shiftRight(6),De.xor(We)}const tn=[new Te(1116352408,3609767458),new Te(1899447441,602891725),new Te(3049323471,3964484399),new Te(3921009573,2173295548),new Te(961987163,4081628472),new Te(1508970993,3053834265),new Te(2453635748,2937671579),new Te(2870763221,3664609560),new Te(3624381080,2734883394),new Te(310598401,1164996542),new Te(607225278,1323610764),new Te(1426881987,3590304994),new Te(1925078388,4068182383),new Te(2162078206,991336113),new Te(2614888103,633803317),new Te(3248222580,3479774868),new Te(3835390401,2666613458),new Te(4022224774,944711139),new Te(264347078,2341262773),new Te(604807628,2007800933),new Te(770255983,1495990901),new Te(1249150122,1856431235),new Te(1555081692,3175218132),new Te(1996064986,2198950837),new Te(2554220882,3999719339),new Te(2821834349,766784016),new Te(2952996808,2566594879),new Te(3210313671,3203337956),new Te(3336571891,1034457026),new Te(3584528711,2466948901),new Te(113926993,3758326383),new Te(338241895,168717936),new Te(666307205,1188179964),new Te(773529912,1546045734),new Te(1294757372,1522805485),new Te(1396182291,2643833823),new Te(1695183700,2343527390),new Te(1986661051,1014477480),new Te(2177026350,1206759142),new Te(2456956037,344077627),new Te(2730485921,1290863460),new Te(2820302411,3158454273),new Te(3259730800,3505952657),new Te(3345764771,106217008),new Te(3516065817,3606008344),new Te(3600352804,1432725776),new Te(4094571909,1467031594),new Te(275423344,851169720),new Te(430227734,3100823752),new Te(506948616,1363258195),new Te(659060556,3750685593),new Te(883997877,3785050280),new Te(958139571,3318307427),new Te(1322822218,3812723403),new Te(1537002063,2003034995),new Te(1747873779,3602036899),new Te(1955562222,1575990012),new Te(2024104815,1125592928),new Te(2227730452,2716904306),new Te(2361852424,442776044),new Te(2428436474,593698344),new Te(2756734187,3733110249),new Te(3204031479,2999351573),new Te(3329325298,3815920427),new Te(3391569614,3928383900),new Te(3515267271,566280711),new Te(3940187606,3454069534),new Te(4118630271,4000239992),new Te(116418474,1914138554),new Te(174292421,2731055270),new Te(289380356,3203993006),new Te(460393269,320620315),new Te(685471733,587496836),new Te(852142971,1086792851),new Te(1017036298,365543100),new Te(1126000580,2618297676),new Te(1288033470,3409855158),new Te(1501505948,4234509866),new Te(1607167915,987167468),new Te(1816402316,1246189591)];function Me(De,Ue,We,$e=!1){let on,Je,an,Ke,sn,gn,mn,yn;$e?(on=new Te(3418070365,3238371032),Je=new Te(1654270250,914150663),an=new Te(2438529370,812702999),Ke=new Te(355462360,4144912697),sn=new Te(1731405415,4290775857),gn=new Te(2394180231,1750603025),mn=new Te(3675008525,1694076839),yn=new Te(1203062813,3204075428)):(on=new Te(1779033703,4089235720),Je=new Te(3144134277,2227873595),an=new Te(1013904242,4271175723),Ke=new Te(2773480762,1595750129),sn=new Te(1359893119,2917565137),gn=new Te(2600822924,725511199),mn=new Te(528734635,4215389547),yn=new Te(1541459225,327033209));const Sn=Math.ceil((We+17)/128)*128,_n=new Uint8Array(Sn);let wn,Nn;for(wn=0;wn<We;++wn)_n[wn]=De[Ue++];_n[wn++]=128;const Tn=Sn-16;for(;wn<Tn;)_n[wn++]=0;_n[wn++]=0,_n[wn++]=0,_n[wn++]=0,_n[wn++]=0,_n[wn++]=0,_n[wn++]=0,_n[wn++]=0,_n[wn++]=0,_n[wn++]=0,_n[wn++]=0,_n[wn++]=0,_n[wn++]=We>>>29&255,_n[wn++]=We>>21&255,_n[wn++]=We>>13&255,_n[wn++]=We>>5&255,_n[wn++]=We<<3&255;const Cn=new Array(80);for(wn=0;wn<80;wn++)Cn[wn]=new Te(0,0);let In=new Te(0,0),Rn=new Te(0,0),bn=new Te(0,0),kn=new Te(0,0),En=new Te(0,0),On=new Te(0,0),Mn=new Te(0,0),Bn=new Te(0,0);const Hn=new Te(0,0),$n=new Te(0,0),Un=new Te(0,0),qn=new Te(0,0);let jn;for(wn=0;wn<Sn;){for(Nn=0;Nn<16;++Nn)Cn[Nn].high=_n[wn]<<24|_n[wn+1]<<16|_n[wn+2]<<8|_n[wn+3],Cn[Nn].low=_n[wn+4]<<24|_n[wn+5]<<16|_n[wn+6]<<8|_n[wn+7],wn+=8;for(Nn=16;Nn<80;++Nn)jn=Cn[Nn],qe(jn,Cn[Nn-2],qn),jn.add(Cn[Nn-7]),dn(Un,Cn[Nn-15],qn),jn.add(Un),jn.add(Cn[Nn-16]);for(In.assign(on),Rn.assign(Je),bn.assign(an),kn.assign(Ke),En.assign(sn),On.assign(gn),Mn.assign(mn),Bn.assign(yn),Nn=0;Nn<80;++Nn)Hn.assign(Bn),fn(Un,En,qn),Hn.add(Un),He(Un,En,On,Mn,qn),Hn.add(Un),Hn.add(tn[Nn]),Hn.add(Cn[Nn]),Xe($n,In,qn),pn(Un,In,Rn,bn,qn),$n.add(Un),jn=Bn,Bn=Mn,Mn=On,On=En,kn.add(Hn),En=kn,kn=bn,bn=Rn,Rn=In,jn.assign(Hn),jn.add($n),In=jn;on.add(In),Je.add(Rn),an.add(bn),Ke.add(kn),sn.add(En),gn.add(On),mn.add(Mn),yn.add(Bn)}let Xn;return $e?(Xn=new Uint8Array(48),on.copyTo(Xn,0),Je.copyTo(Xn,8),an.copyTo(Xn,16),Ke.copyTo(Xn,24),sn.copyTo(Xn,32),gn.copyTo(Xn,40)):(Xn=new Uint8Array(64),on.copyTo(Xn,0),Je.copyTo(Xn,8),an.copyTo(Xn,16),Ke.copyTo(Xn,24),sn.copyTo(Xn,32),gn.copyTo(Xn,40),mn.copyTo(Xn,48),yn.copyTo(Xn,56)),Xn}return Me}();_e.calculateSHA512=en;function je(hn,He,pn){return en(hn,He,pn,!0)}class nn{decryptBlock(He){return He}encrypt(He){return He}}class Ge{constructor(){this.constructor===Ge&&(0,xe.unreachable)("Cannot initialize AESBaseCipher."),this._s=new Uint8Array([99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22]),this._inv_s=new Uint8Array([82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125]),this._mix=new Uint32Array([0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795]),this._mixCol=new Uint8Array(256);for(let He=0;He<256;He++)this._mixCol[He]=He<128?He<<1:He<<1^27;this.buffer=new Uint8Array(16),this.bufferPosition=0}_expandKey(He){(0,xe.unreachable)("Cannot call `_expandKey` on the base class")}_decrypt(He,pn){let Xe,fn,dn;const qe=new Uint8Array(16);qe.set(He);for(let tn=0,Me=this._keySize;tn<16;++tn,++Me)qe[tn]^=pn[Me];for(let tn=this._cyclesOfRepetition-1;tn>=1;--tn){Xe=qe[13],qe[13]=qe[9],qe[9]=qe[5],qe[5]=qe[1],qe[1]=Xe,Xe=qe[14],fn=qe[10],qe[14]=qe[6],qe[10]=qe[2],qe[6]=Xe,qe[2]=fn,Xe=qe[15],fn=qe[11],dn=qe[7],qe[15]=qe[3],qe[11]=Xe,qe[7]=fn,qe[3]=dn;for(let Me=0;Me<16;++Me)qe[Me]=this._inv_s[qe[Me]];for(let Me=0,De=tn*16;Me<16;++Me,++De)qe[Me]^=pn[De];for(let Me=0;Me<16;Me+=4){const De=this._mix[qe[Me]],Ue=this._mix[qe[Me+1]],We=this._mix[qe[Me+2]],$e=this._mix[qe[Me+3]];Xe=De^Ue>>>8^Ue<<24^We>>>16^We<<16^$e>>>24^$e<<8,qe[Me]=Xe>>>24&255,qe[Me+1]=Xe>>16&255,qe[Me+2]=Xe>>8&255,qe[Me+3]=Xe&255}}Xe=qe[13],qe[13]=qe[9],qe[9]=qe[5],qe[5]=qe[1],qe[1]=Xe,Xe=qe[14],fn=qe[10],qe[14]=qe[6],qe[10]=qe[2],qe[6]=Xe,qe[2]=fn,Xe=qe[15],fn=qe[11],dn=qe[7],qe[15]=qe[3],qe[11]=Xe,qe[7]=fn,qe[3]=dn;for(let tn=0;tn<16;++tn)qe[tn]=this._inv_s[qe[tn]],qe[tn]^=pn[tn];return qe}_encrypt(He,pn){const Xe=this._s;let fn,dn,qe;const tn=new Uint8Array(16);tn.set(He);for(let Me=0;Me<16;++Me)tn[Me]^=pn[Me];for(let Me=1;Me<this._cyclesOfRepetition;Me++){for(let De=0;De<16;++De)tn[De]=Xe[tn[De]];qe=tn[1],tn[1]=tn[5],tn[5]=tn[9],tn[9]=tn[13],tn[13]=qe,qe=tn[2],dn=tn[6],tn[2]=tn[10],tn[6]=tn[14],tn[10]=qe,tn[14]=dn,qe=tn[3],dn=tn[7],fn=tn[11],tn[3]=tn[15],tn[7]=qe,tn[11]=dn,tn[15]=fn;for(let De=0;De<16;De+=4){const Ue=tn[De+0],We=tn[De+1],$e=tn[De+2],on=tn[De+3];fn=Ue^We^$e^on,tn[De+0]^=fn^this._mixCol[Ue^We],tn[De+1]^=fn^this._mixCol[We^$e],tn[De+2]^=fn^this._mixCol[$e^on],tn[De+3]^=fn^this._mixCol[on^Ue]}for(let De=0,Ue=Me*16;De<16;++De,++Ue)tn[De]^=pn[Ue]}for(let Me=0;Me<16;++Me)tn[Me]=Xe[tn[Me]];qe=tn[1],tn[1]=tn[5],tn[5]=tn[9],tn[9]=tn[13],tn[13]=qe,qe=tn[2],dn=tn[6],tn[2]=tn[10],tn[6]=tn[14],tn[10]=qe,tn[14]=dn,qe=tn[3],dn=tn[7],fn=tn[11],tn[3]=tn[15],tn[7]=qe,tn[11]=dn,tn[15]=fn;for(let Me=0,De=this._keySize;Me<16;++Me,++De)tn[Me]^=pn[De];return tn}_decryptBlock2(He,pn){const Xe=He.length;let fn=this.buffer,dn=this.bufferPosition;const qe=[];let tn=this.iv;for(let Ue=0;Ue<Xe;++Ue){if(fn[dn]=He[Ue],++dn,dn<16)continue;const We=this._decrypt(fn,this._key);for(let $e=0;$e<16;++$e)We[$e]^=tn[$e];tn=fn,qe.push(We),fn=new Uint8Array(16),dn=0}if(this.buffer=fn,this.bufferLength=dn,this.iv=tn,qe.length===0)return new Uint8Array(0);let Me=16*qe.length;if(pn){const Ue=qe.at(-1);let We=Ue[15];if(We<=16){for(let $e=15,on=16-We;$e>=on;--$e)if(Ue[$e]!==We){We=0;break}Me-=We,qe[qe.length-1]=Ue.subarray(0,16-We)}}const De=new Uint8Array(Me);for(let Ue=0,We=0,$e=qe.length;Ue<$e;++Ue,We+=16)De.set(qe[Ue],We);return De}decryptBlock(He,pn,Xe=null){const fn=He.length,dn=this.buffer;let qe=this.bufferPosition;if(Xe)this.iv=Xe;else{for(let tn=0;qe<16&&tn<fn;++tn,++qe)dn[qe]=He[tn];if(qe<16)return this.bufferLength=qe,new Uint8Array(0);this.iv=dn,He=He.subarray(16)}return this.buffer=new Uint8Array(16),this.bufferLength=0,this.decryptBlock=this._decryptBlock2,this.decryptBlock(He,pn)}encrypt(He,pn){const Xe=He.length;let fn=this.buffer,dn=this.bufferPosition;const qe=[];pn||(pn=new Uint8Array(16));for(let De=0;De<Xe;++De){if(fn[dn]=He[De],++dn,dn<16)continue;for(let We=0;We<16;++We)fn[We]^=pn[We];const Ue=this._encrypt(fn,this._key);pn=Ue,qe.push(Ue),fn=new Uint8Array(16),dn=0}if(this.buffer=fn,this.bufferLength=dn,this.iv=pn,qe.length===0)return new Uint8Array(0);const tn=16*qe.length,Me=new Uint8Array(tn);for(let De=0,Ue=0,We=qe.length;De<We;++De,Ue+=16)Me.set(qe[De],Ue);return Me}}class Oe extends Ge{constructor(He){super(),this._cyclesOfRepetition=10,this._keySize=160,this._rcon=new Uint8Array([141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141]),this._key=this._expandKey(He)}_expandKey(He){const Xe=this._s,fn=this._rcon,dn=new Uint8Array(176);dn.set(He);for(let qe=16,tn=1;qe<176;++tn){let Me=dn[qe-3],De=dn[qe-2],Ue=dn[qe-1],We=dn[qe-4];Me=Xe[Me],De=Xe[De],Ue=Xe[Ue],We=Xe[We],Me^=fn[tn];for(let $e=0;$e<4;++$e)dn[qe]=Me^=dn[qe-16],qe++,dn[qe]=De^=dn[qe-16],qe++,dn[qe]=Ue^=dn[qe-16],qe++,dn[qe]=We^=dn[qe-16],qe++}return dn}}_e.AES128Cipher=Oe;class Ce extends Ge{constructor(He){super(),this._cyclesOfRepetition=14,this._keySize=224,this._key=this._expandKey(He)}_expandKey(He){const Xe=this._s,fn=new Uint8Array(240);fn.set(He);let dn=1,qe,tn,Me,De;for(let Ue=32,We=1;Ue<240;++We){Ue%32===16?(qe=Xe[qe],tn=Xe[tn],Me=Xe[Me],De=Xe[De]):Ue%32===0&&(qe=fn[Ue-3],tn=fn[Ue-2],Me=fn[Ue-1],De=fn[Ue-4],qe=Xe[qe],tn=Xe[tn],Me=Xe[Me],De=Xe[De],qe^=dn,(dn<<=1)>=256&&(dn=(dn^27)&255));for(let $e=0;$e<4;++$e)fn[Ue]=qe^=fn[Ue-32],Ue++,fn[Ue]=tn^=fn[Ue-32],Ue++,fn[Ue]=Me^=fn[Ue-32],Ue++,fn[Ue]=De^=fn[Ue-32],Ue++}return fn}}_e.AES256Cipher=Ce;class St{checkOwnerPassword(He,pn,Xe,fn){const dn=new Uint8Array(He.length+56);dn.set(He,0),dn.set(pn,He.length),dn.set(Xe,He.length+pn.length);const qe=Ye(dn,0,dn.length);return(0,xe.isArrayEqual)(qe,fn)}checkUserPassword(He,pn,Xe){const fn=new Uint8Array(He.length+8);fn.set(He,0),fn.set(pn,He.length);const dn=Ye(fn,0,fn.length);return(0,xe.isArrayEqual)(dn,Xe)}getOwnerKey(He,pn,Xe,fn){const dn=new Uint8Array(He.length+56);dn.set(He,0),dn.set(pn,He.length),dn.set(Xe,He.length+pn.length);const qe=Ye(dn,0,dn.length);return new Ce(qe).decryptBlock(fn,!1,new Uint8Array(16))}getUserKey(He,pn,Xe){const fn=new Uint8Array(He.length+8);fn.set(He,0),fn.set(pn,He.length);const dn=Ye(fn,0,fn.length);return new Ce(dn).decryptBlock(Xe,!1,new Uint8Array(16))}}_e.PDF17=St;class rn{_hash(He,pn,Xe){let fn=Ye(pn,0,pn.length).subarray(0,32),dn=[0],qe=0;for(;qe<64||dn.at(-1)>qe-32;){const tn=He.length+fn.length+Xe.length,Me=new Uint8Array(tn);let De=0;Me.set(He,De),De+=He.length,Me.set(fn,De),De+=fn.length,Me.set(Xe,De);const Ue=new Uint8Array(tn*64);for(let on=0,Je=0;on<64;on++,Je+=tn)Ue.set(Me,Je);dn=new Oe(fn.subarray(0,16)).encrypt(Ue,fn.subarray(16,32));const $e=dn.slice(0,16).reduce((on,Je)=>on+Je,0)%3;$e===0?fn=Ye(dn,0,dn.length):$e===1?fn=je(dn,0,dn.length):$e===2&&(fn=en(dn,0,dn.length)),qe++}return fn.subarray(0,32)}checkOwnerPassword(He,pn,Xe,fn){const dn=new Uint8Array(He.length+56);dn.set(He,0),dn.set(pn,He.length),dn.set(Xe,He.length+pn.length);const qe=this._hash(He,dn,Xe);return(0,xe.isArrayEqual)(qe,fn)}checkUserPassword(He,pn,Xe){const fn=new Uint8Array(He.length+8);fn.set(He,0),fn.set(pn,He.length);const dn=this._hash(He,fn,[]);return(0,xe.isArrayEqual)(dn,Xe)}getOwnerKey(He,pn,Xe,fn){const dn=new Uint8Array(He.length+56);dn.set(He,0),dn.set(pn,He.length),dn.set(Xe,He.length+pn.length);const qe=this._hash(He,dn,Xe);return new Ce(qe).decryptBlock(fn,!1,new Uint8Array(16))}getUserKey(He,pn,Xe){const fn=new Uint8Array(He.length+8);fn.set(He,0),fn.set(pn,He.length);const dn=this._hash(He,fn,[]);return new Ce(dn).decryptBlock(Xe,!1,new Uint8Array(16))}}_e.PDF20=rn;class un{constructor(He,pn){this.StringCipherConstructor=He,this.StreamCipherConstructor=pn}createStream(He,pn){const Xe=new this.StreamCipherConstructor;return new Re.DecryptStream(He,pn,function(dn,qe){return Xe.decryptBlock(dn,qe)})}decryptString(He){const pn=new this.StringCipherConstructor;let Xe=(0,xe.stringToBytes)(He);return Xe=pn.decryptBlock(Xe,!0),(0,xe.bytesToString)(Xe)}encryptString(He){const pn=new this.StringCipherConstructor;if(pn instanceof Ge){const dn=16-He.length%16;He+=String.fromCharCode(dn).repeat(dn);const qe=new Uint8Array(16);if(typeof crypto<"u")crypto.getRandomValues(qe);else for(let De=0;De<16;De++)qe[De]=Math.floor(256*Math.random());let tn=(0,xe.stringToBytes)(He);tn=pn.encrypt(tn,qe);const Me=new Uint8Array(16+tn.length);return Me.set(qe),Me.set(tn,16),(0,xe.bytesToString)(Me)}let Xe=(0,xe.stringToBytes)(He);return Xe=pn.encrypt(Xe),(0,xe.bytesToString)(Xe)}}class Qe{static#e=new Uint8Array([40,191,78,94,78,117,138,65,100,0,78,86,255,250,1,8,46,46,0,182,208,104,62,128,47,12,169,254,100,83,105,122]);#t(He,pn,Xe,fn,dn,qe,tn,Me,De,Ue,We,$e){if(pn){const Je=Math.min(127,pn.length);pn=pn.subarray(0,Je)}else pn=[];const on=He===6?new rn:new St;return on.checkUserPassword(pn,Me,tn)?on.getUserKey(pn,De,We):pn.length&&on.checkOwnerPassword(pn,fn,qe,Xe)?on.getOwnerKey(pn,dn,qe,Ue):null}#n(He,pn,Xe,fn,dn,qe,tn,Me){const De=40+Xe.length+He.length,Ue=new Uint8Array(De);let We=0,$e,on;if(pn)for(on=Math.min(32,pn.length);We<on;++We)Ue[We]=pn[We];for($e=0;We<32;)Ue[We++]=Qe.#e[$e++];for($e=0,on=Xe.length;$e<on;++$e)Ue[We++]=Xe[$e];for(Ue[We++]=dn&255,Ue[We++]=dn>>8&255,Ue[We++]=dn>>16&255,Ue[We++]=dn>>>24&255,$e=0,on=He.length;$e<on;++$e)Ue[We++]=He[$e];qe>=4&&!Me&&(Ue[We++]=255,Ue[We++]=255,Ue[We++]=255,Ue[We++]=255);let Je=t(Ue,0,We);const an=tn>>3;if(qe>=3)for($e=0;$e<50;++$e)Je=t(Je,0,an);const Ke=Je.subarray(0,an);let sn,gn;if(qe>=3){for(We=0;We<32;++We)Ue[We]=Qe.#e[We];for($e=0,on=He.length;$e<on;++$e)Ue[We++]=He[$e];sn=new e(Ke),gn=sn.encryptBlock(t(Ue,0,We)),on=Ke.length;const mn=new Uint8Array(on);for($e=1;$e<=19;++$e){for(let yn=0;yn<on;++yn)mn[yn]=Ke[yn]^$e;sn=new e(mn),gn=sn.encryptBlock(gn)}for($e=0,on=gn.length;$e<on;++$e)if(fn[$e]!==gn[$e])return null}else for(sn=new e(Ke),gn=sn.encryptBlock(Qe.#e),$e=0,on=gn.length;$e<on;++$e)if(fn[$e]!==gn[$e])return null;return Ke}#i(He,pn,Xe,fn){const dn=new Uint8Array(32);let qe=0;const tn=Math.min(32,He.length);for(;qe<tn;++qe)dn[qe]=He[qe];let Me=0;for(;qe<32;)dn[qe++]=Qe.#e[Me++];let De=t(dn,0,qe);const Ue=fn>>3;if(Xe>=3)for(Me=0;Me<50;++Me)De=t(De,0,De.length);let We,$e;if(Xe>=3){$e=pn;const on=new Uint8Array(Ue);for(Me=19;Me>=0;Me--){for(let Je=0;Je<Ue;++Je)on[Je]=De[Je]^Me;We=new e(on),$e=We.encryptBlock($e)}}else We=new e(De.subarray(0,Ue)),$e=We.encryptBlock(pn);return $e}#o(He,pn,Xe,fn=!1){const dn=new Uint8Array(Xe.length+9),qe=Xe.length;let tn;for(tn=0;tn<qe;++tn)dn[tn]=Xe[tn];return dn[tn++]=He&255,dn[tn++]=He>>8&255,dn[tn++]=He>>16&255,dn[tn++]=pn&255,dn[tn++]=pn>>8&255,fn&&(dn[tn++]=115,dn[tn++]=65,dn[tn++]=108,dn[tn++]=84),t(dn,0,tn).subarray(0,Math.min(Xe.length+5,16))}#s(He,pn,Xe,fn,dn){if(!(pn instanceof Ie.Name))throw new xe.FormatError("Invalid crypt filter name.");const qe=this,Me=He.get(pn.name)?.get("CFM");if(!Me||Me.name==="None")return function(){return new nn};if(Me.name==="V2")return function(){return new e(qe.#o(Xe,fn,dn,!1))};if(Me.name==="AESV2")return function(){return new Oe(qe.#o(Xe,fn,dn,!0))};if(Me.name==="AESV3")return function(){return new Ce(dn)};throw new xe.FormatError("Unknown crypto method")}constructor(He,pn,Xe){const fn=He.get("Filter");if(!(0,Ie.isName)(fn,"Standard"))throw new xe.FormatError("unknown encryption method");this.filterName=fn.name,this.dict=He;const dn=He.get("V");if(!Number.isInteger(dn)||dn!==1&&dn!==2&&dn!==4&&dn!==5)throw new xe.FormatError("unsupported encryption algorithm");this.algorithm=dn;let qe=He.get("Length");if(!qe)if(dn<=3)qe=40;else{const sn=He.get("CF"),gn=He.get("StmF");sn instanceof Ie.Dict&&gn instanceof Ie.Name&&(sn.suppressEncryption=!0,qe=sn.get(gn.name)?.get("Length")||128,qe<40&&(qe<<=3))}if(!Number.isInteger(qe)||qe<40||qe%8!==0)throw new xe.FormatError("invalid key length");const tn=(0,xe.stringToBytes)(He.get("O")),Me=(0,xe.stringToBytes)(He.get("U")),De=tn.subarray(0,32),Ue=Me.subarray(0,32),We=He.get("P"),$e=He.get("R"),on=(dn===4||dn===5)&&He.get("EncryptMetadata")!==!1;this.encryptMetadata=on;const Je=(0,xe.stringToBytes)(pn);let an;if(Xe){if($e===6)try{Xe=(0,xe.utf8StringToString)(Xe)}catch{(0,xe.warn)("CipherTransformFactory: Unable to convert UTF8 encoded password.")}an=(0,xe.stringToBytes)(Xe)}let Ke;if(dn!==5)Ke=this.#n(Je,an,De,Ue,We,$e,qe,on);else{const sn=tn.subarray(32,40),gn=tn.subarray(40,48),mn=Me.subarray(0,48),yn=Me.subarray(32,40),Sn=Me.subarray(40,48),_n=(0,xe.stringToBytes)(He.get("OE")),wn=(0,xe.stringToBytes)(He.get("UE")),Nn=(0,xe.stringToBytes)(He.get("Perms"));Ke=this.#t($e,an,De,sn,gn,mn,Ue,yn,Sn,_n,wn,Nn)}if(!Ke&&!Xe)throw new xe.PasswordException("No password given",xe.PasswordResponses.NEED_PASSWORD);if(!Ke&&Xe){const sn=this.#i(an,De,$e,qe);Ke=this.#n(Je,sn,De,Ue,We,$e,qe,on)}if(!Ke)throw new xe.PasswordException("Incorrect Password",xe.PasswordResponses.INCORRECT_PASSWORD);if(this.encryptionKey=Ke,dn>=4){const sn=He.get("CF");sn instanceof Ie.Dict&&(sn.suppressEncryption=!0),this.cf=sn,this.stmf=He.get("StmF")||Ie.Name.get("Identity"),this.strf=He.get("StrF")||Ie.Name.get("Identity"),this.eff=He.get("EFF")||this.stmf}}createCipherTransform(He,pn){if(this.algorithm===4||this.algorithm===5)return new un(this.#s(this.cf,this.strf,He,pn,this.encryptionKey),this.#s(this.cf,this.stmf,He,pn,this.encryptionKey));const Xe=this.#o(He,pn,this.encryptionKey,!1),fn=function(){return new e(Xe)};return new un(fn,fn)}}_e.CipherTransformFactory=Qe},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.DecryptStream=void 0;var xe=ze(18);const Ie=512;class Re extends xe.DecodeStream{constructor(t,Te,Ye){super(Te),this.str=t,this.dict=t.dict,this.decrypt=Ye,this.nextChunk=null,this.initialized=!1}readBlock(){let t;if(this.initialized?t=this.nextChunk:(t=this.str.getBytes(Ie),this.initialized=!0),!t||t.length===0){this.eof=!0;return}this.nextChunk=this.str.getBytes(Ie);const Te=this.nextChunk?.length>0,Ye=this.decrypt;t=Ye(t,!Te);const en=this.bufferLength,je=en+t.length;this.ensureBuffer(je).set(t,en),this.bufferLength=je}}_e.DecryptStream=Re},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.ObjectLoader=void 0;var xe=ze(4),Ie=ze(5),Re=ze(3),e=ze(2);function t(en){return en instanceof xe.Ref||en instanceof xe.Dict||en instanceof Ie.BaseStream||Array.isArray(en)}function Te(en,je){if(en instanceof xe.Dict)en=en.getRawValues();else if(en instanceof Ie.BaseStream)en=en.dict.getRawValues();else if(!Array.isArray(en))return;for(const nn of en)t(nn)&&je.push(nn)}class Ye{constructor(je,nn,Ge){this.dict=je,this.keys=nn,this.xref=Ge,this.refSet=null}async load(){if(this.xref.stream.isDataLoaded)return;const{keys:je,dict:nn}=this;this.refSet=new xe.RefSet;const Ge=[];for(const Oe of je){const Ce=nn.getRaw(Oe);Ce!==void 0&&Ge.push(Ce)}return this._walk(Ge)}async _walk(je){const nn=[],Ge=[];for(;je.length;){let Oe=je.pop();if(Oe instanceof xe.Ref){if(this.refSet.has(Oe))continue;try{this.refSet.put(Oe),Oe=this.xref.fetch(Oe)}catch(Ce){if(!(Ce instanceof Re.MissingDataException)){(0,e.warn)(`ObjectLoader._walk - requesting all data: "${Ce}".`),this.refSet=null;const{manager:St}=this.xref.stream;return St.requestAllChunks()}nn.push(Oe),Ge.push({begin:Ce.begin,end:Ce.end})}}if(Oe instanceof Ie.BaseStream){const Ce=Oe.getBaseStreams();if(Ce){let St=!1;for(const rn of Ce)rn.isDataLoaded||(St=!0,Ge.push({begin:rn.start,end:rn.end}));St&&nn.push(Oe)}}Te(Oe,je)}if(Ge.length){await this.xref.stream.manager.requestRanges(Ge);for(const Oe of nn)Oe instanceof xe.Ref&&this.refSet.remove(Oe);return this._walk(nn)}this.refSet=null}}_e.ObjectLoader=Ye},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.XFAFactory=void 0;var xe=ze(78),Ie=ze(79),Re=ze(89),e=ze(85),t=ze(84),Te=ze(2),Ye=ze(90),en=ze(100);class je{constructor(Ge){try{this.root=new Ye.XFAParser().parse(je._createDocument(Ge));const Oe=new Ie.Binder(this.root);this.form=Oe.bind(),this.dataHandler=new Re.DataHandler(this.root,Oe.getData()),this.form[xe.$globalData].template=this.form}catch(Oe){(0,Te.warn)(`XFA - an error occurred during parsing and binding: ${Oe}`)}}isValid(){return this.root&&this.form}_createPagesHelper(){const Ge=this.form[xe.$toPages]();return new Promise((Oe,Ce)=>{const St=()=>{try{const rn=Ge.next();rn.done?Oe(rn.value):setTimeout(St,0)}catch(rn){Ce(rn)}};setTimeout(St,0)})}async _createPages(){try{this.pages=await this._createPagesHelper(),this.dims=this.pages.children.map(Ge=>{const{width:Oe,height:Ce}=Ge.attributes.style;return[0,0,parseInt(Oe),parseInt(Ce)]})}catch(Ge){(0,Te.warn)(`XFA - an error occurred during layout: ${Ge}`)}}getBoundingBox(Ge){return this.dims[Ge]}async getNumPages(){return this.pages||await this._createPages(),this.dims.length}setImages(Ge){this.form[xe.$globalData].images=Ge}setFonts(Ge){this.form[xe.$globalData].fontFinder=new e.FontFinder(Ge);const Oe=[];for(let Ce of this.form[xe.$globalData].usedTypefaces)Ce=(0,t.stripQuotes)(Ce),this.form[xe.$globalData].fontFinder.find(Ce)||Oe.push(Ce);return Oe.length>0?Oe:null}appendFonts(Ge,Oe){this.form[xe.$globalData].fontFinder.add(Ge,Oe)}async getPages(){this.pages||await this._createPages();const Ge=this.pages;return this.pages=null,Ge}serializeData(Ge){return this.dataHandler.serialize(Ge)}static _createDocument(Ge){return Ge["/xdp:xdp"]?Object.values(Ge).join(""):Ge["xdp:xdp"]}static getRichTextAsHtml(Ge){if(!Ge||typeof Ge!="string")return null;try{let Oe=new Ye.XFAParser(en.XhtmlNamespace,!0).parse(Ge);if(!["body","xhtml"].includes(Oe[xe.$nodeName])){const un=en.XhtmlNamespace.body({});un[xe.$appendChild](Oe),Oe=un}const Ce=Oe[xe.$toHTML]();if(!Ce.success)return null;const{html:St}=Ce,{attributes:rn}=St;return rn&&(rn.class&&(rn.class=rn.class.filter(un=>!un.startsWith("xfa"))),rn.dir="auto"),{html:St,str:Oe[xe.$text]()}}catch(Oe){(0,Te.warn)(`XFA - an error occurred during parsing of rich text: ${Oe}`)}return null}}_e.XFAFactory=je},(Ve,_e)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.$uid=_e.$toStyle=_e.$toString=_e.$toPages=_e.$toHTML=_e.$text=_e.$tabIndex=_e.$setValue=_e.$setSetAttributes=_e.$setId=_e.$searchNode=_e.$root=_e.$resolvePrototypes=_e.$removeChild=_e.$pushPara=_e.$pushGlyphs=_e.$popPara=_e.$onText=_e.$onChildCheck=_e.$onChild=_e.$nsAttributes=_e.$nodeName=_e.$namespaceId=_e.$lastAttribute=_e.$isUsable=_e.$isTransparent=_e.$isThereMoreWidth=_e.$isSplittable=_e.$isNsAgnostic=_e.$isDescendent=_e.$isDataValue=_e.$isCDATAXml=_e.$isBindable=_e.$insertAt=_e.$indexOf=_e.$ids=_e.$hasSettableValue=_e.$globalData=_e.$getTemplateRoot=_e.$getSubformParent=_e.$getRealChildrenByNameIt=_e.$getParent=_e.$getNextPage=_e.$getExtra=_e.$getDataValue=_e.$getContainedChildren=_e.$getChildrenByNameIt=_e.$getChildrenByName=_e.$getChildrenByClass=_e.$getChildren=_e.$getAvailableSpace=_e.$getAttributes=_e.$getAttributeIt=_e.$flushHTML=_e.$finalize=_e.$extra=_e.$dump=_e.$data=_e.$content=_e.$consumed=_e.$clone=_e.$cleanup=_e.$cleanPage=_e.$clean=_e.$childrenToHTML=_e.$appendChild=_e.$addHTML=_e.$acceptWhitespace=void 0;const ze=Symbol();_e.$acceptWhitespace=ze;const xe=Symbol();_e.$addHTML=xe;const Ie=Symbol();_e.$appendChild=Ie;const Re=Symbol();_e.$childrenToHTML=Re;const e=Symbol();_e.$clean=e;const t=Symbol();_e.$cleanPage=t;const Te=Symbol();_e.$cleanup=Te;const Ye=Symbol();_e.$clone=Ye;const en=Symbol();_e.$consumed=en;const je=Symbol("content");_e.$content=je;const nn=Symbol("data");_e.$data=nn;const Ge=Symbol();_e.$dump=Ge;const Oe=Symbol("extra");_e.$extra=Oe;const Ce=Symbol();_e.$finalize=Ce;const St=Symbol();_e.$flushHTML=St;const rn=Symbol();_e.$getAttributeIt=rn;const un=Symbol();_e.$getAttributes=un;const Qe=Symbol();_e.$getAvailableSpace=Qe;const hn=Symbol();_e.$getChildrenByClass=hn;const He=Symbol();_e.$getChildrenByName=He;const pn=Symbol();_e.$getChildrenByNameIt=pn;const Xe=Symbol();_e.$getDataValue=Xe;const fn=Symbol();_e.$getExtra=fn;const dn=Symbol();_e.$getRealChildrenByNameIt=dn;const qe=Symbol();_e.$getChildren=qe;const tn=Symbol();_e.$getContainedChildren=tn;const Me=Symbol();_e.$getNextPage=Me;const De=Symbol();_e.$getSubformParent=De;const Ue=Symbol();_e.$getParent=Ue;const We=Symbol();_e.$getTemplateRoot=We;const $e=Symbol();_e.$globalData=$e;const on=Symbol();_e.$hasSettableValue=on;const Je=Symbol();_e.$ids=Je;const an=Symbol();_e.$indexOf=an;const Ke=Symbol();_e.$insertAt=Ke;const sn=Symbol();_e.$isCDATAXml=sn;const gn=Symbol();_e.$isBindable=gn;const mn=Symbol();_e.$isDataValue=mn;const yn=Symbol();_e.$isDescendent=yn;const Sn=Symbol();_e.$isNsAgnostic=Sn;const _n=Symbol();_e.$isSplittable=_n;const wn=Symbol();_e.$isThereMoreWidth=wn;const Nn=Symbol();_e.$isTransparent=Nn;const Tn=Symbol();_e.$isUsable=Tn;const Cn=Symbol();_e.$lastAttribute=Cn;const In=Symbol("namespaceId");_e.$namespaceId=In;const Rn=Symbol("nodeName");_e.$nodeName=Rn;const bn=Symbol();_e.$nsAttributes=bn;const kn=Symbol();_e.$onChild=kn;const En=Symbol();_e.$onChildCheck=En;const On=Symbol();_e.$onText=On;const Mn=Symbol();_e.$pushGlyphs=Mn;const Bn=Symbol();_e.$popPara=Bn;const Hn=Symbol();_e.$pushPara=Hn;const $n=Symbol();_e.$removeChild=$n;const Un=Symbol("root");_e.$root=Un;const qn=Symbol();_e.$resolvePrototypes=qn;const jn=Symbol();_e.$searchNode=jn;const Xn=Symbol();_e.$setId=Xn;const Gn=Symbol();_e.$setSetAttributes=Gn;const ri=Symbol();_e.$setValue=ri;const ui=Symbol();_e.$tabIndex=ui;const ti=Symbol();_e.$text=ti;const Yn=Symbol();_e.$toPages=Yn;const Qn=Symbol();_e.$toHTML=Qn;const ci=Symbol();_e.$toString=ci;const pi=Symbol();_e.$toStyle=pi;const ki=Symbol("uid");_e.$uid=ki},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.Binder=void 0;var xe=ze(78),Ie=ze(80),Re=ze(88),e=ze(87),t=ze(81),Te=ze(2);const Ye=t.NamespaceIds.datasets.id;function en(nn){const Ge=new Ie.Text({});return Ge[xe.$content]=nn,Ge}class je{constructor(Ge){this.root=Ge,this.datasets=Ge.datasets,this.data=Ge.datasets?.data||new e.XmlObject(t.NamespaceIds.datasets.id,"data"),this.emptyMerge=this.data[xe.$getChildren]().length===0,this.root.form=this.form=Ge.template[xe.$clone]()}_isConsumeData(){return!this.emptyMerge&&this._mergeMode}_isMatchTemplate(){return!this._isConsumeData()}bind(){return this._bindElement(this.form,this.data),this.form}getData(){return this.data}_bindValue(Ge,Oe,Ce){if(Ge[xe.$data]=Oe,Ge[xe.$hasSettableValue]())if(Oe[xe.$isDataValue]()){const St=Oe[xe.$getDataValue]();Ge[xe.$setValue](en(St))}else if(Ge instanceof Ie.Field&&Ge.ui?.choiceList?.open==="multiSelect"){const St=Oe[xe.$getChildren]().map(rn=>rn[xe.$content].trim()).join(`
`);Ge[xe.$setValue](en(St))}else this._isConsumeData()&&(0,Te.warn)("XFA - Nodes haven't the same type.");else!Oe[xe.$isDataValue]()||this._isMatchTemplate()?this._bindElement(Ge,Oe):(0,Te.warn)("XFA - Nodes haven't the same type.")}_findDataByNameToConsume(Ge,Oe,Ce,St){if(!Ge)return null;let rn,un;for(let Qe=0;Qe<3;Qe++){for(rn=Ce[xe.$getRealChildrenByNameIt](Ge,!1,!0);un=rn.next().value,!!un;)if(Oe===un[xe.$isDataValue]())return un;if(Ce[xe.$namespaceId]===t.NamespaceIds.datasets.id&&Ce[xe.$nodeName]==="data")break;Ce=Ce[xe.$getParent]()}return St?(rn=this.data[xe.$getRealChildrenByNameIt](Ge,!0,!1),un=rn.next().value,un||(rn=this.data[xe.$getAttributeIt](Ge,!0),un=rn.next().value,un?.[xe.$isDataValue]())?un:null):null}_setProperties(Ge,Oe){if(Ge.hasOwnProperty("setProperty"))for(const{ref:Ce,target:St,connection:rn}of Ge.setProperty.children){if(rn||!Ce)continue;const un=(0,Re.searchNode)(this.root,Oe,Ce,!1,!1);if(!un){(0,Te.warn)(`XFA - Invalid reference: ${Ce}.`);continue}const[Qe]=un;if(!Qe[xe.$isDescendent](this.data)){(0,Te.warn)("XFA - Invalid node: must be a data node.");continue}const hn=(0,Re.searchNode)(this.root,Ge,St,!1,!1);if(!hn){(0,Te.warn)(`XFA - Invalid target: ${St}.`);continue}const[He]=hn;if(!He[xe.$isDescendent](Ge)){(0,Te.warn)("XFA - Invalid target: must be a property or subproperty.");continue}const pn=He[xe.$getParent]();if(He instanceof Ie.SetProperty||pn instanceof Ie.SetProperty){(0,Te.warn)("XFA - Invalid target: cannot be a setProperty or one of its properties.");continue}if(He instanceof Ie.BindItems||pn instanceof Ie.BindItems){(0,Te.warn)("XFA - Invalid target: cannot be a bindItems or one of its properties.");continue}const Xe=Qe[xe.$text](),fn=He[xe.$nodeName];if(He instanceof e.XFAAttribute){const dn=Object.create(null);dn[fn]=Xe;const qe=Reflect.construct(Object.getPrototypeOf(pn).constructor,[dn]);pn[fn]=qe[fn];continue}if(!He.hasOwnProperty(xe.$content)){(0,Te.warn)("XFA - Invalid node to use in setProperty");continue}He[xe.$data]=Qe,He[xe.$content]=Xe,He[xe.$finalize]()}}_bindItems(Ge,Oe){if(!Ge.hasOwnProperty("items")||!Ge.hasOwnProperty("bindItems")||Ge.bindItems.isEmpty())return;for(const rn of Ge.items.children)Ge[xe.$removeChild](rn);Ge.items.clear();const Ce=new Ie.Items({}),St=new Ie.Items({});Ge[xe.$appendChild](Ce),Ge.items.push(Ce),Ge[xe.$appendChild](St),Ge.items.push(St);for(const{ref:rn,labelRef:un,valueRef:Qe,connection:hn}of Ge.bindItems.children){if(hn||!rn)continue;const He=(0,Re.searchNode)(this.root,Oe,rn,!1,!1);if(!He){(0,Te.warn)(`XFA - Invalid reference: ${rn}.`);continue}for(const pn of He){if(!pn[xe.$isDescendent](this.datasets)){(0,Te.warn)(`XFA - Invalid ref (${rn}): must be a datasets child.`);continue}const Xe=(0,Re.searchNode)(this.root,pn,un,!0,!1);if(!Xe){(0,Te.warn)(`XFA - Invalid label: ${un}.`);continue}const[fn]=Xe;if(!fn[xe.$isDescendent](this.datasets)){(0,Te.warn)("XFA - Invalid label: must be a datasets child.");continue}const dn=(0,Re.searchNode)(this.root,pn,Qe,!0,!1);if(!dn){(0,Te.warn)(`XFA - Invalid value: ${Qe}.`);continue}const[qe]=dn;if(!qe[xe.$isDescendent](this.datasets)){(0,Te.warn)("XFA - Invalid value: must be a datasets child.");continue}const tn=en(fn[xe.$text]()),Me=en(qe[xe.$text]());Ce[xe.$appendChild](tn),Ce.text.push(tn),St[xe.$appendChild](Me),St.text.push(Me)}}}_bindOccurrences(Ge,Oe,Ce){let St;if(Oe.length>1&&(St=Ge[xe.$clone](),St[xe.$removeChild](St.occur),St.occur=null),this._bindValue(Ge,Oe[0],Ce),this._setProperties(Ge,Oe[0]),this._bindItems(Ge,Oe[0]),Oe.length===1)return;const rn=Ge[xe.$getParent](),un=Ge[xe.$nodeName],Qe=rn[xe.$indexOf](Ge);for(let hn=1,He=Oe.length;hn<He;hn++){const pn=Oe[hn],Xe=St[xe.$clone]();rn[un].push(Xe),rn[xe.$insertAt](Qe+hn,Xe),this._bindValue(Xe,pn,Ce),this._setProperties(Xe,pn),this._bindItems(Xe,pn)}}_createOccurrences(Ge){if(!this.emptyMerge)return;const{occur:Oe}=Ge;if(!Oe||Oe.initial<=1)return;const Ce=Ge[xe.$getParent](),St=Ge[xe.$nodeName];if(!(Ce[St]instanceof e.XFAObjectArray))return;let rn;Ge.name?rn=Ce[St].children.filter(hn=>hn.name===Ge.name).length:rn=Ce[St].children.length;const un=Ce[xe.$indexOf](Ge)+1,Qe=Oe.initial-rn;if(Qe){const hn=Ge[xe.$clone]();hn[xe.$removeChild](hn.occur),hn.occur=null,Ce[St].push(hn),Ce[xe.$insertAt](un,hn);for(let He=1;He<Qe;He++){const pn=hn[xe.$clone]();Ce[St].push(pn),Ce[xe.$insertAt](un+He,pn)}}}_getOccurInfo(Ge){const{name:Oe,occur:Ce}=Ge;if(!Ce||!Oe)return[1,1];const St=Ce.max===-1?1/0:Ce.max;return[Ce.min,St]}_setAndBind(Ge,Oe){this._setProperties(Ge,Oe),this._bindItems(Ge,Oe),this._bindElement(Ge,Oe)}_bindElement(Ge,Oe){const Ce=[];this._createOccurrences(Ge);for(const St of Ge[xe.$getChildren]()){if(St[xe.$data])continue;if(this._mergeMode===void 0&&St[xe.$nodeName]==="subform"){this._mergeMode=St.mergeMode==="consumeData";const Xe=Oe[xe.$getChildren]();if(Xe.length>0)this._bindOccurrences(St,[Xe[0]],null);else if(this.emptyMerge){const fn=Oe[xe.$namespaceId]===Ye?-1:Oe[xe.$namespaceId],dn=St[xe.$data]=new e.XmlObject(fn,St.name||"root");Oe[xe.$appendChild](dn),this._bindElement(St,dn)}continue}if(!St[xe.$isBindable]())continue;let rn=!1,un=null,Qe=null,hn=null;if(St.bind){switch(St.bind.match){case"none":this._setAndBind(St,Oe);continue;case"global":rn=!0;break;case"dataRef":if(!St.bind.ref){(0,Te.warn)(`XFA - ref is empty in node ${St[xe.$nodeName]}.`),this._setAndBind(St,Oe);continue}Qe=St.bind.ref;break}St.bind.picture&&(un=St.bind.picture[xe.$content])}const[He,pn]=this._getOccurInfo(St);if(Qe)if(hn=(0,Re.searchNode)(this.root,Oe,Qe,!0,!1),hn===null){if(hn=(0,Re.createDataNode)(this.data,Oe,Qe),!hn)continue;this._isConsumeData()&&(hn[xe.$consumed]=!0),this._setAndBind(St,hn);continue}else this._isConsumeData()&&(hn=hn.filter(Xe=>!Xe[xe.$consumed])),hn.length>pn?hn=hn.slice(0,pn):hn.length===0&&(hn=null),hn&&this._isConsumeData()&&hn.forEach(Xe=>{Xe[xe.$consumed]=!0});else{if(!St.name){this._setAndBind(St,Oe);continue}if(this._isConsumeData()){const Xe=[];for(;Xe.length<pn;){const fn=this._findDataByNameToConsume(St.name,St[xe.$hasSettableValue](),Oe,rn);if(!fn)break;fn[xe.$consumed]=!0,Xe.push(fn)}hn=Xe.length>0?Xe:null}else{if(hn=Oe[xe.$getRealChildrenByNameIt](St.name,!1,this.emptyMerge).next().value,!hn){if(He===0){Ce.push(St);continue}const Xe=Oe[xe.$namespaceId]===Ye?-1:Oe[xe.$namespaceId];hn=St[xe.$data]=new e.XmlObject(Xe,St.name),this.emptyMerge&&(hn[xe.$consumed]=!0),Oe[xe.$appendChild](hn),this._setAndBind(St,hn);continue}this.emptyMerge&&(hn[xe.$consumed]=!0),hn=[hn]}}hn?this._bindOccurrences(St,hn,un):He>0?this._setAndBind(St,Oe):Ce.push(St)}Ce.forEach(St=>St[xe.$getParent]()[xe.$removeChild](St))}}_e.Binder=je},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.Value=_e.Text=_e.TemplateNamespace=_e.Template=_e.SetProperty=_e.Items=_e.Field=_e.BindItems=void 0;var xe=ze(78),Ie=ze(81),Re=ze(82),e=ze(83),t=ze(87),Te=ze(84),Ye=ze(2),en=ze(85),je=ze(3),nn=ze(88);const Ge=Ie.NamespaceIds.template.id,Oe="http://www.w3.org/2000/svg",Ce=2,St=3,rn=5e3,un=/^H(\d+)$/,Qe=new Set(["image/gif","image/jpeg","image/jpg","image/pjpeg","image/png","image/apng","image/x-png","image/bmp","image/x-ms-bmp","image/tiff","image/tif","application/octet-stream"]),hn=[[[66,77],"image/bmp"],[[255,216,255],"image/jpeg"],[[73,73,42,0],"image/tiff"],[[77,77,0,42],"image/tiff"],[[71,73,70,56,57,97],"image/gif"],[[137,80,78,71,13,10,26,10],"image/png"]];function He(Ai){if(!Ai||!Ai.border)return{w:0,h:0};const Ze=Ai.border[xe.$getExtra]();return Ze?{w:Ze.widths[0]+Ze.widths[2]+Ze.insets[0]+Ze.insets[2],h:Ze.widths[1]+Ze.widths[3]+Ze.insets[1]+Ze.insets[3]}:{w:0,h:0}}function pn(Ai){return Ai.margin&&(Ai.margin.topInset||Ai.margin.rightInset||Ai.margin.bottomInset||Ai.margin.leftInset)}function Xe(Ai,Ze){if(!Ai.value){const Pn=new Hs({});Ai[xe.$appendChild](Pn),Ai.value=Pn}Ai.value[xe.$setValue](Ze)}function*fn(Ai){for(const Ze of Ai[xe.$getChildren]()){if(Ze instanceof Po){yield*Ze[xe.$getContainedChildren]();continue}yield Ze}}function dn(Ai){return Ai.validate?.nullTest==="error"}function qe(Ai){for(;Ai;){if(!Ai.traversal){Ai[xe.$tabIndex]=Ai[xe.$getParent]()[xe.$tabIndex];return}if(Ai[xe.$tabIndex])return;let Ze=null;for(const _i of Ai.traversal[xe.$getChildren]())if(_i.operation==="next"){Ze=_i;break}if(!Ze||!Ze.ref){Ai[xe.$tabIndex]=Ai[xe.$getParent]()[xe.$tabIndex];return}const Pn=Ai[xe.$getTemplateRoot]();Ai[xe.$tabIndex]=++Pn[xe.$tabIndex];const gi=Pn[xe.$searchNode](Ze.ref,Ai);if(!gi)return;Ai=gi[0]}}function tn(Ai,Ze){const Pn=Ai.assist;if(Pn){const gi=Pn[xe.$toHTML]();gi&&(Ze.title=gi);const Hi=Pn.role.match(un);if(Hi){const pr="heading",gr=Hi[1];Ze.role=pr,Ze["aria-level"]=gr}}if(Ai.layout==="table")Ze.role="table";else if(Ai.layout==="row")Ze.role="row";else{const gi=Ai[xe.$getParent]();gi.layout==="row"&&(Ze.role=gi.assist?.role==="TH"?"columnheader":"cell")}}function Me(Ai){if(!Ai.assist)return null;const Ze=Ai.assist;return Ze.speak&&Ze.speak[xe.$content]!==""?Ze.speak[xe.$content]:Ze.toolTip?Ze.toolTip[xe.$content]:null}function De(Ai){return Te.HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:Object.create(null)},children:[{name:"span",attributes:{style:Object.create(null)},value:Ai}]})}function Ue(Ai){const Ze=Ai[xe.$getTemplateRoot]();Ze[xe.$extra].firstUnsplittable===null&&(Ze[xe.$extra].firstUnsplittable=Ai,Ze[xe.$extra].noLayoutFailure=!0)}function We(Ai){const Ze=Ai[xe.$getTemplateRoot]();Ze[xe.$extra].firstUnsplittable===Ai&&(Ze[xe.$extra].noLayoutFailure=!1)}function $e(Ai){if(Ai[xe.$extra]||(Ai[xe.$extra]=Object.create(null),Ai.targetType==="auto"))return!1;const Ze=Ai[xe.$getTemplateRoot]();let Pn=null;if(Ai.target){if(Pn=Ze[xe.$searchNode](Ai.target,Ai[xe.$getParent]()),!Pn)return!1;Pn=Pn[0]}const{currentPageArea:gi,currentContentArea:_i}=Ze[xe.$extra];if(Ai.targetType==="pageArea")return Pn instanceof cr||(Pn=null),Ai.startNew?(Ai[xe.$extra].target=Pn||gi,!0):Pn&&Pn!==gi?(Ai[xe.$extra].target=Pn,!0):!1;Pn instanceof Un||(Pn=null);const Hi=Pn&&Pn[xe.$getParent]();let pr,gr=Hi;if(Ai.startNew)if(Pn){const vr=Hi.contentArea.children,jr=vr.indexOf(_i),Qr=vr.indexOf(Pn);jr!==-1&&jr<Qr&&(gr=null),pr=Qr-1}else pr=gi.contentArea.children.indexOf(_i);else if(Pn&&Pn!==_i)pr=Hi.contentArea.children.indexOf(Pn)-1,gr=Hi===gi?null:Hi;else return!1;return Ai[xe.$extra].target=gr,Ai[xe.$extra].index=pr,!0}function on(Ai,Ze,Pn){const gi=Ai[xe.$getTemplateRoot](),_i=gi[xe.$extra].noLayoutFailure,Hi=Ze[xe.$getSubformParent];Ze[xe.$getSubformParent]=()=>Ai,gi[xe.$extra].noLayoutFailure=!0;const pr=Ze[xe.$toHTML](Pn);Ai[xe.$addHTML](pr.html,pr.bbox),gi[xe.$extra].noLayoutFailure=_i,Ze[xe.$getSubformParent]=Hi}class Je extends t.StringObject{constructor(Ze){super(Ge,"appearanceFilter"),this.id=Ze.id||"",this.type=(0,Te.getStringOption)(Ze.type,["optional","required"]),this.use=Ze.use||"",this.usehref=Ze.usehref||""}}class an extends t.XFAObject{constructor(Ze){super(Ge,"arc",!0),this.circular=(0,Te.getInteger)({data:Ze.circular,defaultValue:0,validate:Pn=>Pn===1}),this.hand=(0,Te.getStringOption)(Ze.hand,["even","left","right"]),this.id=Ze.id||"",this.startAngle=(0,Te.getFloat)({data:Ze.startAngle,defaultValue:0,validate:Pn=>!0}),this.sweepAngle=(0,Te.getFloat)({data:Ze.sweepAngle,defaultValue:360,validate:Pn=>!0}),this.use=Ze.use||"",this.usehref=Ze.usehref||"",this.edge=null,this.fill=null}[xe.$toHTML](){const Ze=this.edge||new pi({}),Pn=Ze[xe.$toStyle](),gi=Object.create(null);this.fill?.presence==="visible"?Object.assign(gi,this.fill[xe.$toStyle]()):gi.fill="transparent",gi.strokeWidth=(0,e.measureToString)(Ze.presence==="visible"?Ze.thickness:0),gi.stroke=Pn.color;let _i;const Hi={xmlns:Oe,style:{width:"100%",height:"100%",overflow:"visible"}};if(this.sweepAngle===360)_i={name:"ellipse",attributes:{xmlns:Oe,cx:"50%",cy:"50%",rx:"50%",ry:"50%",style:gi}};else{const vr=this.startAngle*Math.PI/180,jr=this.sweepAngle*Math.PI/180,Qr=this.sweepAngle>180?1:0,[fa,ra,la,oa]=[50*(1+Math.cos(vr)),50*(1-Math.sin(vr)),50*(1+Math.cos(vr+jr)),50*(1-Math.sin(vr+jr))];_i={name:"path",attributes:{xmlns:Oe,d:`M ${fa} ${ra} A 50 50 0 ${Qr} 0 ${la} ${oa}`,vectorEffect:"non-scaling-stroke",style:gi}},Object.assign(Hi,{viewBox:"0 0 100 100",preserveAspectRatio:"none"})}const pr={name:"svg",children:[_i],attributes:Hi},gr=this[xe.$getParent]()[xe.$getParent]();return pn(gr)?Te.HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[pr]}):(pr.attributes.style.position="absolute",Te.HTMLResult.success(pr))}}class Ke extends t.XFAObject{constructor(Ze){super(Ge,"area",!0),this.colSpan=(0,Te.getInteger)({data:Ze.colSpan,defaultValue:1,validate:Pn=>Pn>=1||Pn===-1}),this.id=Ze.id||"",this.name=Ze.name||"",this.relevant=(0,Te.getRelevant)(Ze.relevant),this.use=Ze.use||"",this.usehref=Ze.usehref||"",this.x=(0,Te.getMeasurement)(Ze.x,"0pt"),this.y=(0,Te.getMeasurement)(Ze.y,"0pt"),this.desc=null,this.extras=null,this.area=new t.XFAObjectArray,this.draw=new t.XFAObjectArray,this.exObject=new t.XFAObjectArray,this.exclGroup=new t.XFAObjectArray,this.field=new t.XFAObjectArray,this.subform=new t.XFAObjectArray,this.subformSet=new t.XFAObjectArray}*[xe.$getContainedChildren](){yield*fn(this)}[xe.$isTransparent](){return!0}[xe.$isBindable](){return!0}[xe.$addHTML](Ze,Pn){const[gi,_i,Hi,pr]=Pn;this[xe.$extra].width=Math.max(this[xe.$extra].width,gi+Hi),this[xe.$extra].height=Math.max(this[xe.$extra].height,_i+pr),this[xe.$extra].children.push(Ze)}[xe.$getAvailableSpace](){return this[xe.$extra].availableSpace}[xe.$toHTML](Ze){const Pn=(0,e.toStyle)(this,"position"),gi={style:Pn,id:this[xe.$uid],class:["xfaArea"]};(0,e.isPrintOnly)(this)&&gi.class.push("xfaPrintOnly"),this.name&&(gi.xfaName=this.name);const _i=[];this[xe.$extra]={children:_i,width:0,height:0,availableSpace:Ze};const Hi=this[xe.$childrenToHTML]({filter:new Set(["area","draw","field","exclGroup","subform","subformSet"]),include:!0});if(!Hi.success)return Hi.isBreak()?Hi:(delete this[xe.$extra],Te.HTMLResult.FAILURE);Pn.width=(0,e.measureToString)(this[xe.$extra].width),Pn.height=(0,e.measureToString)(this[xe.$extra].height);const pr={name:"div",attributes:gi,children:_i},gr=[this.x,this.y,this[xe.$extra].width,this[xe.$extra].height];return delete this[xe.$extra],Te.HTMLResult.success(pr,gr)}}class sn extends t.XFAObject{constructor(Ze){super(Ge,"assist",!0),this.id=Ze.id||"",this.role=Ze.role||"",this.use=Ze.use||"",this.usehref=Ze.usehref||"",this.speak=null,this.toolTip=null}[xe.$toHTML](){return this.toolTip?.[xe.$content]||null}}class gn extends t.XFAObject{constructor(Ze){super(Ge,"barcode",!0),this.charEncoding=(0,Te.getKeyword)({data:Ze.charEncoding?Ze.charEncoding.toLowerCase():"",defaultValue:"",validate:Pn=>["utf-8","big-five","fontspecific","gbk","gb-18030","gb-2312","ksc-5601","none","shift-jis","ucs-2","utf-16"].includes(Pn)||Pn.match(/iso-8859-\d{2}/)}),this.checksum=(0,Te.getStringOption)(Ze.checksum,["none","1mod10","1mod10_1mod11","2mod10","auto"]),this.dataColumnCount=(0,Te.getInteger)({data:Ze.dataColumnCount,defaultValue:-1,validate:Pn=>Pn>=0}),this.dataLength=(0,Te.getInteger)({data:Ze.dataLength,defaultValue:-1,validate:Pn=>Pn>=0}),this.dataPrep=(0,Te.getStringOption)(Ze.dataPrep,["none","flateCompress"]),this.dataRowCount=(0,Te.getInteger)({data:Ze.dataRowCount,defaultValue:-1,validate:Pn=>Pn>=0}),this.endChar=Ze.endChar||"",this.errorCorrectionLevel=(0,Te.getInteger)({data:Ze.errorCorrectionLevel,defaultValue:-1,validate:Pn=>Pn>=0&&Pn<=8}),this.id=Ze.id||"",this.moduleHeight=(0,Te.getMeasurement)(Ze.moduleHeight,"5mm"),this.moduleWidth=(0,Te.getMeasurement)(Ze.moduleWidth,"0.25mm"),this.printCheckDigit=(0,Te.getInteger)({data:Ze.printCheckDigit,defaultValue:0,validate:Pn=>Pn===1}),this.rowColumnRatio=(0,Te.getRatio)(Ze.rowColumnRatio),this.startChar=Ze.startChar||"",this.textLocation=(0,Te.getStringOption)(Ze.textLocation,["below","above","aboveEmbedded","belowEmbedded","none"]),this.truncate=(0,Te.getInteger)({data:Ze.truncate,defaultValue:0,validate:Pn=>Pn===1}),this.type=(0,Te.getStringOption)(Ze.type?Ze.type.toLowerCase():"",["aztec","codabar","code2of5industrial","code2of5interleaved","code2of5matrix","code2of5standard","code3of9","code3of9extended","code11","code49","code93","code128","code128a","code128b","code128c","code128sscc","datamatrix","ean8","ean8add2","ean8add5","ean13","ean13add2","ean13add5","ean13pwcd","fim","logmars","maxicode","msi","pdf417","pdf417macro","plessey","postauscust2","postauscust3","postausreplypaid","postausstandard","postukrm4scc","postusdpbc","postusimb","postusstandard","postus5zip","qrcode","rfid","rss14","rss14expanded","rss14limited","rss14stacked","rss14stackedomni","rss14truncated","telepen","ucc128","ucc128random","ucc128sscc","upca","upcaadd2","upcaadd5","upcapwcd","upce","upceadd2","upceadd5","upcean2","upcean5","upsmaxicode"]),this.upsMode=(0,Te.getStringOption)(Ze.upsMode,["usCarrier","internationalCarrier","secureSymbol","standardSymbol"]),this.use=Ze.use||"",this.usehref=Ze.usehref||"",this.wideNarrowRatio=(0,Te.getRatio)(Ze.wideNarrowRatio),this.encrypt=null,this.extras=null}}class mn extends t.XFAObject{constructor(Ze){super(Ge,"bind",!0),this.match=(0,Te.getStringOption)(Ze.match,["once","dataRef","global","none"]),this.ref=Ze.ref||"",this.picture=null}}class yn extends t.XFAObject{constructor(Ze){super(Ge,"bindItems"),this.connection=Ze.connection||"",this.labelRef=Ze.labelRef||"",this.ref=Ze.ref||"",this.valueRef=Ze.valueRef||""}}_e.BindItems=yn;class Sn extends t.XFAObject{constructor(Ze){super(Ge,"bookend"),this.id=Ze.id||"",this.leader=Ze.leader||"",this.trailer=Ze.trailer||"",this.use=Ze.use||"",this.usehref=Ze.usehref||""}}class _n extends t.Option01{constructor(Ze){super(Ge,"boolean"),this.id=Ze.id||"",this.name=Ze.name||"",this.use=Ze.use||"",this.usehref=Ze.usehref||""}[xe.$toHTML](Ze){return De(this[xe.$content]===1?"1":"0")}}class wn extends t.XFAObject{constructor(Ze){super(Ge,"border",!0),this.break=(0,Te.getStringOption)(Ze.break,["close","open"]),this.hand=(0,Te.getStringOption)(Ze.hand,["even","left","right"]),this.id=Ze.id||"",this.presence=(0,Te.getStringOption)(Ze.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,Te.getRelevant)(Ze.relevant),this.use=Ze.use||"",this.usehref=Ze.usehref||"",this.corner=new t.XFAObjectArray(4),this.edge=new t.XFAObjectArray(4),this.extras=null,this.fill=null,this.margin=null}[xe.$getExtra](){if(!this[xe.$extra]){const Ze=this.edge.children.slice();if(Ze.length<4){const _i=Ze.at(-1)||new pi({});for(let Hi=Ze.length;Hi<4;Hi++)Ze.push(_i)}const Pn=Ze.map(_i=>_i.thickness),gi=[0,0,0,0];this.margin&&(gi[0]=this.margin.topInset,gi[1]=this.margin.rightInset,gi[2]=this.margin.bottomInset,gi[3]=this.margin.leftInset),this[xe.$extra]={widths:Pn,insets:gi,edges:Ze}}return this[xe.$extra]}[xe.$toStyle](){const{edges:Ze}=this[xe.$getExtra](),Pn=Ze.map(_i=>{const Hi=_i[xe.$toStyle]();return Hi.color||="#000000",Hi}),gi=Object.create(null);if(this.margin&&Object.assign(gi,this.margin[xe.$toStyle]()),this.fill?.presence==="visible"&&Object.assign(gi,this.fill[xe.$toStyle]()),this.corner.children.some(_i=>_i.radius!==0)){const _i=this.corner.children.map(Hi=>Hi[xe.$toStyle]());if(_i.length===2||_i.length===3){const Hi=_i.at(-1);for(let pr=_i.length;pr<4;pr++)_i.push(Hi)}gi.borderRadius=_i.map(Hi=>Hi.radius).join(" ")}switch(this.presence){case"invisible":case"hidden":gi.borderStyle="";break;case"inactive":gi.borderStyle="none";break;default:gi.borderStyle=Pn.map(_i=>_i.style).join(" ");break}return gi.borderWidth=Pn.map(_i=>_i.width).join(" "),gi.borderColor=Pn.map(_i=>_i.color).join(" "),gi}}class Nn extends t.XFAObject{constructor(Ze){super(Ge,"break",!0),this.after=(0,Te.getStringOption)(Ze.after,["auto","contentArea","pageArea","pageEven","pageOdd"]),this.afterTarget=Ze.afterTarget||"",this.before=(0,Te.getStringOption)(Ze.before,["auto","contentArea","pageArea","pageEven","pageOdd"]),this.beforeTarget=Ze.beforeTarget||"",this.bookendLeader=Ze.bookendLeader||"",this.bookendTrailer=Ze.bookendTrailer||"",this.id=Ze.id||"",this.overflowLeader=Ze.overflowLeader||"",this.overflowTarget=Ze.overflowTarget||"",this.overflowTrailer=Ze.overflowTrailer||"",this.startNew=(0,Te.getInteger)({data:Ze.startNew,defaultValue:0,validate:Pn=>Pn===1}),this.use=Ze.use||"",this.usehref=Ze.usehref||"",this.extras=null}}class Tn extends t.XFAObject{constructor(Ze){super(Ge,"breakAfter",!0),this.id=Ze.id||"",this.leader=Ze.leader||"",this.startNew=(0,Te.getInteger)({data:Ze.startNew,defaultValue:0,validate:Pn=>Pn===1}),this.target=Ze.target||"",this.targetType=(0,Te.getStringOption)(Ze.targetType,["auto","contentArea","pageArea"]),this.trailer=Ze.trailer||"",this.use=Ze.use||"",this.usehref=Ze.usehref||"",this.script=null}}class Cn extends t.XFAObject{constructor(Ze){super(Ge,"breakBefore",!0),this.id=Ze.id||"",this.leader=Ze.leader||"",this.startNew=(0,Te.getInteger)({data:Ze.startNew,defaultValue:0,validate:Pn=>Pn===1}),this.target=Ze.target||"",this.targetType=(0,Te.getStringOption)(Ze.targetType,["auto","contentArea","pageArea"]),this.trailer=Ze.trailer||"",this.use=Ze.use||"",this.usehref=Ze.usehref||"",this.script=null}[xe.$toHTML](Ze){return this[xe.$extra]={},Te.HTMLResult.FAILURE}}class In extends t.XFAObject{constructor(Ze){super(Ge,"button",!0),this.highlight=(0,Te.getStringOption)(Ze.highlight,["inverted","none","outline","push"]),this.id=Ze.id||"",this.use=Ze.use||"",this.usehref=Ze.usehref||"",this.extras=null}[xe.$toHTML](Ze){const gi=this[xe.$getParent]()[xe.$getParent](),_i={name:"button",attributes:{id:this[xe.$uid],class:["xfaButton"],style:{}},children:[]};for(const Hi of gi.event.children){if(Hi.activity!=="click"||!Hi.script)continue;const pr=(0,je.recoverJsURL)(Hi.script[xe.$content]);if(!pr)continue;const gr=(0,e.fixURL)(pr.url);gr&&_i.children.push({name:"a",attributes:{id:"link"+this[xe.$uid],href:gr,newWindow:pr.newWindow,class:["xfaLink"],style:{}},children:[]})}return Te.HTMLResult.success(_i)}}class Rn extends t.XFAObject{constructor(Ze){super(Ge,"calculate",!0),this.id=Ze.id||"",this.override=(0,Te.getStringOption)(Ze.override,["disabled","error","ignore","warning"]),this.use=Ze.use||"",this.usehref=Ze.usehref||"",this.extras=null,this.message=null,this.script=null}}class bn extends t.XFAObject{constructor(Ze){super(Ge,"caption",!0),this.id=Ze.id||"",this.placement=(0,Te.getStringOption)(Ze.placement,["left","bottom","inline","right","top"]),this.presence=(0,Te.getStringOption)(Ze.presence,["visible","hidden","inactive","invisible"]),this.reserve=Math.ceil((0,Te.getMeasurement)(Ze.reserve)),this.use=Ze.use||"",this.usehref=Ze.usehref||"",this.extras=null,this.font=null,this.margin=null,this.para=null,this.value=null}[xe.$setValue](Ze){Xe(this,Ze)}[xe.$getExtra](Ze){if(!this[xe.$extra]){let{width:Pn,height:gi}=Ze;switch(this.placement){case"left":case"right":case"inline":Pn=this.reserve<=0?Pn:this.reserve;break;case"top":case"bottom":gi=this.reserve<=0?gi:this.reserve;break}this[xe.$extra]=(0,e.layoutNode)(this,{width:Pn,height:gi})}return this[xe.$extra]}[xe.$toHTML](Ze){if(!this.value)return Te.HTMLResult.EMPTY;this[xe.$pushPara]();const Pn=this.value[xe.$toHTML](Ze).html;if(!Pn)return this[xe.$popPara](),Te.HTMLResult.EMPTY;const gi=this.reserve;if(this.reserve<=0){const{w:pr,h:gr}=this[xe.$getExtra](Ze);switch(this.placement){case"left":case"right":case"inline":this.reserve=pr;break;case"top":case"bottom":this.reserve=gr;break}}const _i=[];typeof Pn=="string"?_i.push({name:"#text",value:Pn}):_i.push(Pn);const Hi=(0,e.toStyle)(this,"font","margin","visibility");switch(this.placement){case"left":case"right":this.reserve>0&&(Hi.width=(0,e.measureToString)(this.reserve));break;case"top":case"bottom":this.reserve>0&&(Hi.height=(0,e.measureToString)(this.reserve));break}return(0,e.setPara)(this,null,Pn),this[xe.$popPara](),this.reserve=gi,Te.HTMLResult.success({name:"div",attributes:{style:Hi,class:["xfaCaption"]},children:_i})}}class kn extends t.StringObject{constructor(Ze){super(Ge,"certificate"),this.id=Ze.id||"",this.name=Ze.name||"",this.use=Ze.use||"",this.usehref=Ze.usehref||""}}class En extends t.XFAObject{constructor(Ze){super(Ge,"certificates",!0),this.credentialServerPolicy=(0,Te.getStringOption)(Ze.credentialServerPolicy,["optional","required"]),this.id=Ze.id||"",this.url=Ze.url||"",this.urlPolicy=Ze.urlPolicy||"",this.use=Ze.use||"",this.usehref=Ze.usehref||"",this.encryption=null,this.issuers=null,this.keyUsage=null,this.oids=null,this.signing=null,this.subjectDNs=null}}class On extends t.XFAObject{constructor(Ze){super(Ge,"checkButton",!0),this.id=Ze.id||"",this.mark=(0,Te.getStringOption)(Ze.mark,["default","check","circle","cross","diamond","square","star"]),this.shape=(0,Te.getStringOption)(Ze.shape,["square","round"]),this.size=(0,Te.getMeasurement)(Ze.size,"10pt"),this.use=Ze.use||"",this.usehref=Ze.usehref||"",this.border=null,this.extras=null,this.margin=null}[xe.$toHTML](Ze){const Pn=(0,e.toStyle)("margin"),gi=(0,e.measureToString)(this.size);Pn.width=Pn.height=gi;let _i,Hi,pr;const gr=this[xe.$getParent]()[xe.$getParent](),vr=gr.items.children.length&&gr.items.children[0][xe.$toHTML]().html||[],jr={on:(vr[0]!==void 0?vr[0]:"on").toString(),off:(vr[1]!==void 0?vr[1]:"off").toString()},fa=(gr.value?.[xe.$text]()||"off")===jr.on||void 0,ra=gr[xe.$getSubformParent](),la=gr[xe.$uid];let oa;ra instanceof Ii?(pr=ra[xe.$uid],_i="radio",Hi="xfaRadio",oa=ra[xe.$data]?.[xe.$uid]||ra[xe.$uid]):(_i="checkbox",Hi="xfaCheckbox",oa=gr[xe.$data]?.[xe.$uid]||gr[xe.$uid]);const Kr={name:"input",attributes:{class:[Hi],style:Pn,fieldId:la,dataId:oa,type:_i,checked:fa,xfaOn:jr.on,xfaOff:jr.off,"aria-label":Me(gr),"aria-required":!1}};return pr&&(Kr.attributes.name=pr),dn(gr)&&(Kr.attributes["aria-required"]=!0,Kr.attributes.required=!0),Te.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[Kr]})}}class Mn extends t.XFAObject{constructor(Ze){super(Ge,"choiceList",!0),this.commitOn=(0,Te.getStringOption)(Ze.commitOn,["select","exit"]),this.id=Ze.id||"",this.open=(0,Te.getStringOption)(Ze.open,["userControl","always","multiSelect","onEntry"]),this.textEntry=(0,Te.getInteger)({data:Ze.textEntry,defaultValue:0,validate:Pn=>Pn===1}),this.use=Ze.use||"",this.usehref=Ze.usehref||"",this.border=null,this.extras=null,this.margin=null}[xe.$toHTML](Ze){const Pn=(0,e.toStyle)(this,"border","margin"),_i=this[xe.$getParent]()[xe.$getParent](),pr={fontSize:`calc(${_i.font?.size||10}px * var(--scale-factor))`},gr=[];if(_i.items.children.length>0){const jr=_i.items;let Qr=0,fa=0;jr.children.length===2&&(Qr=jr.children[0].save,fa=1-Qr);const ra=jr.children[Qr][xe.$toHTML]().html,la=jr.children[fa][xe.$toHTML]().html;let oa=!1;const Kr=_i.value?.[xe.$text]()||"";for(let xa=0,Lr=ra.length;xa<Lr;xa++){const na={name:"option",attributes:{value:la[xa]||ra[xa],style:pr},value:ra[xa]};la[xa]===Kr&&(na.attributes.selected=oa=!0),gr.push(na)}oa||gr.splice(0,0,{name:"option",attributes:{hidden:!0,selected:!0},value:" "})}const vr={class:["xfaSelect"],fieldId:_i[xe.$uid],dataId:_i[xe.$data]?.[xe.$uid]||_i[xe.$uid],style:Pn,"aria-label":Me(_i),"aria-required":!1};return dn(_i)&&(vr["aria-required"]=!0,vr.required=!0),this.open==="multiSelect"&&(vr.multiple=!0),Te.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[{name:"select",children:gr,attributes:vr}]})}}class Bn extends t.XFAObject{constructor(Ze){super(Ge,"color",!0),this.cSpace=(0,Te.getStringOption)(Ze.cSpace,["SRGB"]),this.id=Ze.id||"",this.use=Ze.use||"",this.usehref=Ze.usehref||"",this.value=Ze.value?(0,Te.getColor)(Ze.value):"",this.extras=null}[xe.$hasSettableValue](){return!1}[xe.$toStyle](){return this.value?Ye.Util.makeHexColor(this.value.r,this.value.g,this.value.b):null}}class Hn extends t.XFAObject{constructor(Ze){super(Ge,"comb"),this.id=Ze.id||"",this.numberOfCells=(0,Te.getInteger)({data:Ze.numberOfCells,defaultValue:0,validate:Pn=>Pn>=0}),this.use=Ze.use||"",this.usehref=Ze.usehref||""}}class $n extends t.XFAObject{constructor(Ze){super(Ge,"connect",!0),this.connection=Ze.connection||"",this.id=Ze.id||"",this.ref=Ze.ref||"",this.usage=(0,Te.getStringOption)(Ze.usage,["exportAndImport","exportOnly","importOnly"]),this.use=Ze.use||"",this.usehref=Ze.usehref||"",this.picture=null}}class Un extends t.XFAObject{constructor(Ze){super(Ge,"contentArea",!0),this.h=(0,Te.getMeasurement)(Ze.h),this.id=Ze.id||"",this.name=Ze.name||"",this.relevant=(0,Te.getRelevant)(Ze.relevant),this.use=Ze.use||"",this.usehref=Ze.usehref||"",this.w=(0,Te.getMeasurement)(Ze.w),this.x=(0,Te.getMeasurement)(Ze.x,"0pt"),this.y=(0,Te.getMeasurement)(Ze.y,"0pt"),this.desc=null,this.extras=null}[xe.$toHTML](Ze){const Pn=(0,e.measureToString)(this.x),gi=(0,e.measureToString)(this.y),_i={left:Pn,top:gi,width:(0,e.measureToString)(this.w),height:(0,e.measureToString)(this.h)},Hi=["xfaContentarea"];return(0,e.isPrintOnly)(this)&&Hi.push("xfaPrintOnly"),Te.HTMLResult.success({name:"div",children:[],attributes:{style:_i,class:Hi,id:this[xe.$uid]}})}}class qn extends t.XFAObject{constructor(Ze){super(Ge,"corner",!0),this.id=Ze.id||"",this.inverted=(0,Te.getInteger)({data:Ze.inverted,defaultValue:0,validate:Pn=>Pn===1}),this.join=(0,Te.getStringOption)(Ze.join,["square","round"]),this.presence=(0,Te.getStringOption)(Ze.presence,["visible","hidden","inactive","invisible"]),this.radius=(0,Te.getMeasurement)(Ze.radius),this.stroke=(0,Te.getStringOption)(Ze.stroke,["solid","dashDot","dashDotDot","dashed","dotted","embossed","etched","lowered","raised"]),this.thickness=(0,Te.getMeasurement)(Ze.thickness,"0.5pt"),this.use=Ze.use||"",this.usehref=Ze.usehref||"",this.color=null,this.extras=null}[xe.$toStyle](){const Ze=(0,e.toStyle)(this,"visibility");return Ze.radius=(0,e.measureToString)(this.join==="square"?0:this.radius),Ze}}class jn extends t.ContentObject{constructor(Ze){super(Ge,"date"),this.id=Ze.id||"",this.name=Ze.name||"",this.use=Ze.use||"",this.usehref=Ze.usehref||""}[xe.$finalize](){const Ze=this[xe.$content].trim();this[xe.$content]=Ze?new Date(Ze):null}[xe.$toHTML](Ze){return De(this[xe.$content]?this[xe.$content].toString():"")}}class Xn extends t.ContentObject{constructor(Ze){super(Ge,"dateTime"),this.id=Ze.id||"",this.name=Ze.name||"",this.use=Ze.use||"",this.usehref=Ze.usehref||""}[xe.$finalize](){const Ze=this[xe.$content].trim();this[xe.$content]=Ze?new Date(Ze):null}[xe.$toHTML](Ze){return De(this[xe.$content]?this[xe.$content].toString():"")}}class Gn extends t.XFAObject{constructor(Ze){super(Ge,"dateTimeEdit",!0),this.hScrollPolicy=(0,Te.getStringOption)(Ze.hScrollPolicy,["auto","off","on"]),this.id=Ze.id||"",this.picker=(0,Te.getStringOption)(Ze.picker,["host","none"]),this.use=Ze.use||"",this.usehref=Ze.usehref||"",this.border=null,this.comb=null,this.extras=null,this.margin=null}[xe.$toHTML](Ze){const Pn=(0,e.toStyle)(this,"border","font","margin"),gi=this[xe.$getParent]()[xe.$getParent](),_i={name:"input",attributes:{type:"text",fieldId:gi[xe.$uid],dataId:gi[xe.$data]?.[xe.$uid]||gi[xe.$uid],class:["xfaTextfield"],style:Pn,"aria-label":Me(gi),"aria-required":!1}};return dn(gi)&&(_i.attributes["aria-required"]=!0,_i.attributes.required=!0),Te.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[_i]})}}class ri extends t.ContentObject{constructor(Ze){super(Ge,"decimal"),this.fracDigits=(0,Te.getInteger)({data:Ze.fracDigits,defaultValue:2,validate:Pn=>!0}),this.id=Ze.id||"",this.leadDigits=(0,Te.getInteger)({data:Ze.leadDigits,defaultValue:-1,validate:Pn=>!0}),this.name=Ze.name||"",this.use=Ze.use||"",this.usehref=Ze.usehref||""}[xe.$finalize](){const Ze=parseFloat(this[xe.$content].trim());this[xe.$content]=isNaN(Ze)?null:Ze}[xe.$toHTML](Ze){return De(this[xe.$content]!==null?this[xe.$content].toString():"")}}class ui extends t.XFAObject{constructor(Ze){super(Ge,"defaultUi",!0),this.id=Ze.id||"",this.use=Ze.use||"",this.usehref=Ze.usehref||"",this.extras=null}}class ti extends t.XFAObject{constructor(Ze){super(Ge,"desc",!0),this.id=Ze.id||"",this.use=Ze.use||"",this.usehref=Ze.usehref||"",this.boolean=new t.XFAObjectArray,this.date=new t.XFAObjectArray,this.dateTime=new t.XFAObjectArray,this.decimal=new t.XFAObjectArray,this.exData=new t.XFAObjectArray,this.float=new t.XFAObjectArray,this.image=new t.XFAObjectArray,this.integer=new t.XFAObjectArray,this.text=new t.XFAObjectArray,this.time=new t.XFAObjectArray}}class Yn extends t.OptionObject{constructor(Ze){super(Ge,"digestMethod",["","SHA1","SHA256","SHA512","RIPEMD160"]),this.id=Ze.id||"",this.use=Ze.use||"",this.usehref=Ze.usehref||""}}class Qn extends t.XFAObject{constructor(Ze){super(Ge,"digestMethods",!0),this.id=Ze.id||"",this.type=(0,Te.getStringOption)(Ze.type,["optional","required"]),this.use=Ze.use||"",this.usehref=Ze.usehref||"",this.digestMethod=new t.XFAObjectArray}}class ci extends t.XFAObject{constructor(Ze){super(Ge,"draw",!0),this.anchorType=(0,Te.getStringOption)(Ze.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,Te.getInteger)({data:Ze.colSpan,defaultValue:1,validate:Pn=>Pn>=1||Pn===-1}),this.h=Ze.h?(0,Te.getMeasurement)(Ze.h):"",this.hAlign=(0,Te.getStringOption)(Ze.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=Ze.id||"",this.locale=Ze.locale||"",this.maxH=(0,Te.getMeasurement)(Ze.maxH,"0pt"),this.maxW=(0,Te.getMeasurement)(Ze.maxW,"0pt"),this.minH=(0,Te.getMeasurement)(Ze.minH,"0pt"),this.minW=(0,Te.getMeasurement)(Ze.minW,"0pt"),this.name=Ze.name||"",this.presence=(0,Te.getStringOption)(Ze.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,Te.getRelevant)(Ze.relevant),this.rotate=(0,Te.getInteger)({data:Ze.rotate,defaultValue:0,validate:Pn=>Pn%90===0}),this.use=Ze.use||"",this.usehref=Ze.usehref||"",this.w=Ze.w?(0,Te.getMeasurement)(Ze.w):"",this.x=(0,Te.getMeasurement)(Ze.x,"0pt"),this.y=(0,Te.getMeasurement)(Ze.y,"0pt"),this.assist=null,this.border=null,this.caption=null,this.desc=null,this.extras=null,this.font=null,this.keep=null,this.margin=null,this.para=null,this.traversal=null,this.ui=null,this.value=null,this.setProperty=new t.XFAObjectArray}[xe.$setValue](Ze){Xe(this,Ze)}[xe.$toHTML](Ze){if(qe(this),this.presence==="hidden"||this.presence==="inactive")return Te.HTMLResult.EMPTY;(0,e.fixDimensions)(this),this[xe.$pushPara]();const Pn=this.w,gi=this.h,{w:_i,h:Hi,isBroken:pr}=(0,e.layoutNode)(this,Ze);if(_i&&this.w===""){if(pr&&this[xe.$getSubformParent]()[xe.$isThereMoreWidth]())return this[xe.$popPara](),Te.HTMLResult.FAILURE;this.w=_i}if(Hi&&this.h===""&&(this.h=Hi),Ue(this),!(0,Re.checkDimensions)(this,Ze))return this.w=Pn,this.h=gi,this[xe.$popPara](),Te.HTMLResult.FAILURE;We(this);const gr=(0,e.toStyle)(this,"font","hAlign","dimensions","position","presence","rotate","anchorType","border","margin");(0,e.setMinMaxDimensions)(this,gr),gr.margin&&(gr.padding=gr.margin,delete gr.margin);const vr=["xfaDraw"];this.font&&vr.push("xfaFont"),(0,e.isPrintOnly)(this)&&vr.push("xfaPrintOnly");const jr={style:gr,id:this[xe.$uid],class:vr};this.name&&(jr.xfaName=this.name);const Qr={name:"div",attributes:jr,children:[]};tn(this,jr);const fa=(0,e.computeBbox)(this,Qr,Ze),ra=this.value?this.value[xe.$toHTML](Ze).html:null;return ra===null?(this.w=Pn,this.h=gi,this[xe.$popPara](),Te.HTMLResult.success((0,e.createWrapper)(this,Qr),fa)):(Qr.children.push(ra),(0,e.setPara)(this,gr,ra),this.w=Pn,this.h=gi,this[xe.$popPara](),Te.HTMLResult.success((0,e.createWrapper)(this,Qr),fa))}}class pi extends t.XFAObject{constructor(Ze){super(Ge,"edge",!0),this.cap=(0,Te.getStringOption)(Ze.cap,["square","butt","round"]),this.id=Ze.id||"",this.presence=(0,Te.getStringOption)(Ze.presence,["visible","hidden","inactive","invisible"]),this.stroke=(0,Te.getStringOption)(Ze.stroke,["solid","dashDot","dashDotDot","dashed","dotted","embossed","etched","lowered","raised"]),this.thickness=(0,Te.getMeasurement)(Ze.thickness,"0.5pt"),this.use=Ze.use||"",this.usehref=Ze.usehref||"",this.color=null,this.extras=null}[xe.$toStyle](){const Ze=(0,e.toStyle)(this,"visibility");if(Object.assign(Ze,{linecap:this.cap,width:(0,e.measureToString)(this.thickness),color:this.color?this.color[xe.$toStyle]():"#000000",style:""}),this.presence!=="visible")Ze.style="none";else switch(this.stroke){case"solid":Ze.style="solid";break;case"dashDot":Ze.style="dashed";break;case"dashDotDot":Ze.style="dashed";break;case"dashed":Ze.style="dashed";break;case"dotted":Ze.style="dotted";break;case"embossed":Ze.style="ridge";break;case"etched":Ze.style="groove";break;case"lowered":Ze.style="inset";break;case"raised":Ze.style="outset";break}return Ze}}class ki extends t.OptionObject{constructor(Ze){super(Ge,"encoding",["adbe.x509.rsa_sha1","adbe.pkcs7.detached","adbe.pkcs7.sha1"]),this.id=Ze.id||"",this.use=Ze.use||"",this.usehref=Ze.usehref||""}}class hi extends t.XFAObject{constructor(Ze){super(Ge,"encodings",!0),this.id=Ze.id||"",this.type=(0,Te.getStringOption)(Ze.type,["optional","required"]),this.use=Ze.use||"",this.usehref=Ze.usehref||"",this.encoding=new t.XFAObjectArray}}class si extends t.XFAObject{constructor(Ze){super(Ge,"encrypt",!0),this.id=Ze.id||"",this.use=Ze.use||"",this.usehref=Ze.usehref||"",this.certificate=null}}class ai extends t.XFAObject{constructor(Ze){super(Ge,"encryptData",!0),this.id=Ze.id||"",this.operation=(0,Te.getStringOption)(Ze.operation,["encrypt","decrypt"]),this.target=Ze.target||"",this.use=Ze.use||"",this.usehref=Ze.usehref||"",this.filter=null,this.manifest=null}}class li extends t.XFAObject{constructor(Ze){super(Ge,"encryption",!0),this.id=Ze.id||"",this.type=(0,Te.getStringOption)(Ze.type,["optional","required"]),this.use=Ze.use||"",this.usehref=Ze.usehref||"",this.certificate=new t.XFAObjectArray}}class Ei extends t.OptionObject{constructor(Ze){super(Ge,"encryptionMethod",["","AES256-CBC","TRIPLEDES-CBC","AES128-CBC","AES192-CBC"]),this.id=Ze.id||"",this.use=Ze.use||"",this.usehref=Ze.usehref||""}}class $i extends t.XFAObject{constructor(Ze){super(Ge,"encryptionMethods",!0),this.id=Ze.id||"",this.type=(0,Te.getStringOption)(Ze.type,["optional","required"]),this.use=Ze.use||"",this.usehref=Ze.usehref||"",this.encryptionMethod=new t.XFAObjectArray}}class Qi extends t.XFAObject{constructor(Ze){super(Ge,"event",!0),this.activity=(0,Te.getStringOption)(Ze.activity,["click","change","docClose","docReady","enter","exit","full","indexChange","initialize","mouseDown","mouseEnter","mouseExit","mouseUp","postExecute","postOpen","postPrint","postSave","postSign","postSubmit","preExecute","preOpen","prePrint","preSave","preSign","preSubmit","ready","validationState"]),this.id=Ze.id||"",this.listen=(0,Te.getStringOption)(Ze.listen,["refOnly","refAndDescendents"]),this.name=Ze.name||"",this.ref=Ze.ref||"",this.use=Ze.use||"",this.usehref=Ze.usehref||"",this.extras=null,this.encryptData=null,this.execute=null,this.script=null,this.signData=null,this.submit=null}}class fr extends t.ContentObject{constructor(Ze){super(Ge,"exData"),this.contentType=Ze.contentType||"",this.href=Ze.href||"",this.id=Ze.id||"",this.maxLength=(0,Te.getInteger)({data:Ze.maxLength,defaultValue:-1,validate:Pn=>Pn>=-1}),this.name=Ze.name||"",this.rid=Ze.rid||"",this.transferEncoding=(0,Te.getStringOption)(Ze.transferEncoding,["none","base64","package"]),this.use=Ze.use||"",this.usehref=Ze.usehref||""}[xe.$isCDATAXml](){return this.contentType==="text/html"}[xe.$onChild](Ze){return this.contentType==="text/html"&&Ze[xe.$namespaceId]===Ie.NamespaceIds.xhtml.id?(this[xe.$content]=Ze,!0):this.contentType==="text/xml"?(this[xe.$content]=Ze,!0):!1}[xe.$toHTML](Ze){return this.contentType!=="text/html"||!this[xe.$content]?Te.HTMLResult.EMPTY:this[xe.$content][xe.$toHTML](Ze)}}class ar extends t.XFAObject{constructor(Ze){super(Ge,"exObject",!0),this.archive=Ze.archive||"",this.classId=Ze.classId||"",this.codeBase=Ze.codeBase||"",this.codeType=Ze.codeType||"",this.id=Ze.id||"",this.name=Ze.name||"",this.use=Ze.use||"",this.usehref=Ze.usehref||"",this.extras=null,this.boolean=new t.XFAObjectArray,this.date=new t.XFAObjectArray,this.dateTime=new t.XFAObjectArray,this.decimal=new t.XFAObjectArray,this.exData=new t.XFAObjectArray,this.exObject=new t.XFAObjectArray,this.float=new t.XFAObjectArray,this.image=new t.XFAObjectArray,this.integer=new t.XFAObjectArray,this.text=new t.XFAObjectArray,this.time=new t.XFAObjectArray}}class Ii extends t.XFAObject{constructor(Ze){super(Ge,"exclGroup",!0),this.access=(0,Te.getStringOption)(Ze.access,["open","nonInteractive","protected","readOnly"]),this.accessKey=Ze.accessKey||"",this.anchorType=(0,Te.getStringOption)(Ze.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,Te.getInteger)({data:Ze.colSpan,defaultValue:1,validate:Pn=>Pn>=1||Pn===-1}),this.h=Ze.h?(0,Te.getMeasurement)(Ze.h):"",this.hAlign=(0,Te.getStringOption)(Ze.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=Ze.id||"",this.layout=(0,Te.getStringOption)(Ze.layout,["position","lr-tb","rl-row","rl-tb","row","table","tb"]),this.maxH=(0,Te.getMeasurement)(Ze.maxH,"0pt"),this.maxW=(0,Te.getMeasurement)(Ze.maxW,"0pt"),this.minH=(0,Te.getMeasurement)(Ze.minH,"0pt"),this.minW=(0,Te.getMeasurement)(Ze.minW,"0pt"),this.name=Ze.name||"",this.presence=(0,Te.getStringOption)(Ze.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,Te.getRelevant)(Ze.relevant),this.use=Ze.use||"",this.usehref=Ze.usehref||"",this.w=Ze.w?(0,Te.getMeasurement)(Ze.w):"",this.x=(0,Te.getMeasurement)(Ze.x,"0pt"),this.y=(0,Te.getMeasurement)(Ze.y,"0pt"),this.assist=null,this.bind=null,this.border=null,this.calculate=null,this.caption=null,this.desc=null,this.extras=null,this.margin=null,this.para=null,this.traversal=null,this.validate=null,this.connect=new t.XFAObjectArray,this.event=new t.XFAObjectArray,this.field=new t.XFAObjectArray,this.setProperty=new t.XFAObjectArray}[xe.$isBindable](){return!0}[xe.$hasSettableValue](){return!0}[xe.$setValue](Ze){for(const Pn of this.field.children){if(!Pn.value){const gi=new Hs({});Pn[xe.$appendChild](gi),Pn.value=gi}Pn.value[xe.$setValue](Ze)}}[xe.$isThereMoreWidth](){return this.layout.endsWith("-tb")&&this[xe.$extra].attempt===0&&this[xe.$extra].numberInLine>0||this[xe.$getParent]()[xe.$isThereMoreWidth]()}[xe.$isSplittable](){const Ze=this[xe.$getSubformParent]();return Ze[xe.$isSplittable]()?this[xe.$extra]._isSplittable!==void 0?this[xe.$extra]._isSplittable:this.layout==="position"||this.layout.includes("row")?(this[xe.$extra]._isSplittable=!1,!1):Ze.layout?.endsWith("-tb")&&Ze[xe.$extra].numberInLine!==0?!1:(this[xe.$extra]._isSplittable=!0,!0):!1}[xe.$flushHTML](){return(0,Re.flushHTML)(this)}[xe.$addHTML](Ze,Pn){(0,Re.addHTML)(this,Ze,Pn)}[xe.$getAvailableSpace](){return(0,Re.getAvailableSpace)(this)}[xe.$toHTML](Ze){if(qe(this),this.presence==="hidden"||this.presence==="inactive"||this.h===0||this.w===0)return Te.HTMLResult.EMPTY;(0,e.fixDimensions)(this);const Pn=[],gi={id:this[xe.$uid],class:[]};(0,e.setAccess)(this,gi.class),this[xe.$extra]||(this[xe.$extra]=Object.create(null)),Object.assign(this[xe.$extra],{children:Pn,attributes:gi,attempt:0,line:null,numberInLine:0,availableSpace:{width:Math.min(this.w||1/0,Ze.width),height:Math.min(this.h||1/0,Ze.height)},width:0,height:0,prevHeight:0,currentWidth:0});const _i=this[xe.$isSplittable]();if(_i||Ue(this),!(0,Re.checkDimensions)(this,Ze))return Te.HTMLResult.FAILURE;const Hi=new Set(["field"]);if(this.layout.includes("row")){const Lr=this[xe.$getSubformParent]().columnWidths;Array.isArray(Lr)&&Lr.length>0&&(this[xe.$extra].columnWidths=Lr,this[xe.$extra].currentColumn=0)}const pr=(0,e.toStyle)(this,"anchorType","dimensions","position","presence","border","margin","hAlign"),gr=["xfaExclgroup"],vr=(0,e.layoutClass)(this);vr&&gr.push(vr),(0,e.isPrintOnly)(this)&&gr.push("xfaPrintOnly"),gi.style=pr,gi.class=gr,this.name&&(gi.xfaName=this.name),this[xe.$pushPara]();const jr=this.layout==="lr-tb"||this.layout==="rl-tb",Qr=jr?Ce:1;for(;this[xe.$extra].attempt<Qr;this[xe.$extra].attempt++){jr&&this[xe.$extra].attempt===Ce-1&&(this[xe.$extra].numberInLine=0);const Lr=this[xe.$childrenToHTML]({filter:Hi,include:!0});if(Lr.success)break;if(Lr.isBreak())return this[xe.$popPara](),Lr;if(jr&&this[xe.$extra].attempt===0&&this[xe.$extra].numberInLine===0&&!this[xe.$getTemplateRoot]()[xe.$extra].noLayoutFailure){this[xe.$extra].attempt=Qr;break}}if(this[xe.$popPara](),_i||We(this),this[xe.$extra].attempt===Qr)return _i||delete this[xe.$extra],Te.HTMLResult.FAILURE;let fa=0,ra=0;this.margin&&(fa=this.margin.leftInset+this.margin.rightInset,ra=this.margin.topInset+this.margin.bottomInset);const la=Math.max(this[xe.$extra].width+fa,this.w||0),oa=Math.max(this[xe.$extra].height+ra,this.h||0),Kr=[this.x,this.y,la,oa];this.w===""&&(pr.width=(0,e.measureToString)(la)),this.h===""&&(pr.height=(0,e.measureToString)(oa));const xa={name:"div",attributes:gi,children:Pn};return tn(this,gi),delete this[xe.$extra],Te.HTMLResult.success((0,e.createWrapper)(this,xa),Kr)}}class vi extends t.XFAObject{constructor(Ze){super(Ge,"execute"),this.connection=Ze.connection||"",this.executeType=(0,Te.getStringOption)(Ze.executeType,["import","remerge"]),this.id=Ze.id||"",this.runAt=(0,Te.getStringOption)(Ze.runAt,["client","both","server"]),this.use=Ze.use||"",this.usehref=Ze.usehref||""}}class rr extends t.XFAObject{constructor(Ze){super(Ge,"extras",!0),this.id=Ze.id||"",this.name=Ze.name||"",this.use=Ze.use||"",this.usehref=Ze.usehref||"",this.boolean=new t.XFAObjectArray,this.date=new t.XFAObjectArray,this.dateTime=new t.XFAObjectArray,this.decimal=new t.XFAObjectArray,this.exData=new t.XFAObjectArray,this.extras=new t.XFAObjectArray,this.float=new t.XFAObjectArray,this.image=new t.XFAObjectArray,this.integer=new t.XFAObjectArray,this.text=new t.XFAObjectArray,this.time=new t.XFAObjectArray}}class dr extends t.XFAObject{constructor(Ze){super(Ge,"field",!0),this.access=(0,Te.getStringOption)(Ze.access,["open","nonInteractive","protected","readOnly"]),this.accessKey=Ze.accessKey||"",this.anchorType=(0,Te.getStringOption)(Ze.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,Te.getInteger)({data:Ze.colSpan,defaultValue:1,validate:Pn=>Pn>=1||Pn===-1}),this.h=Ze.h?(0,Te.getMeasurement)(Ze.h):"",this.hAlign=(0,Te.getStringOption)(Ze.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=Ze.id||"",this.locale=Ze.locale||"",this.maxH=(0,Te.getMeasurement)(Ze.maxH,"0pt"),this.maxW=(0,Te.getMeasurement)(Ze.maxW,"0pt"),this.minH=(0,Te.getMeasurement)(Ze.minH,"0pt"),this.minW=(0,Te.getMeasurement)(Ze.minW,"0pt"),this.name=Ze.name||"",this.presence=(0,Te.getStringOption)(Ze.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,Te.getRelevant)(Ze.relevant),this.rotate=(0,Te.getInteger)({data:Ze.rotate,defaultValue:0,validate:Pn=>Pn%90===0}),this.use=Ze.use||"",this.usehref=Ze.usehref||"",this.w=Ze.w?(0,Te.getMeasurement)(Ze.w):"",this.x=(0,Te.getMeasurement)(Ze.x,"0pt"),this.y=(0,Te.getMeasurement)(Ze.y,"0pt"),this.assist=null,this.bind=null,this.border=null,this.calculate=null,this.caption=null,this.desc=null,this.extras=null,this.font=null,this.format=null,this.items=new t.XFAObjectArray(2),this.keep=null,this.margin=null,this.para=null,this.traversal=null,this.ui=null,this.validate=null,this.value=null,this.bindItems=new t.XFAObjectArray,this.connect=new t.XFAObjectArray,this.event=new t.XFAObjectArray,this.setProperty=new t.XFAObjectArray}[xe.$isBindable](){return!0}[xe.$setValue](Ze){Xe(this,Ze)}[xe.$toHTML](Ze){if(qe(this),!this.ui){this.ui=new yo({}),this.ui[xe.$globalData]=this[xe.$globalData],this[xe.$appendChild](this.ui);let Lr;switch(this.items.children.length){case 0:Lr=new ws({}),this.ui.textEdit=Lr;break;case 1:Lr=new On({}),this.ui.checkButton=Lr;break;case 2:Lr=new Mn({}),this.ui.choiceList=Lr;break}this.ui[xe.$appendChild](Lr)}if(!this.ui||this.presence==="hidden"||this.presence==="inactive"||this.h===0||this.w===0)return Te.HTMLResult.EMPTY;this.caption&&delete this.caption[xe.$extra],this[xe.$pushPara]();const Pn=this.caption?this.caption[xe.$toHTML](Ze).html:null,gi=this.w,_i=this.h;let Hi=0,pr=0;this.margin&&(Hi=this.margin.leftInset+this.margin.rightInset,pr=this.margin.topInset+this.margin.bottomInset);let gr=null;if(this.w===""||this.h===""){let Lr=null,na=null,pa=0,Vr=0;if(this.ui.checkButton)pa=Vr=this.ui.checkButton.size;else{const{w:ss,h:is}=(0,e.layoutNode)(this,Ze);ss!==null?(pa=ss,Vr=is):Vr=(0,en.getMetrics)(this.font,!0).lineNoGap}if(gr=He(this.ui[xe.$getExtra]()),pa+=gr.w,Vr+=gr.h,this.caption){const{w:ss,h:is,isBroken:Ba}=this.caption[xe.$getExtra](Ze);if(Ba&&this[xe.$getSubformParent]()[xe.$isThereMoreWidth]())return this[xe.$popPara](),Te.HTMLResult.FAILURE;switch(Lr=ss,na=is,this.caption.placement){case"left":case"right":case"inline":Lr+=pa;break;case"top":case"bottom":na+=Vr;break}}else Lr=pa,na=Vr;Lr&&this.w===""&&(Lr+=Hi,this.w=Math.min(this.maxW<=0?1/0:this.maxW,this.minW+1<Lr?Lr:this.minW)),na&&this.h===""&&(na+=pr,this.h=Math.min(this.maxH<=0?1/0:this.maxH,this.minH+1<na?na:this.minH))}if(this[xe.$popPara](),(0,e.fixDimensions)(this),Ue(this),!(0,Re.checkDimensions)(this,Ze))return this.w=gi,this.h=_i,this[xe.$popPara](),Te.HTMLResult.FAILURE;We(this);const vr=(0,e.toStyle)(this,"font","dimensions","position","rotate","anchorType","presence","margin","hAlign");(0,e.setMinMaxDimensions)(this,vr);const jr=["xfaField"];this.font&&jr.push("xfaFont"),(0,e.isPrintOnly)(this)&&jr.push("xfaPrintOnly");const Qr={style:vr,id:this[xe.$uid],class:jr};vr.margin&&(vr.padding=vr.margin,delete vr.margin),(0,e.setAccess)(this,jr),this.name&&(Qr.xfaName=this.name);const fa=[],ra={name:"div",attributes:Qr,children:fa};tn(this,Qr);const la=this.border?this.border[xe.$toStyle]():null,oa=(0,e.computeBbox)(this,ra,Ze),Kr=this.ui[xe.$toHTML]().html;if(!Kr)return Object.assign(vr,la),Te.HTMLResult.success((0,e.createWrapper)(this,ra),oa);this[xe.$tabIndex]&&(Kr.children?.[0]?Kr.children[0].attributes.tabindex=this[xe.$tabIndex]:Kr.attributes.tabindex=this[xe.$tabIndex]),Kr.attributes.style||(Kr.attributes.style=Object.create(null));let xa=null;if(this.ui.button?(Kr.children.length===1&&([xa]=Kr.children.splice(0,1)),Object.assign(Kr.attributes.style,la)):Object.assign(vr,la),fa.push(Kr),this.value){if(this.ui.imageEdit)Kr.children.push(this.value[xe.$toHTML]().html);else if(!this.ui.button){let Lr="";if(this.value.exData)Lr=this.value.exData[xe.$text]();else if(this.value.text)Lr=this.value.text[xe.$getExtra]();else{const na=this.value[xe.$toHTML]().html;na!==null&&(Lr=na.children[0].value)}this.ui.textEdit&&this.value.text?.maxChars&&(Kr.children[0].attributes.maxLength=this.value.text.maxChars),Lr&&(this.ui.numericEdit&&(Lr=parseFloat(Lr),Lr=isNaN(Lr)?"":Lr.toString()),Kr.children[0].name==="textarea"?Kr.children[0].attributes.textContent=Lr:Kr.children[0].attributes.value=Lr)}}if(!this.ui.imageEdit&&Kr.children?.[0]&&this.h){gr=gr||He(this.ui[xe.$getExtra]());let Lr=0;if(this.caption&&["top","bottom"].includes(this.caption.placement)){Lr=this.caption.reserve,Lr<=0&&(Lr=this.caption[xe.$getExtra](Ze).h);const na=this.h-Lr-pr-gr.h;Kr.children[0].attributes.style.height=(0,e.measureToString)(na)}else Kr.children[0].attributes.style.height="100%"}if(xa&&Kr.children.push(xa),!Pn)return Kr.attributes.class&&Kr.attributes.class.push("xfaLeft"),this.w=gi,this.h=_i,Te.HTMLResult.success((0,e.createWrapper)(this,ra),oa);if(this.ui.button)return vr.padding&&delete vr.padding,Pn.name==="div"&&(Pn.name="span"),Kr.children.push(Pn),Te.HTMLResult.success(ra,oa);switch(this.ui.checkButton&&(Pn.attributes.class[0]="xfaCaptionForCheckButton"),Kr.attributes.class||(Kr.attributes.class=[]),Kr.children.splice(0,0,Pn),this.caption.placement){case"left":Kr.attributes.class.push("xfaLeft");break;case"right":Kr.attributes.class.push("xfaRight");break;case"top":Kr.attributes.class.push("xfaTop");break;case"bottom":Kr.attributes.class.push("xfaBottom");break;case"inline":Kr.attributes.class.push("xfaLeft");break}return this.w=gi,this.h=_i,Te.HTMLResult.success((0,e.createWrapper)(this,ra),oa)}}_e.Field=dr;class Xi extends t.XFAObject{constructor(Ze){super(Ge,"fill",!0),this.id=Ze.id||"",this.presence=(0,Te.getStringOption)(Ze.presence,["visible","hidden","inactive","invisible"]),this.use=Ze.use||"",this.usehref=Ze.usehref||"",this.color=null,this.extras=null,this.linear=null,this.pattern=null,this.radial=null,this.solid=null,this.stipple=null}[xe.$toStyle](){const Ze=this[xe.$getParent](),gi=Ze[xe.$getParent]()[xe.$getParent](),_i=Object.create(null);let Hi="color",pr=Hi;Ze instanceof wn&&(Hi="background-color",pr="background",gi instanceof yo&&(_i.backgroundColor="white")),(Ze instanceof Sa||Ze instanceof an)&&(Hi=pr="fill",_i.fill="white");for(const gr of Object.getOwnPropertyNames(this)){if(gr==="extras"||gr==="color")continue;const vr=this[gr];if(!(vr instanceof t.XFAObject))continue;const jr=vr[xe.$toStyle](this.color);return jr&&(_i[jr.startsWith("#")?Hi:pr]=jr),_i}if(this.color?.value){const gr=this.color[xe.$toStyle]();_i[gr.startsWith("#")?Hi:pr]=gr}return _i}}class Gi extends t.XFAObject{constructor(Ze){super(Ge,"filter",!0),this.addRevocationInfo=(0,Te.getStringOption)(Ze.addRevocationInfo,["","required","optional","none"]),this.id=Ze.id||"",this.name=Ze.name||"",this.use=Ze.use||"",this.usehref=Ze.usehref||"",this.version=(0,Te.getInteger)({data:this.version,defaultValue:5,validate:Pn=>Pn>=1&&Pn<=5}),this.appearanceFilter=null,this.certificates=null,this.digestMethods=null,this.encodings=null,this.encryptionMethods=null,this.handler=null,this.lockDocument=null,this.mdp=null,this.reasons=null,this.timeStamp=null}}class Yi extends t.ContentObject{constructor(Ze){super(Ge,"float"),this.id=Ze.id||"",this.name=Ze.name||"",this.use=Ze.use||"",this.usehref=Ze.usehref||""}[xe.$finalize](){const Ze=parseFloat(this[xe.$content].trim());this[xe.$content]=isNaN(Ze)?null:Ze}[xe.$toHTML](Ze){return De(this[xe.$content]!==null?this[xe.$content].toString():"")}}class Nr extends t.XFAObject{constructor(Ze){super(Ge,"font",!0),this.baselineShift=(0,Te.getMeasurement)(Ze.baselineShift),this.fontHorizontalScale=(0,Te.getFloat)({data:Ze.fontHorizontalScale,defaultValue:100,validate:Pn=>Pn>=0}),this.fontVerticalScale=(0,Te.getFloat)({data:Ze.fontVerticalScale,defaultValue:100,validate:Pn=>Pn>=0}),this.id=Ze.id||"",this.kerningMode=(0,Te.getStringOption)(Ze.kerningMode,["none","pair"]),this.letterSpacing=(0,Te.getMeasurement)(Ze.letterSpacing,"0"),this.lineThrough=(0,Te.getInteger)({data:Ze.lineThrough,defaultValue:0,validate:Pn=>Pn===1||Pn===2}),this.lineThroughPeriod=(0,Te.getStringOption)(Ze.lineThroughPeriod,["all","word"]),this.overline=(0,Te.getInteger)({data:Ze.overline,defaultValue:0,validate:Pn=>Pn===1||Pn===2}),this.overlinePeriod=(0,Te.getStringOption)(Ze.overlinePeriod,["all","word"]),this.posture=(0,Te.getStringOption)(Ze.posture,["normal","italic"]),this.size=(0,Te.getMeasurement)(Ze.size,"10pt"),this.typeface=Ze.typeface||"Courier",this.underline=(0,Te.getInteger)({data:Ze.underline,defaultValue:0,validate:Pn=>Pn===1||Pn===2}),this.underlinePeriod=(0,Te.getStringOption)(Ze.underlinePeriod,["all","word"]),this.use=Ze.use||"",this.usehref=Ze.usehref||"",this.weight=(0,Te.getStringOption)(Ze.weight,["normal","bold"]),this.extras=null,this.fill=null}[xe.$clean](Ze){super[xe.$clean](Ze),this[xe.$globalData].usedTypefaces.add(this.typeface)}[xe.$toStyle](){const Ze=(0,e.toStyle)(this,"fill"),Pn=Ze.color;return Pn&&(Pn==="#000000"?delete Ze.color:Pn.startsWith("#")||(Ze.background=Pn,Ze.backgroundClip="text",Ze.color="transparent")),this.baselineShift&&(Ze.verticalAlign=(0,e.measureToString)(this.baselineShift)),Ze.fontKerning=this.kerningMode==="none"?"none":"normal",Ze.letterSpacing=(0,e.measureToString)(this.letterSpacing),this.lineThrough!==0&&(Ze.textDecoration="line-through",this.lineThrough===2&&(Ze.textDecorationStyle="double")),this.overline!==0&&(Ze.textDecoration="overline",this.overline===2&&(Ze.textDecorationStyle="double")),Ze.fontStyle=this.posture,Ze.fontSize=(0,e.measureToString)(.99*this.size),(0,e.setFontFamily)(this,this,this[xe.$globalData].fontFinder,Ze),this.underline!==0&&(Ze.textDecoration="underline",this.underline===2&&(Ze.textDecorationStyle="double")),Ze.fontWeight=this.weight,Ze}}class ha extends t.XFAObject{constructor(Ze){super(Ge,"format",!0),this.id=Ze.id||"",this.use=Ze.use||"",this.usehref=Ze.usehref||"",this.extras=null,this.picture=null}}class sr extends t.StringObject{constructor(Ze){super(Ge,"handler"),this.id=Ze.id||"",this.type=(0,Te.getStringOption)(Ze.type,["optional","required"]),this.use=Ze.use||"",this.usehref=Ze.usehref||""}}class xr extends t.XFAObject{constructor(Ze){super(Ge,"hyphenation"),this.excludeAllCaps=(0,Te.getInteger)({data:Ze.excludeAllCaps,defaultValue:0,validate:Pn=>Pn===1}),this.excludeInitialCap=(0,Te.getInteger)({data:Ze.excludeInitialCap,defaultValue:0,validate:Pn=>Pn===1}),this.hyphenate=(0,Te.getInteger)({data:Ze.hyphenate,defaultValue:0,validate:Pn=>Pn===1}),this.id=Ze.id||"",this.pushCharacterCount=(0,Te.getInteger)({data:Ze.pushCharacterCount,defaultValue:3,validate:Pn=>Pn>=0}),this.remainCharacterCount=(0,Te.getInteger)({data:Ze.remainCharacterCount,defaultValue:3,validate:Pn=>Pn>=0}),this.use=Ze.use||"",this.usehref=Ze.usehref||"",this.wordCharacterCount=(0,Te.getInteger)({data:Ze.wordCharacterCount,defaultValue:7,validate:Pn=>Pn>=0})}}class Zi extends t.StringObject{constructor(Ze){super(Ge,"image"),this.aspect=(0,Te.getStringOption)(Ze.aspect,["fit","actual","height","none","width"]),this.contentType=Ze.contentType||"",this.href=Ze.href||"",this.id=Ze.id||"",this.name=Ze.name||"",this.transferEncoding=(0,Te.getStringOption)(Ze.transferEncoding,["base64","none","package"]),this.use=Ze.use||"",this.usehref=Ze.usehref||""}[xe.$toHTML](){if(this.contentType&&!Qe.has(this.contentType.toLowerCase()))return Te.HTMLResult.EMPTY;let Ze=this[xe.$globalData].images&&this[xe.$globalData].images.get(this.href);if(!Ze&&(this.href||!this[xe.$content])||(!Ze&&this.transferEncoding==="base64"&&(Ze=(0,Ye.stringToBytes)(atob(this[xe.$content]))),!Ze))return Te.HTMLResult.EMPTY;if(!this.contentType){for(const[Hi,pr]of hn)if(Ze.length>Hi.length&&Hi.every((gr,vr)=>gr===Ze[vr])){this.contentType=pr;break}if(!this.contentType)return Te.HTMLResult.EMPTY}const Pn=new Blob([Ze],{type:this.contentType});let gi;switch(this.aspect){case"fit":case"actual":break;case"height":gi={height:"100%",objectFit:"fill"};break;case"none":gi={width:"100%",height:"100%",objectFit:"fill"};break;case"width":gi={width:"100%",objectFit:"fill"};break}const _i=this[xe.$getParent]();return Te.HTMLResult.success({name:"img",attributes:{class:["xfaImage"],style:gi,src:URL.createObjectURL(Pn),alt:_i?Me(_i[xe.$getParent]()):null}})}}class Ar extends t.XFAObject{constructor(Ze){super(Ge,"imageEdit",!0),this.data=(0,Te.getStringOption)(Ze.data,["link","embed"]),this.id=Ze.id||"",this.use=Ze.use||"",this.usehref=Ze.usehref||"",this.border=null,this.extras=null,this.margin=null}[xe.$toHTML](Ze){return this.data==="embed"?Te.HTMLResult.success({name:"div",children:[],attributes:{}}):Te.HTMLResult.EMPTY}}class Hr extends t.ContentObject{constructor(Ze){super(Ge,"integer"),this.id=Ze.id||"",this.name=Ze.name||"",this.use=Ze.use||"",this.usehref=Ze.usehref||""}[xe.$finalize](){const Ze=parseInt(this[xe.$content].trim(),10);this[xe.$content]=isNaN(Ze)?null:Ze}[xe.$toHTML](Ze){return De(this[xe.$content]!==null?this[xe.$content].toString():"")}}class Xr extends t.XFAObject{constructor(Ze){super(Ge,"issuers",!0),this.id=Ze.id||"",this.type=(0,Te.getStringOption)(Ze.type,["optional","required"]),this.use=Ze.use||"",this.usehref=Ze.usehref||"",this.certificate=new t.XFAObjectArray}}class kr extends t.XFAObject{constructor(Ze){super(Ge,"items",!0),this.id=Ze.id||"",this.name=Ze.name||"",this.presence=(0,Te.getStringOption)(Ze.presence,["visible","hidden","inactive","invisible"]),this.ref=Ze.ref||"",this.save=(0,Te.getInteger)({data:Ze.save,defaultValue:0,validate:Pn=>Pn===1}),this.use=Ze.use||"",this.usehref=Ze.usehref||"",this.boolean=new t.XFAObjectArray,this.date=new t.XFAObjectArray,this.dateTime=new t.XFAObjectArray,this.decimal=new t.XFAObjectArray,this.exData=new t.XFAObjectArray,this.float=new t.XFAObjectArray,this.image=new t.XFAObjectArray,this.integer=new t.XFAObjectArray,this.text=new t.XFAObjectArray,this.time=new t.XFAObjectArray}[xe.$toHTML](){const Ze=[];for(const Pn of this[xe.$getChildren]())Ze.push(Pn[xe.$text]());return Te.HTMLResult.success(Ze)}}_e.Items=kr;class da extends t.XFAObject{constructor(Ze){super(Ge,"keep",!0),this.id=Ze.id||"";const Pn=["none","contentArea","pageArea"];this.intact=(0,Te.getStringOption)(Ze.intact,Pn),this.next=(0,Te.getStringOption)(Ze.next,Pn),this.previous=(0,Te.getStringOption)(Ze.previous,Pn),this.use=Ze.use||"",this.usehref=Ze.usehref||"",this.extras=null}}class Mi extends t.XFAObject{constructor(Ze){super(Ge,"keyUsage");const Pn=["","yes","no"];this.crlSign=(0,Te.getStringOption)(Ze.crlSign,Pn),this.dataEncipherment=(0,Te.getStringOption)(Ze.dataEncipherment,Pn),this.decipherOnly=(0,Te.getStringOption)(Ze.decipherOnly,Pn),this.digitalSignature=(0,Te.getStringOption)(Ze.digitalSignature,Pn),this.encipherOnly=(0,Te.getStringOption)(Ze.encipherOnly,Pn),this.id=Ze.id||"",this.keyAgreement=(0,Te.getStringOption)(Ze.keyAgreement,Pn),this.keyCertSign=(0,Te.getStringOption)(Ze.keyCertSign,Pn),this.keyEncipherment=(0,Te.getStringOption)(Ze.keyEncipherment,Pn),this.nonRepudiation=(0,Te.getStringOption)(Ze.nonRepudiation,Pn),this.type=(0,Te.getStringOption)(Ze.type,["optional","required"]),this.use=Ze.use||"",this.usehref=Ze.usehref||""}}class Ri extends t.XFAObject{constructor(Ze){super(Ge,"line",!0),this.hand=(0,Te.getStringOption)(Ze.hand,["even","left","right"]),this.id=Ze.id||"",this.slope=(0,Te.getStringOption)(Ze.slope,["\\","/"]),this.use=Ze.use||"",this.usehref=Ze.usehref||"",this.edge=null}[xe.$toHTML](){const Ze=this[xe.$getParent]()[xe.$getParent](),Pn=this.edge||new pi({}),gi=Pn[xe.$toStyle](),_i=Object.create(null),Hi=Pn.presence==="visible"?Pn.thickness:0;_i.strokeWidth=(0,e.measureToString)(Hi),_i.stroke=gi.color;let pr,gr,vr,jr,Qr="100%",fa="100%";Ze.w<=Hi?([pr,gr,vr,jr]=["50%",0,"50%","100%"],Qr=_i.strokeWidth):Ze.h<=Hi?([pr,gr,vr,jr]=[0,"50%","100%","50%"],fa=_i.strokeWidth):this.slope==="\\"?[pr,gr,vr,jr]=[0,0,"100%","100%"]:[pr,gr,vr,jr]=[0,"100%","100%",0];const la={name:"svg",children:[{name:"line",attributes:{xmlns:Oe,x1:pr,y1:gr,x2:vr,y2:jr,style:_i}}],attributes:{xmlns:Oe,width:Qr,height:fa,style:{overflow:"visible"}}};return pn(Ze)?Te.HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[la]}):(la.attributes.style.position="absolute",Te.HTMLResult.success(la))}}class Ui extends t.XFAObject{constructor(Ze){super(Ge,"linear",!0),this.id=Ze.id||"",this.type=(0,Te.getStringOption)(Ze.type,["toRight","toBottom","toLeft","toTop"]),this.use=Ze.use||"",this.usehref=Ze.usehref||"",this.color=null,this.extras=null}[xe.$toStyle](Ze){Ze=Ze?Ze[xe.$toStyle]():"#FFFFFF";const Pn=this.type.replace(/([RBLT])/," $1").toLowerCase(),gi=this.color?this.color[xe.$toStyle]():"#000000";return`linear-gradient(${Pn}, ${Ze}, ${gi})`}}class Bi extends t.ContentObject{constructor(Ze){super(Ge,"lockDocument"),this.id=Ze.id||"",this.type=(0,Te.getStringOption)(Ze.type,["optional","required"]),this.use=Ze.use||"",this.usehref=Ze.usehref||""}[xe.$finalize](){this[xe.$content]=(0,Te.getStringOption)(this[xe.$content],["auto","0","1"])}}class Ji extends t.XFAObject{constructor(Ze){super(Ge,"manifest",!0),this.action=(0,Te.getStringOption)(Ze.action,["include","all","exclude"]),this.id=Ze.id||"",this.name=Ze.name||"",this.use=Ze.use||"",this.usehref=Ze.usehref||"",this.extras=null,this.ref=new t.XFAObjectArray}}class or extends t.XFAObject{constructor(Ze){super(Ge,"margin",!0),this.bottomInset=(0,Te.getMeasurement)(Ze.bottomInset,"0"),this.id=Ze.id||"",this.leftInset=(0,Te.getMeasurement)(Ze.leftInset,"0"),this.rightInset=(0,Te.getMeasurement)(Ze.rightInset,"0"),this.topInset=(0,Te.getMeasurement)(Ze.topInset,"0"),this.use=Ze.use||"",this.usehref=Ze.usehref||"",this.extras=null}[xe.$toStyle](){return{margin:(0,e.measureToString)(this.topInset)+" "+(0,e.measureToString)(this.rightInset)+" "+(0,e.measureToString)(this.bottomInset)+" "+(0,e.measureToString)(this.leftInset)}}}class ur extends t.XFAObject{constructor(Ze){super(Ge,"mdp"),this.id=Ze.id||"",this.permissions=(0,Te.getInteger)({data:Ze.permissions,defaultValue:2,validate:Pn=>Pn===1||Pn===3}),this.signatureType=(0,Te.getStringOption)(Ze.signatureType,["filler","author"]),this.use=Ze.use||"",this.usehref=Ze.usehref||""}}class Li extends t.XFAObject{constructor(Ze){super(Ge,"medium"),this.id=Ze.id||"",this.imagingBBox=(0,Te.getBBox)(Ze.imagingBBox),this.long=(0,Te.getMeasurement)(Ze.long),this.orientation=(0,Te.getStringOption)(Ze.orientation,["portrait","landscape"]),this.short=(0,Te.getMeasurement)(Ze.short),this.stock=Ze.stock||"",this.trayIn=(0,Te.getStringOption)(Ze.trayIn,["auto","delegate","pageFront"]),this.trayOut=(0,Te.getStringOption)(Ze.trayOut,["auto","delegate"]),this.use=Ze.use||"",this.usehref=Ze.usehref||""}}class Er extends t.XFAObject{constructor(Ze){super(Ge,"message",!0),this.id=Ze.id||"",this.use=Ze.use||"",this.usehref=Ze.usehref||"",this.text=new t.XFAObjectArray}}class br extends t.XFAObject{constructor(Ze){super(Ge,"numericEdit",!0),this.hScrollPolicy=(0,Te.getStringOption)(Ze.hScrollPolicy,["auto","off","on"]),this.id=Ze.id||"",this.use=Ze.use||"",this.usehref=Ze.usehref||"",this.border=null,this.comb=null,this.extras=null,this.margin=null}[xe.$toHTML](Ze){const Pn=(0,e.toStyle)(this,"border","font","margin"),gi=this[xe.$getParent]()[xe.$getParent](),_i={name:"input",attributes:{type:"text",fieldId:gi[xe.$uid],dataId:gi[xe.$data]?.[xe.$uid]||gi[xe.$uid],class:["xfaTextfield"],style:Pn,"aria-label":Me(gi),"aria-required":!1}};return dn(gi)&&(_i.attributes["aria-required"]=!0,_i.attributes.required=!0),Te.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[_i]})}}class $r extends t.XFAObject{constructor(Ze){super(Ge,"occur",!0),this.id=Ze.id||"",this.initial=Ze.initial!==""?(0,Te.getInteger)({data:Ze.initial,defaultValue:"",validate:Pn=>!0}):"",this.max=Ze.max!==""?(0,Te.getInteger)({data:Ze.max,defaultValue:1,validate:Pn=>!0}):"",this.min=Ze.min!==""?(0,Te.getInteger)({data:Ze.min,defaultValue:1,validate:Pn=>!0}):"",this.use=Ze.use||"",this.usehref=Ze.usehref||"",this.extras=null}[xe.$clean](){const Ze=this[xe.$getParent](),Pn=this.min;this.min===""&&(this.min=Ze instanceof cr||Ze instanceof yr?0:1),this.max===""&&(Pn===""?this.max=Ze instanceof cr||Ze instanceof yr?-1:1:this.max=this.min),this.max!==-1&&this.max<this.min&&(this.max=this.min),this.initial===""&&(this.initial=Ze instanceof $s?1:this.min)}}class _r extends t.StringObject{constructor(Ze){super(Ge,"oid"),this.id=Ze.id||"",this.name=Ze.name||"",this.use=Ze.use||"",this.usehref=Ze.usehref||""}}class Fr extends t.XFAObject{constructor(Ze){super(Ge,"oids",!0),this.id=Ze.id||"",this.type=(0,Te.getStringOption)(Ze.type,["optional","required"]),this.use=Ze.use||"",this.usehref=Ze.usehref||"",this.oid=new t.XFAObjectArray}}class Ir extends t.XFAObject{constructor(Ze){super(Ge,"overflow"),this.id=Ze.id||"",this.leader=Ze.leader||"",this.target=Ze.target||"",this.trailer=Ze.trailer||"",this.use=Ze.use||"",this.usehref=Ze.usehref||""}[xe.$getExtra](){if(!this[xe.$extra]){const Ze=this[xe.$getParent](),Pn=this[xe.$getTemplateRoot](),gi=Pn[xe.$searchNode](this.target,Ze),_i=Pn[xe.$searchNode](this.leader,Ze),Hi=Pn[xe.$searchNode](this.trailer,Ze);this[xe.$extra]={target:gi?.[0]||null,leader:_i?.[0]||null,trailer:Hi?.[0]||null,addLeader:!1,addTrailer:!1}}return this[xe.$extra]}}class cr extends t.XFAObject{constructor(Ze){super(Ge,"pageArea",!0),this.blankOrNotBlank=(0,Te.getStringOption)(Ze.blankOrNotBlank,["any","blank","notBlank"]),this.id=Ze.id||"",this.initialNumber=(0,Te.getInteger)({data:Ze.initialNumber,defaultValue:1,validate:Pn=>!0}),this.name=Ze.name||"",this.numbered=(0,Te.getInteger)({data:Ze.numbered,defaultValue:1,validate:Pn=>!0}),this.oddOrEven=(0,Te.getStringOption)(Ze.oddOrEven,["any","even","odd"]),this.pagePosition=(0,Te.getStringOption)(Ze.pagePosition,["any","first","last","only","rest"]),this.relevant=(0,Te.getRelevant)(Ze.relevant),this.use=Ze.use||"",this.usehref=Ze.usehref||"",this.desc=null,this.extras=null,this.medium=null,this.occur=null,this.area=new t.XFAObjectArray,this.contentArea=new t.XFAObjectArray,this.draw=new t.XFAObjectArray,this.exclGroup=new t.XFAObjectArray,this.field=new t.XFAObjectArray,this.subform=new t.XFAObjectArray}[xe.$isUsable](){return this[xe.$extra]?!this.occur||this.occur.max===-1||this[xe.$extra].numberOfUse<this.occur.max:(this[xe.$extra]={numberOfUse:0},!0)}[xe.$cleanPage](){delete this[xe.$extra]}[xe.$getNextPage](){this[xe.$extra]||(this[xe.$extra]={numberOfUse:0});const Ze=this[xe.$getParent]();return Ze.relation==="orderedOccurrence"&&this[xe.$isUsable]()?(this[xe.$extra].numberOfUse+=1,this):Ze[xe.$getNextPage]()}[xe.$getAvailableSpace](){return this[xe.$extra].space||{width:0,height:0}}[xe.$toHTML](){this[xe.$extra]||(this[xe.$extra]={numberOfUse:1});const Ze=[];this[xe.$extra].children=Ze;const Pn=Object.create(null);if(this.medium&&this.medium.short&&this.medium.long){if(Pn.width=(0,e.measureToString)(this.medium.short),Pn.height=(0,e.measureToString)(this.medium.long),this[xe.$extra].space={width:this.medium.short,height:this.medium.long},this.medium.orientation==="landscape"){const gi=Pn.width;Pn.width=Pn.height,Pn.height=gi,this[xe.$extra].space={width:this.medium.long,height:this.medium.short}}}else(0,Ye.warn)("XFA - No medium specified in pageArea: please file a bug.");return this[xe.$childrenToHTML]({filter:new Set(["area","draw","field","subform"]),include:!0}),this[xe.$childrenToHTML]({filter:new Set(["contentArea"]),include:!0}),Te.HTMLResult.success({name:"div",children:Ze,attributes:{class:["xfaPage"],id:this[xe.$uid],style:Pn,xfaName:this.name}})}}class yr extends t.XFAObject{constructor(Ze){super(Ge,"pageSet",!0),this.duplexImposition=(0,Te.getStringOption)(Ze.duplexImposition,["longEdge","shortEdge"]),this.id=Ze.id||"",this.name=Ze.name||"",this.relation=(0,Te.getStringOption)(Ze.relation,["orderedOccurrence","duplexPaginated","simplexPaginated"]),this.relevant=(0,Te.getRelevant)(Ze.relevant),this.use=Ze.use||"",this.usehref=Ze.usehref||"",this.extras=null,this.occur=null,this.pageArea=new t.XFAObjectArray,this.pageSet=new t.XFAObjectArray}[xe.$cleanPage](){for(const Ze of this.pageArea.children)Ze[xe.$cleanPage]();for(const Ze of this.pageSet.children)Ze[xe.$cleanPage]()}[xe.$isUsable](){return!this.occur||this.occur.max===-1||this[xe.$extra].numberOfUse<this.occur.max}[xe.$getNextPage](){if(this[xe.$extra]||(this[xe.$extra]={numberOfUse:1,pageIndex:-1,pageSetIndex:-1}),this.relation==="orderedOccurrence"){if(this[xe.$extra].pageIndex+1<this.pageArea.children.length)return this[xe.$extra].pageIndex+=1,this.pageArea.children[this[xe.$extra].pageIndex][xe.$getNextPage]();if(this[xe.$extra].pageSetIndex+1<this.pageSet.children.length)return this[xe.$extra].pageSetIndex+=1,this.pageSet.children[this[xe.$extra].pageSetIndex][xe.$getNextPage]();if(this[xe.$isUsable]())return this[xe.$extra].numberOfUse+=1,this[xe.$extra].pageIndex=-1,this[xe.$extra].pageSetIndex=-1,this[xe.$getNextPage]();const Hi=this[xe.$getParent]();return Hi instanceof yr?Hi[xe.$getNextPage]():(this[xe.$cleanPage](),this[xe.$getNextPage]())}const Ze=this[xe.$getTemplateRoot]()[xe.$extra].pageNumber,Pn=Ze%2===0?"even":"odd",gi=Ze===0?"first":"rest";let _i=this.pageArea.children.find(Hi=>Hi.oddOrEven===Pn&&Hi.pagePosition===gi);return _i||(_i=this.pageArea.children.find(Hi=>Hi.oddOrEven==="any"&&Hi.pagePosition===gi),_i)||(_i=this.pageArea.children.find(Hi=>Hi.oddOrEven==="any"&&Hi.pagePosition==="any"),_i)?_i:this.pageArea.children[0]}}class er extends t.XFAObject{constructor(Ze){super(Ge,"para",!0),this.hAlign=(0,Te.getStringOption)(Ze.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=Ze.id||"",this.lineHeight=Ze.lineHeight?(0,Te.getMeasurement)(Ze.lineHeight,"0pt"):"",this.marginLeft=Ze.marginLeft?(0,Te.getMeasurement)(Ze.marginLeft,"0pt"):"",this.marginRight=Ze.marginRight?(0,Te.getMeasurement)(Ze.marginRight,"0pt"):"",this.orphans=(0,Te.getInteger)({data:Ze.orphans,defaultValue:0,validate:Pn=>Pn>=0}),this.preserve=Ze.preserve||"",this.radixOffset=Ze.radixOffset?(0,Te.getMeasurement)(Ze.radixOffset,"0pt"):"",this.spaceAbove=Ze.spaceAbove?(0,Te.getMeasurement)(Ze.spaceAbove,"0pt"):"",this.spaceBelow=Ze.spaceBelow?(0,Te.getMeasurement)(Ze.spaceBelow,"0pt"):"",this.tabDefault=Ze.tabDefault?(0,Te.getMeasurement)(this.tabDefault):"",this.tabStops=(Ze.tabStops||"").trim().split(/\s+/).map((Pn,gi)=>gi%2===1?(0,Te.getMeasurement)(Pn):Pn),this.textIndent=Ze.textIndent?(0,Te.getMeasurement)(Ze.textIndent,"0pt"):"",this.use=Ze.use||"",this.usehref=Ze.usehref||"",this.vAlign=(0,Te.getStringOption)(Ze.vAlign,["top","bottom","middle"]),this.widows=(0,Te.getInteger)({data:Ze.widows,defaultValue:0,validate:Pn=>Pn>=0}),this.hyphenation=null}[xe.$toStyle](){const Ze=(0,e.toStyle)(this,"hAlign");return this.marginLeft!==""&&(Ze.paddingLeft=(0,e.measureToString)(this.marginLeft)),this.marginRight!==""&&(Ze.paddingight=(0,e.measureToString)(this.marginRight)),this.spaceAbove!==""&&(Ze.paddingTop=(0,e.measureToString)(this.spaceAbove)),this.spaceBelow!==""&&(Ze.paddingBottom=(0,e.measureToString)(this.spaceBelow)),this.textIndent!==""&&(Ze.textIndent=(0,e.measureToString)(this.textIndent),(0,e.fixTextIndent)(Ze)),this.lineHeight>0&&(Ze.lineHeight=(0,e.measureToString)(this.lineHeight)),this.tabDefault!==""&&(Ze.tabSize=(0,e.measureToString)(this.tabDefault)),this.tabStops.length>0,this.hyphenatation&&Object.assign(Ze,this.hyphenatation[xe.$toStyle]()),Ze}}class Dr extends t.XFAObject{constructor(Ze){super(Ge,"passwordEdit",!0),this.hScrollPolicy=(0,Te.getStringOption)(Ze.hScrollPolicy,["auto","off","on"]),this.id=Ze.id||"",this.passwordChar=Ze.passwordChar||"*",this.use=Ze.use||"",this.usehref=Ze.usehref||"",this.border=null,this.extras=null,this.margin=null}}class Gr extends t.XFAObject{constructor(Ze){super(Ge,"pattern",!0),this.id=Ze.id||"",this.type=(0,Te.getStringOption)(Ze.type,["crossHatch","crossDiagonal","diagonalLeft","diagonalRight","horizontal","vertical"]),this.use=Ze.use||"",this.usehref=Ze.usehref||"",this.color=null,this.extras=null}[xe.$toStyle](Ze){Ze=Ze?Ze[xe.$toStyle]():"#FFFFFF";const Pn=this.color?this.color[xe.$toStyle]():"#000000",gi=5,_i="repeating-linear-gradient",Hi=`${Ze},${Ze} ${gi}px,${Pn} ${gi}px,${Pn} ${2*gi}px`;switch(this.type){case"crossHatch":return`${_i}(to top,${Hi}) ${_i}(to right,${Hi})`;case"crossDiagonal":return`${_i}(45deg,${Hi}) ${_i}(-45deg,${Hi})`;case"diagonalLeft":return`${_i}(45deg,${Hi})`;case"diagonalRight":return`${_i}(-45deg,${Hi})`;case"horizontal":return`${_i}(to top,${Hi})`;case"vertical":return`${_i}(to right,${Hi})`}return""}}class Ea extends t.StringObject{constructor(Ze){super(Ge,"picture"),this.id=Ze.id||"",this.use=Ze.use||"",this.usehref=Ze.usehref||""}}class Tr extends t.XFAObject{constructor(Ze){super(Ge,"proto",!0),this.appearanceFilter=new t.XFAObjectArray,this.arc=new t.XFAObjectArray,this.area=new t.XFAObjectArray,this.assist=new t.XFAObjectArray,this.barcode=new t.XFAObjectArray,this.bindItems=new t.XFAObjectArray,this.bookend=new t.XFAObjectArray,this.boolean=new t.XFAObjectArray,this.border=new t.XFAObjectArray,this.break=new t.XFAObjectArray,this.breakAfter=new t.XFAObjectArray,this.breakBefore=new t.XFAObjectArray,this.button=new t.XFAObjectArray,this.calculate=new t.XFAObjectArray,this.caption=new t.XFAObjectArray,this.certificate=new t.XFAObjectArray,this.certificates=new t.XFAObjectArray,this.checkButton=new t.XFAObjectArray,this.choiceList=new t.XFAObjectArray,this.color=new t.XFAObjectArray,this.comb=new t.XFAObjectArray,this.connect=new t.XFAObjectArray,this.contentArea=new t.XFAObjectArray,this.corner=new t.XFAObjectArray,this.date=new t.XFAObjectArray,this.dateTime=new t.XFAObjectArray,this.dateTimeEdit=new t.XFAObjectArray,this.decimal=new t.XFAObjectArray,this.defaultUi=new t.XFAObjectArray,this.desc=new t.XFAObjectArray,this.digestMethod=new t.XFAObjectArray,this.digestMethods=new t.XFAObjectArray,this.draw=new t.XFAObjectArray,this.edge=new t.XFAObjectArray,this.encoding=new t.XFAObjectArray,this.encodings=new t.XFAObjectArray,this.encrypt=new t.XFAObjectArray,this.encryptData=new t.XFAObjectArray,this.encryption=new t.XFAObjectArray,this.encryptionMethod=new t.XFAObjectArray,this.encryptionMethods=new t.XFAObjectArray,this.event=new t.XFAObjectArray,this.exData=new t.XFAObjectArray,this.exObject=new t.XFAObjectArray,this.exclGroup=new t.XFAObjectArray,this.execute=new t.XFAObjectArray,this.extras=new t.XFAObjectArray,this.field=new t.XFAObjectArray,this.fill=new t.XFAObjectArray,this.filter=new t.XFAObjectArray,this.float=new t.XFAObjectArray,this.font=new t.XFAObjectArray,this.format=new t.XFAObjectArray,this.handler=new t.XFAObjectArray,this.hyphenation=new t.XFAObjectArray,this.image=new t.XFAObjectArray,this.imageEdit=new t.XFAObjectArray,this.integer=new t.XFAObjectArray,this.issuers=new t.XFAObjectArray,this.items=new t.XFAObjectArray,this.keep=new t.XFAObjectArray,this.keyUsage=new t.XFAObjectArray,this.line=new t.XFAObjectArray,this.linear=new t.XFAObjectArray,this.lockDocument=new t.XFAObjectArray,this.manifest=new t.XFAObjectArray,this.margin=new t.XFAObjectArray,this.mdp=new t.XFAObjectArray,this.medium=new t.XFAObjectArray,this.message=new t.XFAObjectArray,this.numericEdit=new t.XFAObjectArray,this.occur=new t.XFAObjectArray,this.oid=new t.XFAObjectArray,this.oids=new t.XFAObjectArray,this.overflow=new t.XFAObjectArray,this.pageArea=new t.XFAObjectArray,this.pageSet=new t.XFAObjectArray,this.para=new t.XFAObjectArray,this.passwordEdit=new t.XFAObjectArray,this.pattern=new t.XFAObjectArray,this.picture=new t.XFAObjectArray,this.radial=new t.XFAObjectArray,this.reason=new t.XFAObjectArray,this.reasons=new t.XFAObjectArray,this.rectangle=new t.XFAObjectArray,this.ref=new t.XFAObjectArray,this.script=new t.XFAObjectArray,this.setProperty=new t.XFAObjectArray,this.signData=new t.XFAObjectArray,this.signature=new t.XFAObjectArray,this.signing=new t.XFAObjectArray,this.solid=new t.XFAObjectArray,this.speak=new t.XFAObjectArray,this.stipple=new t.XFAObjectArray,this.subform=new t.XFAObjectArray,this.subformSet=new t.XFAObjectArray,this.subjectDN=new t.XFAObjectArray,this.subjectDNs=new t.XFAObjectArray,this.submit=new t.XFAObjectArray,this.text=new t.XFAObjectArray,this.textEdit=new t.XFAObjectArray,this.time=new t.XFAObjectArray,this.timeStamp=new t.XFAObjectArray,this.toolTip=new t.XFAObjectArray,this.traversal=new t.XFAObjectArray,this.traverse=new t.XFAObjectArray,this.ui=new t.XFAObjectArray,this.validate=new t.XFAObjectArray,this.value=new t.XFAObjectArray,this.variables=new t.XFAObjectArray}}class Rr extends t.XFAObject{constructor(Ze){super(Ge,"radial",!0),this.id=Ze.id||"",this.type=(0,Te.getStringOption)(Ze.type,["toEdge","toCenter"]),this.use=Ze.use||"",this.usehref=Ze.usehref||"",this.color=null,this.extras=null}[xe.$toStyle](Ze){Ze=Ze?Ze[xe.$toStyle]():"#FFFFFF";const Pn=this.color?this.color[xe.$toStyle]():"#000000";return`radial-gradient(circle at center, ${this.type==="toEdge"?`${Ze},${Pn}`:`${Pn},${Ze}`})`}}class Zr extends t.StringObject{constructor(Ze){super(Ge,"reason"),this.id=Ze.id||"",this.name=Ze.name||"",this.use=Ze.use||"",this.usehref=Ze.usehref||""}}class ma extends t.XFAObject{constructor(Ze){super(Ge,"reasons",!0),this.id=Ze.id||"",this.type=(0,Te.getStringOption)(Ze.type,["optional","required"]),this.use=Ze.use||"",this.usehref=Ze.usehref||"",this.reason=new t.XFAObjectArray}}class Sa extends t.XFAObject{constructor(Ze){super(Ge,"rectangle",!0),this.hand=(0,Te.getStringOption)(Ze.hand,["even","left","right"]),this.id=Ze.id||"",this.use=Ze.use||"",this.usehref=Ze.usehref||"",this.corner=new t.XFAObjectArray(4),this.edge=new t.XFAObjectArray(4),this.fill=null}[xe.$toHTML](){const Ze=this.edge.children.length?this.edge.children[0]:new pi({}),Pn=Ze[xe.$toStyle](),gi=Object.create(null);this.fill?.presence==="visible"?Object.assign(gi,this.fill[xe.$toStyle]()):gi.fill="transparent",gi.strokeWidth=(0,e.measureToString)(Ze.presence==="visible"?Ze.thickness:0),gi.stroke=Pn.color;const Hi=(this.corner.children.length?this.corner.children[0]:new qn({}))[xe.$toStyle](),gr={name:"svg",children:[{name:"rect",attributes:{xmlns:Oe,width:"100%",height:"100%",x:0,y:0,rx:Hi.radius,ry:Hi.radius,style:gi}}],attributes:{xmlns:Oe,style:{overflow:"visible"},width:"100%",height:"100%"}},vr=this[xe.$getParent]()[xe.$getParent]();return pn(vr)?Te.HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[gr]}):(gr.attributes.style.position="absolute",Te.HTMLResult.success(gr))}}class ys extends t.StringObject{constructor(Ze){super(Ge,"ref"),this.id=Ze.id||"",this.use=Ze.use||"",this.usehref=Ze.usehref||""}}class zo extends t.StringObject{constructor(Ze){super(Ge,"script"),this.binding=Ze.binding||"",this.contentType=Ze.contentType||"",this.id=Ze.id||"",this.name=Ze.name||"",this.runAt=(0,Te.getStringOption)(Ze.runAt,["client","both","server"]),this.use=Ze.use||"",this.usehref=Ze.usehref||""}}class Eo extends t.XFAObject{constructor(Ze){super(Ge,"setProperty"),this.connection=Ze.connection||"",this.ref=Ze.ref||"",this.target=Ze.target||""}}_e.SetProperty=Eo;class no extends t.XFAObject{constructor(Ze){super(Ge,"signData",!0),this.id=Ze.id||"",this.operation=(0,Te.getStringOption)(Ze.operation,["sign","clear","verify"]),this.ref=Ze.ref||"",this.target=Ze.target||"",this.use=Ze.use||"",this.usehref=Ze.usehref||"",this.filter=null,this.manifest=null}}class Cl extends t.XFAObject{constructor(Ze){super(Ge,"signature",!0),this.id=Ze.id||"",this.type=(0,Te.getStringOption)(Ze.type,["PDF1.3","PDF1.6"]),this.use=Ze.use||"",this.usehref=Ze.usehref||"",this.border=null,this.extras=null,this.filter=null,this.manifest=null,this.margin=null}}class _o extends t.XFAObject{constructor(Ze){super(Ge,"signing",!0),this.id=Ze.id||"",this.type=(0,Te.getStringOption)(Ze.type,["optional","required"]),this.use=Ze.use||"",this.usehref=Ze.usehref||"",this.certificate=new t.XFAObjectArray}}class ca extends t.XFAObject{constructor(Ze){super(Ge,"solid",!0),this.id=Ze.id||"",this.use=Ze.use||"",this.usehref=Ze.usehref||"",this.extras=null}[xe.$toStyle](Ze){return Ze?Ze[xe.$toStyle]():"#FFFFFF"}}class Io extends t.StringObject{constructor(Ze){super(Ge,"speak"),this.disable=(0,Te.getInteger)({data:Ze.disable,defaultValue:0,validate:Pn=>Pn===1}),this.id=Ze.id||"",this.priority=(0,Te.getStringOption)(Ze.priority,["custom","caption","name","toolTip"]),this.rid=Ze.rid||"",this.use=Ze.use||"",this.usehref=Ze.usehref||""}}class ul extends t.XFAObject{constructor(Ze){super(Ge,"stipple",!0),this.id=Ze.id||"",this.rate=(0,Te.getInteger)({data:Ze.rate,defaultValue:50,validate:Pn=>Pn>=0&&Pn<=100}),this.use=Ze.use||"",this.usehref=Ze.usehref||"",this.color=null,this.extras=null}[xe.$toStyle](Ze){const Pn=this.rate/100;return Ye.Util.makeHexColor(Math.round(Ze.value.r*(1-Pn)+this.value.r*Pn),Math.round(Ze.value.g*(1-Pn)+this.value.g*Pn),Math.round(Ze.value.b*(1-Pn)+this.value.b*Pn))}}class To extends t.XFAObject{constructor(Ze){super(Ge,"subform",!0),this.access=(0,Te.getStringOption)(Ze.access,["open","nonInteractive","protected","readOnly"]),this.allowMacro=(0,Te.getInteger)({data:Ze.allowMacro,defaultValue:0,validate:Pn=>Pn===1}),this.anchorType=(0,Te.getStringOption)(Ze.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,Te.getInteger)({data:Ze.colSpan,defaultValue:1,validate:Pn=>Pn>=1||Pn===-1}),this.columnWidths=(Ze.columnWidths||"").trim().split(/\s+/).map(Pn=>Pn==="-1"?-1:(0,Te.getMeasurement)(Pn)),this.h=Ze.h?(0,Te.getMeasurement)(Ze.h):"",this.hAlign=(0,Te.getStringOption)(Ze.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=Ze.id||"",this.layout=(0,Te.getStringOption)(Ze.layout,["position","lr-tb","rl-row","rl-tb","row","table","tb"]),this.locale=Ze.locale||"",this.maxH=(0,Te.getMeasurement)(Ze.maxH,"0pt"),this.maxW=(0,Te.getMeasurement)(Ze.maxW,"0pt"),this.mergeMode=(0,Te.getStringOption)(Ze.mergeMode,["consumeData","matchTemplate"]),this.minH=(0,Te.getMeasurement)(Ze.minH,"0pt"),this.minW=(0,Te.getMeasurement)(Ze.minW,"0pt"),this.name=Ze.name||"",this.presence=(0,Te.getStringOption)(Ze.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,Te.getRelevant)(Ze.relevant),this.restoreState=(0,Te.getStringOption)(Ze.restoreState,["manual","auto"]),this.scope=(0,Te.getStringOption)(Ze.scope,["name","none"]),this.use=Ze.use||"",this.usehref=Ze.usehref||"",this.w=Ze.w?(0,Te.getMeasurement)(Ze.w):"",this.x=(0,Te.getMeasurement)(Ze.x,"0pt"),this.y=(0,Te.getMeasurement)(Ze.y,"0pt"),this.assist=null,this.bind=null,this.bookend=null,this.border=null,this.break=null,this.calculate=null,this.desc=null,this.extras=null,this.keep=null,this.margin=null,this.occur=null,this.overflow=null,this.pageSet=null,this.para=null,this.traversal=null,this.validate=null,this.variables=null,this.area=new t.XFAObjectArray,this.breakAfter=new t.XFAObjectArray,this.breakBefore=new t.XFAObjectArray,this.connect=new t.XFAObjectArray,this.draw=new t.XFAObjectArray,this.event=new t.XFAObjectArray,this.exObject=new t.XFAObjectArray,this.exclGroup=new t.XFAObjectArray,this.field=new t.XFAObjectArray,this.proto=new t.XFAObjectArray,this.setProperty=new t.XFAObjectArray,this.subform=new t.XFAObjectArray,this.subformSet=new t.XFAObjectArray}[xe.$getSubformParent](){const Ze=this[xe.$getParent]();return Ze instanceof Po?Ze[xe.$getSubformParent]():Ze}[xe.$isBindable](){return!0}[xe.$isThereMoreWidth](){return this.layout.endsWith("-tb")&&this[xe.$extra].attempt===0&&this[xe.$extra].numberInLine>0||this[xe.$getParent]()[xe.$isThereMoreWidth]()}*[xe.$getContainedChildren](){yield*fn(this)}[xe.$flushHTML](){return(0,Re.flushHTML)(this)}[xe.$addHTML](Ze,Pn){(0,Re.addHTML)(this,Ze,Pn)}[xe.$getAvailableSpace](){return(0,Re.getAvailableSpace)(this)}[xe.$isSplittable](){const Ze=this[xe.$getSubformParent]();return Ze[xe.$isSplittable]()?this[xe.$extra]._isSplittable!==void 0?this[xe.$extra]._isSplittable:this.layout==="position"||this.layout.includes("row")?(this[xe.$extra]._isSplittable=!1,!1):this.keep&&this.keep.intact!=="none"?(this[xe.$extra]._isSplittable=!1,!1):Ze.layout?.endsWith("-tb")&&Ze[xe.$extra].numberInLine!==0?!1:(this[xe.$extra]._isSplittable=!0,!0):!1}[xe.$toHTML](Ze){if(qe(this),this.break){if(this.break.after!=="auto"||this.break.afterTarget!==""){const Vr=new Tn({targetType:this.break.after,target:this.break.afterTarget,startNew:this.break.startNew.toString()});Vr[xe.$globalData]=this[xe.$globalData],this[xe.$appendChild](Vr),this.breakAfter.push(Vr)}if(this.break.before!=="auto"||this.break.beforeTarget!==""){const Vr=new Cn({targetType:this.break.before,target:this.break.beforeTarget,startNew:this.break.startNew.toString()});Vr[xe.$globalData]=this[xe.$globalData],this[xe.$appendChild](Vr),this.breakBefore.push(Vr)}if(this.break.overflowTarget!==""){const Vr=new Ir({target:this.break.overflowTarget,leader:this.break.overflowLeader,trailer:this.break.overflowTrailer});Vr[xe.$globalData]=this[xe.$globalData],this[xe.$appendChild](Vr),this.overflow.push(Vr)}this[xe.$removeChild](this.break),this.break=null}if(this.presence==="hidden"||this.presence==="inactive")return Te.HTMLResult.EMPTY;if((this.breakBefore.children.length>1||this.breakAfter.children.length>1)&&(0,Ye.warn)("XFA - Several breakBefore or breakAfter in subforms: please file a bug."),this.breakBefore.children.length>=1){const Vr=this.breakBefore.children[0];if($e(Vr))return Te.HTMLResult.breakNode(Vr)}if(this[xe.$extra]?.afterBreakAfter)return Te.HTMLResult.EMPTY;(0,e.fixDimensions)(this);const Pn=[],gi={id:this[xe.$uid],class:[]};(0,e.setAccess)(this,gi.class),this[xe.$extra]||(this[xe.$extra]=Object.create(null)),Object.assign(this[xe.$extra],{children:Pn,line:null,attributes:gi,attempt:0,numberInLine:0,availableSpace:{width:Math.min(this.w||1/0,Ze.width),height:Math.min(this.h||1/0,Ze.height)},width:0,height:0,prevHeight:0,currentWidth:0});const _i=this[xe.$getTemplateRoot](),Hi=_i[xe.$extra].noLayoutFailure,pr=this[xe.$isSplittable]();if(pr||Ue(this),!(0,Re.checkDimensions)(this,Ze))return Te.HTMLResult.FAILURE;const gr=new Set(["area","draw","exclGroup","field","subform","subformSet"]);if(this.layout.includes("row")){const Vr=this[xe.$getSubformParent]().columnWidths;Array.isArray(Vr)&&Vr.length>0&&(this[xe.$extra].columnWidths=Vr,this[xe.$extra].currentColumn=0)}const vr=(0,e.toStyle)(this,"anchorType","dimensions","position","presence","border","margin","hAlign"),jr=["xfaSubform"],Qr=(0,e.layoutClass)(this);if(Qr&&jr.push(Qr),gi.style=vr,gi.class=jr,this.name&&(gi.xfaName=this.name),this.overflow){const Vr=this.overflow[xe.$getExtra]();Vr.addLeader&&(Vr.addLeader=!1,on(this,Vr.leader,Ze))}this[xe.$pushPara]();const fa=this.layout==="lr-tb"||this.layout==="rl-tb",ra=fa?Ce:1;for(;this[xe.$extra].attempt<ra;this[xe.$extra].attempt++){fa&&this[xe.$extra].attempt===Ce-1&&(this[xe.$extra].numberInLine=0);const Vr=this[xe.$childrenToHTML]({filter:gr,include:!0});if(Vr.success)break;if(Vr.isBreak())return this[xe.$popPara](),Vr;if(fa&&this[xe.$extra].attempt===0&&this[xe.$extra].numberInLine===0&&!_i[xe.$extra].noLayoutFailure){this[xe.$extra].attempt=ra;break}}if(this[xe.$popPara](),pr||We(this),_i[xe.$extra].noLayoutFailure=Hi,this[xe.$extra].attempt===ra)return this.overflow&&(this[xe.$getTemplateRoot]()[xe.$extra].overflowNode=this.overflow),pr||delete this[xe.$extra],Te.HTMLResult.FAILURE;if(this.overflow){const Vr=this.overflow[xe.$getExtra]();Vr.addTrailer&&(Vr.addTrailer=!1,on(this,Vr.trailer,Ze))}let la=0,oa=0;this.margin&&(la=this.margin.leftInset+this.margin.rightInset,oa=this.margin.topInset+this.margin.bottomInset);const Kr=Math.max(this[xe.$extra].width+la,this.w||0),xa=Math.max(this[xe.$extra].height+oa,this.h||0),Lr=[this.x,this.y,Kr,xa];if(this.w===""&&(vr.width=(0,e.measureToString)(Kr)),this.h===""&&(vr.height=(0,e.measureToString)(xa)),(vr.width==="0px"||vr.height==="0px")&&Pn.length===0)return Te.HTMLResult.EMPTY;const na={name:"div",attributes:gi,children:Pn};tn(this,gi);const pa=Te.HTMLResult.success((0,e.createWrapper)(this,na),Lr);if(this.breakAfter.children.length>=1){const Vr=this.breakAfter.children[0];if($e(Vr))return this[xe.$extra].afterBreakAfter=pa,Te.HTMLResult.breakNode(Vr)}return delete this[xe.$extra],pa}}class Po extends t.XFAObject{constructor(Ze){super(Ge,"subformSet",!0),this.id=Ze.id||"",this.name=Ze.name||"",this.relation=(0,Te.getStringOption)(Ze.relation,["ordered","choice","unordered"]),this.relevant=(0,Te.getRelevant)(Ze.relevant),this.use=Ze.use||"",this.usehref=Ze.usehref||"",this.bookend=null,this.break=null,this.desc=null,this.extras=null,this.occur=null,this.overflow=null,this.breakAfter=new t.XFAObjectArray,this.breakBefore=new t.XFAObjectArray,this.subform=new t.XFAObjectArray,this.subformSet=new t.XFAObjectArray}*[xe.$getContainedChildren](){yield*fn(this)}[xe.$getSubformParent](){let Ze=this[xe.$getParent]();for(;!(Ze instanceof To);)Ze=Ze[xe.$getParent]();return Ze}[xe.$isBindable](){return!0}}class Ps extends t.ContentObject{constructor(Ze){super(Ge,"subjectDN"),this.delimiter=Ze.delimiter||",",this.id=Ze.id||"",this.name=Ze.name||"",this.use=Ze.use||"",this.usehref=Ze.usehref||""}[xe.$finalize](){this[xe.$content]=new Map(this[xe.$content].split(this.delimiter).map(Ze=>(Ze=Ze.split("=",2),Ze[0]=Ze[0].trim(),Ze)))}}class xo extends t.XFAObject{constructor(Ze){super(Ge,"subjectDNs",!0),this.id=Ze.id||"",this.type=(0,Te.getStringOption)(Ze.type,["optional","required"]),this.use=Ze.use||"",this.usehref=Ze.usehref||"",this.subjectDN=new t.XFAObjectArray}}class io extends t.XFAObject{constructor(Ze){super(Ge,"submit",!0),this.embedPDF=(0,Te.getInteger)({data:Ze.embedPDF,defaultValue:0,validate:Pn=>Pn===1}),this.format=(0,Te.getStringOption)(Ze.format,["xdp","formdata","pdf","urlencoded","xfd","xml"]),this.id=Ze.id||"",this.target=Ze.target||"",this.textEncoding=(0,Te.getKeyword)({data:Ze.textEncoding?Ze.textEncoding.toLowerCase():"",defaultValue:"",validate:Pn=>["utf-8","big-five","fontspecific","gbk","gb-18030","gb-2312","ksc-5601","none","shift-jis","ucs-2","utf-16"].includes(Pn)||Pn.match(/iso-8859-\d{2}/)}),this.use=Ze.use||"",this.usehref=Ze.usehref||"",this.xdpContent=Ze.xdpContent||"",this.encrypt=null,this.encryptData=new t.XFAObjectArray,this.signData=new t.XFAObjectArray}}class $s extends t.XFAObject{constructor(Ze){super(Ge,"template",!0),this.baseProfile=(0,Te.getStringOption)(Ze.baseProfile,["full","interactiveForms"]),this.extras=null,this.subform=new t.XFAObjectArray}[xe.$finalize](){this.subform.children.length===0&&(0,Ye.warn)("XFA - No subforms in template node."),this.subform.children.length>=2&&(0,Ye.warn)("XFA - Several subforms in template node: please file a bug."),this[xe.$tabIndex]=rn}[xe.$isSplittable](){return!0}[xe.$searchNode](Ze,Pn){return Ze.startsWith("#")?[this[xe.$ids].get(Ze.slice(1))]:(0,nn.searchNode)(this,Pn,Ze,!0,!0)}*[xe.$toPages](){if(!this.subform.children.length)return Te.HTMLResult.success({name:"div",children:[]});this[xe.$extra]={overflowNode:null,firstUnsplittable:null,currentContentArea:null,currentPageArea:null,noLayoutFailure:!1,pageNumber:1,pagePosition:"first",oddOrEven:"odd",blankOrNotBlank:"nonBlank",paraStack:[]};const Ze=this.subform.children[0];Ze.pageSet[xe.$cleanPage]();const Pn=Ze.pageSet.pageArea.children,gi={name:"div",children:[]};let _i=null,Hi=null,pr=null;if(Ze.breakBefore.children.length>=1?(Hi=Ze.breakBefore.children[0],pr=Hi.target):Ze.subform.children.length>=1&&Ze.subform.children[0].breakBefore.children.length>=1?(Hi=Ze.subform.children[0].breakBefore.children[0],pr=Hi.target):Ze.break?.beforeTarget?(Hi=Ze.break,pr=Hi.beforeTarget):Ze.subform.children.length>=1&&Ze.subform.children[0].break?.beforeTarget&&(Hi=Ze.subform.children[0].break,pr=Hi.beforeTarget),Hi){const oa=this[xe.$searchNode](pr,Hi[xe.$getParent]());oa instanceof cr&&(_i=oa,Hi[xe.$extra]={})}_i||(_i=Pn[0]),_i[xe.$extra]={numberOfUse:1};const gr=_i[xe.$getParent]();gr[xe.$extra]={numberOfUse:1,pageIndex:gr.pageArea.children.indexOf(_i),pageSetIndex:0};let vr,jr=null,Qr=null,fa=!0,ra=0,la=0;for(;;){if(fa)ra=0;else if(gi.children.pop(),++ra===St)return(0,Ye.warn)("XFA - Something goes wrong: please file a bug."),gi;vr=null,this[xe.$extra].currentPageArea=_i;const oa=_i[xe.$toHTML]().html;gi.children.push(oa),jr&&(this[xe.$extra].noLayoutFailure=!0,oa.children.push(jr[xe.$toHTML](_i[xe.$extra].space).html),jr=null),Qr&&(this[xe.$extra].noLayoutFailure=!0,oa.children.push(Qr[xe.$toHTML](_i[xe.$extra].space).html),Qr=null);const Kr=_i.contentArea.children,xa=oa.children.filter(na=>na.attributes.class.includes("xfaContentarea"));fa=!1,this[xe.$extra].firstUnsplittable=null,this[xe.$extra].noLayoutFailure=!1;const Lr=na=>{const pa=Ze[xe.$flushHTML]();pa&&(fa||=pa.children?.length>0,xa[na].children.push(pa))};for(let na=la,pa=Kr.length;na<pa;na++){const Vr=this[xe.$extra].currentContentArea=Kr[na],ss={width:Vr.w,height:Vr.h};la=0,jr&&(xa[na].children.push(jr[xe.$toHTML](ss).html),jr=null),Qr&&(xa[na].children.push(Qr[xe.$toHTML](ss).html),Qr=null);const is=Ze[xe.$toHTML](ss);if(is.success)return is.html?(fa||=is.html.children?.length>0,xa[na].children.push(is.html)):!fa&&gi.children.length>1&&gi.children.pop(),gi;if(is.isBreak()){const Ba=is.breakNode;if(Lr(na),Ba.targetType==="auto")continue;Ba.leader&&(jr=this[xe.$searchNode](Ba.leader,Ba[xe.$getParent]()),jr=jr?jr[0]:null),Ba.trailer&&(Qr=this[xe.$searchNode](Ba.trailer,Ba[xe.$getParent]()),Qr=Qr?Qr[0]:null),Ba.targetType==="pageArea"?(vr=Ba[xe.$extra].target,na=1/0):Ba[xe.$extra].target?(vr=Ba[xe.$extra].target,la=Ba[xe.$extra].index+1,na=1/0):na=Ba[xe.$extra].index;continue}if(this[xe.$extra].overflowNode){const Ba=this[xe.$extra].overflowNode;this[xe.$extra].overflowNode=null;const qs=Ba[xe.$getExtra](),Ws=qs.target;qs.addLeader=qs.leader!==null,qs.addTrailer=qs.trailer!==null,Lr(na);const ao=na;if(na=1/0,Ws instanceof cr)vr=Ws;else if(Ws instanceof Un){const Xs=Kr.indexOf(Ws);Xs!==-1?Xs>ao?na=Xs-1:la=Xs:(vr=Ws[xe.$getParent](),la=vr.contentArea.children.indexOf(Ws))}continue}Lr(na)}this[xe.$extra].pageNumber+=1,vr&&(vr[xe.$isUsable]()?vr[xe.$extra].numberOfUse+=1:vr=null),_i=vr||_i[xe.$getNextPage](),yield null}}}_e.Template=$s;class Fa extends t.ContentObject{constructor(Ze){super(Ge,"text"),this.id=Ze.id||"",this.maxChars=(0,Te.getInteger)({data:Ze.maxChars,defaultValue:0,validate:Pn=>Pn>=0}),this.name=Ze.name||"",this.rid=Ze.rid||"",this.use=Ze.use||"",this.usehref=Ze.usehref||""}[xe.$acceptWhitespace](){return!0}[xe.$onChild](Ze){return Ze[xe.$namespaceId]===Ie.NamespaceIds.xhtml.id?(this[xe.$content]=Ze,!0):((0,Ye.warn)(`XFA - Invalid content in Text: ${Ze[xe.$nodeName]}.`),!1)}[xe.$onText](Ze){this[xe.$content]instanceof t.XFAObject||super[xe.$onText](Ze)}[xe.$finalize](){typeof this[xe.$content]=="string"&&(this[xe.$content]=this[xe.$content].replaceAll(`\r
`,`
`))}[xe.$getExtra](){return typeof this[xe.$content]=="string"?this[xe.$content].split(/[\u2029\u2028\n]/).reduce((Ze,Pn)=>(Pn&&Ze.push(Pn),Ze),[]).join(`
`):this[xe.$content][xe.$text]()}[xe.$toHTML](Ze){if(typeof this[xe.$content]=="string"){const Pn=De(this[xe.$content]).html;return this[xe.$content].includes("\u2029")?(Pn.name="div",Pn.children=[],this[xe.$content].split("\u2029").map(gi=>gi.split(/[\u2028\n]/).reduce((_i,Hi)=>(_i.push({name:"span",value:Hi},{name:"br"}),_i),[])).forEach(gi=>{Pn.children.push({name:"p",children:gi})})):/[\u2028\n]/.test(this[xe.$content])&&(Pn.name="div",Pn.children=[],this[xe.$content].split(/[\u2028\n]/).forEach(gi=>{Pn.children.push({name:"span",value:gi},{name:"br"})})),Te.HTMLResult.success(Pn)}return this[xe.$content][xe.$toHTML](Ze)}}_e.Text=Fa;class ws extends t.XFAObject{constructor(Ze){super(Ge,"textEdit",!0),this.allowRichText=(0,Te.getInteger)({data:Ze.allowRichText,defaultValue:0,validate:Pn=>Pn===1}),this.hScrollPolicy=(0,Te.getStringOption)(Ze.hScrollPolicy,["auto","off","on"]),this.id=Ze.id||"",this.multiLine=(0,Te.getInteger)({data:Ze.multiLine,defaultValue:"",validate:Pn=>Pn===0||Pn===1}),this.use=Ze.use||"",this.usehref=Ze.usehref||"",this.vScrollPolicy=(0,Te.getStringOption)(Ze.vScrollPolicy,["auto","off","on"]),this.border=null,this.comb=null,this.extras=null,this.margin=null}[xe.$toHTML](Ze){const Pn=(0,e.toStyle)(this,"border","font","margin");let gi;const _i=this[xe.$getParent]()[xe.$getParent]();return this.multiLine===""&&(this.multiLine=_i instanceof ci?1:0),this.multiLine===1?gi={name:"textarea",attributes:{dataId:_i[xe.$data]?.[xe.$uid]||_i[xe.$uid],fieldId:_i[xe.$uid],class:["xfaTextfield"],style:Pn,"aria-label":Me(_i),"aria-required":!1}}:gi={name:"input",attributes:{type:"text",dataId:_i[xe.$data]?.[xe.$uid]||_i[xe.$uid],fieldId:_i[xe.$uid],class:["xfaTextfield"],style:Pn,"aria-label":Me(_i),"aria-required":!1}},dn(_i)&&(gi.attributes["aria-required"]=!0,gi.attributes.required=!0),Te.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[gi]})}}class vs extends t.StringObject{constructor(Ze){super(Ge,"time"),this.id=Ze.id||"",this.name=Ze.name||"",this.use=Ze.use||"",this.usehref=Ze.usehref||""}[xe.$finalize](){const Ze=this[xe.$content].trim();this[xe.$content]=Ze?new Date(Ze):null}[xe.$toHTML](Ze){return De(this[xe.$content]?this[xe.$content].toString():"")}}class Wr extends t.XFAObject{constructor(Ze){super(Ge,"timeStamp"),this.id=Ze.id||"",this.server=Ze.server||"",this.type=(0,Te.getStringOption)(Ze.type,["optional","required"]),this.use=Ze.use||"",this.usehref=Ze.usehref||""}}class bo extends t.StringObject{constructor(Ze){super(Ge,"toolTip"),this.id=Ze.id||"",this.rid=Ze.rid||"",this.use=Ze.use||"",this.usehref=Ze.usehref||""}}class Fs extends t.XFAObject{constructor(Ze){super(Ge,"traversal",!0),this.id=Ze.id||"",this.use=Ze.use||"",this.usehref=Ze.usehref||"",this.extras=null,this.traverse=new t.XFAObjectArray}}class Rs extends t.XFAObject{constructor(Ze){super(Ge,"traverse",!0),this.id=Ze.id||"",this.operation=(0,Te.getStringOption)(Ze.operation,["next","back","down","first","left","right","up"]),this.ref=Ze.ref||"",this.use=Ze.use||"",this.usehref=Ze.usehref||"",this.extras=null,this.script=null}get name(){return this.operation}[xe.$isTransparent](){return!1}}class yo extends t.XFAObject{constructor(Ze){super(Ge,"ui",!0),this.id=Ze.id||"",this.use=Ze.use||"",this.usehref=Ze.usehref||"",this.extras=null,this.picture=null,this.barcode=null,this.button=null,this.checkButton=null,this.choiceList=null,this.dateTimeEdit=null,this.defaultUi=null,this.imageEdit=null,this.numericEdit=null,this.passwordEdit=null,this.signature=null,this.textEdit=null}[xe.$getExtra](){if(this[xe.$extra]===void 0){for(const Ze of Object.getOwnPropertyNames(this)){if(Ze==="extras"||Ze==="picture")continue;const Pn=this[Ze];if(Pn instanceof t.XFAObject)return this[xe.$extra]=Pn,Pn}this[xe.$extra]=null}return this[xe.$extra]}[xe.$toHTML](Ze){const Pn=this[xe.$getExtra]();return Pn?Pn[xe.$toHTML](Ze):Te.HTMLResult.EMPTY}}class ro extends t.XFAObject{constructor(Ze){super(Ge,"validate",!0),this.formatTest=(0,Te.getStringOption)(Ze.formatTest,["warning","disabled","error"]),this.id=Ze.id||"",this.nullTest=(0,Te.getStringOption)(Ze.nullTest,["disabled","error","warning"]),this.scriptTest=(0,Te.getStringOption)(Ze.scriptTest,["error","disabled","warning"]),this.use=Ze.use||"",this.usehref=Ze.usehref||"",this.extras=null,this.message=null,this.picture=null,this.script=null}}class Hs extends t.XFAObject{constructor(Ze){super(Ge,"value",!0),this.id=Ze.id||"",this.override=(0,Te.getInteger)({data:Ze.override,defaultValue:0,validate:Pn=>Pn===1}),this.relevant=(0,Te.getRelevant)(Ze.relevant),this.use=Ze.use||"",this.usehref=Ze.usehref||"",this.arc=null,this.boolean=null,this.date=null,this.dateTime=null,this.decimal=null,this.exData=null,this.float=null,this.image=null,this.integer=null,this.line=null,this.rectangle=null,this.text=null,this.time=null}[xe.$setValue](Ze){const Pn=this[xe.$getParent]();if(Pn instanceof dr&&Pn.ui?.imageEdit){this.image||(this.image=new Zi({}),this[xe.$appendChild](this.image)),this.image[xe.$content]=Ze[xe.$content];return}const gi=Ze[xe.$nodeName];if(this[gi]!==null){this[gi][xe.$content]=Ze[xe.$content];return}for(const _i of Object.getOwnPropertyNames(this)){const Hi=this[_i];Hi instanceof t.XFAObject&&(this[_i]=null,this[xe.$removeChild](Hi))}this[Ze[xe.$nodeName]]=Ze,this[xe.$appendChild](Ze)}[xe.$text](){if(this.exData)return typeof this.exData[xe.$content]=="string"?this.exData[xe.$content].trim():this.exData[xe.$content][xe.$text]().trim();for(const Ze of Object.getOwnPropertyNames(this)){if(Ze==="image")continue;const Pn=this[Ze];if(Pn instanceof t.XFAObject)return(Pn[xe.$content]||"").toString().trim()}return null}[xe.$toHTML](Ze){for(const Pn of Object.getOwnPropertyNames(this)){const gi=this[Pn];if(gi instanceof t.XFAObject)return gi[xe.$toHTML](Ze)}return Te.HTMLResult.EMPTY}}_e.Value=Hs;class Fo extends t.XFAObject{constructor(Ze){super(Ge,"variables",!0),this.id=Ze.id||"",this.use=Ze.use||"",this.usehref=Ze.usehref||"",this.boolean=new t.XFAObjectArray,this.date=new t.XFAObjectArray,this.dateTime=new t.XFAObjectArray,this.decimal=new t.XFAObjectArray,this.exData=new t.XFAObjectArray,this.float=new t.XFAObjectArray,this.image=new t.XFAObjectArray,this.integer=new t.XFAObjectArray,this.manifest=new t.XFAObjectArray,this.script=new t.XFAObjectArray,this.text=new t.XFAObjectArray,this.time=new t.XFAObjectArray}[xe.$isTransparent](){return!0}}class zs{static[Ie.$buildXFAObject](Ze,Pn){if(zs.hasOwnProperty(Ze)){const gi=zs[Ze](Pn);return gi[xe.$setSetAttributes](Pn),gi}}static appearanceFilter(Ze){return new Je(Ze)}static arc(Ze){return new an(Ze)}static area(Ze){return new Ke(Ze)}static assist(Ze){return new sn(Ze)}static barcode(Ze){return new gn(Ze)}static bind(Ze){return new mn(Ze)}static bindItems(Ze){return new yn(Ze)}static bookend(Ze){return new Sn(Ze)}static boolean(Ze){return new _n(Ze)}static border(Ze){return new wn(Ze)}static break(Ze){return new Nn(Ze)}static breakAfter(Ze){return new Tn(Ze)}static breakBefore(Ze){return new Cn(Ze)}static button(Ze){return new In(Ze)}static calculate(Ze){return new Rn(Ze)}static caption(Ze){return new bn(Ze)}static certificate(Ze){return new kn(Ze)}static certificates(Ze){return new En(Ze)}static checkButton(Ze){return new On(Ze)}static choiceList(Ze){return new Mn(Ze)}static color(Ze){return new Bn(Ze)}static comb(Ze){return new Hn(Ze)}static connect(Ze){return new $n(Ze)}static contentArea(Ze){return new Un(Ze)}static corner(Ze){return new qn(Ze)}static date(Ze){return new jn(Ze)}static dateTime(Ze){return new Xn(Ze)}static dateTimeEdit(Ze){return new Gn(Ze)}static decimal(Ze){return new ri(Ze)}static defaultUi(Ze){return new ui(Ze)}static desc(Ze){return new ti(Ze)}static digestMethod(Ze){return new Yn(Ze)}static digestMethods(Ze){return new Qn(Ze)}static draw(Ze){return new ci(Ze)}static edge(Ze){return new pi(Ze)}static encoding(Ze){return new ki(Ze)}static encodings(Ze){return new hi(Ze)}static encrypt(Ze){return new si(Ze)}static encryptData(Ze){return new ai(Ze)}static encryption(Ze){return new li(Ze)}static encryptionMethod(Ze){return new Ei(Ze)}static encryptionMethods(Ze){return new $i(Ze)}static event(Ze){return new Qi(Ze)}static exData(Ze){return new fr(Ze)}static exObject(Ze){return new ar(Ze)}static exclGroup(Ze){return new Ii(Ze)}static execute(Ze){return new vi(Ze)}static extras(Ze){return new rr(Ze)}static field(Ze){return new dr(Ze)}static fill(Ze){return new Xi(Ze)}static filter(Ze){return new Gi(Ze)}static float(Ze){return new Yi(Ze)}static font(Ze){return new Nr(Ze)}static format(Ze){return new ha(Ze)}static handler(Ze){return new sr(Ze)}static hyphenation(Ze){return new xr(Ze)}static image(Ze){return new Zi(Ze)}static imageEdit(Ze){return new Ar(Ze)}static integer(Ze){return new Hr(Ze)}static issuers(Ze){return new Xr(Ze)}static items(Ze){return new kr(Ze)}static keep(Ze){return new da(Ze)}static keyUsage(Ze){return new Mi(Ze)}static line(Ze){return new Ri(Ze)}static linear(Ze){return new Ui(Ze)}static lockDocument(Ze){return new Bi(Ze)}static manifest(Ze){return new Ji(Ze)}static margin(Ze){return new or(Ze)}static mdp(Ze){return new ur(Ze)}static medium(Ze){return new Li(Ze)}static message(Ze){return new Er(Ze)}static numericEdit(Ze){return new br(Ze)}static occur(Ze){return new $r(Ze)}static oid(Ze){return new _r(Ze)}static oids(Ze){return new Fr(Ze)}static overflow(Ze){return new Ir(Ze)}static pageArea(Ze){return new cr(Ze)}static pageSet(Ze){return new yr(Ze)}static para(Ze){return new er(Ze)}static passwordEdit(Ze){return new Dr(Ze)}static pattern(Ze){return new Gr(Ze)}static picture(Ze){return new Ea(Ze)}static proto(Ze){return new Tr(Ze)}static radial(Ze){return new Rr(Ze)}static reason(Ze){return new Zr(Ze)}static reasons(Ze){return new ma(Ze)}static rectangle(Ze){return new Sa(Ze)}static ref(Ze){return new ys(Ze)}static script(Ze){return new zo(Ze)}static setProperty(Ze){return new Eo(Ze)}static signData(Ze){return new no(Ze)}static signature(Ze){return new Cl(Ze)}static signing(Ze){return new _o(Ze)}static solid(Ze){return new ca(Ze)}static speak(Ze){return new Io(Ze)}static stipple(Ze){return new ul(Ze)}static subform(Ze){return new To(Ze)}static subformSet(Ze){return new Po(Ze)}static subjectDN(Ze){return new Ps(Ze)}static subjectDNs(Ze){return new xo(Ze)}static submit(Ze){return new io(Ze)}static template(Ze){return new $s(Ze)}static text(Ze){return new Fa(Ze)}static textEdit(Ze){return new ws(Ze)}static time(Ze){return new vs(Ze)}static timeStamp(Ze){return new Wr(Ze)}static toolTip(Ze){return new bo(Ze)}static traversal(Ze){return new Fs(Ze)}static traverse(Ze){return new Rs(Ze)}static ui(Ze){return new yo(Ze)}static validate(Ze){return new ro(Ze)}static value(Ze){return new Hs(Ze)}static variables(Ze){return new Fo(Ze)}}_e.TemplateNamespace=zs},(Ve,_e)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.NamespaceIds=_e.$buildXFAObject=void 0;const ze=Symbol();_e.$buildXFAObject=ze;const xe={config:{id:0,check:Ie=>Ie.startsWith("http://www.xfa.org/schema/xci/")},connectionSet:{id:1,check:Ie=>Ie.startsWith("http://www.xfa.org/schema/xfa-connection-set/")},datasets:{id:2,check:Ie=>Ie.startsWith("http://www.xfa.org/schema/xfa-data/")},form:{id:3,check:Ie=>Ie.startsWith("http://www.xfa.org/schema/xfa-form/")},localeSet:{id:4,check:Ie=>Ie.startsWith("http://www.xfa.org/schema/xfa-locale-set/")},pdf:{id:5,check:Ie=>Ie==="http://ns.adobe.com/xdp/pdf/"},signature:{id:6,check:Ie=>Ie==="http://www.w3.org/2000/09/xmldsig#"},sourceSet:{id:7,check:Ie=>Ie.startsWith("http://www.xfa.org/schema/xfa-source-set/")},stylesheet:{id:8,check:Ie=>Ie==="http://www.w3.org/1999/XSL/Transform"},template:{id:9,check:Ie=>Ie.startsWith("http://www.xfa.org/schema/xfa-template/")},xdc:{id:10,check:Ie=>Ie.startsWith("http://www.xfa.org/schema/xdc/")},xdp:{id:11,check:Ie=>Ie==="http://ns.adobe.com/xdp/"},xfdf:{id:12,check:Ie=>Ie==="http://ns.adobe.com/xfdf/"},xhtml:{id:13,check:Ie=>Ie==="http://www.w3.org/1999/xhtml"},xmpmeta:{id:14,check:Ie=>Ie==="http://ns.adobe.com/xmpmeta/"}};_e.NamespaceIds=xe},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.addHTML=t,_e.checkDimensions=en,_e.flushHTML=e,_e.getAvailableSpace=Te;var xe=ze(78),Ie=ze(83);function Re(je,nn){return{name:"div",attributes:{class:[je.layout==="lr-tb"?"xfaLr":"xfaRl"]},children:nn}}function e(je){if(!je[xe.$extra])return null;const Ge={name:"div",attributes:je[xe.$extra].attributes,children:je[xe.$extra].children};if(je[xe.$extra].failingNode){const Oe=je[xe.$extra].failingNode[xe.$flushHTML]();Oe&&(je.layout.endsWith("-tb")?Ge.children.push(Re(je,[Oe])):Ge.children.push(Oe))}return Ge.children.length===0?null:Ge}function t(je,nn,Ge){const Oe=je[xe.$extra],Ce=Oe.availableSpace,[St,rn,un,Qe]=Ge;switch(je.layout){case"position":{Oe.width=Math.max(Oe.width,St+un),Oe.height=Math.max(Oe.height,rn+Qe),Oe.children.push(nn);break}case"lr-tb":case"rl-tb":(!Oe.line||Oe.attempt===1)&&(Oe.line=Re(je,[]),Oe.children.push(Oe.line),Oe.numberInLine=0),Oe.numberInLine+=1,Oe.line.children.push(nn),Oe.attempt===0?(Oe.currentWidth+=un,Oe.height=Math.max(Oe.height,Oe.prevHeight+Qe)):(Oe.currentWidth=un,Oe.prevHeight=Oe.height,Oe.height+=Qe,Oe.attempt=0),Oe.width=Math.max(Oe.width,Oe.currentWidth);break;case"rl-row":case"row":{Oe.children.push(nn),Oe.width+=un,Oe.height=Math.max(Oe.height,Qe);const hn=(0,Ie.measureToString)(Oe.height);for(const He of Oe.children)He.attributes.style.height=hn;break}case"table":{Oe.width=Math.min(Ce.width,Math.max(Oe.width,un)),Oe.height+=Qe,Oe.children.push(nn);break}case"tb":{Oe.width=Math.min(Ce.width,Math.max(Oe.width,un)),Oe.height+=Qe,Oe.children.push(nn);break}}}function Te(je){const nn=je[xe.$extra].availableSpace,Ge=je.margin?je.margin.topInset+je.margin.bottomInset:0,Oe=je.margin?je.margin.leftInset+je.margin.rightInset:0;switch(je.layout){case"lr-tb":case"rl-tb":return je[xe.$extra].attempt===0?{width:nn.width-Oe-je[xe.$extra].currentWidth,height:nn.height-Ge-je[xe.$extra].prevHeight}:{width:nn.width-Oe,height:nn.height-Ge-je[xe.$extra].height};case"rl-row":case"row":return{width:je[xe.$extra].columnWidths.slice(je[xe.$extra].currentColumn).reduce((St,rn)=>St+rn),height:nn.height-Oe};case"table":case"tb":return{width:nn.width-Oe,height:nn.height-Ge-je[xe.$extra].height};case"position":default:return nn}}function Ye(je){let nn=je.w===""?NaN:je.w,Ge=je.h===""?NaN:je.h,[Oe,Ce]=[0,0];switch(je.anchorType||""){case"bottomCenter":[Oe,Ce]=[nn/2,Ge];break;case"bottomLeft":[Oe,Ce]=[0,Ge];break;case"bottomRight":[Oe,Ce]=[nn,Ge];break;case"middleCenter":[Oe,Ce]=[nn/2,Ge/2];break;case"middleLeft":[Oe,Ce]=[0,Ge/2];break;case"middleRight":[Oe,Ce]=[nn,Ge/2];break;case"topCenter":[Oe,Ce]=[nn/2,0];break;case"topRight":[Oe,Ce]=[nn,0];break}let St,rn;switch(je.rotate||0){case 0:[St,rn]=[-Oe,-Ce];break;case 90:[St,rn]=[-Ce,Oe],[nn,Ge]=[Ge,-nn];break;case 180:[St,rn]=[Oe,Ce],[nn,Ge]=[-nn,-Ge];break;case 270:[St,rn]=[Ce,-Oe],[nn,Ge]=[-Ge,nn];break}return[je.x+St+Math.min(0,nn),je.y+rn+Math.min(0,Ge),Math.abs(nn),Math.abs(Ge)]}function en(je,nn){if(je[xe.$getTemplateRoot]()[xe.$extra].firstUnsplittable===null||je.w===0||je.h===0)return!0;const Ge=2,Oe=je[xe.$getSubformParent](),Ce=Oe[xe.$extra]?.attempt||0,[,St,rn,un]=Ye(je);switch(Oe.layout){case"lr-tb":case"rl-tb":return Ce===0?je[xe.$getTemplateRoot]()[xe.$extra].noLayoutFailure?je.w!==""?Math.round(rn-nn.width)<=Ge:nn.width>Ge:je.h!==""&&Math.round(un-nn.height)>Ge?!1:je.w!==""?Math.round(rn-nn.width)<=Ge?!0:Oe[xe.$extra].numberInLine===0?nn.height>Ge:!1:nn.width>Ge:je[xe.$getTemplateRoot]()[xe.$extra].noLayoutFailure?!0:je.h!==""&&Math.round(un-nn.height)>Ge?!1:je.w===""||Math.round(rn-nn.width)<=Ge?nn.height>Ge:Oe[xe.$isThereMoreWidth]()?!1:nn.height>Ge;case"table":case"tb":return je[xe.$getTemplateRoot]()[xe.$extra].noLayoutFailure?!0:je.h!==""&&!je[xe.$isSplittable]()?Math.round(un-nn.height)<=Ge:je.w===""||Math.round(rn-nn.width)<=Ge?nn.height>Ge:Oe[xe.$isThereMoreWidth]()?!1:nn.height>Ge;case"position":if(je[xe.$getTemplateRoot]()[xe.$extra].noLayoutFailure||je.h===""||Math.round(un+St-nn.height)<=Ge)return!0;const Qe=je[xe.$getTemplateRoot]()[xe.$extra].currentContentArea;return un+St>Qe.h;case"rl-row":case"row":return je[xe.$getTemplateRoot]()[xe.$extra].noLayoutFailure?!0:je.h!==""?Math.round(un-nn.height)<=Ge:!0;default:return!0}}},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.computeBbox=Oe,_e.createWrapper=un,_e.fixDimensions=Ce,_e.fixTextIndent=Qe,_e.fixURL=dn,_e.isPrintOnly=He,_e.layoutClass=St,_e.layoutNode=Ge,_e.measureToString=Ye,_e.setAccess=hn,_e.setFontFamily=fn,_e.setMinMaxDimensions=je,_e.setPara=Xe,_e.toStyle=rn;var xe=ze(78),Ie=ze(2),Re=ze(84),e=ze(85),t=ze(86),Te=ze(87);function Ye(qe){return typeof qe=="string"?"0px":Number.isInteger(qe)?`${qe}px`:`${qe.toFixed(2)}px`}const en={anchorType(qe,tn){const Me=qe[xe.$getSubformParent]();if(!(!Me||Me.layout&&Me.layout!=="position"))switch("transform"in tn||(tn.transform=""),qe.anchorType){case"bottomCenter":tn.transform+="translate(-50%, -100%)";break;case"bottomLeft":tn.transform+="translate(0,-100%)";break;case"bottomRight":tn.transform+="translate(-100%,-100%)";break;case"middleCenter":tn.transform+="translate(-50%,-50%)";break;case"middleLeft":tn.transform+="translate(0,-50%)";break;case"middleRight":tn.transform+="translate(-100%,-50%)";break;case"topCenter":tn.transform+="translate(-50%,0)";break;case"topRight":tn.transform+="translate(-100%,0)";break}},dimensions(qe,tn){const Me=qe[xe.$getSubformParent]();let De=qe.w;const Ue=qe.h;if(Me.layout?.includes("row")){const We=Me[xe.$extra],$e=qe.colSpan;let on;$e===-1?(on=We.columnWidths.slice(We.currentColumn).reduce((Je,an)=>Je+an,0),We.currentColumn=0):(on=We.columnWidths.slice(We.currentColumn,We.currentColumn+$e).reduce((Je,an)=>Je+an,0),We.currentColumn=(We.currentColumn+qe.colSpan)%We.columnWidths.length),isNaN(on)||(De=qe.w=on)}tn.width=De!==""?Ye(De):"auto",tn.height=Ue!==""?Ye(Ue):"auto"},position(qe,tn){const Me=qe[xe.$getSubformParent]();Me?.layout&&Me.layout!=="position"||(tn.position="absolute",tn.left=Ye(qe.x),tn.top=Ye(qe.y))},rotate(qe,tn){qe.rotate&&("transform"in tn||(tn.transform=""),tn.transform+=`rotate(-${qe.rotate}deg)`,tn.transformOrigin="top left")},presence(qe,tn){switch(qe.presence){case"invisible":tn.visibility="hidden";break;case"hidden":case"inactive":tn.display="none";break}},hAlign(qe,tn){if(qe[xe.$nodeName]==="para")switch(qe.hAlign){case"justifyAll":tn.textAlign="justify-all";break;case"radix":tn.textAlign="left";break;default:tn.textAlign=qe.hAlign}else switch(qe.hAlign){case"left":tn.alignSelf="start";break;case"center":tn.alignSelf="center";break;case"right":tn.alignSelf="end";break}},margin(qe,tn){qe.margin&&(tn.margin=qe.margin[xe.$toStyle]().margin)}};function je(qe,tn){qe[xe.$getSubformParent]().layout==="position"&&(qe.minW>0&&(tn.minWidth=Ye(qe.minW)),qe.maxW>0&&(tn.maxWidth=Ye(qe.maxW)),qe.minH>0&&(tn.minHeight=Ye(qe.minH)),qe.maxH>0&&(tn.maxHeight=Ye(qe.maxH)))}function nn(qe,tn,Me,De,Ue,We){const $e=new t.TextMeasure(tn,Me,De,Ue);return typeof qe=="string"?$e.addString(qe):qe[xe.$pushGlyphs]($e),$e.compute(We)}function Ge(qe,tn){let Me=null,De=null,Ue=!1;if((!qe.w||!qe.h)&&qe.value){let We=0,$e=0;qe.margin&&(We=qe.margin.leftInset+qe.margin.rightInset,$e=qe.margin.topInset+qe.margin.bottomInset);let on=null,Je=null;qe.para&&(Je=Object.create(null),on=qe.para.lineHeight===""?null:qe.para.lineHeight,Je.top=qe.para.spaceAbove===""?0:qe.para.spaceAbove,Je.bottom=qe.para.spaceBelow===""?0:qe.para.spaceBelow,Je.left=qe.para.marginLeft===""?0:qe.para.marginLeft,Je.right=qe.para.marginRight===""?0:qe.para.marginRight);let an=qe.font;if(!an){const gn=qe[xe.$getTemplateRoot]();let mn=qe[xe.$getParent]();for(;mn&&mn!==gn;){if(mn.font){an=mn.font;break}mn=mn[xe.$getParent]()}}const Ke=(qe.w||tn.width)-We,sn=qe[xe.$globalData].fontFinder;if(qe.value.exData&&qe.value.exData[xe.$content]&&qe.value.exData.contentType==="text/html"){const gn=nn(qe.value.exData[xe.$content],an,Je,on,sn,Ke);De=gn.width,Me=gn.height,Ue=gn.isBroken}else{const gn=qe.value[xe.$text]();if(gn){const mn=nn(gn,an,Je,on,sn,Ke);De=mn.width,Me=mn.height,Ue=mn.isBroken}}De!==null&&!qe.w&&(De+=We),Me!==null&&!qe.h&&(Me+=$e)}return{w:De,h:Me,isBroken:Ue}}function Oe(qe,tn,Me){let De;if(qe.w!==""&&qe.h!=="")De=[qe.x,qe.y,qe.w,qe.h];else{if(!Me)return null;let Ue=qe.w;if(Ue===""){if(qe.maxW===0){const $e=qe[xe.$getSubformParent]();Ue=$e.layout==="position"&&$e.w!==""?0:qe.minW}else Ue=Math.min(qe.maxW,Me.width);tn.attributes.style.width=Ye(Ue)}let We=qe.h;if(We===""){if(qe.maxH===0){const $e=qe[xe.$getSubformParent]();We=$e.layout==="position"&&$e.h!==""?0:qe.minH}else We=Math.min(qe.maxH,Me.height);tn.attributes.style.height=Ye(We)}De=[qe.x,qe.y,Ue,We]}return De}function Ce(qe){const tn=qe[xe.$getSubformParent]();if(tn.layout?.includes("row")){const Me=tn[xe.$extra],De=qe.colSpan;let Ue;De===-1?Ue=Me.columnWidths.slice(Me.currentColumn).reduce((We,$e)=>We+$e,0):Ue=Me.columnWidths.slice(Me.currentColumn,Me.currentColumn+De).reduce((We,$e)=>We+$e,0),isNaN(Ue)||(qe.w=Ue)}tn.layout&&tn.layout!=="position"&&(qe.x=qe.y=0),qe.layout==="table"&&qe.w===""&&Array.isArray(qe.columnWidths)&&(qe.w=qe.columnWidths.reduce((Me,De)=>Me+De,0))}function St(qe){switch(qe.layout){case"position":return"xfaPosition";case"lr-tb":return"xfaLrTb";case"rl-row":return"xfaRlRow";case"rl-tb":return"xfaRlTb";case"row":return"xfaRow";case"table":return"xfaTable";case"tb":return"xfaTb";default:return"xfaPosition"}}function rn(qe,...tn){const Me=Object.create(null);for(const De of tn){const Ue=qe[De];if(Ue!==null){if(en.hasOwnProperty(De)){en[De](qe,Me);continue}if(Ue instanceof Te.XFAObject){const We=Ue[xe.$toStyle]();We?Object.assign(Me,We):(0,Ie.warn)(`(DEBUG) - XFA - style for ${De} not implemented yet`)}}}return Me}function un(qe,tn){const{attributes:Me}=tn,{style:De}=Me,Ue={name:"div",attributes:{class:["xfaWrapper"],style:Object.create(null)},children:[]};if(Me.class.push("xfaWrapped"),qe.border){const{widths:We,insets:$e}=qe.border[xe.$extra];let on,Je,an=$e[0],Ke=$e[3];const sn=$e[0]+$e[2],gn=$e[1]+$e[3];switch(qe.border.hand){case"even":an-=We[0]/2,Ke-=We[3]/2,on=`calc(100% + ${(We[1]+We[3])/2-gn}px)`,Je=`calc(100% + ${(We[0]+We[2])/2-sn}px)`;break;case"left":an-=We[0],Ke-=We[3],on=`calc(100% + ${We[1]+We[3]-gn}px)`,Je=`calc(100% + ${We[0]+We[2]-sn}px)`;break;case"right":on=gn?`calc(100% - ${gn}px)`:"100%",Je=sn?`calc(100% - ${sn}px)`:"100%";break}const mn=["xfaBorder"];He(qe.border)&&mn.push("xfaPrintOnly");const yn={name:"div",attributes:{class:mn,style:{top:`${an}px`,left:`${Ke}px`,width:on,height:Je}},children:[]};for(const Sn of["border","borderWidth","borderColor","borderRadius","borderStyle"])De[Sn]!==void 0&&(yn.attributes.style[Sn]=De[Sn],delete De[Sn]);Ue.children.push(yn,tn)}else Ue.children.push(tn);for(const We of["background","backgroundClip","top","left","width","height","minWidth","minHeight","maxWidth","maxHeight","transform","transformOrigin","visibility"])De[We]!==void 0&&(Ue.attributes.style[We]=De[We],delete De[We]);return Ue.attributes.style.position=De.position==="absolute"?"absolute":"relative",delete De.position,De.alignSelf&&(Ue.attributes.style.alignSelf=De.alignSelf,delete De.alignSelf),Ue}function Qe(qe){const tn=(0,Re.getMeasurement)(qe.textIndent,"0px");if(tn>=0)return;const De="padding"+((qe.textAlign==="right"?"right":"left")==="left"?"Left":"Right"),Ue=(0,Re.getMeasurement)(qe[De],"0px");qe[De]=`${Ue-tn}px`}function hn(qe,tn){switch(qe.access){case"nonInteractive":tn.push("xfaNonInteractive");break;case"readOnly":tn.push("xfaReadOnly");break;case"protected":tn.push("xfaDisabled");break}}function He(qe){return qe.relevant.length>0&&!qe.relevant[0].excluded&&qe.relevant[0].viewname==="print"}function pn(qe){const tn=qe[xe.$getTemplateRoot]()[xe.$extra].paraStack;return tn.length?tn.at(-1):null}function Xe(qe,tn,Me){if(Me.attributes.class?.includes("xfaRich")){tn&&(qe.h===""&&(tn.height="auto"),qe.w===""&&(tn.width="auto"));const De=pn(qe);if(De){const Ue=Me.attributes.style;switch(Ue.display="flex",Ue.flexDirection="column",De.vAlign){case"top":Ue.justifyContent="start";break;case"bottom":Ue.justifyContent="end";break;case"middle":Ue.justifyContent="center";break}const We=De[xe.$toStyle]();for(const[$e,on]of Object.entries(We))$e in Ue||(Ue[$e]=on)}}}function fn(qe,tn,Me,De){if(!Me){delete De.fontFamily;return}const Ue=(0,Re.stripQuotes)(qe.typeface);De.fontFamily=`"${Ue}"`;const We=Me.find(Ue);if(We){const{fontFamily:$e}=We.regular.cssFontInfo;$e!==Ue&&(De.fontFamily=`"${$e}"`);const on=pn(tn);if(on&&on.lineHeight!==""||De.lineHeight)return;const Je=(0,e.selectFont)(qe,We);Je&&(De.lineHeight=Math.max(1.2,Je.lineHeight))}}function dn(qe){const tn=(0,Ie.createValidAbsoluteUrl)(qe,null,{addDefaultProtocol:!0,tryConvertEncoding:!0});return tn?tn.href:null}},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.HTMLResult=void 0,_e.getBBox=Ce,_e.getColor=Oe,_e.getFloat=Te,_e.getInteger=t,_e.getKeyword=Ye,_e.getMeasurement=je,_e.getRatio=nn,_e.getRelevant=Ge,_e.getStringOption=en,_e.stripQuotes=e;var xe=ze(2);const Ie={pt:rn=>rn,cm:rn=>rn/2.54*72,mm:rn=>rn/(10*2.54)*72,in:rn=>rn*72,px:rn=>rn},Re=/([+-]?\d+\.?\d*)(.*)/;function e(rn){return rn.startsWith("'")||rn.startsWith('"')?rn.slice(1,-1):rn}function t({data:rn,defaultValue:un,validate:Qe}){if(!rn)return un;rn=rn.trim();const hn=parseInt(rn,10);return!isNaN(hn)&&Qe(hn)?hn:un}function Te({data:rn,defaultValue:un,validate:Qe}){if(!rn)return un;rn=rn.trim();const hn=parseFloat(rn);return!isNaN(hn)&&Qe(hn)?hn:un}function Ye({data:rn,defaultValue:un,validate:Qe}){return rn?(rn=rn.trim(),Qe(rn)?rn:un):un}function en(rn,un){return Ye({data:rn,defaultValue:un[0],validate:Qe=>un.includes(Qe)})}function je(rn,un="0"){if(un||="0",!rn)return je(un);const Qe=rn.trim().match(Re);if(!Qe)return je(un);const[,hn,He]=Qe,pn=parseFloat(hn);if(isNaN(pn))return je(un);if(pn===0)return 0;const Xe=Ie[He];return Xe?Xe(pn):pn}function nn(rn){if(!rn)return{num:1,den:1};const un=rn.trim().split(/\s*:\s*/).map(He=>parseFloat(He)).filter(He=>!isNaN(He));if(un.length===1&&un.push(1),un.length===0)return{num:1,den:1};const[Qe,hn]=un;return{num:Qe,den:hn}}function Ge(rn){return rn?rn.trim().split(/\s+/).map(un=>({excluded:un[0]==="-",viewname:un.substring(1)})):[]}function Oe(rn,un=[0,0,0]){let[Qe,hn,He]=un;if(!rn)return{r:Qe,g:hn,b:He};const pn=rn.trim().split(/\s*,\s*/).map(Xe=>Math.min(Math.max(0,parseInt(Xe.trim(),10)),255)).map(Xe=>isNaN(Xe)?0:Xe);return pn.length<3?{r:Qe,g:hn,b:He}:([Qe,hn,He]=pn,{r:Qe,g:hn,b:He})}function Ce(rn){if(!rn)return{x:-1,y:-1,width:-1,height:-1};const Qe=rn.trim().split(/\s*,\s*/).map(fn=>je(fn,"-1"));if(Qe.length<4||Qe[2]<0||Qe[3]<0)return{x:-1,y:-1,width:-1,height:-1};const[hn,He,pn,Xe]=Qe;return{x:hn,y:He,width:pn,height:Xe}}class St{static get FAILURE(){return(0,xe.shadow)(this,"FAILURE",new St(!1,null,null,null))}static get EMPTY(){return(0,xe.shadow)(this,"EMPTY",new St(!0,null,null,null))}constructor(un,Qe,hn,He){this.success=un,this.html=Qe,this.bbox=hn,this.breakNode=He}isBreak(){return!!this.breakNode}static breakNode(un){return new St(!1,null,null,un)}static success(un,Qe=null){return new St(!0,un,Qe,null)}}_e.HTMLResult=St},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.FontFinder=void 0,_e.getMetrics=Te,_e.selectFont=t;var xe=ze(78),Ie=ze(84),Re=ze(2);class e{constructor(en){this.fonts=new Map,this.cache=new Map,this.warned=new Set,this.defaultFont=null,this.add(en)}add(en,je=null){for(const Ge of en)this.addPdfFont(Ge);for(const Ge of this.fonts.values())Ge.regular||(Ge.regular=Ge.italic||Ge.bold||Ge.bolditalic);if(!je||je.size===0)return;const nn=this.fonts.get("PdfJS-Fallback-PdfJS-XFA");for(const Ge of je)this.fonts.set(Ge,nn)}addPdfFont(en){const je=en.cssFontInfo,nn=je.fontFamily;let Ge=this.fonts.get(nn);Ge||(Ge=Object.create(null),this.fonts.set(nn,Ge),this.defaultFont||(this.defaultFont=Ge));let Oe="";const Ce=parseFloat(je.fontWeight);parseFloat(je.italicAngle)!==0?Oe=Ce>=700?"bolditalic":"italic":Ce>=700&&(Oe="bold"),Oe||((en.name.includes("Bold")||en.psName?.includes("Bold"))&&(Oe="bold"),(en.name.includes("Italic")||en.name.endsWith("It")||en.psName?.includes("Italic")||en.psName?.endsWith("It"))&&(Oe+="italic")),Oe||(Oe="regular"),Ge[Oe]=en}getDefault(){return this.defaultFont}find(en,je=!0){let nn=this.fonts.get(en)||this.cache.get(en);if(nn)return nn;const Ge=/,|-|_| |bolditalic|bold|italic|regular|it/gi;let Oe=en.replaceAll(Ge,"");if(nn=this.fonts.get(Oe),nn)return this.cache.set(en,nn),nn;Oe=Oe.toLowerCase();const Ce=[];for(const[St,rn]of this.fonts.entries())St.replaceAll(Ge,"").toLowerCase().startsWith(Oe)&&Ce.push(rn);if(Ce.length===0)for(const[,St]of this.fonts.entries())St.regular.name?.replaceAll(Ge,"").toLowerCase().startsWith(Oe)&&Ce.push(St);if(Ce.length===0){Oe=Oe.replaceAll(/psmt|mt/gi,"");for(const[St,rn]of this.fonts.entries())St.replaceAll(Ge,"").toLowerCase().startsWith(Oe)&&Ce.push(rn)}if(Ce.length===0)for(const St of this.fonts.values())St.regular.name?.replaceAll(Ge,"").toLowerCase().startsWith(Oe)&&Ce.push(St);return Ce.length>=1?(Ce.length!==1&&je&&(0,Re.warn)(`XFA - Too many choices to guess the correct font: ${en}`),this.cache.set(en,Ce[0]),Ce[0]):(je&&!this.warned.has(en)&&(this.warned.add(en),(0,Re.warn)(`XFA - Cannot find the font: ${en}`)),null)}}_e.FontFinder=e;function t(Ye,en){return Ye.posture==="italic"?Ye.weight==="bold"?en.bolditalic:en.italic:Ye.weight==="bold"?en.bold:en.regular}function Te(Ye,en=!1){let je=null;if(Ye){const Ce=(0,Ie.stripQuotes)(Ye.typeface),St=Ye[xe.$globalData].fontFinder.find(Ce);je=t(Ye,St)}if(!je)return{lineHeight:12,lineGap:2,lineNoGap:10};const nn=Ye.size||10,Ge=je.lineHeight?Math.max(en?0:1.2,je.lineHeight):1.2,Oe=je.lineGap===void 0?.2:je.lineGap;return{lineHeight:Ge*nn,lineGap:Oe*nn,lineNoGap:Math.max(1,Ge-Oe)*nn}}},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.TextMeasure=void 0;var xe=ze(85);const Ie=1.02;class Re{constructor(Ye,en,je,nn){if(this.lineHeight=je,this.paraMargin=en||{top:0,bottom:0,left:0,right:0},!Ye){[this.pdfFont,this.xfaFont]=this.defaultFont(nn);return}this.xfaFont={typeface:Ye.typeface,posture:Ye.posture,weight:Ye.weight,size:Ye.size,letterSpacing:Ye.letterSpacing};const Ge=nn.find(Ye.typeface);if(!Ge){[this.pdfFont,this.xfaFont]=this.defaultFont(nn);return}this.pdfFont=(0,xe.selectFont)(Ye,Ge),this.pdfFont||([this.pdfFont,this.xfaFont]=this.defaultFont(nn))}defaultFont(Ye){const en=Ye.find("Helvetica",!1)||Ye.find("Myriad Pro",!1)||Ye.find("Arial",!1)||Ye.getDefault();if(en?.regular){const nn=en.regular,Oe={typeface:nn.cssFontInfo.fontFamily,posture:"normal",weight:"normal",size:10,letterSpacing:0};return[nn,Oe]}return[null,{typeface:"Courier",posture:"normal",weight:"normal",size:10,letterSpacing:0}]}}class e{constructor(Ye,en,je,nn){this.fontFinder=nn,this.stack=[new Re(Ye,en,je,nn)]}pushData(Ye,en,je){const nn=this.stack.at(-1);for(const Oe of["typeface","posture","weight","size","letterSpacing"])Ye[Oe]||(Ye[Oe]=nn.xfaFont[Oe]);for(const Oe of["top","bottom","left","right"])isNaN(en[Oe])&&(en[Oe]=nn.paraMargin[Oe]);const Ge=new Re(Ye,en,je||nn.lineHeight,this.fontFinder);Ge.pdfFont||(Ge.pdfFont=nn.pdfFont),this.stack.push(Ge)}popFont(){this.stack.pop()}topFont(){return this.stack.at(-1)}}class t{constructor(Ye,en,je,nn){this.glyphs=[],this.fontSelector=new e(Ye,en,je,nn),this.extraHeight=0}pushData(Ye,en,je){this.fontSelector.pushData(Ye,en,je)}popFont(Ye){return this.fontSelector.popFont()}addPara(){const Ye=this.fontSelector.topFont();this.extraHeight+=Ye.paraMargin.top+Ye.paraMargin.bottom}addString(Ye){if(!Ye)return;const en=this.fontSelector.topFont(),je=en.xfaFont.size;if(en.pdfFont){const nn=en.xfaFont.letterSpacing,Ge=en.pdfFont,Oe=Ge.lineHeight||1.2,Ce=en.lineHeight||Math.max(1.2,Oe)*je,St=Ge.lineGap===void 0?.2:Ge.lineGap,rn=Oe-St,un=Math.max(1,rn)*je,Qe=je/1e3,hn=Ge.defaultWidth||Ge.charsToGlyphs(" ")[0].width;for(const He of Ye.split(/[\u2029\n]/)){const pn=Ge.encodeString(He).join(""),Xe=Ge.charsToGlyphs(pn);for(const fn of Xe){const dn=fn.width||hn;this.glyphs.push([dn*Qe+nn,Ce,un,fn.unicode,!1])}this.glyphs.push([0,0,0,`
`,!0])}this.glyphs.pop();return}for(const nn of Ye.split(/[\u2029\n]/)){for(const Ge of nn.split(""))this.glyphs.push([je,1.2*je,je,Ge,!1]);this.glyphs.push([0,0,0,`
`,!0])}this.glyphs.pop()}compute(Ye){let en=-1,je=0,nn=0,Ge=0,Oe=0,Ce=0,St=!1,rn=!0;for(let un=0,Qe=this.glyphs.length;un<Qe;un++){const[hn,He,pn,Xe,fn]=this.glyphs[un],dn=Xe===" ",qe=rn?pn:He;if(fn){nn=Math.max(nn,Oe),Oe=0,Ge+=Ce,Ce=qe,en=-1,je=0,rn=!1;continue}if(dn){Oe+hn>Ye?(nn=Math.max(nn,Oe),Oe=0,Ge+=Ce,Ce=qe,en=-1,je=0,St=!0,rn=!1):(Ce=Math.max(qe,Ce),je=Oe,Oe+=hn,en=un);continue}if(Oe+hn>Ye){Ge+=Ce,Ce=qe,en!==-1?(un=en,nn=Math.max(nn,je),Oe=0,en=-1,je=0):(nn=Math.max(nn,Oe),Oe=hn),St=!0,rn=!1;continue}Oe+=hn,Ce=Math.max(qe,Ce)}return nn=Math.max(nn,Oe),Ge+=Ce+this.extraHeight,{width:Ie*nn,height:Ge,isBroken:St}}}_e.TextMeasure=t},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.XmlObject=_e.XFAObjectArray=_e.XFAObject=_e.XFAAttribute=_e.StringObject=_e.OptionObject=_e.Option10=_e.Option01=_e.IntegerObject=_e.ContentObject=void 0;var xe=ze(78),Ie=ze(84),Re=ze(2),e=ze(3),t=ze(81),Te=ze(88);const Ye=Symbol(),en=Symbol(),je=Symbol(),nn=Symbol("_children"),Ge=Symbol(),Oe=Symbol(),Ce=Symbol(),St=Symbol(),rn=Symbol(),un=Symbol(),Qe=Symbol(),hn=Symbol(),He=Symbol(),pn=Symbol("parent"),Xe=Symbol(),fn=Symbol(),dn=Symbol();let qe=0;const tn=t.NamespaceIds.datasets.id;class Me{constructor(mn,yn,Sn=!1){this[xe.$namespaceId]=mn,this[xe.$nodeName]=yn,this[Qe]=Sn,this[pn]=null,this[nn]=[],this[xe.$uid]=`${yn}${qe++}`,this[xe.$globalData]=null}get isXFAObject(){return!0}get isXFAObjectArray(){return!1}createNodes(mn){let yn=this,Sn=null;for(const{name:_n,index:wn}of mn){for(let Nn=0,Tn=isFinite(wn)?wn:0;Nn<=Tn;Nn++){const Cn=yn[xe.$namespaceId]===tn?-1:yn[xe.$namespaceId];Sn=new We(Cn,_n),yn[xe.$appendChild](Sn)}yn=Sn}return Sn}[xe.$onChild](mn){if(!this[Qe]||!this[xe.$onChildCheck](mn))return!1;const yn=mn[xe.$nodeName],Sn=this[yn];if(Sn instanceof De){if(Sn.push(mn))return this[xe.$appendChild](mn),!0}else return Sn!==null&&this[xe.$removeChild](Sn),this[yn]=mn,this[xe.$appendChild](mn),!0;let _n="";return this.id?_n=` (id: ${this.id})`:this.name&&(_n=` (name: ${this.name} ${this.h.value})`),(0,Re.warn)(`XFA - node "${this[xe.$nodeName]}"${_n} has already enough "${yn}"!`),!1}[xe.$onChildCheck](mn){return this.hasOwnProperty(mn[xe.$nodeName])&&mn[xe.$namespaceId]===this[xe.$namespaceId]}[xe.$isNsAgnostic](){return!1}[xe.$acceptWhitespace](){return!1}[xe.$isCDATAXml](){return!1}[xe.$isBindable](){return!1}[xe.$popPara](){this.para&&this[xe.$getTemplateRoot]()[xe.$extra].paraStack.pop()}[xe.$pushPara](){this[xe.$getTemplateRoot]()[xe.$extra].paraStack.push(this.para)}[xe.$setId](mn){this.id&&this[xe.$namespaceId]===t.NamespaceIds.template.id&&mn.set(this.id,this)}[xe.$getTemplateRoot](){return this[xe.$globalData].template}[xe.$isSplittable](){return!1}[xe.$isThereMoreWidth](){return!1}[xe.$appendChild](mn){mn[pn]=this,this[nn].push(mn),!mn[xe.$globalData]&&this[xe.$globalData]&&(mn[xe.$globalData]=this[xe.$globalData])}[xe.$removeChild](mn){const yn=this[nn].indexOf(mn);this[nn].splice(yn,1)}[xe.$hasSettableValue](){return this.hasOwnProperty("value")}[xe.$setValue](mn){}[xe.$onText](mn){}[xe.$finalize](){}[xe.$clean](mn){delete this[Qe],this[xe.$cleanup]&&(mn.clean(this[xe.$cleanup]),delete this[xe.$cleanup])}[xe.$indexOf](mn){return this[nn].indexOf(mn)}[xe.$insertAt](mn,yn){yn[pn]=this,this[nn].splice(mn,0,yn),!yn[xe.$globalData]&&this[xe.$globalData]&&(yn[xe.$globalData]=this[xe.$globalData])}[xe.$isTransparent](){return!this.name}[xe.$lastAttribute](){return""}[xe.$text](){return this[nn].length===0?this[xe.$content]:this[nn].map(mn=>mn[xe.$text]()).join("")}get[je](){const mn=Object.getPrototypeOf(this);if(!mn._attributes){const yn=mn._attributes=new Set;for(const Sn of Object.getOwnPropertyNames(this)){if(this[Sn]===null||this[Sn]instanceof Me||this[Sn]instanceof De)break;yn.add(Sn)}}return(0,Re.shadow)(this,je,mn._attributes)}[xe.$isDescendent](mn){let yn=this;for(;yn;){if(yn===mn)return!0;yn=yn[xe.$getParent]()}return!1}[xe.$getParent](){return this[pn]}[xe.$getSubformParent](){return this[xe.$getParent]()}[xe.$getChildren](mn=null){return mn?this[mn]:this[nn]}[xe.$dump](){const mn=Object.create(null);this[xe.$content]&&(mn.$content=this[xe.$content]);for(const yn of Object.getOwnPropertyNames(this)){const Sn=this[yn];Sn!==null&&(Sn instanceof Me?mn[yn]=Sn[xe.$dump]():Sn instanceof De?Sn.isEmpty()||(mn[yn]=Sn.dump()):mn[yn]=Sn)}return mn}[xe.$toStyle](){return null}[xe.$toHTML](){return Ie.HTMLResult.EMPTY}*[xe.$getContainedChildren](){for(const mn of this[xe.$getChildren]())yield mn}*[St](mn,yn){for(const Sn of this[xe.$getContainedChildren]())if(!mn||yn===mn.has(Sn[xe.$nodeName])){const _n=this[xe.$getAvailableSpace](),wn=Sn[xe.$toHTML](_n);wn.success||(this[xe.$extra].failingNode=Sn),yield wn}}[xe.$flushHTML](){return null}[xe.$addHTML](mn,yn){this[xe.$extra].children.push(mn)}[xe.$getAvailableSpace](){}[xe.$childrenToHTML]({filter:mn=null,include:yn=!0}){if(!this[xe.$extra].generator)this[xe.$extra].generator=this[St](mn,yn);else{const Sn=this[xe.$getAvailableSpace](),_n=this[xe.$extra].failingNode[xe.$toHTML](Sn);if(!_n.success)return _n;_n.html&&this[xe.$addHTML](_n.html,_n.bbox),delete this[xe.$extra].failingNode}for(;;){const Sn=this[xe.$extra].generator.next();if(Sn.done)break;const _n=Sn.value;if(!_n.success)return _n;_n.html&&this[xe.$addHTML](_n.html,_n.bbox)}return this[xe.$extra].generator=null,Ie.HTMLResult.EMPTY}[xe.$setSetAttributes](mn){this[fn]=new Set(Object.keys(mn))}[un](mn){const yn=this[je],Sn=this[fn];return[...mn].filter(_n=>yn.has(_n)&&!Sn.has(_n))}[xe.$resolvePrototypes](mn,yn=new Set){for(const Sn of this[nn])Sn[Xe](mn,yn)}[Xe](mn,yn){const Sn=this[rn](mn,yn);Sn?this[Ye](Sn,mn,yn):this[xe.$resolvePrototypes](mn,yn)}[rn](mn,yn){const{use:Sn,usehref:_n}=this;if(!Sn&&!_n)return null;let wn=null,Nn=null,Tn=null,Cn=Sn;if(_n?(Cn=_n,_n.startsWith("#som(")&&_n.endsWith(")")?Nn=_n.slice(5,-1):_n.startsWith(".#som(")&&_n.endsWith(")")?Nn=_n.slice(6,-1):_n.startsWith("#")?Tn=_n.slice(1):_n.startsWith(".#")&&(Tn=_n.slice(2))):Sn.startsWith("#")?Tn=Sn.slice(1):Nn=Sn,this.use=this.usehref="",Tn?wn=mn.get(Tn):(wn=(0,Te.searchNode)(mn.get(xe.$root),this,Nn,!0,!1),wn&&(wn=wn[0])),!wn)return(0,Re.warn)(`XFA - Invalid prototype reference: ${Cn}.`),null;if(wn[xe.$nodeName]!==this[xe.$nodeName])return(0,Re.warn)(`XFA - Incompatible prototype: ${wn[xe.$nodeName]} !== ${this[xe.$nodeName]}.`),null;if(yn.has(wn))return(0,Re.warn)("XFA - Cycle detected in prototypes use."),null;yn.add(wn);const In=wn[rn](mn,yn);return In&&wn[Ye](In,mn,yn),wn[xe.$resolvePrototypes](mn,yn),yn.delete(wn),wn}[Ye](mn,yn,Sn){if(Sn.has(mn)){(0,Re.warn)("XFA - Cycle detected in prototypes use.");return}!this[xe.$content]&&mn[xe.$content]&&(this[xe.$content]=mn[xe.$content]),new Set(Sn).add(mn);for(const wn of this[un](mn[fn]))this[wn]=mn[wn],this[fn]&&this[fn].add(wn);for(const wn of Object.getOwnPropertyNames(this)){if(this[je].has(wn))continue;const Nn=this[wn],Tn=mn[wn];if(Nn instanceof De){for(const Cn of Nn[nn])Cn[Xe](yn,Sn);for(let Cn=Nn[nn].length,In=Tn[nn].length;Cn<In;Cn++){const Rn=mn[nn][Cn][xe.$clone]();if(Nn.push(Rn))Rn[pn]=this,this[nn].push(Rn),Rn[Xe](yn,Sn);else break}continue}if(Nn!==null){Nn[xe.$resolvePrototypes](yn,Sn),Tn&&Nn[Ye](Tn,yn,Sn);continue}if(Tn!==null){const Cn=Tn[xe.$clone]();Cn[pn]=this,this[wn]=Cn,this[nn].push(Cn),Cn[Xe](yn,Sn)}}}static[Ge](mn){return Array.isArray(mn)?mn.map(yn=>Me[Ge](yn)):typeof mn=="object"&&mn!==null?Object.assign({},mn):mn}[xe.$clone](){const mn=Object.create(Object.getPrototypeOf(this));for(const yn of Object.getOwnPropertySymbols(this))try{mn[yn]=this[yn]}catch{(0,Re.shadow)(mn,yn,this[yn])}mn[xe.$uid]=`${mn[xe.$nodeName]}${qe++}`,mn[nn]=[];for(const yn of Object.getOwnPropertyNames(this)){if(this[je].has(yn)){mn[yn]=Me[Ge](this[yn]);continue}const Sn=this[yn];mn[yn]=Sn instanceof De?new De(Sn[hn]):null}for(const yn of this[nn]){const Sn=yn[xe.$nodeName],_n=yn[xe.$clone]();mn[nn].push(_n),_n[pn]=mn,mn[Sn]===null?mn[Sn]=_n:mn[Sn][nn].push(_n)}return mn}[xe.$getChildren](mn=null){return mn?this[nn].filter(yn=>yn[xe.$nodeName]===mn):this[nn]}[xe.$getChildrenByClass](mn){return this[mn]}[xe.$getChildrenByName](mn,yn,Sn=!0){return Array.from(this[xe.$getChildrenByNameIt](mn,yn,Sn))}*[xe.$getChildrenByNameIt](mn,yn,Sn=!0){if(mn==="parent"){yield this[pn];return}for(const _n of this[nn])_n[xe.$nodeName]===mn&&(yield _n),_n.name===mn&&(yield _n),(yn||_n[xe.$isTransparent]())&&(yield*_n[xe.$getChildrenByNameIt](mn,yn,!1));Sn&&this[je].has(mn)&&(yield new Ue(this,mn,this[mn]))}}_e.XFAObject=Me;class De{constructor(mn=1/0){this[hn]=mn,this[nn]=[]}get isXFAObject(){return!1}get isXFAObjectArray(){return!0}push(mn){return this[nn].length<=this[hn]?(this[nn].push(mn),!0):((0,Re.warn)(`XFA - node "${mn[xe.$nodeName]}" accepts no more than ${this[hn]} children`),!1)}isEmpty(){return this[nn].length===0}dump(){return this[nn].length===1?this[nn][0][xe.$dump]():this[nn].map(mn=>mn[xe.$dump]())}[xe.$clone](){const mn=new De(this[hn]);return mn[nn]=this[nn].map(yn=>yn[xe.$clone]()),mn}get children(){return this[nn]}clear(){this[nn].length=0}}_e.XFAObjectArray=De;class Ue{constructor(mn,yn,Sn){this[pn]=mn,this[xe.$nodeName]=yn,this[xe.$content]=Sn,this[xe.$consumed]=!1,this[xe.$uid]=`attribute${qe++}`}[xe.$getParent](){return this[pn]}[xe.$isDataValue](){return!0}[xe.$getDataValue](){return this[xe.$content].trim()}[xe.$setValue](mn){mn=mn.value||"",this[xe.$content]=mn.toString()}[xe.$text](){return this[xe.$content]}[xe.$isDescendent](mn){return this[pn]===mn||this[pn][xe.$isDescendent](mn)}}_e.XFAAttribute=Ue;class We extends Me{constructor(mn,yn,Sn={}){if(super(mn,yn),this[xe.$content]="",this[Oe]=null,yn!=="#text"){const _n=new Map;this[en]=_n;for(const[wn,Nn]of Object.entries(Sn))_n.set(wn,new Ue(this,wn,Nn));if(Sn.hasOwnProperty(xe.$nsAttributes)){const wn=Sn[xe.$nsAttributes].xfa.dataNode;wn!==void 0&&(wn==="dataGroup"?this[Oe]=!1:wn==="dataValue"&&(this[Oe]=!0))}}this[xe.$consumed]=!1}[xe.$toString](mn){const yn=this[xe.$nodeName];if(yn==="#text"){mn.push((0,e.encodeToXmlString)(this[xe.$content]));return}const Sn=(0,Re.utf8StringToString)(yn),_n=this[xe.$namespaceId]===tn?"xfa:":"";mn.push(`<${_n}${Sn}`);for(const[wn,Nn]of this[en].entries()){const Tn=(0,Re.utf8StringToString)(wn);mn.push(` ${Tn}="${(0,e.encodeToXmlString)(Nn[xe.$content])}"`)}if(this[Oe]!==null&&(this[Oe]?mn.push(' xfa:dataNode="dataValue"'):mn.push(' xfa:dataNode="dataGroup"')),!this[xe.$content]&&this[nn].length===0){mn.push("/>");return}if(mn.push(">"),this[xe.$content])typeof this[xe.$content]=="string"?mn.push((0,e.encodeToXmlString)(this[xe.$content])):this[xe.$content][xe.$toString](mn);else for(const wn of this[nn])wn[xe.$toString](mn);mn.push(`</${_n}${Sn}>`)}[xe.$onChild](mn){if(this[xe.$content]){const yn=new We(this[xe.$namespaceId],"#text");this[xe.$appendChild](yn),yn[xe.$content]=this[xe.$content],this[xe.$content]=""}return this[xe.$appendChild](mn),!0}[xe.$onText](mn){this[xe.$content]+=mn}[xe.$finalize](){if(this[xe.$content]&&this[nn].length>0){const mn=new We(this[xe.$namespaceId],"#text");this[xe.$appendChild](mn),mn[xe.$content]=this[xe.$content],delete this[xe.$content]}}[xe.$toHTML](){return this[xe.$nodeName]==="#text"?Ie.HTMLResult.success({name:"#text",value:this[xe.$content]}):Ie.HTMLResult.EMPTY}[xe.$getChildren](mn=null){return mn?this[nn].filter(yn=>yn[xe.$nodeName]===mn):this[nn]}[xe.$getAttributes](){return this[en]}[xe.$getChildrenByClass](mn){const yn=this[en].get(mn);return yn!==void 0?yn:this[xe.$getChildren](mn)}*[xe.$getChildrenByNameIt](mn,yn){const Sn=this[en].get(mn);Sn&&(yield Sn);for(const _n of this[nn])_n[xe.$nodeName]===mn&&(yield _n),yn&&(yield*_n[xe.$getChildrenByNameIt](mn,yn))}*[xe.$getAttributeIt](mn,yn){const Sn=this[en].get(mn);Sn&&(!yn||!Sn[xe.$consumed])&&(yield Sn);for(const _n of this[nn])yield*_n[xe.$getAttributeIt](mn,yn)}*[xe.$getRealChildrenByNameIt](mn,yn,Sn){for(const _n of this[nn])_n[xe.$nodeName]===mn&&(!Sn||!_n[xe.$consumed])&&(yield _n),yn&&(yield*_n[xe.$getRealChildrenByNameIt](mn,yn,Sn))}[xe.$isDataValue](){return this[Oe]===null?this[nn].length===0||this[nn][0][xe.$namespaceId]===t.NamespaceIds.xhtml.id:this[Oe]}[xe.$getDataValue](){return this[Oe]===null?this[nn].length===0?this[xe.$content].trim():this[nn][0][xe.$namespaceId]===t.NamespaceIds.xhtml.id?this[nn][0][xe.$text]().trim():null:this[xe.$content].trim()}[xe.$setValue](mn){mn=mn.value||"",this[xe.$content]=mn.toString()}[xe.$dump](mn=!1){const yn=Object.create(null);mn&&(yn.$ns=this[xe.$namespaceId]),this[xe.$content]&&(yn.$content=this[xe.$content]),yn.$name=this[xe.$nodeName],yn.children=[];for(const Sn of this[nn])yn.children.push(Sn[xe.$dump](mn));yn.attributes=Object.create(null);for(const[Sn,_n]of this[en])yn.attributes[Sn]=_n[xe.$content];return yn}}_e.XmlObject=We;class $e extends Me{constructor(mn,yn){super(mn,yn),this[xe.$content]=""}[xe.$onText](mn){this[xe.$content]+=mn}[xe.$finalize](){}}_e.ContentObject=$e;class on extends $e{constructor(mn,yn,Sn){super(mn,yn),this[He]=Sn}[xe.$finalize](){this[xe.$content]=(0,Ie.getKeyword)({data:this[xe.$content],defaultValue:this[He][0],validate:mn=>this[He].includes(mn)})}[xe.$clean](mn){super[xe.$clean](mn),delete this[He]}}_e.OptionObject=on;class Je extends $e{[xe.$finalize](){this[xe.$content]=this[xe.$content].trim()}}_e.StringObject=Je;class an extends $e{constructor(mn,yn,Sn,_n){super(mn,yn),this[Ce]=Sn,this[dn]=_n}[xe.$finalize](){this[xe.$content]=(0,Ie.getInteger)({data:this[xe.$content],defaultValue:this[Ce],validate:this[dn]})}[xe.$clean](mn){super[xe.$clean](mn),delete this[Ce],delete this[dn]}}_e.IntegerObject=an;class Ke extends an{constructor(mn,yn){super(mn,yn,0,Sn=>Sn===1)}}_e.Option01=Ke;class sn extends an{constructor(mn,yn){super(mn,yn,1,Sn=>Sn===0)}}_e.Option10=sn},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.createDataNode=Ge,_e.searchNode=nn;var xe=ze(78),Ie=ze(2);const Re=/^[^.[]+/,e=/^[^\]]+/,t={dot:0,dotDot:1,dotHash:2,dotBracket:3,dotParen:4},Te=new Map([["$data",(Oe,Ce)=>Oe.datasets?Oe.datasets.data:Oe],["$record",(Oe,Ce)=>(Oe.datasets?Oe.datasets.data:Oe)[xe.$getChildren]()[0]],["$template",(Oe,Ce)=>Oe.template],["$connectionSet",(Oe,Ce)=>Oe.connectionSet],["$form",(Oe,Ce)=>Oe.form],["$layout",(Oe,Ce)=>Oe.layout],["$host",(Oe,Ce)=>Oe.host],["$dataWindow",(Oe,Ce)=>Oe.dataWindow],["$event",(Oe,Ce)=>Oe.event],["!",(Oe,Ce)=>Oe.datasets],["$xfa",(Oe,Ce)=>Oe],["xfa",(Oe,Ce)=>Oe],["$",(Oe,Ce)=>Ce]]),Ye=new WeakMap;function en(Oe){return Oe=Oe.trim(),Oe==="*"?1/0:parseInt(Oe,10)||0}function je(Oe,Ce,St=!0){let rn=Oe.match(Re);if(!rn)return null;let[un]=rn;const Qe=[{name:un,cacheName:"."+un,index:0,js:null,formCalc:null,operator:t.dot}];let hn=un.length;for(;hn<Oe.length;){const He=hn;if(Oe.charAt(hn++)==="["){if(rn=Oe.slice(hn).match(e),!rn)return(0,Ie.warn)("XFA - Invalid index in SOM expression"),null;Qe.at(-1).index=en(rn[0]),hn+=rn[0].length+1;continue}let Xe;switch(Oe.charAt(hn)){case".":if(!Ce)return null;hn++,Xe=t.dotDot;break;case"#":hn++,Xe=t.dotHash;break;case"[":if(St)return(0,Ie.warn)("XFA - SOM expression contains a FormCalc subexpression which is not supported for now."),null;Xe=t.dotBracket;break;case"(":if(St)return(0,Ie.warn)("XFA - SOM expression contains a JavaScript subexpression which is not supported for now."),null;Xe=t.dotParen;break;default:Xe=t.dot;break}if(rn=Oe.slice(hn).match(Re),!rn)break;[un]=rn,hn+=un.length,Qe.push({name:un,cacheName:Oe.slice(He,hn),operator:Xe,index:0,js:null,formCalc:null})}return Qe}function nn(Oe,Ce,St,rn=!0,un=!0){const Qe=je(St,rn);if(!Qe)return null;const hn=Te.get(Qe[0].name);let He=0,pn;hn?(pn=!0,Oe=[hn(Oe,Ce)],He=1):(pn=Ce===null,Oe=[Ce||Oe]);for(let Xe=Qe.length;He<Xe;He++){const{name:fn,cacheName:dn,operator:qe,index:tn}=Qe[He],Me=[];for(const De of Oe){if(!De.isXFAObject)continue;let Ue,We;if(un&&(We=Ye.get(De),We||(We=new Map,Ye.set(De,We)),Ue=We.get(dn)),!Ue){switch(qe){case t.dot:Ue=De[xe.$getChildrenByName](fn,!1);break;case t.dotDot:Ue=De[xe.$getChildrenByName](fn,!0);break;case t.dotHash:Ue=De[xe.$getChildrenByClass](fn),Ue=Ue.isXFAObjectArray?Ue.children:[Ue];break}un&&We.set(dn,Ue)}Ue.length>0&&Me.push(Ue)}if(Me.length===0&&!pn&&He===0){if(Ce=Ce[xe.$getParent](),!Ce)return null;He=-1,Oe=[Ce];continue}Oe=isFinite(tn)?Me.filter(De=>tn<De.length).map(De=>De[tn]):Me.flat()}return Oe.length===0?null:Oe}function Ge(Oe,Ce,St){const rn=je(St);if(!rn||rn.some(hn=>hn.operator===t.dotDot))return null;const un=Te.get(rn[0].name);let Qe=0;un?(Oe=un(Oe,Ce),Qe=1):Oe=Ce||Oe;for(let hn=rn.length;Qe<hn;Qe++){const{name:He,operator:pn,index:Xe}=rn[Qe];if(!isFinite(Xe))return rn[Qe].index=0,Oe.createNodes(rn.slice(Qe));let fn;switch(pn){case t.dot:fn=Oe[xe.$getChildrenByName](He,!1);break;case t.dotDot:fn=Oe[xe.$getChildrenByName](He,!0);break;case t.dotHash:fn=Oe[xe.$getChildrenByClass](He),fn=fn.isXFAObjectArray?fn.children:[fn];break}if(fn.length===0)return Oe.createNodes(rn.slice(Qe));if(Xe<fn.length){const dn=fn[Xe];if(!dn.isXFAObject)return(0,Ie.warn)("XFA - Cannot create a node."),null;Oe=dn}else return rn[Qe].index=Xe-fn.length,Oe.createNodes(rn.slice(Qe))}return null}},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.DataHandler=void 0;var xe=ze(78);class Ie{constructor(e,t){this.data=t,this.dataset=e.datasets||null}serialize(e){const t=[[-1,this.data[xe.$getChildren]()]];for(;t.length>0;){const Ye=t.at(-1),[en,je]=Ye;if(en+1===je.length){t.pop();continue}const nn=je[++Ye[0]],Ge=e.get(nn[xe.$uid]);if(Ge)nn[xe.$setValue](Ge);else{const Ce=nn[xe.$getAttributes]();for(const St of Ce.values()){const rn=e.get(St[xe.$uid]);if(rn){St[xe.$setValue](rn);break}}}const Oe=nn[xe.$getChildren]();Oe.length>0&&t.push([-1,Oe])}const Te=['<xfa:datasets xmlns:xfa="http://www.xfa.org/schema/xfa-data/1.0/">'];if(this.dataset)for(const Ye of this.dataset[xe.$getChildren]())Ye[xe.$nodeName]!=="data"&&Ye[xe.$toString](Te);return this.data[xe.$toString](Te),Te.push("</xfa:datasets>"),Te.join("")}}_e.DataHandler=Ie},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.XFAParser=void 0;var xe=ze(78),Ie=ze(71),Re=ze(91),e=ze(2);class t extends Ie.XMLParserBase{constructor(Ye=null,en=!1){super(),this._builder=new Re.Builder(Ye),this._stack=[],this._globalData={usedTypefaces:new Set},this._ids=new Map,this._current=this._builder.buildRoot(this._ids),this._errorCode=Ie.XMLParserErrorCode.NoError,this._whiteRegex=/^\s+$/,this._nbsps=/\xa0+/g,this._richText=en}parse(Ye){if(this.parseXml(Ye),this._errorCode===Ie.XMLParserErrorCode.NoError)return this._current[xe.$finalize](),this._current.element}onText(Ye){if(Ye=Ye.replace(this._nbsps,en=>en.slice(1)+" "),this._richText||this._current[xe.$acceptWhitespace]()){this._current[xe.$onText](Ye,this._richText);return}this._whiteRegex.test(Ye)||this._current[xe.$onText](Ye.trim())}onCdata(Ye){this._current[xe.$onText](Ye)}_mkAttributes(Ye,en){let je=null,nn=null;const Ge=Object.create({});for(const{name:Oe,value:Ce}of Ye)if(Oe==="xmlns")je?(0,e.warn)(`XFA - multiple namespace definition in <${en}>`):je=Ce;else if(Oe.startsWith("xmlns:")){const St=Oe.substring(6);nn||(nn=[]),nn.push({prefix:St,value:Ce})}else{const St=Oe.indexOf(":");if(St===-1)Ge[Oe]=Ce;else{let rn=Ge[xe.$nsAttributes];rn||(rn=Ge[xe.$nsAttributes]=Object.create(null));const[un,Qe]=[Oe.slice(0,St),Oe.slice(St+1)],hn=rn[un]||=Object.create(null);hn[Qe]=Ce}}return[je,nn,Ge]}_getNameAndPrefix(Ye,en){const je=Ye.indexOf(":");return je===-1?[Ye,null]:[Ye.substring(je+1),en?"":Ye.substring(0,je)]}onBeginElement(Ye,en,je){const[nn,Ge,Oe]=this._mkAttributes(en,Ye),[Ce,St]=this._getNameAndPrefix(Ye,this._builder.isNsAgnostic()),rn=this._builder.build({nsPrefix:St,name:Ce,attributes:Oe,namespace:nn,prefixes:Ge});if(rn[xe.$globalData]=this._globalData,je){rn[xe.$finalize](),this._current[xe.$onChild](rn)&&rn[xe.$setId](this._ids),rn[xe.$clean](this._builder);return}this._stack.push(this._current),this._current=rn}onEndElement(Ye){const en=this._current;if(en[xe.$isCDATAXml]()&&typeof en[xe.$content]=="string"){const je=new t;je._globalData=this._globalData;const nn=je.parse(en[xe.$content]);en[xe.$content]=null,en[xe.$onChild](nn)}en[xe.$finalize](),this._current=this._stack.pop(),this._current[xe.$onChild](en)&&en[xe.$setId](this._ids),en[xe.$clean](this._builder)}onError(Ye){this._errorCode=Ye}}_e.XFAParser=t},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.Builder=void 0;var xe=ze(81),Ie=ze(78),Re=ze(92),e=ze(80),t=ze(101),Te=ze(2),Ye=ze(87);class en extends Ye.XFAObject{constructor(Oe){super(-1,"root",Object.create(null)),this.element=null,this[Ie.$ids]=Oe}[Ie.$onChild](Oe){return this.element=Oe,!0}[Ie.$finalize](){super[Ie.$finalize](),this.element.template instanceof e.Template&&(this[Ie.$ids].set(Ie.$root,this.element),this.element.template[Ie.$resolvePrototypes](this[Ie.$ids]),this.element.template[Ie.$ids]=this[Ie.$ids])}}class je extends Ye.XFAObject{constructor(){super(-1,"",Object.create(null))}[Ie.$onChild](Oe){return!1}}class nn{constructor(Oe=null){this._namespaceStack=[],this._nsAgnosticLevel=0,this._namespacePrefixes=new Map,this._namespaces=new Map,this._nextNsId=Math.max(...Object.values(xe.NamespaceIds).map(({id:Ce})=>Ce)),this._currentNamespace=Oe||new t.UnknownNamespace(++this._nextNsId)}buildRoot(Oe){return new en(Oe)}build({nsPrefix:Oe,name:Ce,attributes:St,namespace:rn,prefixes:un}){const Qe=rn!==null;if(Qe&&(this._namespaceStack.push(this._currentNamespace),this._currentNamespace=this._searchNamespace(rn)),un&&this._addNamespacePrefix(un),St.hasOwnProperty(Ie.$nsAttributes)){const pn=Re.NamespaceSetUp.datasets,Xe=St[Ie.$nsAttributes];let fn=null;for(const[dn,qe]of Object.entries(Xe))if(this._getNamespaceToUse(dn)===pn){fn={xfa:qe};break}fn?St[Ie.$nsAttributes]=fn:delete St[Ie.$nsAttributes]}const He=this._getNamespaceToUse(Oe)?.[xe.$buildXFAObject](Ce,St)||new je;return He[Ie.$isNsAgnostic]()&&this._nsAgnosticLevel++,(Qe||un||He[Ie.$isNsAgnostic]())&&(He[Ie.$cleanup]={hasNamespace:Qe,prefixes:un,nsAgnostic:He[Ie.$isNsAgnostic]()}),He}isNsAgnostic(){return this._nsAgnosticLevel>0}_searchNamespace(Oe){let Ce=this._namespaces.get(Oe);if(Ce)return Ce;for(const[St,{check:rn}]of Object.entries(xe.NamespaceIds))if(rn(Oe)){if(Ce=Re.NamespaceSetUp[St],Ce)return this._namespaces.set(Oe,Ce),Ce;break}return Ce=new t.UnknownNamespace(++this._nextNsId),this._namespaces.set(Oe,Ce),Ce}_addNamespacePrefix(Oe){for(const{prefix:Ce,value:St}of Oe){const rn=this._searchNamespace(St);let un=this._namespacePrefixes.get(Ce);un||(un=[],this._namespacePrefixes.set(Ce,un)),un.push(rn)}}_getNamespaceToUse(Oe){if(!Oe)return this._currentNamespace;const Ce=this._namespacePrefixes.get(Oe);return Ce?.length>0?Ce.at(-1):((0,Te.warn)(`Unknown namespace prefix: ${Oe}.`),null)}clean(Oe){const{hasNamespace:Ce,prefixes:St,nsAgnostic:rn}=Oe;Ce&&(this._currentNamespace=this._namespaceStack.pop()),St&&St.forEach(({prefix:un})=>{this._namespacePrefixes.get(un).pop()}),rn&&this._nsAgnosticLevel--}}_e.Builder=nn},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.NamespaceSetUp=void 0;var xe=ze(93),Ie=ze(94),Re=ze(95),e=ze(96),t=ze(97),Te=ze(98),Ye=ze(80),en=ze(99),je=ze(100);const nn={config:xe.ConfigNamespace,connection:Ie.ConnectionSetNamespace,datasets:Re.DatasetsNamespace,localeSet:e.LocaleSetNamespace,signature:t.SignatureNamespace,stylesheet:Te.StylesheetNamespace,template:Ye.TemplateNamespace,xdp:en.XdpNamespace,xhtml:je.XhtmlNamespace};_e.NamespaceSetUp=nn},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.ConfigNamespace=void 0;var xe=ze(81),Ie=ze(78),Re=ze(87),e=ze(84),t=ze(2);const Te=xe.NamespaceIds.config.id;class Ye extends Re.XFAObject{constructor(Pn){super(Te,"acrobat",!0),this.acrobat7=null,this.autoSave=null,this.common=null,this.validate=null,this.validateApprovalSignatures=null,this.submitUrl=new Re.XFAObjectArray}}class en extends Re.XFAObject{constructor(Pn){super(Te,"acrobat7",!0),this.dynamicRender=null}}class je extends Re.OptionObject{constructor(Pn){super(Te,"ADBE_JSConsole",["delegate","Enable","Disable"])}}class nn extends Re.OptionObject{constructor(Pn){super(Te,"ADBE_JSDebugger",["delegate","Enable","Disable"])}}class Ge extends Re.Option01{constructor(Pn){super(Te,"addSilentPrint")}}class Oe extends Re.Option01{constructor(Pn){super(Te,"addViewerPreferences")}}class Ce extends Re.Option10{constructor(Pn){super(Te,"adjustData")}}class St extends Re.IntegerObject{constructor(Pn){super(Te,"adobeExtensionLevel",0,gi=>gi>=1&&gi<=8)}}class rn extends Re.XFAObject{constructor(Pn){super(Te,"agent",!0),this.name=Pn.name?Pn.name.trim():"",this.common=new Re.XFAObjectArray}}class un extends Re.ContentObject{constructor(Pn){super(Te,"alwaysEmbed")}}class Qe extends Re.StringObject{constructor(Pn){super(Te,"amd")}}class hn extends Re.XFAObject{constructor(Pn){super(Te,"area"),this.level=(0,e.getInteger)({data:Pn.level,defaultValue:0,validate:gi=>gi>=1&&gi<=3}),this.name=(0,e.getStringOption)(Pn.name,["","barcode","coreinit","deviceDriver","font","general","layout","merge","script","signature","sourceSet","templateCache"])}}class He extends Re.OptionObject{constructor(Pn){super(Te,"attributes",["preserve","delegate","ignore"])}}class pn extends Re.OptionObject{constructor(Pn){super(Te,"autoSave",["disabled","enabled"])}}class Xe extends Re.StringObject{constructor(Pn){super(Te,"base")}}class fn extends Re.XFAObject{constructor(Pn){super(Te,"batchOutput"),this.format=(0,e.getStringOption)(Pn.format,["none","concat","zip","zipCompress"])}}class dn extends Re.ContentObject{constructor(Pn){super(Te,"behaviorOverride")}[Ie.$finalize](){this[Ie.$content]=new Map(this[Ie.$content].trim().split(/\s+/).filter(Pn=>Pn.includes(":")).map(Pn=>Pn.split(":",2)))}}class qe extends Re.XFAObject{constructor(Pn){super(Te,"cache",!0),this.templateCache=null}}class tn extends Re.Option01{constructor(Pn){super(Te,"change")}}class Me extends Re.XFAObject{constructor(Pn){super(Te,"common",!0),this.data=null,this.locale=null,this.localeSet=null,this.messaging=null,this.suppressBanner=null,this.template=null,this.validationMessaging=null,this.versionControl=null,this.log=new Re.XFAObjectArray}}class De extends Re.XFAObject{constructor(Pn){super(Te,"compress"),this.scope=(0,e.getStringOption)(Pn.scope,["imageOnly","document"])}}class Ue extends Re.Option01{constructor(Pn){super(Te,"compressLogicalStructure")}}class We extends Re.Option10{constructor(Pn){super(Te,"compressObjectStream")}}class $e extends Re.XFAObject{constructor(Pn){super(Te,"compression",!0),this.compressLogicalStructure=null,this.compressObjectStream=null,this.level=null,this.type=null}}class on extends Re.XFAObject{constructor(Pn){super(Te,"config",!0),this.acrobat=null,this.present=null,this.trace=null,this.agent=new Re.XFAObjectArray}}class Je extends Re.OptionObject{constructor(Pn){super(Te,"conformance",["A","B"])}}class an extends Re.Option01{constructor(Pn){super(Te,"contentCopy")}}class Ke extends Re.IntegerObject{constructor(Pn){super(Te,"copies",1,gi=>gi>=1)}}class sn extends Re.StringObject{constructor(Pn){super(Te,"creator")}}class gn extends Re.IntegerObject{constructor(Pn){super(Te,"currentPage",0,gi=>gi>=0)}}class mn extends Re.XFAObject{constructor(Pn){super(Te,"data",!0),this.adjustData=null,this.attributes=null,this.incrementalLoad=null,this.outputXSL=null,this.range=null,this.record=null,this.startNode=null,this.uri=null,this.window=null,this.xsl=null,this.excludeNS=new Re.XFAObjectArray,this.transform=new Re.XFAObjectArray}}class yn extends Re.XFAObject{constructor(Pn){super(Te,"debug",!0),this.uri=null}}class Sn extends Re.ContentObject{constructor(Pn){super(Te,"defaultTypeface"),this.writingScript=(0,e.getStringOption)(Pn.writingScript,["*","Arabic","Cyrillic","EastEuropeanRoman","Greek","Hebrew","Japanese","Korean","Roman","SimplifiedChinese","Thai","TraditionalChinese","Vietnamese"])}}class _n extends Re.OptionObject{constructor(Pn){super(Te,"destination",["pdf","pcl","ps","webClient","zpl"])}}class wn extends Re.Option01{constructor(Pn){super(Te,"documentAssembly")}}class Nn extends Re.XFAObject{constructor(Pn){super(Te,"driver",!0),this.name=Pn.name?Pn.name.trim():"",this.fontInfo=null,this.xdc=null}}class Tn extends Re.OptionObject{constructor(Pn){super(Te,"duplexOption",["simplex","duplexFlipLongEdge","duplexFlipShortEdge"])}}class Cn extends Re.OptionObject{constructor(Pn){super(Te,"dynamicRender",["forbidden","required"])}}class In extends Re.Option01{constructor(Pn){super(Te,"embed")}}class Rn extends Re.Option01{constructor(Pn){super(Te,"encrypt")}}class bn extends Re.XFAObject{constructor(Pn){super(Te,"encryption",!0),this.encrypt=null,this.encryptionLevel=null,this.permissions=null}}class kn extends Re.OptionObject{constructor(Pn){super(Te,"encryptionLevel",["40bit","128bit"])}}class En extends Re.StringObject{constructor(Pn){super(Te,"enforce")}}class On extends Re.XFAObject{constructor(Pn){super(Te,"equate"),this.force=(0,e.getInteger)({data:Pn.force,defaultValue:1,validate:gi=>gi===0}),this.from=Pn.from||"",this.to=Pn.to||""}}class Mn extends Re.XFAObject{constructor(Pn){super(Te,"equateRange"),this.from=Pn.from||"",this.to=Pn.to||"",this._unicodeRange=Pn.unicodeRange||""}get unicodeRange(){const Pn=[],gi=/U\+([0-9a-fA-F]+)/,_i=this._unicodeRange;for(let Hi of _i.split(",").map(pr=>pr.trim()).filter(pr=>!!pr))Hi=Hi.split("-",2).map(pr=>{const gr=pr.match(gi);return gr?parseInt(gr[1],16):0}),Hi.length===1&&Hi.push(Hi[0]),Pn.push(Hi);return(0,t.shadow)(this,"unicodeRange",Pn)}}class Bn extends Re.ContentObject{constructor(Pn){super(Te,"exclude")}[Ie.$finalize](){this[Ie.$content]=this[Ie.$content].trim().split(/\s+/).filter(Pn=>Pn&&["calculate","close","enter","exit","initialize","ready","validate"].includes(Pn))}}class Hn extends Re.StringObject{constructor(Pn){super(Te,"excludeNS")}}class $n extends Re.OptionObject{constructor(Pn){super(Te,"flipLabel",["usePrinterSetting","on","off"])}}class Un extends Re.XFAObject{constructor(Pn){super(Te,"fontInfo",!0),this.embed=null,this.map=null,this.subsetBelow=null,this.alwaysEmbed=new Re.XFAObjectArray,this.defaultTypeface=new Re.XFAObjectArray,this.neverEmbed=new Re.XFAObjectArray}}class qn extends Re.Option01{constructor(Pn){super(Te,"formFieldFilling")}}class jn extends Re.StringObject{constructor(Pn){super(Te,"groupParent")}}class Xn extends Re.OptionObject{constructor(Pn){super(Te,"ifEmpty",["dataValue","dataGroup","ignore","remove"])}}class Gn extends Re.StringObject{constructor(Pn){super(Te,"includeXDPContent")}}class ri extends Re.OptionObject{constructor(Pn){super(Te,"incrementalLoad",["none","forwardOnly"])}}class ui extends Re.Option01{constructor(Pn){super(Te,"incrementalMerge")}}class ti extends Re.Option01{constructor(Pn){super(Te,"interactive")}}class Yn extends Re.OptionObject{constructor(Pn){super(Te,"jog",["usePrinterSetting","none","pageSet"])}}class Qn extends Re.XFAObject{constructor(Pn){super(Te,"labelPrinter",!0),this.name=(0,e.getStringOption)(Pn.name,["zpl","dpl","ipl","tcpl"]),this.batchOutput=null,this.flipLabel=null,this.fontInfo=null,this.xdc=null}}class ci extends Re.OptionObject{constructor(Pn){super(Te,"layout",["paginate","panel"])}}class pi extends Re.IntegerObject{constructor(Pn){super(Te,"level",0,gi=>gi>0)}}class ki extends Re.Option01{constructor(Pn){super(Te,"linearized")}}class hi extends Re.StringObject{constructor(Pn){super(Te,"locale")}}class si extends Re.StringObject{constructor(Pn){super(Te,"localeSet")}}class ai extends Re.XFAObject{constructor(Pn){super(Te,"log",!0),this.mode=null,this.threshold=null,this.to=null,this.uri=null}}class li extends Re.XFAObject{constructor(Pn){super(Te,"map",!0),this.equate=new Re.XFAObjectArray,this.equateRange=new Re.XFAObjectArray}}class Ei extends Re.XFAObject{constructor(Pn){super(Te,"mediumInfo",!0),this.map=null}}class $i extends Re.XFAObject{constructor(Pn){super(Te,"message",!0),this.msgId=null,this.severity=null}}class Qi extends Re.XFAObject{constructor(Pn){super(Te,"messaging",!0),this.message=new Re.XFAObjectArray}}class fr extends Re.OptionObject{constructor(Pn){super(Te,"mode",["append","overwrite"])}}class ar extends Re.Option01{constructor(Pn){super(Te,"modifyAnnots")}}class Ii extends Re.IntegerObject{constructor(Pn){super(Te,"msgId",1,gi=>gi>=1)}}class vi extends Re.StringObject{constructor(Pn){super(Te,"nameAttr")}}class rr extends Re.ContentObject{constructor(Pn){super(Te,"neverEmbed")}}class dr extends Re.IntegerObject{constructor(Pn){super(Te,"numberOfCopies",null,gi=>gi>=2&&gi<=5)}}class Xi extends Re.XFAObject{constructor(Pn){super(Te,"openAction",!0),this.destination=null}}class Gi extends Re.XFAObject{constructor(Pn){super(Te,"output",!0),this.to=null,this.type=null,this.uri=null}}class Yi extends Re.StringObject{constructor(Pn){super(Te,"outputBin")}}class Nr extends Re.XFAObject{constructor(Pn){super(Te,"outputXSL",!0),this.uri=null}}class ha extends Re.OptionObject{constructor(Pn){super(Te,"overprint",["none","both","draw","field"])}}class sr extends Re.StringObject{constructor(Pn){super(Te,"packets")}[Ie.$finalize](){this[Ie.$content]!=="*"&&(this[Ie.$content]=this[Ie.$content].trim().split(/\s+/).filter(Pn=>["config","datasets","template","xfdf","xslt"].includes(Pn)))}}class xr extends Re.XFAObject{constructor(Pn){super(Te,"pageOffset"),this.x=(0,e.getInteger)({data:Pn.x,defaultValue:"useXDCSetting",validate:gi=>!0}),this.y=(0,e.getInteger)({data:Pn.y,defaultValue:"useXDCSetting",validate:gi=>!0})}}class Zi extends Re.StringObject{constructor(Pn){super(Te,"pageRange")}[Ie.$finalize](){const Pn=this[Ie.$content].trim().split(/\s+/).map(_i=>parseInt(_i,10)),gi=[];for(let _i=0,Hi=Pn.length;_i<Hi;_i+=2)gi.push(Pn.slice(_i,_i+2));this[Ie.$content]=gi}}class Ar extends Re.OptionObject{constructor(Pn){super(Te,"pagination",["simplex","duplexShortEdge","duplexLongEdge"])}}class Hr extends Re.OptionObject{constructor(Pn){super(Te,"paginationOverride",["none","forceDuplex","forceDuplexLongEdge","forceDuplexShortEdge","forceSimplex"])}}class Xr extends Re.IntegerObject{constructor(Pn){super(Te,"part",1,gi=>!1)}}class kr extends Re.XFAObject{constructor(Pn){super(Te,"pcl",!0),this.name=Pn.name||"",this.batchOutput=null,this.fontInfo=null,this.jog=null,this.mediumInfo=null,this.outputBin=null,this.pageOffset=null,this.staple=null,this.xdc=null}}class da extends Re.XFAObject{constructor(Pn){super(Te,"pdf",!0),this.name=Pn.name||"",this.adobeExtensionLevel=null,this.batchOutput=null,this.compression=null,this.creator=null,this.encryption=null,this.fontInfo=null,this.interactive=null,this.linearized=null,this.openAction=null,this.pdfa=null,this.producer=null,this.renderPolicy=null,this.scriptModel=null,this.silentPrint=null,this.submitFormat=null,this.tagged=null,this.version=null,this.viewerPreferences=null,this.xdc=null}}class Mi extends Re.XFAObject{constructor(Pn){super(Te,"pdfa",!0),this.amd=null,this.conformance=null,this.includeXDPContent=null,this.part=null}}class Ri extends Re.XFAObject{constructor(Pn){super(Te,"permissions",!0),this.accessibleContent=null,this.change=null,this.contentCopy=null,this.documentAssembly=null,this.formFieldFilling=null,this.modifyAnnots=null,this.plaintextMetadata=null,this.print=null,this.printHighQuality=null}}class Ui extends Re.Option01{constructor(Pn){super(Te,"pickTrayByPDFSize")}}class Bi extends Re.StringObject{constructor(Pn){super(Te,"picture")}}class Ji extends Re.Option01{constructor(Pn){super(Te,"plaintextMetadata")}}class or extends Re.OptionObject{constructor(Pn){super(Te,"presence",["preserve","dissolve","dissolveStructure","ignore","remove"])}}class ur extends Re.XFAObject{constructor(Pn){super(Te,"present",!0),this.behaviorOverride=null,this.cache=null,this.common=null,this.copies=null,this.destination=null,this.incrementalMerge=null,this.layout=null,this.output=null,this.overprint=null,this.pagination=null,this.paginationOverride=null,this.script=null,this.validate=null,this.xdp=null,this.driver=new Re.XFAObjectArray,this.labelPrinter=new Re.XFAObjectArray,this.pcl=new Re.XFAObjectArray,this.pdf=new Re.XFAObjectArray,this.ps=new Re.XFAObjectArray,this.submitUrl=new Re.XFAObjectArray,this.webClient=new Re.XFAObjectArray,this.zpl=new Re.XFAObjectArray}}class Li extends Re.Option01{constructor(Pn){super(Te,"print")}}class Er extends Re.Option01{constructor(Pn){super(Te,"printHighQuality")}}class br extends Re.OptionObject{constructor(Pn){super(Te,"printScaling",["appdefault","noScaling"])}}class $r extends Re.StringObject{constructor(Pn){super(Te,"printerName")}}class _r extends Re.StringObject{constructor(Pn){super(Te,"producer")}}class Fr extends Re.XFAObject{constructor(Pn){super(Te,"ps",!0),this.name=Pn.name||"",this.batchOutput=null,this.fontInfo=null,this.jog=null,this.mediumInfo=null,this.outputBin=null,this.staple=null,this.xdc=null}}class Ir extends Re.ContentObject{constructor(Pn){super(Te,"range")}[Ie.$finalize](){this[Ie.$content]=this[Ie.$content].trim().split(/\s*,\s*/,2).map(Pn=>Pn.split("-").map(gi=>parseInt(gi.trim(),10))).filter(Pn=>Pn.every(gi=>!isNaN(gi))).map(Pn=>(Pn.length===1&&Pn.push(Pn[0]),Pn))}}class cr extends Re.ContentObject{constructor(Pn){super(Te,"record")}[Ie.$finalize](){this[Ie.$content]=this[Ie.$content].trim();const Pn=parseInt(this[Ie.$content],10);!isNaN(Pn)&&Pn>=0&&(this[Ie.$content]=Pn)}}class yr extends Re.ContentObject{constructor(Pn){super(Te,"relevant")}[Ie.$finalize](){this[Ie.$content]=this[Ie.$content].trim().split(/\s+/)}}class er extends Re.ContentObject{constructor(Pn){super(Te,"rename")}[Ie.$finalize](){this[Ie.$content]=this[Ie.$content].trim(),(this[Ie.$content].toLowerCase().startsWith("xml")||new RegExp("[\\p{L}_][\\p{L}\\d._\\p{M}-]*","u").test(this[Ie.$content]))&&(0,t.warn)("XFA - Rename: invalid XFA name")}}class Dr extends Re.OptionObject{constructor(Pn){super(Te,"renderPolicy",["server","client"])}}class Gr extends Re.OptionObject{constructor(Pn){super(Te,"runScripts",["both","client","none","server"])}}class Ea extends Re.XFAObject{constructor(Pn){super(Te,"script",!0),this.currentPage=null,this.exclude=null,this.runScripts=null}}class Tr extends Re.OptionObject{constructor(Pn){super(Te,"scriptModel",["XFA","none"])}}class Rr extends Re.OptionObject{constructor(Pn){super(Te,"severity",["ignore","error","information","trace","warning"])}}class Zr extends Re.XFAObject{constructor(Pn){super(Te,"silentPrint",!0),this.addSilentPrint=null,this.printerName=null}}class ma extends Re.XFAObject{constructor(Pn){super(Te,"staple"),this.mode=(0,e.getStringOption)(Pn.mode,["usePrinterSetting","on","off"])}}class Sa extends Re.StringObject{constructor(Pn){super(Te,"startNode")}}class ys extends Re.IntegerObject{constructor(Pn){super(Te,"startPage",0,gi=>!0)}}class zo extends Re.OptionObject{constructor(Pn){super(Te,"submitFormat",["html","delegate","fdf","xml","pdf"])}}class Eo extends Re.StringObject{constructor(Pn){super(Te,"submitUrl")}}class no extends Re.IntegerObject{constructor(Pn){super(Te,"subsetBelow",100,gi=>gi>=0&&gi<=100)}}class Cl extends Re.Option01{constructor(Pn){super(Te,"suppressBanner")}}class _o extends Re.Option01{constructor(Pn){super(Te,"tagged")}}class ca extends Re.XFAObject{constructor(Pn){super(Te,"template",!0),this.base=null,this.relevant=null,this.startPage=null,this.uri=null,this.xsl=null}}class Io extends Re.OptionObject{constructor(Pn){super(Te,"threshold",["trace","error","information","warning"])}}class ul extends Re.OptionObject{constructor(Pn){super(Te,"to",["null","memory","stderr","stdout","system","uri"])}}class To extends Re.XFAObject{constructor(Pn){super(Te,"templateCache"),this.maxEntries=(0,e.getInteger)({data:Pn.maxEntries,defaultValue:5,validate:gi=>gi>=0})}}class Po extends Re.XFAObject{constructor(Pn){super(Te,"trace",!0),this.area=new Re.XFAObjectArray}}class Ps extends Re.XFAObject{constructor(Pn){super(Te,"transform",!0),this.groupParent=null,this.ifEmpty=null,this.nameAttr=null,this.picture=null,this.presence=null,this.rename=null,this.whitespace=null}}class xo extends Re.OptionObject{constructor(Pn){super(Te,"type",["none","ascii85","asciiHex","ccittfax","flate","lzw","runLength","native","xdp","mergedXDP"])}}class io extends Re.StringObject{constructor(Pn){super(Te,"uri")}}class $s extends Re.OptionObject{constructor(Pn){super(Te,"validate",["preSubmit","prePrint","preExecute","preSave"])}}class Fa extends Re.ContentObject{constructor(Pn){super(Te,"validateApprovalSignatures")}[Ie.$finalize](){this[Ie.$content]=this[Ie.$content].trim().split(/\s+/).filter(Pn=>["docReady","postSign"].includes(Pn))}}class ws extends Re.OptionObject{constructor(Pn){super(Te,"validationMessaging",["allMessagesIndividually","allMessagesTogether","firstMessageOnly","noMessages"])}}class vs extends Re.OptionObject{constructor(Pn){super(Te,"version",["1.7","1.6","1.5","1.4","1.3","1.2"])}}class Wr extends Re.XFAObject{constructor(Pn){super(Te,"VersionControl"),this.outputBelow=(0,e.getStringOption)(Pn.outputBelow,["warn","error","update"]),this.sourceAbove=(0,e.getStringOption)(Pn.sourceAbove,["warn","error"]),this.sourceBelow=(0,e.getStringOption)(Pn.sourceBelow,["update","maintain"])}}class bo extends Re.XFAObject{constructor(Pn){super(Te,"viewerPreferences",!0),this.ADBE_JSConsole=null,this.ADBE_JSDebugger=null,this.addViewerPreferences=null,this.duplexOption=null,this.enforce=null,this.numberOfCopies=null,this.pageRange=null,this.pickTrayByPDFSize=null,this.printScaling=null}}class Fs extends Re.XFAObject{constructor(Pn){super(Te,"webClient",!0),this.name=Pn.name?Pn.name.trim():"",this.fontInfo=null,this.xdc=null}}class Rs extends Re.OptionObject{constructor(Pn){super(Te,"whitespace",["preserve","ltrim","normalize","rtrim","trim"])}}class yo extends Re.ContentObject{constructor(Pn){super(Te,"window")}[Ie.$finalize](){const Pn=this[Ie.$content].trim().split(/\s*,\s*/,2).map(gi=>parseInt(gi,10));if(Pn.some(gi=>isNaN(gi))){this[Ie.$content]=[0,0];return}Pn.length===1&&Pn.push(Pn[0]),this[Ie.$content]=Pn}}class ro extends Re.XFAObject{constructor(Pn){super(Te,"xdc",!0),this.uri=new Re.XFAObjectArray,this.xsl=new Re.XFAObjectArray}}class Hs extends Re.XFAObject{constructor(Pn){super(Te,"xdp",!0),this.packets=null}}class Fo extends Re.XFAObject{constructor(Pn){super(Te,"xsl",!0),this.debug=null,this.uri=null}}class zs extends Re.XFAObject{constructor(Pn){super(Te,"zpl",!0),this.name=Pn.name?Pn.name.trim():"",this.batchOutput=null,this.flipLabel=null,this.fontInfo=null,this.xdc=null}}class Ai{static[xe.$buildXFAObject](Pn,gi){if(Ai.hasOwnProperty(Pn))return Ai[Pn](gi)}static acrobat(Pn){return new Ye(Pn)}static acrobat7(Pn){return new en(Pn)}static ADBE_JSConsole(Pn){return new je(Pn)}static ADBE_JSDebugger(Pn){return new nn(Pn)}static addSilentPrint(Pn){return new Ge(Pn)}static addViewerPreferences(Pn){return new Oe(Pn)}static adjustData(Pn){return new Ce(Pn)}static adobeExtensionLevel(Pn){return new St(Pn)}static agent(Pn){return new rn(Pn)}static alwaysEmbed(Pn){return new un(Pn)}static amd(Pn){return new Qe(Pn)}static area(Pn){return new hn(Pn)}static attributes(Pn){return new He(Pn)}static autoSave(Pn){return new pn(Pn)}static base(Pn){return new Xe(Pn)}static batchOutput(Pn){return new fn(Pn)}static behaviorOverride(Pn){return new dn(Pn)}static cache(Pn){return new qe(Pn)}static change(Pn){return new tn(Pn)}static common(Pn){return new Me(Pn)}static compress(Pn){return new De(Pn)}static compressLogicalStructure(Pn){return new Ue(Pn)}static compressObjectStream(Pn){return new We(Pn)}static compression(Pn){return new $e(Pn)}static config(Pn){return new on(Pn)}static conformance(Pn){return new Je(Pn)}static contentCopy(Pn){return new an(Pn)}static copies(Pn){return new Ke(Pn)}static creator(Pn){return new sn(Pn)}static currentPage(Pn){return new gn(Pn)}static data(Pn){return new mn(Pn)}static debug(Pn){return new yn(Pn)}static defaultTypeface(Pn){return new Sn(Pn)}static destination(Pn){return new _n(Pn)}static documentAssembly(Pn){return new wn(Pn)}static driver(Pn){return new Nn(Pn)}static duplexOption(Pn){return new Tn(Pn)}static dynamicRender(Pn){return new Cn(Pn)}static embed(Pn){return new In(Pn)}static encrypt(Pn){return new Rn(Pn)}static encryption(Pn){return new bn(Pn)}static encryptionLevel(Pn){return new kn(Pn)}static enforce(Pn){return new En(Pn)}static equate(Pn){return new On(Pn)}static equateRange(Pn){return new Mn(Pn)}static exclude(Pn){return new Bn(Pn)}static excludeNS(Pn){return new Hn(Pn)}static flipLabel(Pn){return new $n(Pn)}static fontInfo(Pn){return new Un(Pn)}static formFieldFilling(Pn){return new qn(Pn)}static groupParent(Pn){return new jn(Pn)}static ifEmpty(Pn){return new Xn(Pn)}static includeXDPContent(Pn){return new Gn(Pn)}static incrementalLoad(Pn){return new ri(Pn)}static incrementalMerge(Pn){return new ui(Pn)}static interactive(Pn){return new ti(Pn)}static jog(Pn){return new Yn(Pn)}static labelPrinter(Pn){return new Qn(Pn)}static layout(Pn){return new ci(Pn)}static level(Pn){return new pi(Pn)}static linearized(Pn){return new ki(Pn)}static locale(Pn){return new hi(Pn)}static localeSet(Pn){return new si(Pn)}static log(Pn){return new ai(Pn)}static map(Pn){return new li(Pn)}static mediumInfo(Pn){return new Ei(Pn)}static message(Pn){return new $i(Pn)}static messaging(Pn){return new Qi(Pn)}static mode(Pn){return new fr(Pn)}static modifyAnnots(Pn){return new ar(Pn)}static msgId(Pn){return new Ii(Pn)}static nameAttr(Pn){return new vi(Pn)}static neverEmbed(Pn){return new rr(Pn)}static numberOfCopies(Pn){return new dr(Pn)}static openAction(Pn){return new Xi(Pn)}static output(Pn){return new Gi(Pn)}static outputBin(Pn){return new Yi(Pn)}static outputXSL(Pn){return new Nr(Pn)}static overprint(Pn){return new ha(Pn)}static packets(Pn){return new sr(Pn)}static pageOffset(Pn){return new xr(Pn)}static pageRange(Pn){return new Zi(Pn)}static pagination(Pn){return new Ar(Pn)}static paginationOverride(Pn){return new Hr(Pn)}static part(Pn){return new Xr(Pn)}static pcl(Pn){return new kr(Pn)}static pdf(Pn){return new da(Pn)}static pdfa(Pn){return new Mi(Pn)}static permissions(Pn){return new Ri(Pn)}static pickTrayByPDFSize(Pn){return new Ui(Pn)}static picture(Pn){return new Bi(Pn)}static plaintextMetadata(Pn){return new Ji(Pn)}static presence(Pn){return new or(Pn)}static present(Pn){return new ur(Pn)}static print(Pn){return new Li(Pn)}static printHighQuality(Pn){return new Er(Pn)}static printScaling(Pn){return new br(Pn)}static printerName(Pn){return new $r(Pn)}static producer(Pn){return new _r(Pn)}static ps(Pn){return new Fr(Pn)}static range(Pn){return new Ir(Pn)}static record(Pn){return new cr(Pn)}static relevant(Pn){return new yr(Pn)}static rename(Pn){return new er(Pn)}static renderPolicy(Pn){return new Dr(Pn)}static runScripts(Pn){return new Gr(Pn)}static script(Pn){return new Ea(Pn)}static scriptModel(Pn){return new Tr(Pn)}static severity(Pn){return new Rr(Pn)}static silentPrint(Pn){return new Zr(Pn)}static staple(Pn){return new ma(Pn)}static startNode(Pn){return new Sa(Pn)}static startPage(Pn){return new ys(Pn)}static submitFormat(Pn){return new zo(Pn)}static submitUrl(Pn){return new Eo(Pn)}static subsetBelow(Pn){return new no(Pn)}static suppressBanner(Pn){return new Cl(Pn)}static tagged(Pn){return new _o(Pn)}static template(Pn){return new ca(Pn)}static templateCache(Pn){return new To(Pn)}static threshold(Pn){return new Io(Pn)}static to(Pn){return new ul(Pn)}static trace(Pn){return new Po(Pn)}static transform(Pn){return new Ps(Pn)}static type(Pn){return new xo(Pn)}static uri(Pn){return new io(Pn)}static validate(Pn){return new $s(Pn)}static validateApprovalSignatures(Pn){return new Fa(Pn)}static validationMessaging(Pn){return new ws(Pn)}static version(Pn){return new vs(Pn)}static versionControl(Pn){return new Wr(Pn)}static viewerPreferences(Pn){return new bo(Pn)}static webClient(Pn){return new Fs(Pn)}static whitespace(Pn){return new Rs(Pn)}static window(Pn){return new yo(Pn)}static xdc(Pn){return new ro(Pn)}static xdp(Pn){return new Hs(Pn)}static xsl(Pn){return new Fo(Pn)}static zpl(Pn){return new zs(Pn)}}_e.ConfigNamespace=Ai},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.ConnectionSetNamespace=void 0;var xe=ze(81),Ie=ze(87);const Re=xe.NamespaceIds.connectionSet.id;class e extends Ie.XFAObject{constructor(hn){super(Re,"connectionSet",!0),this.wsdlConnection=new Ie.XFAObjectArray,this.xmlConnection=new Ie.XFAObjectArray,this.xsdConnection=new Ie.XFAObjectArray}}class t extends Ie.XFAObject{constructor(hn){super(Re,"effectiveInputPolicy"),this.id=hn.id||"",this.name=hn.name||"",this.use=hn.use||"",this.usehref=hn.usehref||""}}class Te extends Ie.XFAObject{constructor(hn){super(Re,"effectiveOutputPolicy"),this.id=hn.id||"",this.name=hn.name||"",this.use=hn.use||"",this.usehref=hn.usehref||""}}class Ye extends Ie.StringObject{constructor(hn){super(Re,"operation"),this.id=hn.id||"",this.input=hn.input||"",this.name=hn.name||"",this.output=hn.output||"",this.use=hn.use||"",this.usehref=hn.usehref||""}}class en extends Ie.StringObject{constructor(hn){super(Re,"rootElement"),this.id=hn.id||"",this.name=hn.name||"",this.use=hn.use||"",this.usehref=hn.usehref||""}}class je extends Ie.StringObject{constructor(hn){super(Re,"soapAction"),this.id=hn.id||"",this.name=hn.name||"",this.use=hn.use||"",this.usehref=hn.usehref||""}}class nn extends Ie.StringObject{constructor(hn){super(Re,"soapAddress"),this.id=hn.id||"",this.name=hn.name||"",this.use=hn.use||"",this.usehref=hn.usehref||""}}class Ge extends Ie.StringObject{constructor(hn){super(Re,"uri"),this.id=hn.id||"",this.name=hn.name||"",this.use=hn.use||"",this.usehref=hn.usehref||""}}class Oe extends Ie.StringObject{constructor(hn){super(Re,"wsdlAddress"),this.id=hn.id||"",this.name=hn.name||"",this.use=hn.use||"",this.usehref=hn.usehref||""}}class Ce extends Ie.XFAObject{constructor(hn){super(Re,"wsdlConnection",!0),this.dataDescription=hn.dataDescription||"",this.name=hn.name||"",this.effectiveInputPolicy=null,this.effectiveOutputPolicy=null,this.operation=null,this.soapAction=null,this.soapAddress=null,this.wsdlAddress=null}}class St extends Ie.XFAObject{constructor(hn){super(Re,"xmlConnection",!0),this.dataDescription=hn.dataDescription||"",this.name=hn.name||"",this.uri=null}}class rn extends Ie.XFAObject{constructor(hn){super(Re,"xsdConnection",!0),this.dataDescription=hn.dataDescription||"",this.name=hn.name||"",this.rootElement=null,this.uri=null}}class un{static[xe.$buildXFAObject](hn,He){if(un.hasOwnProperty(hn))return un[hn](He)}static connectionSet(hn){return new e(hn)}static effectiveInputPolicy(hn){return new t(hn)}static effectiveOutputPolicy(hn){return new Te(hn)}static operation(hn){return new Ye(hn)}static rootElement(hn){return new en(hn)}static soapAction(hn){return new je(hn)}static soapAddress(hn){return new nn(hn)}static uri(hn){return new Ge(hn)}static wsdlAddress(hn){return new Oe(hn)}static wsdlConnection(hn){return new Ce(hn)}static xmlConnection(hn){return new St(hn)}static xsdConnection(hn){return new rn(hn)}}_e.ConnectionSetNamespace=un},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.DatasetsNamespace=void 0;var xe=ze(78),Ie=ze(81),Re=ze(87);const e=Ie.NamespaceIds.datasets.id;class t extends Re.XmlObject{constructor(je){super(e,"data",je)}[xe.$isNsAgnostic](){return!0}}class Te extends Re.XFAObject{constructor(je){super(e,"datasets",!0),this.data=null,this.Signature=null}[xe.$onChild](je){const nn=je[xe.$nodeName];(nn==="data"&&je[xe.$namespaceId]===e||nn==="Signature"&&je[xe.$namespaceId]===Ie.NamespaceIds.signature.id)&&(this[nn]=je),this[xe.$appendChild](je)}}class Ye{static[Ie.$buildXFAObject](je,nn){if(Ye.hasOwnProperty(je))return Ye[je](nn)}static datasets(je){return new Te(je)}static data(je){return new t(je)}}_e.DatasetsNamespace=Ye},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.LocaleSetNamespace=void 0;var xe=ze(81),Ie=ze(87),Re=ze(84);const e=xe.NamespaceIds.localeSet.id;class t extends Ie.XFAObject{constructor(on){super(e,"calendarSymbols",!0),this.name="gregorian",this.dayNames=new Ie.XFAObjectArray(2),this.eraNames=null,this.meridiemNames=null,this.monthNames=new Ie.XFAObjectArray(2)}}class Te extends Ie.StringObject{constructor(on){super(e,"currencySymbol"),this.name=(0,Re.getStringOption)(on.name,["symbol","isoname","decimal"])}}class Ye extends Ie.XFAObject{constructor(on){super(e,"currencySymbols",!0),this.currencySymbol=new Ie.XFAObjectArray(3)}}class en extends Ie.StringObject{constructor(on){super(e,"datePattern"),this.name=(0,Re.getStringOption)(on.name,["full","long","med","short"])}}class je extends Ie.XFAObject{constructor(on){super(e,"datePatterns",!0),this.datePattern=new Ie.XFAObjectArray(4)}}class nn extends Ie.ContentObject{constructor(on){super(e,"dateTimeSymbols")}}class Ge extends Ie.StringObject{constructor(on){super(e,"day")}}class Oe extends Ie.XFAObject{constructor(on){super(e,"dayNames",!0),this.abbr=(0,Re.getInteger)({data:on.abbr,defaultValue:0,validate:Je=>Je===1}),this.day=new Ie.XFAObjectArray(7)}}class Ce extends Ie.StringObject{constructor(on){super(e,"era")}}class St extends Ie.XFAObject{constructor(on){super(e,"eraNames",!0),this.era=new Ie.XFAObjectArray(2)}}class rn extends Ie.XFAObject{constructor(on){super(e,"locale",!0),this.desc=on.desc||"",this.name="isoname",this.calendarSymbols=null,this.currencySymbols=null,this.datePatterns=null,this.dateTimeSymbols=null,this.numberPatterns=null,this.numberSymbols=null,this.timePatterns=null,this.typeFaces=null}}class un extends Ie.XFAObject{constructor(on){super(e,"localeSet",!0),this.locale=new Ie.XFAObjectArray}}class Qe extends Ie.StringObject{constructor(on){super(e,"meridiem")}}class hn extends Ie.XFAObject{constructor(on){super(e,"meridiemNames",!0),this.meridiem=new Ie.XFAObjectArray(2)}}class He extends Ie.StringObject{constructor(on){super(e,"month")}}class pn extends Ie.XFAObject{constructor(on){super(e,"monthNames",!0),this.abbr=(0,Re.getInteger)({data:on.abbr,defaultValue:0,validate:Je=>Je===1}),this.month=new Ie.XFAObjectArray(12)}}class Xe extends Ie.StringObject{constructor(on){super(e,"numberPattern"),this.name=(0,Re.getStringOption)(on.name,["full","long","med","short"])}}class fn extends Ie.XFAObject{constructor(on){super(e,"numberPatterns",!0),this.numberPattern=new Ie.XFAObjectArray(4)}}class dn extends Ie.StringObject{constructor(on){super(e,"numberSymbol"),this.name=(0,Re.getStringOption)(on.name,["decimal","grouping","percent","minus","zero"])}}class qe extends Ie.XFAObject{constructor(on){super(e,"numberSymbols",!0),this.numberSymbol=new Ie.XFAObjectArray(5)}}class tn extends Ie.StringObject{constructor(on){super(e,"timePattern"),this.name=(0,Re.getStringOption)(on.name,["full","long","med","short"])}}class Me extends Ie.XFAObject{constructor(on){super(e,"timePatterns",!0),this.timePattern=new Ie.XFAObjectArray(4)}}class De extends Ie.XFAObject{constructor(on){super(e,"typeFace",!0),this.name=on.name|""}}class Ue extends Ie.XFAObject{constructor(on){super(e,"typeFaces",!0),this.typeFace=new Ie.XFAObjectArray}}class We{static[xe.$buildXFAObject](on,Je){if(We.hasOwnProperty(on))return We[on](Je)}static calendarSymbols(on){return new t(on)}static currencySymbol(on){return new Te(on)}static currencySymbols(on){return new Ye(on)}static datePattern(on){return new en(on)}static datePatterns(on){return new je(on)}static dateTimeSymbols(on){return new nn(on)}static day(on){return new Ge(on)}static dayNames(on){return new Oe(on)}static era(on){return new Ce(on)}static eraNames(on){return new St(on)}static locale(on){return new rn(on)}static localeSet(on){return new un(on)}static meridiem(on){return new Qe(on)}static meridiemNames(on){return new hn(on)}static month(on){return new He(on)}static monthNames(on){return new pn(on)}static numberPattern(on){return new Xe(on)}static numberPatterns(on){return new fn(on)}static numberSymbol(on){return new dn(on)}static numberSymbols(on){return new qe(on)}static timePattern(on){return new tn(on)}static timePatterns(on){return new Me(on)}static typeFace(on){return new De(on)}static typeFaces(on){return new Ue(on)}}_e.LocaleSetNamespace=We},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.SignatureNamespace=void 0;var xe=ze(81),Ie=ze(87);const Re=xe.NamespaceIds.signature.id;class e extends Ie.XFAObject{constructor(Ye){super(Re,"signature",!0)}}class t{static[xe.$buildXFAObject](Ye,en){if(t.hasOwnProperty(Ye))return t[Ye](en)}static signature(Ye){return new e(Ye)}}_e.SignatureNamespace=t},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.StylesheetNamespace=void 0;var xe=ze(81),Ie=ze(87);const Re=xe.NamespaceIds.stylesheet.id;class e extends Ie.XFAObject{constructor(Ye){super(Re,"stylesheet",!0)}}class t{static[xe.$buildXFAObject](Ye,en){if(t.hasOwnProperty(Ye))return t[Ye](en)}static stylesheet(Ye){return new e(Ye)}}_e.StylesheetNamespace=t},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.XdpNamespace=void 0;var xe=ze(81),Ie=ze(78),Re=ze(87);const e=xe.NamespaceIds.xdp.id;class t extends Re.XFAObject{constructor(en){super(e,"xdp",!0),this.uuid=en.uuid||"",this.timeStamp=en.timeStamp||"",this.config=null,this.connectionSet=null,this.datasets=null,this.localeSet=null,this.stylesheet=new Re.XFAObjectArray,this.template=null}[Ie.$onChildCheck](en){const je=xe.NamespaceIds[en[Ie.$nodeName]];return je&&en[Ie.$namespaceId]===je.id}}class Te{static[xe.$buildXFAObject](en,je){if(Te.hasOwnProperty(en))return Te[en](je)}static xdp(en){return new t(en)}}_e.XdpNamespace=Te},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.XhtmlNamespace=void 0;var xe=ze(78),Ie=ze(81),Re=ze(83),e=ze(84),t=ze(87);const Te=Ie.NamespaceIds.xhtml.id,Ye=Symbol(),en=new Set(["color","font","font-family","font-size","font-stretch","font-style","font-weight","margin","margin-bottom","margin-left","margin-right","margin-top","letter-spacing","line-height","orphans","page-break-after","page-break-before","page-break-inside","tab-interval","tab-stop","text-align","text-decoration","text-indent","vertical-align","widows","kerning-mode","xfa-font-horizontal-scale","xfa-font-vertical-scale","xfa-spacerun","xfa-tab-stops"]),je=new Map([["page-break-after","breakAfter"],["page-break-before","breakBefore"],["page-break-inside","breakInside"],["kerning-mode",on=>on==="none"?"none":"normal"],["xfa-font-horizontal-scale",on=>`scaleX(${Math.max(0,Math.min(parseInt(on)/100)).toFixed(2)})`],["xfa-font-vertical-scale",on=>`scaleY(${Math.max(0,Math.min(parseInt(on)/100)).toFixed(2)})`],["xfa-spacerun",""],["xfa-tab-stops",""],["font-size",(on,Je)=>(on=Je.fontSize=(0,e.getMeasurement)(on),(0,Re.measureToString)(.99*on))],["letter-spacing",on=>(0,Re.measureToString)((0,e.getMeasurement)(on))],["line-height",on=>(0,Re.measureToString)((0,e.getMeasurement)(on))],["margin",on=>(0,Re.measureToString)((0,e.getMeasurement)(on))],["margin-bottom",on=>(0,Re.measureToString)((0,e.getMeasurement)(on))],["margin-left",on=>(0,Re.measureToString)((0,e.getMeasurement)(on))],["margin-right",on=>(0,Re.measureToString)((0,e.getMeasurement)(on))],["margin-top",on=>(0,Re.measureToString)((0,e.getMeasurement)(on))],["text-indent",on=>(0,Re.measureToString)((0,e.getMeasurement)(on))],["font-family",on=>on],["vertical-align",on=>(0,Re.measureToString)((0,e.getMeasurement)(on))]]),nn=/\s+/g,Ge=/[\r\n]+/g,Oe=/\r\n?/g;function Ce(on,Je,an){const Ke=Object.create(null);if(!on)return Ke;const sn=Object.create(null);for(const[gn,mn]of on.split(";").map(yn=>yn.split(":",2))){const yn=je.get(gn);if(yn==="")continue;let Sn=mn;yn&&(Sn=typeof yn=="string"?yn:yn(mn,sn)),gn.endsWith("scale")?Ke.transform=Ke.transform?`${Ke[gn]} ${Sn}`:Sn:Ke[gn.replaceAll(/-([a-zA-Z])/g,(_n,wn)=>wn.toUpperCase())]=Sn}if(Ke.fontFamily&&(0,Re.setFontFamily)({typeface:Ke.fontFamily,weight:Ke.fontWeight||"normal",posture:Ke.fontStyle||"normal",size:sn.fontSize||0},Je,Je[xe.$globalData].fontFinder,Ke),an&&Ke.verticalAlign&&Ke.verticalAlign!=="0px"&&Ke.fontSize){const yn=(0,e.getMeasurement)(Ke.fontSize);Ke.fontSize=(0,Re.measureToString)(yn*.583),Ke.verticalAlign=(0,Re.measureToString)(Math.sign((0,e.getMeasurement)(Ke.verticalAlign))*yn*.333)}return an&&Ke.fontSize&&(Ke.fontSize=`calc(${Ke.fontSize} * var(--scale-factor))`),(0,Re.fixTextIndent)(Ke),Ke}function St(on){return on.style?on.style.trim().split(/\s*;\s*/).filter(Je=>!!Je).map(Je=>Je.split(/\s*:\s*/,2)).filter(([Je,an])=>(Je==="font-family"&&on[xe.$globalData].usedTypefaces.add(an),en.has(Je))).map(Je=>Je.join(":")).join(";"):""}const rn=new Set(["body","html"]);class un extends t.XmlObject{constructor(Je,an){super(Te,an),this[Ye]=!1,this.style=Je.style||""}[xe.$clean](Je){super[xe.$clean](Je),this.style=St(this)}[xe.$acceptWhitespace](){return!rn.has(this[xe.$nodeName])}[xe.$onText](Je,an=!1){an?this[Ye]=!0:(Je=Je.replaceAll(Ge,""),this.style.includes("xfa-spacerun:yes")||(Je=Je.replaceAll(nn," "))),Je&&(this[xe.$content]+=Je)}[xe.$pushGlyphs](Je,an=!0){const Ke=Object.create(null),sn={top:NaN,bottom:NaN,left:NaN,right:NaN};let gn=null;for(const[mn,yn]of this.style.split(";").map(Sn=>Sn.split(":",2)))switch(mn){case"font-family":Ke.typeface=(0,e.stripQuotes)(yn);break;case"font-size":Ke.size=(0,e.getMeasurement)(yn);break;case"font-weight":Ke.weight=yn;break;case"font-style":Ke.posture=yn;break;case"letter-spacing":Ke.letterSpacing=(0,e.getMeasurement)(yn);break;case"margin":const Sn=yn.split(/ \t/).map(_n=>(0,e.getMeasurement)(_n));switch(Sn.length){case 1:sn.top=sn.bottom=sn.left=sn.right=Sn[0];break;case 2:sn.top=sn.bottom=Sn[0],sn.left=sn.right=Sn[1];break;case 3:sn.top=Sn[0],sn.bottom=Sn[2],sn.left=sn.right=Sn[1];break;case 4:sn.top=Sn[0],sn.left=Sn[1],sn.bottom=Sn[2],sn.right=Sn[3];break}break;case"margin-top":sn.top=(0,e.getMeasurement)(yn);break;case"margin-bottom":sn.bottom=(0,e.getMeasurement)(yn);break;case"margin-left":sn.left=(0,e.getMeasurement)(yn);break;case"margin-right":sn.right=(0,e.getMeasurement)(yn);break;case"line-height":gn=(0,e.getMeasurement)(yn);break}if(Je.pushData(Ke,sn,gn),this[xe.$content])Je.addString(this[xe.$content]);else for(const mn of this[xe.$getChildren]()){if(mn[xe.$nodeName]==="#text"){Je.addString(mn[xe.$content]);continue}mn[xe.$pushGlyphs](Je)}an&&Je.popFont()}[xe.$toHTML](Je){const an=[];if(this[xe.$extra]={children:an},this[xe.$childrenToHTML]({}),an.length===0&&!this[xe.$content])return e.HTMLResult.EMPTY;let Ke;return this[Ye]?Ke=this[xe.$content]?this[xe.$content].replaceAll(Oe,`
`):void 0:Ke=this[xe.$content]||void 0,e.HTMLResult.success({name:this[xe.$nodeName],attributes:{href:this.href,style:Ce(this.style,this,this[Ye])},children:an,value:Ke})}}class Qe extends un{constructor(Je){super(Je,"a"),this.href=(0,Re.fixURL)(Je.href)||""}}class hn extends un{constructor(Je){super(Je,"b")}[xe.$pushGlyphs](Je){Je.pushFont({weight:"bold"}),super[xe.$pushGlyphs](Je),Je.popFont()}}class He extends un{constructor(Je){super(Je,"body")}[xe.$toHTML](Je){const an=super[xe.$toHTML](Je),{html:Ke}=an;return Ke?(Ke.name="div",Ke.attributes.class=["xfaRich"],an):e.HTMLResult.EMPTY}}class pn extends un{constructor(Je){super(Je,"br")}[xe.$text](){return`
`}[xe.$pushGlyphs](Je){Je.addString(`
`)}[xe.$toHTML](Je){return e.HTMLResult.success({name:"br"})}}class Xe extends un{constructor(Je){super(Je,"html")}[xe.$toHTML](Je){const an=[];if(this[xe.$extra]={children:an},this[xe.$childrenToHTML]({}),an.length===0)return e.HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:{}},value:this[xe.$content]||""});if(an.length===1){const Ke=an[0];if(Ke.attributes?.class.includes("xfaRich"))return e.HTMLResult.success(Ke)}return e.HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:{}},children:an})}}class fn extends un{constructor(Je){super(Je,"i")}[xe.$pushGlyphs](Je){Je.pushFont({posture:"italic"}),super[xe.$pushGlyphs](Je),Je.popFont()}}class dn extends un{constructor(Je){super(Je,"li")}}class qe extends un{constructor(Je){super(Je,"ol")}}class tn extends un{constructor(Je){super(Je,"p")}[xe.$pushGlyphs](Je){super[xe.$pushGlyphs](Je,!1),Je.addString(`
`),Je.addPara(),Je.popFont()}[xe.$text](){return this[xe.$getParent]()[xe.$getChildren]().at(-1)===this?super[xe.$text]():super[xe.$text]()+`
`}}class Me extends un{constructor(Je){super(Je,"span")}}class De extends un{constructor(Je){super(Je,"sub")}}class Ue extends un{constructor(Je){super(Je,"sup")}}class We extends un{constructor(Je){super(Je,"ul")}}class $e{static[Ie.$buildXFAObject](Je,an){if($e.hasOwnProperty(Je))return $e[Je](an)}static a(Je){return new Qe(Je)}static b(Je){return new hn(Je)}static body(Je){return new He(Je)}static br(Je){return new pn(Je)}static html(Je){return new Xe(Je)}static i(Je){return new fn(Je)}static li(Je){return new dn(Je)}static ol(Je){return new qe(Je)}static p(Je){return new tn(Je)}static span(Je){return new Me(Je)}static sub(Je){return new De(Je)}static sup(Je){return new Ue(Je)}static ul(Je){return new We(Je)}}_e.XhtmlNamespace=$e},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.UnknownNamespace=void 0;var xe=ze(81),Ie=ze(87);class Re{constructor(t){this.namespaceId=t}[xe.$buildXFAObject](t,Te){return new Ie.XmlObject(this.namespaceId,t,Te)}}_e.UnknownNamespace=Re},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.DatasetReader=void 0;var xe=ze(2),Ie=ze(3),Re=ze(71);function e(Ye){try{return(0,xe.stringToUTF8String)(Ye)}catch(en){return(0,xe.warn)(`UTF-8 decoding failed: "${en}".`),Ye}}class t extends Re.SimpleXMLParser{constructor(en){super(en),this.node=null}onEndElement(en){const je=super.onEndElement(en);if(je&&en==="xfa:datasets")throw this.node=je,new Error("Aborting DatasetXMLParser.")}}class Te{constructor(en){if(en.datasets)this.node=new Re.SimpleXMLParser({hasAttributes:!0}).parseFromString(en.datasets).documentElement;else{const je=new t({hasAttributes:!0});try{je.parseFromString(en["xdp:xdp"])}catch{}this.node=je.node}}getValue(en){if(!this.node||!en)return"";const je=this.node.searchNode((0,Ie.parseXFAPath)(en),0);return je?je.firstChild?.nodeName==="value"?je.children.map(Ge=>e(Ge.textContent)):e(je.textContent):""}}_e.DatasetReader=Te},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.XRef=void 0;var xe=ze(2),Ie=ze(4),Re=ze(16),e=ze(3),t=ze(5),Te=ze(74);class Ye{#e=null;constructor(je,nn){this.stream=je,this.pdfManager=nn,this.entries=[],this._xrefStms=new Set,this._cacheMap=new Map,this._pendingRefs=new Ie.RefSet,this._newPersistentRefNum=null,this._newTemporaryRefNum=null}getNewPersistentRef(je){this._newPersistentRefNum===null&&(this._newPersistentRefNum=this.entries.length||1);const nn=this._newPersistentRefNum++;return this._cacheMap.set(nn,je),Ie.Ref.get(nn,0)}getNewTemporaryRef(){return this._newTemporaryRefNum===null&&(this._newTemporaryRefNum=this.entries.length||1),Ie.Ref.get(this._newTemporaryRefNum++,0)}resetNewTemporaryRef(){this._newTemporaryRefNum=null}setStartXRef(je){this.startXRefQueue=[je]}parse(je=!1){let nn;je?((0,xe.warn)("Indexing all PDF objects"),nn=this.indexObjects()):nn=this.readXRef(),nn.assignXref(this),this.trailer=nn;let Ge;try{Ge=nn.get("Encrypt")}catch(Ce){if(Ce instanceof e.MissingDataException)throw Ce;(0,xe.warn)(`XRef.parse - Invalid "Encrypt" reference: "${Ce}".`)}if(Ge instanceof Ie.Dict){const Ce=nn.get("ID"),St=Ce?.length?Ce[0]:"";Ge.suppressEncryption=!0,this.encrypt=new Te.CipherTransformFactory(Ge,St,this.pdfManager.password)}let Oe;try{Oe=nn.get("Root")}catch(Ce){if(Ce instanceof e.MissingDataException)throw Ce;(0,xe.warn)(`XRef.parse - Invalid "Root" reference: "${Ce}".`)}if(Oe instanceof Ie.Dict)try{if(Oe.get("Pages")instanceof Ie.Dict){this.root=Oe;return}}catch(Ce){if(Ce instanceof e.MissingDataException)throw Ce;(0,xe.warn)(`XRef.parse - Invalid "Pages" reference: "${Ce}".`)}throw je?new xe.InvalidPDFException("Invalid Root reference."):new e.XRefParseException}processXRefTable(je){"tableState"in this||(this.tableState={entryNum:0,streamPos:je.lexer.stream.pos,parserBuf1:je.buf1,parserBuf2:je.buf2});const nn=this.readXRefTable(je);if(!(0,Ie.isCmd)(nn,"trailer"))throw new xe.FormatError("Invalid XRef table: could not find trailer dictionary");let Ge=je.getObj();if(!(Ge instanceof Ie.Dict)&&Ge.dict&&(Ge=Ge.dict),!(Ge instanceof Ie.Dict))throw new xe.FormatError("Invalid XRef table: could not parse trailer dictionary");return delete this.tableState,Ge}readXRefTable(je){const nn=je.lexer.stream,Ge=this.tableState;nn.pos=Ge.streamPos,je.buf1=Ge.parserBuf1,je.buf2=Ge.parserBuf2;let Oe;for(;;){if(!("firstEntryNum"in Ge)||!("entryCount"in Ge)){if((0,Ie.isCmd)(Oe=je.getObj(),"trailer"))break;Ge.firstEntryNum=Oe,Ge.entryCount=je.getObj()}let Ce=Ge.firstEntryNum;const St=Ge.entryCount;if(!Number.isInteger(Ce)||!Number.isInteger(St))throw new xe.FormatError("Invalid XRef table: wrong types in subsection header");for(let rn=Ge.entryNum;rn<St;rn++){Ge.streamPos=nn.pos,Ge.entryNum=rn,Ge.parserBuf1=je.buf1,Ge.parserBuf2=je.buf2;const un={};un.offset=je.getObj(),un.gen=je.getObj();const Qe=je.getObj();if(Qe instanceof Ie.Cmd)switch(Qe.cmd){case"f":un.free=!0;break;case"n":un.uncompressed=!0;break}if(!Number.isInteger(un.offset)||!Number.isInteger(un.gen)||!(un.free||un.uncompressed))throw new xe.FormatError(`Invalid entry in XRef subsection: ${Ce}, ${St}`);rn===0&&un.free&&Ce===1&&(Ce=0),this.entries[rn+Ce]||(this.entries[rn+Ce]=un)}Ge.entryNum=0,Ge.streamPos=nn.pos,Ge.parserBuf1=je.buf1,Ge.parserBuf2=je.buf2,delete Ge.firstEntryNum,delete Ge.entryCount}if(this.entries[0]&&!this.entries[0].free)throw new xe.FormatError("Invalid XRef table: unexpected first object");return Oe}processXRefStream(je){if(!("streamState"in this)){const nn=je.dict,Ge=nn.get("W");let Oe=nn.get("Index");Oe||(Oe=[0,nn.get("Size")]),this.streamState={entryRanges:Oe,byteWidths:Ge,entryNum:0,streamPos:je.pos}}return this.readXRefStream(je),delete this.streamState,je.dict}readXRefStream(je){const nn=this.streamState;je.pos=nn.streamPos;const[Ge,Oe,Ce]=nn.byteWidths,St=nn.entryRanges;for(;St.length>0;){const[rn,un]=St;if(!Number.isInteger(rn)||!Number.isInteger(un))throw new xe.FormatError(`Invalid XRef range fields: ${rn}, ${un}`);if(!Number.isInteger(Ge)||!Number.isInteger(Oe)||!Number.isInteger(Ce))throw new xe.FormatError(`Invalid XRef entry fields length: ${rn}, ${un}`);for(let Qe=nn.entryNum;Qe<un;++Qe){nn.entryNum=Qe,nn.streamPos=je.pos;let hn=0,He=0,pn=0;for(let fn=0;fn<Ge;++fn){const dn=je.getByte();if(dn===-1)throw new xe.FormatError("Invalid XRef byteWidths 'type'.");hn=hn<<8|dn}Ge===0&&(hn=1);for(let fn=0;fn<Oe;++fn){const dn=je.getByte();if(dn===-1)throw new xe.FormatError("Invalid XRef byteWidths 'offset'.");He=He<<8|dn}for(let fn=0;fn<Ce;++fn){const dn=je.getByte();if(dn===-1)throw new xe.FormatError("Invalid XRef byteWidths 'generation'.");pn=pn<<8|dn}const Xe={};switch(Xe.offset=He,Xe.gen=pn,hn){case 0:Xe.free=!0;break;case 1:Xe.uncompressed=!0;break;case 2:break;default:throw new xe.FormatError(`Invalid XRef entry type: ${hn}`)}this.entries[rn+Qe]||(this.entries[rn+Qe]=Xe)}nn.entryNum=0,nn.streamPos=je.pos,St.splice(0,2)}}indexObjects(){function rn(Ke,sn){let gn="",mn=Ke[sn];for(;mn!==10&&mn!==13&&mn!==60&&!(++sn>=Ke.length);)gn+=String.fromCharCode(mn),mn=Ke[sn];return gn}function un(Ke,sn,gn){const mn=gn.length,yn=Ke.length;let Sn=0;for(;sn<yn;){let _n=0;for(;_n<mn&&Ke[sn+_n]===gn[_n];)++_n;if(_n>=mn)break;sn++,Sn++}return Sn}const Qe=/\b(endobj|\d+\s+\d+\s+obj|xref|trailer\s*<<)\b/g,hn=/\b(startxref|\d+\s+\d+\s+obj)\b/g,He=/^(\d+)\s+(\d+)\s+obj\b/,pn=new Uint8Array([116,114,97,105,108,101,114]),Xe=new Uint8Array([115,116,97,114,116,120,114,101,102]),fn=new Uint8Array([47,88,82,101,102]);this.entries.length=0,this._cacheMap.clear();const dn=this.stream;dn.pos=0;const qe=dn.getBytes(),tn=(0,xe.bytesToString)(qe),Me=qe.length;let De=dn.start;const Ue=[],We=[];for(;De<Me;){let Ke=qe[De];if(Ke===9||Ke===10||Ke===13||Ke===32){++De;continue}if(Ke===37){do{if(++De,De>=Me)break;Ke=qe[De]}while(Ke!==10&&Ke!==13);continue}const sn=rn(qe,De);let gn;if(sn.startsWith("xref")&&(sn.length===4||/\s/.test(sn[4])))De+=un(qe,De,pn),Ue.push(De),De+=un(qe,De,Xe);else if(gn=He.exec(sn)){const mn=gn[1]|0,yn=gn[2]|0,Sn=De+sn.length;let _n,wn=!1;if(!this.entries[mn])wn=!0;else if(this.entries[mn].gen===yn)try{new Re.Parser({lexer:new Re.Lexer(dn.makeSubStream(Sn))}).getObj(),wn=!0}catch(In){In instanceof e.ParserEOFException?(0,xe.warn)(`indexObjects -- checking object (${sn}): "${In}".`):wn=!0}wn&&(this.entries[mn]={offset:De-dn.start,gen:yn,uncompressed:!0}),Qe.lastIndex=Sn;const Nn=Qe.exec(tn);Nn?(_n=Qe.lastIndex+1-De,Nn[1]!=="endobj"&&((0,xe.warn)(`indexObjects: Found "${Nn[1]}" inside of another "obj", caused by missing "endobj" -- trying to recover.`),_n-=Nn[1].length+1)):_n=Me-De;const Tn=qe.subarray(De,De+_n),Cn=un(Tn,0,fn);Cn<_n&&Tn[Cn+5]<64&&(We.push(De-dn.start),this._xrefStms.add(De-dn.start)),De+=_n}else if(sn.startsWith("trailer")&&(sn.length===7||/\s/.test(sn[7]))){Ue.push(De);const mn=De+sn.length;let yn;hn.lastIndex=mn;const Sn=hn.exec(tn);Sn?(yn=hn.lastIndex+1-De,Sn[1]!=="startxref"&&((0,xe.warn)(`indexObjects: Found "${Sn[1]}" after "trailer", caused by missing "startxref" -- trying to recover.`),yn-=Sn[1].length+1)):yn=Me-De,De+=yn}else De+=sn.length+1}for(const Ke of We)this.startXRefQueue.push(Ke),this.readXRef(!0);const $e=[];let on=!1;for(const Ke of Ue){dn.pos=Ke;const sn=new Re.Parser({lexer:new Re.Lexer(dn),xref:this,allowStreams:!0,recoveryMode:!0}),gn=sn.getObj();if(!(0,Ie.isCmd)(gn,"trailer"))continue;const mn=sn.getObj();mn instanceof Ie.Dict&&($e.push(mn),mn.has("Encrypt")&&(on=!0))}let Je,an;for(const Ke of[...$e,"genFallback",...$e]){if(Ke==="genFallback"){if(!an)break;this._generationFallback=!0;continue}let sn=!1;try{const gn=Ke.get("Root");if(!(gn instanceof Ie.Dict))continue;const mn=gn.get("Pages");if(!(mn instanceof Ie.Dict))continue;const yn=mn.get("Count");Number.isInteger(yn)&&(sn=!0)}catch(gn){an=gn;continue}if(sn&&(!on||Ke.has("Encrypt"))&&Ke.has("ID"))return Ke;Je=Ke}if(Je)return Je;if(this.topDict)return this.topDict;throw new xe.InvalidPDFException("Invalid PDF structure.")}readXRef(je=!1){const nn=this.stream,Ge=new Set;for(;this.startXRefQueue.length;){try{const Oe=this.startXRefQueue[0];if(Ge.has(Oe)){(0,xe.warn)("readXRef - skipping XRef table since it was already parsed."),this.startXRefQueue.shift();continue}Ge.add(Oe),nn.pos=Oe+nn.start;const Ce=new Re.Parser({lexer:new Re.Lexer(nn),xref:this,allowStreams:!0});let St=Ce.getObj(),rn;if((0,Ie.isCmd)(St,"xref"))rn=this.processXRefTable(Ce),this.topDict||(this.topDict=rn),St=rn.get("XRefStm"),Number.isInteger(St)&&!this._xrefStms.has(St)&&(this._xrefStms.add(St),this.startXRefQueue.push(St),this.#e??=St);else if(Number.isInteger(St)){if(!Number.isInteger(Ce.getObj())||!(0,Ie.isCmd)(Ce.getObj(),"obj")||!((St=Ce.getObj())instanceof t.BaseStream))throw new xe.FormatError("Invalid XRef stream");if(rn=this.processXRefStream(St),this.topDict||(this.topDict=rn),!rn)throw new xe.FormatError("Failed to read XRef stream")}else throw new xe.FormatError("Invalid XRef stream header");St=rn.get("Prev"),Number.isInteger(St)?this.startXRefQueue.push(St):St instanceof Ie.Ref&&this.startXRefQueue.push(St.num)}catch(Oe){if(Oe instanceof e.MissingDataException)throw Oe;(0,xe.info)("(while reading XRef): "+Oe)}this.startXRefQueue.shift()}if(this.topDict)return this.topDict;if(!je)throw new e.XRefParseException}get lastXRefStreamPos(){return this.#e??(this._xrefStms.size>0?Math.max(...this._xrefStms):null)}getEntry(je){const nn=this.entries[je];return nn&&!nn.free&&nn.offset?nn:null}fetchIfRef(je,nn=!1){return je instanceof Ie.Ref?this.fetch(je,nn):je}fetch(je,nn=!1){if(!(je instanceof Ie.Ref))throw new Error("ref object is not a reference");const Ge=je.num,Oe=this._cacheMap.get(Ge);if(Oe!==void 0)return Oe instanceof Ie.Dict&&!Oe.objId&&(Oe.objId=je.toString()),Oe;let Ce=this.getEntry(Ge);if(Ce===null)return this._cacheMap.set(Ge,Ce),Ce;if(this._pendingRefs.has(je))return this._pendingRefs.remove(je),(0,xe.warn)(`Ignoring circular reference: ${je}.`),Ie.CIRCULAR_REF;this._pendingRefs.put(je);try{Ce=Ce.uncompressed?this.fetchUncompressed(je,Ce,nn):this.fetchCompressed(je,Ce,nn),this._pendingRefs.remove(je)}catch(St){throw this._pendingRefs.remove(je),St}return Ce instanceof Ie.Dict?Ce.objId=je.toString():Ce instanceof t.BaseStream&&(Ce.dict.objId=je.toString()),Ce}fetchUncompressed(je,nn,Ge=!1){const Oe=je.gen;let Ce=je.num;if(nn.gen!==Oe){const He=`Inconsistent generation in XRef: ${je}`;if(this._generationFallback&&nn.gen<Oe)return(0,xe.warn)(He),this.fetchUncompressed(Ie.Ref.get(Ce,nn.gen),nn,Ge);throw new e.XRefEntryException(He)}const St=this.stream.makeSubStream(nn.offset+this.stream.start),rn=new Re.Parser({lexer:new Re.Lexer(St),xref:this,allowStreams:!0}),un=rn.getObj(),Qe=rn.getObj(),hn=rn.getObj();if(un!==Ce||Qe!==Oe||!(hn instanceof Ie.Cmd))throw new e.XRefEntryException(`Bad (uncompressed) XRef entry: ${je}`);if(hn.cmd!=="obj"){if(hn.cmd.startsWith("obj")&&(Ce=parseInt(hn.cmd.substring(3),10),!Number.isNaN(Ce)))return Ce;throw new e.XRefEntryException(`Bad (uncompressed) XRef entry: ${je}`)}return nn=this.encrypt&&!Ge?rn.getObj(this.encrypt.createCipherTransform(Ce,Oe)):rn.getObj(),nn instanceof t.BaseStream||this._cacheMap.set(Ce,nn),nn}fetchCompressed(je,nn,Ge=!1){const Oe=nn.offset,Ce=this.fetch(Ie.Ref.get(Oe,0));if(!(Ce instanceof t.BaseStream))throw new xe.FormatError("bad ObjStm stream");const St=Ce.dict.get("First"),rn=Ce.dict.get("N");if(!Number.isInteger(St)||!Number.isInteger(rn))throw new xe.FormatError("invalid first and n parameters for ObjStm stream");let un=new Re.Parser({lexer:new Re.Lexer(Ce),xref:this,allowStreams:!0});const Qe=new Array(rn),hn=new Array(rn);for(let Xe=0;Xe<rn;++Xe){const fn=un.getObj();if(!Number.isInteger(fn))throw new xe.FormatError(`invalid object number in the ObjStm stream: ${fn}`);const dn=un.getObj();if(!Number.isInteger(dn))throw new xe.FormatError(`invalid object offset in the ObjStm stream: ${dn}`);Qe[Xe]=fn,hn[Xe]=dn}const He=(Ce.start||0)+St,pn=new Array(rn);for(let Xe=0;Xe<rn;++Xe){const fn=Xe<rn-1?hn[Xe+1]-hn[Xe]:void 0;if(fn<0)throw new xe.FormatError("Invalid offset in the ObjStm stream.");un=new Re.Parser({lexer:new Re.Lexer(Ce.makeSubStream(He+hn[Xe],fn,Ce.dict)),xref:this,allowStreams:!0});const dn=un.getObj();if(pn[Xe]=dn,dn instanceof t.BaseStream)continue;const qe=Qe[Xe],tn=this.entries[qe];tn&&tn.offset===Oe&&tn.gen===Xe&&this._cacheMap.set(qe,dn)}if(nn=pn[nn.gen],nn===void 0)throw new e.XRefEntryException(`Bad (compressed) XRef entry: ${je}`);return nn}async fetchIfRefAsync(je,nn){return je instanceof Ie.Ref?this.fetchAsync(je,nn):je}async fetchAsync(je,nn){try{return this.fetch(je,nn)}catch(Ge){if(!(Ge instanceof e.MissingDataException))throw Ge;return await this.pdfManager.requestRange(Ge.begin,Ge.end),this.fetchAsync(je,nn)}}getCatalogObj(){return this.root}}_e.XRef=Ye},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.MessageHandler=void 0;var xe=ze(2);const Ie={DATA:1,ERROR:2},Re={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function e(Te){switch(Te instanceof Error||typeof Te=="object"&&Te!==null||(0,xe.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),Te.name){case"AbortException":return new xe.AbortException(Te.message);case"MissingPDFException":return new xe.MissingPDFException(Te.message);case"PasswordException":return new xe.PasswordException(Te.message,Te.code);case"UnexpectedResponseException":return new xe.UnexpectedResponseException(Te.message,Te.status);case"UnknownErrorException":return new xe.UnknownErrorException(Te.message,Te.details);default:return new xe.UnknownErrorException(Te.message,Te.toString())}}class t{constructor(Ye,en,je){this.sourceName=Ye,this.targetName=en,this.comObj=je,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=nn=>{const Ge=nn.data;if(Ge.targetName!==this.sourceName)return;if(Ge.stream){this.#t(Ge);return}if(Ge.callback){const Ce=Ge.callbackId,St=this.callbackCapabilities[Ce];if(!St)throw new Error(`Cannot resolve callback ${Ce}`);if(delete this.callbackCapabilities[Ce],Ge.callback===Ie.DATA)St.resolve(Ge.data);else if(Ge.callback===Ie.ERROR)St.reject(e(Ge.reason));else throw new Error("Unexpected callback case");return}const Oe=this.actionHandler[Ge.action];if(!Oe)throw new Error(`Unknown action from worker: ${Ge.action}`);if(Ge.callbackId){const Ce=this.sourceName,St=Ge.sourceName;new Promise(function(rn){rn(Oe(Ge.data))}).then(function(rn){je.postMessage({sourceName:Ce,targetName:St,callback:Ie.DATA,callbackId:Ge.callbackId,data:rn})},function(rn){je.postMessage({sourceName:Ce,targetName:St,callback:Ie.ERROR,callbackId:Ge.callbackId,reason:e(rn)})});return}if(Ge.streamId){this.#e(Ge);return}Oe(Ge.data)},je.addEventListener("message",this._onComObjOnMessage)}on(Ye,en){const je=this.actionHandler;if(je[Ye])throw new Error(`There is already an actionName called "${Ye}"`);je[Ye]=en}send(Ye,en,je){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:Ye,data:en},je)}sendWithPromise(Ye,en,je){const nn=this.callbackId++,Ge=new xe.PromiseCapability;this.callbackCapabilities[nn]=Ge;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:Ye,callbackId:nn,data:en},je)}catch(Oe){Ge.reject(Oe)}return Ge.promise}sendWithStream(Ye,en,je,nn){const Ge=this.streamId++,Oe=this.sourceName,Ce=this.targetName,St=this.comObj;return new ReadableStream({start:rn=>{const un=new xe.PromiseCapability;return this.streamControllers[Ge]={controller:rn,startCall:un,pullCall:null,cancelCall:null,isClosed:!1},St.postMessage({sourceName:Oe,targetName:Ce,action:Ye,streamId:Ge,data:en,desiredSize:rn.desiredSize},nn),un.promise},pull:rn=>{const un=new xe.PromiseCapability;return this.streamControllers[Ge].pullCall=un,St.postMessage({sourceName:Oe,targetName:Ce,stream:Re.PULL,streamId:Ge,desiredSize:rn.desiredSize}),un.promise},cancel:rn=>{(0,xe.assert)(rn instanceof Error,"cancel must have a valid reason");const un=new xe.PromiseCapability;return this.streamControllers[Ge].cancelCall=un,this.streamControllers[Ge].isClosed=!0,St.postMessage({sourceName:Oe,targetName:Ce,stream:Re.CANCEL,streamId:Ge,reason:e(rn)}),un.promise}},je)}#e(Ye){const en=Ye.streamId,je=this.sourceName,nn=Ye.sourceName,Ge=this.comObj,Oe=this,Ce=this.actionHandler[Ye.action],St={enqueue(rn,un=1,Qe){if(this.isCancelled)return;const hn=this.desiredSize;this.desiredSize-=un,hn>0&&this.desiredSize<=0&&(this.sinkCapability=new xe.PromiseCapability,this.ready=this.sinkCapability.promise),Ge.postMessage({sourceName:je,targetName:nn,stream:Re.ENQUEUE,streamId:en,chunk:rn},Qe)},close(){this.isCancelled||(this.isCancelled=!0,Ge.postMessage({sourceName:je,targetName:nn,stream:Re.CLOSE,streamId:en}),delete Oe.streamSinks[en])},error(rn){(0,xe.assert)(rn instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,Ge.postMessage({sourceName:je,targetName:nn,stream:Re.ERROR,streamId:en,reason:e(rn)}))},sinkCapability:new xe.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:Ye.desiredSize,ready:null};St.sinkCapability.resolve(),St.ready=St.sinkCapability.promise,this.streamSinks[en]=St,new Promise(function(rn){rn(Ce(Ye.data,St))}).then(function(){Ge.postMessage({sourceName:je,targetName:nn,stream:Re.START_COMPLETE,streamId:en,success:!0})},function(rn){Ge.postMessage({sourceName:je,targetName:nn,stream:Re.START_COMPLETE,streamId:en,reason:e(rn)})})}#t(Ye){const en=Ye.streamId,je=this.sourceName,nn=Ye.sourceName,Ge=this.comObj,Oe=this.streamControllers[en],Ce=this.streamSinks[en];switch(Ye.stream){case Re.START_COMPLETE:Ye.success?Oe.startCall.resolve():Oe.startCall.reject(e(Ye.reason));break;case Re.PULL_COMPLETE:Ye.success?Oe.pullCall.resolve():Oe.pullCall.reject(e(Ye.reason));break;case Re.PULL:if(!Ce){Ge.postMessage({sourceName:je,targetName:nn,stream:Re.PULL_COMPLETE,streamId:en,success:!0});break}Ce.desiredSize<=0&&Ye.desiredSize>0&&Ce.sinkCapability.resolve(),Ce.desiredSize=Ye.desiredSize,new Promise(function(St){St(Ce.onPull?.())}).then(function(){Ge.postMessage({sourceName:je,targetName:nn,stream:Re.PULL_COMPLETE,streamId:en,success:!0})},function(St){Ge.postMessage({sourceName:je,targetName:nn,stream:Re.PULL_COMPLETE,streamId:en,reason:e(St)})});break;case Re.ENQUEUE:if((0,xe.assert)(Oe,"enqueue should have stream controller"),Oe.isClosed)break;Oe.controller.enqueue(Ye.chunk);break;case Re.CLOSE:if((0,xe.assert)(Oe,"close should have stream controller"),Oe.isClosed)break;Oe.isClosed=!0,Oe.controller.close(),this.#n(Oe,en);break;case Re.ERROR:(0,xe.assert)(Oe,"error should have stream controller"),Oe.controller.error(e(Ye.reason)),this.#n(Oe,en);break;case Re.CANCEL_COMPLETE:Ye.success?Oe.cancelCall.resolve():Oe.cancelCall.reject(e(Ye.reason)),this.#n(Oe,en);break;case Re.CANCEL:if(!Ce)break;new Promise(function(St){St(Ce.onCancel?.(e(Ye.reason)))}).then(function(){Ge.postMessage({sourceName:je,targetName:nn,stream:Re.CANCEL_COMPLETE,streamId:en,success:!0})},function(St){Ge.postMessage({sourceName:je,targetName:nn,stream:Re.CANCEL_COMPLETE,streamId:en,reason:e(St)})}),Ce.sinkCapability.reject(e(Ye.reason)),Ce.isCancelled=!0,delete this.streamSinks[en];break;default:throw new Error("Unexpected stream case")}}async#n(Ye,en){await Promise.allSettled([Ye.startCall?.promise,Ye.pullCall?.promise,Ye.cancelCall?.promise]),delete this.streamControllers[en]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}_e.MessageHandler=t},(Ve,_e,ze)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.PDFWorkerStream=void 0;var xe=ze(2);class Ie{constructor(Te){this._msgHandler=Te,this._contentLength=null,this._fullRequestReader=null,this._rangeRequestReaders=[]}getFullReader(){return(0,xe.assert)(!this._fullRequestReader,"PDFWorkerStream.getFullReader can only be called once."),this._fullRequestReader=new Re(this._msgHandler),this._fullRequestReader}getRangeReader(Te,Ye){const en=new e(Te,Ye,this._msgHandler);return this._rangeRequestReaders.push(en),en}cancelAllRequests(Te){this._fullRequestReader?.cancel(Te);for(const Ye of this._rangeRequestReaders.slice(0))Ye.cancel(Te)}}_e.PDFWorkerStream=Ie;class Re{constructor(Te){this._msgHandler=Te,this.onProgress=null,this._contentLength=null,this._isRangeSupported=!1,this._isStreamingSupported=!1;const Ye=this._msgHandler.sendWithStream("GetReader");this._reader=Ye.getReader(),this._headersReady=this._msgHandler.sendWithPromise("ReaderHeadersReady").then(en=>{this._isStreamingSupported=en.isStreamingSupported,this._isRangeSupported=en.isRangeSupported,this._contentLength=en.contentLength})}get headersReady(){return this._headersReady}get contentLength(){return this._contentLength}get isStreamingSupported(){return this._isStreamingSupported}get isRangeSupported(){return this._isRangeSupported}async read(){const{value:Te,done:Ye}=await this._reader.read();return Ye?{value:void 0,done:!0}:{value:Te.buffer,done:!1}}cancel(Te){this._reader.cancel(Te)}}class e{constructor(Te,Ye,en){this._msgHandler=en,this.onProgress=null;const je=this._msgHandler.sendWithStream("GetRangeReader",{begin:Te,end:Ye});this._reader=je.getReader()}get isStreamingSupported(){return!1}async read(){const{value:Te,done:Ye}=await this._reader.read();return Ye?{value:void 0,done:!0}:{value:Te.buffer,done:!1}}cancel(Te){this._reader.cancel(Te)}}}],Ee={};function Fe(Ve){var _e=Ee[Ve];if(_e!==void 0)return _e.exports;var ze=Ee[Ve]={exports:{}};return Se[Ve](ze,ze.exports,Fe),ze.exports}var Be={};return(()=>{var Ve=Be;Object.defineProperty(Ve,"__esModule",{value:!0}),Object.defineProperty(Ve,"WorkerMessageHandler",{enumerable:!0,get:function(){return _e.WorkerMessageHandler}});var _e=Fe(1)})(),Be})())}(pdf_worker)),pdf_worker.exports}var hasRequiredPdf_worker_entry;function requirePdf_worker_entry(){return hasRequiredPdf_worker_entry||(hasRequiredPdf_worker_entry=1,(typeof window<"u"?window:{}).pdfjsWorker=requirePdf_worker()),pdf_worker_entry}requirePdf_worker_entry();const pdfPage1="/assets/page1-ccnw8hiq.jpg",pdfPage2="/assets/page2-CCRiAZyQ.jpg",pdfPage3="/assets/page3-DoVjb8Qo.jpg",pdfPage4="/assets/page4-C_IEV2mD.jpg",pdfPage5="/assets/page5-mh2-vtj7.jpg";function FloatingWhatsappButton(){return jsxRuntimeExports.jsx("a",{href:"https://wa.me/5804124998538",className:"fixed bottom-6 right-6 bg-green-500 hover:bg-green-600 text-white p-4 rounded-full shadow-lg z-50",target:"_blank",rel:"noopener noreferrer","aria-label":"Contactar por WhatsApp",children:jsxRuntimeExports.jsx(FaWhatsapp,{size:24})})}function Home(){return jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-12",children:[jsxRuntimeExports.jsxs("section",{className:"flex flex-col md:flex-row items-center bg-white bg-opacity-20 rounded-3xl shadow-lg p-8 mb-12",children:[jsxRuntimeExports.jsx("div",{className:"md:w-1/2 mb-8 md:mb-0",children:jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center my-12",children:jsxRuntimeExports.jsxs(HTMLFlipBook,{width:600,height:800,size:"stretch",minWidth:315,maxWidth:1e3,minHeight:400,maxHeight:1200,maxShadowOpacity:.5,showCover:!0,mobileScrollSupport:!0,className:"flipbook",children:[jsxRuntimeExports.jsx("div",{className:"page",children:jsxRuntimeExports.jsx("img",{src:pdfPage1,alt:"Page 1"})}),jsxRuntimeExports.jsx("div",{className:"page",children:jsxRuntimeExports.jsx("img",{src:pdfPage2,alt:"Page 2"})}),jsxRuntimeExports.jsx("div",{className:"page",children:jsxRuntimeExports.jsx("img",{src:pdfPage3,alt:"Page 3"})}),jsxRuntimeExports.jsx("div",{className:"page",children:jsxRuntimeExports.jsx("img",{src:pdfPage4,alt:"Page 4"})}),jsxRuntimeExports.jsx("div",{className:"page",children:jsxRuntimeExports.jsx("img",{src:pdfPage5,alt:"Page 5"})})]})})}),jsxRuntimeExports.jsxs("div",{className:"md:w-1/2 md:pl-12 text-center md:text-left",children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl font-extrabold text-transparent bg-gradient-to-r from-pink-500 via-purple-500 to-indigo-500 bg-clip-text drop-shadow-lg text-center",children:"Guía completa de vocalización para principiantes"}),jsxRuntimeExports.jsx("ul",{className:"list-disc list-inside  text-white",children:" ...   "}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-center text-grey-200 mb-4 drop-shadow-lg",children:"Descubre Tu Voz: Domina los Fundamentos del Canto"}),jsxRuntimeExports.jsx("p",{className:"font-semibold md:text-left text-lg",children:"¿Sueñas con cantar con confianza pero no sabes por dónde empezar? 🎤 Tu Guía Definitiva de Vocalización para Principiantes está aquí para transformar tu voz, paso a paso. ¡Aprende desde Cero SIN Experiencia! Nuestra guía digital te lleva de la mano con técnicas profesionales explicadas de forma clara y sencilla, diseñadas especialmente para quienes nunca han recibido clases. Olvídate de la frustración: aquí encontrarás las bases sólidas que necesitas."}),jsxRuntimeExports.jsxs("div",{className:"mt-4 space-y-2 text-gray-800 text-base leading-relaxed",children:[jsxRuntimeExports.jsx("p",{className:"font-semibold text-lg",children:"¿Qué incluye esta guía?"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc list-inside",children:[jsxRuntimeExports.jsx("li",{children:"🎤 Ejercicios para calentar la voz"}),jsxRuntimeExports.jsx("li",{children:"🎵 Técnicas para mejorar la afinación"}),jsxRuntimeExports.jsx("li",{children:"💨 Control de la respiración"}),jsxRuntimeExports.jsx("li",{children:"📱 Accesible desde cualquier dispositivo"}),jsxRuntimeExports.jsx("li",{children:"🌟 Ideal para principiantes e intermedios"})]}),jsxRuntimeExports.jsx("p",{className:"italic text-sm text-gray-600",children:"¡Comienza hoy y transforma tu voz desde casa!"}),jsxRuntimeExports.jsx("ul",{className:"list-disc list-inside",children:"    "})]}),jsxRuntimeExports.jsx(Link,{to:"/tienda",className:"px-6 py-2 bg-pink-500 text-white rounded-md shadow-md hover:bg-pink-600  duration-300 text-center block w-fit mx-auto overflow-hidden transition-transform hover:scale-105",children:"Comprar ahora"})]})]}),jsxRuntimeExports.jsxs("section",{className:"mb-12",children:[jsxRuntimeExports.jsx("h2",{className:"text-4xl font-extrabold text-transparent bg-gradient-to-r from-pink-500 via-purple-500 to-indigo-500 bg-clip-text drop-shadow-lg text-center",children:"Ejercicios de Vocalización"}),jsxRuntimeExports.jsx("ul",{className:"list-disc list-inside  text-white",children:" ....   "}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white bg-opacity-50 rounded-2xl p-6 shadow-md border border-pink-200 overflow-hidden transition-transform hover:scale-105",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold mb-3 text-pink-600",children:"Respiración Diafragmática"}),jsxRuntimeExports.jsx("p",{className:"text-gray-700",children:"Aprende a controlar tu respiración para proyectar mejor tu voz y evitar tensiones."}),jsxRuntimeExports.jsx(Link,{to:"/Exercises",className:"inline-block mt-4 px-4 py-2 bg-purple-600 text-white rounded-full shadow hover:bg-purple-700 overflow-hidden transition-transform hover:scale-105",children:"Ir a ejercicios"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white bg-opacity-50 rounded-2xl p-6 shadow-md border border-pink-200 overflow-hidden transition-transform hover:scale-105 ",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold mb-3 text-pink-600",children:"Vocalizaciones con Escalas"}),jsxRuntimeExports.jsx("p",{className:"text-gray-700",children:"Practica escalas para fortalecer tus cuerdas vocales y ampliar tu rango."}),jsxRuntimeExports.jsx(Link,{to:"/Exercises",className:"inline-block mt-4 px-4 py-2 bg-purple-600 text-white rounded-full shadow hover:bg-purple-700 overflow-hidden transition-transform hover:scale-105",children:"Ir a ejercicios"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white bg-opacity-50 rounded-2xl p-6 shadow-md border border-pink-200 overflow-hidden transition-transform hover:scale-105",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold mb-3 text-pink-600",children:"Articulación y Dicción"}),jsxRuntimeExports.jsx("p",{className:"text-gray-700",children:"Mejora la claridad de tu canto con ejercicios de pronunciación y vocalización precisa."}),jsxRuntimeExports.jsx(Link,{to:"/Exercises",className:"inline-block mt-4 px-4 py-2 bg-purple-600 text-white rounded-full shadow hover:bg-purple-700  overflow-hidden transition-transform hover:scale-105",children:"Ir a ejercicios"})]})]})]}),jsxRuntimeExports.jsxs("section",{id:"testimonios",className:"py-16 px-4  border-pink-200 bg-white rounded-2xl bg-opacity-50 ",children:[jsxRuntimeExports.jsx("h2",{className:"text-4xl font-extrabold text-transparent bg-gradient-to-r from-pink-500 via-purple-500 to-indigo-500 bg-clip-text drop-shadow-lg text-center",children:"Testimonios"}),jsxRuntimeExports.jsx("ul",{className:"list-disc list-inside  text-white",children:" ....   "}),jsxRuntimeExports.jsxs("div",{className:"max-w-6xl mx-auto flex flex-col md:flex-row items-center gap-8",children:[jsxRuntimeExports.jsx("div",{className:"w-full md:w-1/2",children:jsxRuntimeExports.jsx("img",{src:"images/teen2.jpeg",alt:"Usuarios felices",className:"rounded-lg shadow-md w-full"})}),jsxRuntimeExports.jsxs("div",{className:"w-full md:w-1/2 space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-gray-100 p-6 rounded-lg shadow-md",children:[jsxRuntimeExports.jsx("p",{className:"italic",children:'"La guía me ayudó muchísimo a mejorar mi técnica vocal. ¡Gracias!"'}),jsxRuntimeExports.jsx("p",{className:"mt-2 font-semibold text-right",children:"- Ana Pérez"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-100 p-6 rounded-lg shadow-md",children:[jsxRuntimeExports.jsx("p",{className:"italic",children:'"Muy profesional, fácil de seguir y súper útil para principiantes."'}),jsxRuntimeExports.jsx("p",{className:"mt-2 font-semibold text-right",children:"- Carlos Romero"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-100 p-6 rounded-lg shadow-md",children:[jsxRuntimeExports.jsx("p",{className:"italic",children:'"Recomiendo esta guía a todos los que quieran empezar a cantar."'}),jsxRuntimeExports.jsx("p",{className:"mt-2 font-semibold text-right",children:"- Mariana López"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-100 p-6 rounded-lg shadow-md",children:[jsxRuntimeExports.jsx("p",{className:"italic",children:'"Tiene los principios básicos que todo cantante debe conocer y dominar."'}),jsxRuntimeExports.jsx("p",{className:"mt-2 font-semibold text-right",children:"- Liseth Rodriguez"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-100 p-6 rounded-lg shadow-md",children:[jsxRuntimeExports.jsx("p",{className:"italic",children:'"Es muy fácil de seguir y comprender, con ejercicios prácticos."'}),jsxRuntimeExports.jsx("p",{className:"mt-2 font-semibold text-right",children:"- Maria Celeste García"})]}),jsxRuntimeExports.jsx(Link,{to:"/tienda",className:"px-6 py-2 bg-pink-500 text-white rounded-md shadow-md hover:bg-pink-600  duration-300 text-center block w-fit mx-auto overflow-hidden transition-transform hover:scale-105",children:"Comprar ahora"})]}),jsxRuntimeExports.jsx(FloatingWhatsappButton,{})]})]})]})}const exercises=[{id:1,title:"Ejercicio 1: Respiración diafragmática",description:"Aprende a controlar tu respiración usando el diafragma.",image:"/images/kid1.jpeg",media:"https://www.youtube.com/embed/0V7mEY9zA9w"},{id:2,title:"Ejercicio 2: Vocalización con escalas",description:"Calienta tu voz usando escalas ascendentes y descendentes.",image:"/images/singer1.jpeg",media:"https://www.youtube.com/embed/dFDZbPBIzF4"},{id:3,title:"Ejercicio 3: Resonancia",description:"Enfócate en los resonadores faciales para mejorar el timbre.",image:"/images/teen2.jpeg",media:"https://www.youtube.com/embed/Bi8C8IBZbFE"}];function Exercises(){const[Ae,r]=reactExports.useState(!1),[Se,Ee]=reactExports.useState(null),Fe=Be=>{Ee(Be),r(!0)};return jsxRuntimeExports.jsx("div",{className:"min-h-screen px-4 py-12 bg-gradient-to-b from-gray-100 via-gray-300 to-gray-400 text-gray-900",children:jsxRuntimeExports.jsxs("div",{className:"max-w-6xl mx-auto",children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl font-bold text-center mb-8",children:"Ejercicios de Vocalización"}),jsxRuntimeExports.jsx("p",{className:"text-center mb-12 text-lg",children:"Explora estos ejercicios para mejorar tu técnica vocal. Haz clic en los botones para escuchar o ver cada uno."}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:exercises.map(Be=>jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-2xl shadow-md overflow-hidden transition-transform hover:scale-105",children:[jsxRuntimeExports.jsx("img",{src:Be.image,alt:Be.title,className:"w-full h-48 object-cover"}),jsxRuntimeExports.jsxs("div",{className:"p-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mb-2",children:Be.title}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 mb-4",children:Be.description}),jsxRuntimeExports.jsx("button",{className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-full transition",onClick:()=>Fe(Be.media),children:"Ver ejercicio"})]})]},Be.id))}),Ae&&Se&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg overflow-hidden shadow-xl max-w-4xl w-full relative",children:[jsxRuntimeExports.jsx("button",{className:"absolute top-2 right-2 text-white bg-red-600 rounded-full px-3 py-1 hover:bg-red-700",onClick:()=>r(!1),children:"✕"}),jsxRuntimeExports.jsx("div",{className:"w-full aspect-video",children:jsxRuntimeExports.jsx("iframe",{width:"100%",height:"100%",src:Se,title:"Video de Ejercicio",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})]})})]})})}const Comments=()=>jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-violet-700 mb-4",children:"Comentarios de Usuarios"}),jsxRuntimeExports.jsx("p",{children:"Sección para que tus clientes dejen reseñas y feedback."})]}),Shop=()=>jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-violet-700 mb-4",children:"Tienda"}),jsxRuntimeExports.jsx("p",{children:"Integración con pasarelas de pago internacionales (Stripe o PayPal)."})]}),getDefaultsFromPostinstall=()=>{};var define_process_env_default={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const stringToByteArray$1=function(Ae){const r=[];let Se=0;for(let Ee=0;Ee<Ae.length;Ee++){let Fe=Ae.charCodeAt(Ee);Fe<128?r[Se++]=Fe:Fe<2048?(r[Se++]=Fe>>6|192,r[Se++]=Fe&63|128):(Fe&64512)===55296&&Ee+1<Ae.length&&(Ae.charCodeAt(Ee+1)&64512)===56320?(Fe=65536+((Fe&1023)<<10)+(Ae.charCodeAt(++Ee)&1023),r[Se++]=Fe>>18|240,r[Se++]=Fe>>12&63|128,r[Se++]=Fe>>6&63|128,r[Se++]=Fe&63|128):(r[Se++]=Fe>>12|224,r[Se++]=Fe>>6&63|128,r[Se++]=Fe&63|128)}return r},byteArrayToString=function(Ae){const r=[];let Se=0,Ee=0;for(;Se<Ae.length;){const Fe=Ae[Se++];if(Fe<128)r[Ee++]=String.fromCharCode(Fe);else if(Fe>191&&Fe<224){const Be=Ae[Se++];r[Ee++]=String.fromCharCode((Fe&31)<<6|Be&63)}else if(Fe>239&&Fe<365){const Be=Ae[Se++],Ve=Ae[Se++],_e=Ae[Se++],ze=((Fe&7)<<18|(Be&63)<<12|(Ve&63)<<6|_e&63)-65536;r[Ee++]=String.fromCharCode(55296+(ze>>10)),r[Ee++]=String.fromCharCode(56320+(ze&1023))}else{const Be=Ae[Se++],Ve=Ae[Se++];r[Ee++]=String.fromCharCode((Fe&15)<<12|(Be&63)<<6|Ve&63)}}return r.join("")},base64={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(Ae,r){if(!Array.isArray(Ae))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Se=r?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ee=[];for(let Fe=0;Fe<Ae.length;Fe+=3){const Be=Ae[Fe],Ve=Fe+1<Ae.length,_e=Ve?Ae[Fe+1]:0,ze=Fe+2<Ae.length,xe=ze?Ae[Fe+2]:0,Ie=Be>>2,Re=(Be&3)<<4|_e>>4;let e=(_e&15)<<2|xe>>6,t=xe&63;ze||(t=64,Ve||(e=64)),Ee.push(Se[Ie],Se[Re],Se[e],Se[t])}return Ee.join("")},encodeString(Ae,r){return this.HAS_NATIVE_SUPPORT&&!r?btoa(Ae):this.encodeByteArray(stringToByteArray$1(Ae),r)},decodeString(Ae,r){return this.HAS_NATIVE_SUPPORT&&!r?atob(Ae):byteArrayToString(this.decodeStringToByteArray(Ae,r))},decodeStringToByteArray(Ae,r){this.init_();const Se=r?this.charToByteMapWebSafe_:this.charToByteMap_,Ee=[];for(let Fe=0;Fe<Ae.length;){const Be=Se[Ae.charAt(Fe++)],_e=Fe<Ae.length?Se[Ae.charAt(Fe)]:0;++Fe;const xe=Fe<Ae.length?Se[Ae.charAt(Fe)]:64;++Fe;const Re=Fe<Ae.length?Se[Ae.charAt(Fe)]:64;if(++Fe,Be==null||_e==null||xe==null||Re==null)throw new DecodeBase64StringError;const e=Be<<2|_e>>4;if(Ee.push(e),xe!==64){const t=_e<<4&240|xe>>2;if(Ee.push(t),Re!==64){const Te=xe<<6&192|Re;Ee.push(Te)}}}return Ee},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ae=0;Ae<this.ENCODED_VALS.length;Ae++)this.byteToCharMap_[Ae]=this.ENCODED_VALS.charAt(Ae),this.charToByteMap_[this.byteToCharMap_[Ae]]=Ae,this.byteToCharMapWebSafe_[Ae]=this.ENCODED_VALS_WEBSAFE.charAt(Ae),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ae]]=Ae,Ae>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ae)]=Ae,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ae)]=Ae)}}};class DecodeBase64StringError extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const base64Encode=function(Ae){const r=stringToByteArray$1(Ae);return base64.encodeByteArray(r,!0)},base64urlEncodeWithoutPadding=function(Ae){return base64Encode(Ae).replace(/\./g,"")},base64Decode=function(Ae){try{return base64.decodeString(Ae,!0)}catch(r){console.error("base64Decode failed: ",r)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getGlobal(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const getDefaultsFromGlobal=()=>getGlobal().__FIREBASE_DEFAULTS__,getDefaultsFromEnvVariable=()=>{if(typeof process>"u"||typeof define_process_env_default>"u")return;const Ae=define_process_env_default.__FIREBASE_DEFAULTS__;if(Ae)return JSON.parse(Ae)},getDefaultsFromCookie=()=>{if(typeof document>"u")return;let Ae;try{Ae=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const r=Ae&&base64Decode(Ae[1]);return r&&JSON.parse(r)},getDefaults=()=>{try{return getDefaultsFromPostinstall()||getDefaultsFromGlobal()||getDefaultsFromEnvVariable()||getDefaultsFromCookie()}catch(Ae){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Ae}`);return}},getDefaultEmulatorHost=Ae=>getDefaults()?.emulatorHosts?.[Ae],getDefaultAppConfig=()=>getDefaults()?.config,getExperimentalSetting=Ae=>getDefaults()?.[`_${Ae}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Deferred{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((r,Se)=>{this.resolve=r,this.reject=Se})}wrapCallback(r){return(Se,Ee)=>{Se?this.reject(Se):this.resolve(Ee),typeof r=="function"&&(this.promise.catch(()=>{}),r.length===1?r(Se):r(Se,Ee))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isCloudWorkstation(Ae){try{return(Ae.startsWith("http://")||Ae.startsWith("https://")?new URL(Ae).hostname:Ae).endsWith(".cloudworkstations.dev")}catch{return!1}}async function pingServer(Ae){return(await fetch(Ae,{credentials:"include"})).ok}const emulatorStatus={};function getEmulatorSummary(){const Ae={prod:[],emulator:[]};for(const r of Object.keys(emulatorStatus))emulatorStatus[r]?Ae.emulator.push(r):Ae.prod.push(r);return Ae}function getOrCreateEl(Ae){let r=document.getElementById(Ae),Se=!1;return r||(r=document.createElement("div"),r.setAttribute("id",Ae),Se=!0),{created:Se,element:r}}let previouslyDismissed=!1;function updateEmulatorBanner(Ae,r){if(typeof window>"u"||typeof document>"u"||!isCloudWorkstation(window.location.host)||emulatorStatus[Ae]===r||emulatorStatus[Ae]||previouslyDismissed)return;emulatorStatus[Ae]=r;function Se(e){return`__firebase__banner__${e}`}const Ee="__firebase__banner",Be=getEmulatorSummary().prod.length>0;function Ve(){const e=document.getElementById(Ee);e&&e.remove()}function _e(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}function ze(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}function xe(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{previouslyDismissed=!0,Ve()},e}function Ie(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}function Re(){const e=getOrCreateEl(Ee),t=Se("text"),Te=document.getElementById(t)||document.createElement("span"),Ye=Se("learnmore"),en=document.getElementById(Ye)||document.createElement("a"),je=Se("preprendIcon"),nn=document.getElementById(je)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const Ge=e.element;_e(Ge),Ie(en,Ye);const Oe=xe();ze(nn,je),Ge.append(nn,Te,en,Oe),document.body.appendChild(Ge)}Be?(Te.innerText="Preview backend disconnected.",nn.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(nn.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Te.innerText="Preview backend running in this workspace."),Te.setAttribute("id",t)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",Re):Re()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getUA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function isMobileCordova(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(getUA())}function isCloudflareWorker(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function isBrowserExtension(){const Ae=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof Ae=="object"&&Ae.id!==void 0}function isReactNative(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function isIE(){const Ae=getUA();return Ae.indexOf("MSIE ")>=0||Ae.indexOf("Trident/")>=0}function isIndexedDBAvailable(){try{return typeof indexedDB=="object"}catch{return!1}}function validateIndexedDBOpenable(){return new Promise((Ae,r)=>{try{let Se=!0;const Ee="validate-browser-context-for-indexeddb-analytics-module",Fe=self.indexedDB.open(Ee);Fe.onsuccess=()=>{Fe.result.close(),Se||self.indexedDB.deleteDatabase(Ee),Ae(!0)},Fe.onupgradeneeded=()=>{Se=!1},Fe.onerror=()=>{r(Fe.error?.message||"")}}catch(Se){r(Se)}})}function areCookiesEnabled(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERROR_NAME="FirebaseError";class FirebaseError extends Error{constructor(r,Se,Ee){super(Se),this.code=r,this.customData=Ee,this.name=ERROR_NAME,Object.setPrototypeOf(this,FirebaseError.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ErrorFactory.prototype.create)}}class ErrorFactory{constructor(r,Se,Ee){this.service=r,this.serviceName=Se,this.errors=Ee}create(r,...Se){const Ee=Se[0]||{},Fe=`${this.service}/${r}`,Be=this.errors[r],Ve=Be?replaceTemplate(Be,Ee):"Error",_e=`${this.serviceName}: ${Ve} (${Fe}).`;return new FirebaseError(Fe,_e,Ee)}}function replaceTemplate(Ae,r){return Ae.replace(PATTERN,(Se,Ee)=>{const Fe=r[Ee];return Fe!=null?String(Fe):`<${Ee}?>`})}const PATTERN=/\{\$([^}]+)}/g;function isEmpty(Ae){for(const r in Ae)if(Object.prototype.hasOwnProperty.call(Ae,r))return!1;return!0}function deepEqual(Ae,r){if(Ae===r)return!0;const Se=Object.keys(Ae),Ee=Object.keys(r);for(const Fe of Se){if(!Ee.includes(Fe))return!1;const Be=Ae[Fe],Ve=r[Fe];if(isObject(Be)&&isObject(Ve)){if(!deepEqual(Be,Ve))return!1}else if(Be!==Ve)return!1}for(const Fe of Ee)if(!Se.includes(Fe))return!1;return!0}function isObject(Ae){return Ae!==null&&typeof Ae=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function querystring(Ae){const r=[];for(const[Se,Ee]of Object.entries(Ae))Array.isArray(Ee)?Ee.forEach(Fe=>{r.push(encodeURIComponent(Se)+"="+encodeURIComponent(Fe))}):r.push(encodeURIComponent(Se)+"="+encodeURIComponent(Ee));return r.length?"&"+r.join("&"):""}function querystringDecode(Ae){const r={};return Ae.replace(/^\?/,"").split("&").forEach(Ee=>{if(Ee){const[Fe,Be]=Ee.split("=");r[decodeURIComponent(Fe)]=decodeURIComponent(Be)}}),r}function extractQuerystring(Ae){const r=Ae.indexOf("?");if(!r)return"";const Se=Ae.indexOf("#",r);return Ae.substring(r,Se>0?Se:void 0)}function createSubscribe(Ae,r){const Se=new ObserverProxy(Ae,r);return Se.subscribe.bind(Se)}class ObserverProxy{constructor(r,Se){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Se,this.task.then(()=>{r(this)}).catch(Ee=>{this.error(Ee)})}next(r){this.forEachObserver(Se=>{Se.next(r)})}error(r){this.forEachObserver(Se=>{Se.error(r)}),this.close(r)}complete(){this.forEachObserver(r=>{r.complete()}),this.close()}subscribe(r,Se,Ee){let Fe;if(r===void 0&&Se===void 0&&Ee===void 0)throw new Error("Missing Observer.");implementsAnyMethods(r,["next","error","complete"])?Fe=r:Fe={next:r,error:Se,complete:Ee},Fe.next===void 0&&(Fe.next=noop),Fe.error===void 0&&(Fe.error=noop),Fe.complete===void 0&&(Fe.complete=noop);const Be=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Fe.error(this.finalError):Fe.complete()}catch{}}),this.observers.push(Fe),Be}unsubscribeOne(r){this.observers===void 0||this.observers[r]===void 0||(delete this.observers[r],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(r){if(!this.finalized)for(let Se=0;Se<this.observers.length;Se++)this.sendOne(Se,r)}sendOne(r,Se){this.task.then(()=>{if(this.observers!==void 0&&this.observers[r]!==void 0)try{Se(this.observers[r])}catch(Ee){typeof console<"u"&&console.error&&console.error(Ee)}})}close(r){this.finalized||(this.finalized=!0,r!==void 0&&(this.finalError=r),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function implementsAnyMethods(Ae,r){if(typeof Ae!="object"||Ae===null)return!1;for(const Se of r)if(Se in Ae&&typeof Ae[Se]=="function")return!0;return!1}function noop(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_INTERVAL_MILLIS=1e3,DEFAULT_BACKOFF_FACTOR=2,MAX_VALUE_MILLIS=14400*1e3,RANDOM_FACTOR=.5;function calculateBackoffMillis(Ae,r=DEFAULT_INTERVAL_MILLIS,Se=DEFAULT_BACKOFF_FACTOR){const Ee=r*Math.pow(Se,Ae),Fe=Math.round(RANDOM_FACTOR*Ee*(Math.random()-.5)*2);return Math.min(MAX_VALUE_MILLIS,Ee+Fe)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getModularInstance(Ae){return Ae&&Ae._delegate?Ae._delegate:Ae}class Component{constructor(r,Se,Ee){this.name=r,this.instanceFactory=Se,this.type=Ee,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(r){return this.instantiationMode=r,this}setMultipleInstances(r){return this.multipleInstances=r,this}setServiceProps(r){return this.serviceProps=r,this}setInstanceCreatedCallback(r){return this.onInstanceCreated=r,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME$1="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Provider{constructor(r,Se){this.name=r,this.container=Se,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(r){const Se=this.normalizeInstanceIdentifier(r);if(!this.instancesDeferred.has(Se)){const Ee=new Deferred;if(this.instancesDeferred.set(Se,Ee),this.isInitialized(Se)||this.shouldAutoInitialize())try{const Fe=this.getOrInitializeService({instanceIdentifier:Se});Fe&&Ee.resolve(Fe)}catch{}}return this.instancesDeferred.get(Se).promise}getImmediate(r){const Se=this.normalizeInstanceIdentifier(r?.identifier),Ee=r?.optional??!1;if(this.isInitialized(Se)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:Se})}catch(Fe){if(Ee)return null;throw Fe}else{if(Ee)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(r){if(r.name!==this.name)throw Error(`Mismatching Component ${r.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=r,!!this.shouldAutoInitialize()){if(isComponentEager(r))try{this.getOrInitializeService({instanceIdentifier:DEFAULT_ENTRY_NAME$1})}catch{}for(const[Se,Ee]of this.instancesDeferred.entries()){const Fe=this.normalizeInstanceIdentifier(Se);try{const Be=this.getOrInitializeService({instanceIdentifier:Fe});Ee.resolve(Be)}catch{}}}}clearInstance(r=DEFAULT_ENTRY_NAME$1){this.instancesDeferred.delete(r),this.instancesOptions.delete(r),this.instances.delete(r)}async delete(){const r=Array.from(this.instances.values());await Promise.all([...r.filter(Se=>"INTERNAL"in Se).map(Se=>Se.INTERNAL.delete()),...r.filter(Se=>"_delete"in Se).map(Se=>Se._delete())])}isComponentSet(){return this.component!=null}isInitialized(r=DEFAULT_ENTRY_NAME$1){return this.instances.has(r)}getOptions(r=DEFAULT_ENTRY_NAME$1){return this.instancesOptions.get(r)||{}}initialize(r={}){const{options:Se={}}=r,Ee=this.normalizeInstanceIdentifier(r.instanceIdentifier);if(this.isInitialized(Ee))throw Error(`${this.name}(${Ee}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Fe=this.getOrInitializeService({instanceIdentifier:Ee,options:Se});for(const[Be,Ve]of this.instancesDeferred.entries()){const _e=this.normalizeInstanceIdentifier(Be);Ee===_e&&Ve.resolve(Fe)}return Fe}onInit(r,Se){const Ee=this.normalizeInstanceIdentifier(Se),Fe=this.onInitCallbacks.get(Ee)??new Set;Fe.add(r),this.onInitCallbacks.set(Ee,Fe);const Be=this.instances.get(Ee);return Be&&r(Be,Ee),()=>{Fe.delete(r)}}invokeOnInitCallbacks(r,Se){const Ee=this.onInitCallbacks.get(Se);if(Ee)for(const Fe of Ee)try{Fe(r,Se)}catch{}}getOrInitializeService({instanceIdentifier:r,options:Se={}}){let Ee=this.instances.get(r);if(!Ee&&this.component&&(Ee=this.component.instanceFactory(this.container,{instanceIdentifier:normalizeIdentifierForFactory(r),options:Se}),this.instances.set(r,Ee),this.instancesOptions.set(r,Se),this.invokeOnInitCallbacks(Ee,r),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,r,Ee)}catch{}return Ee||null}normalizeInstanceIdentifier(r=DEFAULT_ENTRY_NAME$1){return this.component?this.component.multipleInstances?r:DEFAULT_ENTRY_NAME$1:r}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function normalizeIdentifierForFactory(Ae){return Ae===DEFAULT_ENTRY_NAME$1?void 0:Ae}function isComponentEager(Ae){return Ae.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ComponentContainer{constructor(r){this.name=r,this.providers=new Map}addComponent(r){const Se=this.getProvider(r.name);if(Se.isComponentSet())throw new Error(`Component ${r.name} has already been registered with ${this.name}`);Se.setComponent(r)}addOrOverwriteComponent(r){this.getProvider(r.name).isComponentSet()&&this.providers.delete(r.name),this.addComponent(r)}getProvider(r){if(this.providers.has(r))return this.providers.get(r);const Se=new Provider(r,this);return this.providers.set(r,Se),Se}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LogLevel;(function(Ae){Ae[Ae.DEBUG=0]="DEBUG",Ae[Ae.VERBOSE=1]="VERBOSE",Ae[Ae.INFO=2]="INFO",Ae[Ae.WARN=3]="WARN",Ae[Ae.ERROR=4]="ERROR",Ae[Ae.SILENT=5]="SILENT"})(LogLevel||(LogLevel={}));const levelStringToEnum={debug:LogLevel.DEBUG,verbose:LogLevel.VERBOSE,info:LogLevel.INFO,warn:LogLevel.WARN,error:LogLevel.ERROR,silent:LogLevel.SILENT},defaultLogLevel=LogLevel.INFO,ConsoleMethod={[LogLevel.DEBUG]:"log",[LogLevel.VERBOSE]:"log",[LogLevel.INFO]:"info",[LogLevel.WARN]:"warn",[LogLevel.ERROR]:"error"},defaultLogHandler=(Ae,r,...Se)=>{if(r<Ae.logLevel)return;const Ee=new Date().toISOString(),Fe=ConsoleMethod[r];if(Fe)console[Fe](`[${Ee}]  ${Ae.name}:`,...Se);else throw new Error(`Attempted to log a message with an invalid logType (value: ${r})`)};class Logger{constructor(r){this.name=r,this._logLevel=defaultLogLevel,this._logHandler=defaultLogHandler,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(r){if(!(r in LogLevel))throw new TypeError(`Invalid value "${r}" assigned to \`logLevel\``);this._logLevel=r}setLogLevel(r){this._logLevel=typeof r=="string"?levelStringToEnum[r]:r}get logHandler(){return this._logHandler}set logHandler(r){if(typeof r!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=r}get userLogHandler(){return this._userLogHandler}set userLogHandler(r){this._userLogHandler=r}debug(...r){this._userLogHandler&&this._userLogHandler(this,LogLevel.DEBUG,...r),this._logHandler(this,LogLevel.DEBUG,...r)}log(...r){this._userLogHandler&&this._userLogHandler(this,LogLevel.VERBOSE,...r),this._logHandler(this,LogLevel.VERBOSE,...r)}info(...r){this._userLogHandler&&this._userLogHandler(this,LogLevel.INFO,...r),this._logHandler(this,LogLevel.INFO,...r)}warn(...r){this._userLogHandler&&this._userLogHandler(this,LogLevel.WARN,...r),this._logHandler(this,LogLevel.WARN,...r)}error(...r){this._userLogHandler&&this._userLogHandler(this,LogLevel.ERROR,...r),this._logHandler(this,LogLevel.ERROR,...r)}}const instanceOfAny=(Ae,r)=>r.some(Se=>Ae instanceof Se);let idbProxyableTypes,cursorAdvanceMethods;function getIdbProxyableTypes(){return idbProxyableTypes||(idbProxyableTypes=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function getCursorAdvanceMethods(){return cursorAdvanceMethods||(cursorAdvanceMethods=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cursorRequestMap=new WeakMap,transactionDoneMap=new WeakMap,transactionStoreNamesMap=new WeakMap,transformCache=new WeakMap,reverseTransformCache=new WeakMap;function promisifyRequest(Ae){const r=new Promise((Se,Ee)=>{const Fe=()=>{Ae.removeEventListener("success",Be),Ae.removeEventListener("error",Ve)},Be=()=>{Se(wrap(Ae.result)),Fe()},Ve=()=>{Ee(Ae.error),Fe()};Ae.addEventListener("success",Be),Ae.addEventListener("error",Ve)});return r.then(Se=>{Se instanceof IDBCursor&&cursorRequestMap.set(Se,Ae)}).catch(()=>{}),reverseTransformCache.set(r,Ae),r}function cacheDonePromiseForTransaction(Ae){if(transactionDoneMap.has(Ae))return;const r=new Promise((Se,Ee)=>{const Fe=()=>{Ae.removeEventListener("complete",Be),Ae.removeEventListener("error",Ve),Ae.removeEventListener("abort",Ve)},Be=()=>{Se(),Fe()},Ve=()=>{Ee(Ae.error||new DOMException("AbortError","AbortError")),Fe()};Ae.addEventListener("complete",Be),Ae.addEventListener("error",Ve),Ae.addEventListener("abort",Ve)});transactionDoneMap.set(Ae,r)}let idbProxyTraps={get(Ae,r,Se){if(Ae instanceof IDBTransaction){if(r==="done")return transactionDoneMap.get(Ae);if(r==="objectStoreNames")return Ae.objectStoreNames||transactionStoreNamesMap.get(Ae);if(r==="store")return Se.objectStoreNames[1]?void 0:Se.objectStore(Se.objectStoreNames[0])}return wrap(Ae[r])},set(Ae,r,Se){return Ae[r]=Se,!0},has(Ae,r){return Ae instanceof IDBTransaction&&(r==="done"||r==="store")?!0:r in Ae}};function replaceTraps(Ae){idbProxyTraps=Ae(idbProxyTraps)}function wrapFunction(Ae){return Ae===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(r,...Se){const Ee=Ae.call(unwrap(this),r,...Se);return transactionStoreNamesMap.set(Ee,r.sort?r.sort():[r]),wrap(Ee)}:getCursorAdvanceMethods().includes(Ae)?function(...r){return Ae.apply(unwrap(this),r),wrap(cursorRequestMap.get(this))}:function(...r){return wrap(Ae.apply(unwrap(this),r))}}function transformCachableValue(Ae){return typeof Ae=="function"?wrapFunction(Ae):(Ae instanceof IDBTransaction&&cacheDonePromiseForTransaction(Ae),instanceOfAny(Ae,getIdbProxyableTypes())?new Proxy(Ae,idbProxyTraps):Ae)}function wrap(Ae){if(Ae instanceof IDBRequest)return promisifyRequest(Ae);if(transformCache.has(Ae))return transformCache.get(Ae);const r=transformCachableValue(Ae);return r!==Ae&&(transformCache.set(Ae,r),reverseTransformCache.set(r,Ae)),r}const unwrap=Ae=>reverseTransformCache.get(Ae);function openDB(Ae,r,{blocked:Se,upgrade:Ee,blocking:Fe,terminated:Be}={}){const Ve=indexedDB.open(Ae,r),_e=wrap(Ve);return Ee&&Ve.addEventListener("upgradeneeded",ze=>{Ee(wrap(Ve.result),ze.oldVersion,ze.newVersion,wrap(Ve.transaction),ze)}),Se&&Ve.addEventListener("blocked",ze=>Se(ze.oldVersion,ze.newVersion,ze)),_e.then(ze=>{Be&&ze.addEventListener("close",()=>Be()),Fe&&ze.addEventListener("versionchange",xe=>Fe(xe.oldVersion,xe.newVersion,xe))}).catch(()=>{}),_e}const readMethods=["get","getKey","getAll","getAllKeys","count"],writeMethods=["put","add","delete","clear"],cachedMethods=new Map;function getMethod(Ae,r){if(!(Ae instanceof IDBDatabase&&!(r in Ae)&&typeof r=="string"))return;if(cachedMethods.get(r))return cachedMethods.get(r);const Se=r.replace(/FromIndex$/,""),Ee=r!==Se,Fe=writeMethods.includes(Se);if(!(Se in(Ee?IDBIndex:IDBObjectStore).prototype)||!(Fe||readMethods.includes(Se)))return;const Be=async function(Ve,..._e){const ze=this.transaction(Ve,Fe?"readwrite":"readonly");let xe=ze.store;return Ee&&(xe=xe.index(_e.shift())),(await Promise.all([xe[Se](..._e),Fe&&ze.done]))[0]};return cachedMethods.set(r,Be),Be}replaceTraps(Ae=>({...Ae,get:(r,Se,Ee)=>getMethod(r,Se)||Ae.get(r,Se,Ee),has:(r,Se)=>!!getMethod(r,Se)||Ae.has(r,Se)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PlatformLoggerServiceImpl{constructor(r){this.container=r}getPlatformInfoString(){return this.container.getProviders().map(Se=>{if(isVersionServiceProvider(Se)){const Ee=Se.getImmediate();return`${Ee.library}/${Ee.version}`}else return null}).filter(Se=>Se).join(" ")}}function isVersionServiceProvider(Ae){return Ae.getComponent()?.type==="VERSION"}const name$q="@firebase/app",version$1$1="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logger$1=new Logger("@firebase/app"),name$p="@firebase/app-compat",name$o="@firebase/analytics-compat",name$n="@firebase/analytics",name$m="@firebase/app-check-compat",name$l="@firebase/app-check",name$k="@firebase/auth",name$j="@firebase/auth-compat",name$i="@firebase/database",name$h="@firebase/data-connect",name$g="@firebase/database-compat",name$f="@firebase/functions",name$e="@firebase/functions-compat",name$d="@firebase/installations",name$c="@firebase/installations-compat",name$b="@firebase/messaging",name$a="@firebase/messaging-compat",name$9="@firebase/performance",name$8="@firebase/performance-compat",name$7="@firebase/remote-config",name$6="@firebase/remote-config-compat",name$5="@firebase/storage",name$4="@firebase/storage-compat",name$3$1="@firebase/firestore",name$2$1="@firebase/ai",name$1$1="@firebase/firestore-compat",name$r="firebase",version$4="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME="[DEFAULT]",PLATFORM_LOG_STRING={[name$q]:"fire-core",[name$p]:"fire-core-compat",[name$n]:"fire-analytics",[name$o]:"fire-analytics-compat",[name$l]:"fire-app-check",[name$m]:"fire-app-check-compat",[name$k]:"fire-auth",[name$j]:"fire-auth-compat",[name$i]:"fire-rtdb",[name$h]:"fire-data-connect",[name$g]:"fire-rtdb-compat",[name$f]:"fire-fn",[name$e]:"fire-fn-compat",[name$d]:"fire-iid",[name$c]:"fire-iid-compat",[name$b]:"fire-fcm",[name$a]:"fire-fcm-compat",[name$9]:"fire-perf",[name$8]:"fire-perf-compat",[name$7]:"fire-rc",[name$6]:"fire-rc-compat",[name$5]:"fire-gcs",[name$4]:"fire-gcs-compat",[name$3$1]:"fire-fst",[name$1$1]:"fire-fst-compat",[name$2$1]:"fire-vertex","fire-js":"fire-js",[name$r]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _apps=new Map,_serverApps=new Map,_components=new Map;function _addComponent(Ae,r){try{Ae.container.addComponent(r)}catch(Se){logger$1.debug(`Component ${r.name} failed to register with FirebaseApp ${Ae.name}`,Se)}}function _registerComponent(Ae){const r=Ae.name;if(_components.has(r))return logger$1.debug(`There were multiple attempts to register component ${r}.`),!1;_components.set(r,Ae);for(const Se of _apps.values())_addComponent(Se,Ae);for(const Se of _serverApps.values())_addComponent(Se,Ae);return!0}function _getProvider(Ae,r){const Se=Ae.container.getProvider("heartbeat").getImmediate({optional:!0});return Se&&Se.triggerHeartbeat(),Ae.container.getProvider(r)}function _isFirebaseServerApp(Ae){return Ae==null?!1:Ae.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERRORS$1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ERROR_FACTORY$2=new ErrorFactory("app","Firebase",ERRORS$1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirebaseAppImpl{constructor(r,Se,Ee){this._isDeleted=!1,this._options={...r},this._config={...Se},this._name=Se.name,this._automaticDataCollectionEnabled=Se.automaticDataCollectionEnabled,this._container=Ee,this.container.addComponent(new Component("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(r){this.checkDestroyed(),this._automaticDataCollectionEnabled=r}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(r){this._isDeleted=r}checkDestroyed(){if(this.isDeleted)throw ERROR_FACTORY$2.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SDK_VERSION=version$4;function initializeApp(Ae,r={}){let Se=Ae;typeof r!="object"&&(r={name:r});const Ee={name:DEFAULT_ENTRY_NAME,automaticDataCollectionEnabled:!0,...r},Fe=Ee.name;if(typeof Fe!="string"||!Fe)throw ERROR_FACTORY$2.create("bad-app-name",{appName:String(Fe)});if(Se||(Se=getDefaultAppConfig()),!Se)throw ERROR_FACTORY$2.create("no-options");const Be=_apps.get(Fe);if(Be){if(deepEqual(Se,Be.options)&&deepEqual(Ee,Be.config))return Be;throw ERROR_FACTORY$2.create("duplicate-app",{appName:Fe})}const Ve=new ComponentContainer(Fe);for(const ze of _components.values())Ve.addComponent(ze);const _e=new FirebaseAppImpl(Se,Ee,Ve);return _apps.set(Fe,_e),_e}function getApp(Ae=DEFAULT_ENTRY_NAME){const r=_apps.get(Ae);if(!r&&Ae===DEFAULT_ENTRY_NAME&&getDefaultAppConfig())return initializeApp();if(!r)throw ERROR_FACTORY$2.create("no-app",{appName:Ae});return r}function registerVersion(Ae,r,Se){let Ee=PLATFORM_LOG_STRING[Ae]??Ae;Se&&(Ee+=`-${Se}`);const Fe=Ee.match(/\s|\//),Be=r.match(/\s|\//);if(Fe||Be){const Ve=[`Unable to register library "${Ee}" with version "${r}":`];Fe&&Ve.push(`library name "${Ee}" contains illegal characters (whitespace or "/")`),Fe&&Be&&Ve.push("and"),Be&&Ve.push(`version name "${r}" contains illegal characters (whitespace or "/")`),logger$1.warn(Ve.join(" "));return}_registerComponent(new Component(`${Ee}-version`,()=>({library:Ee,version:r}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME$1="firebase-heartbeat-database",DB_VERSION$1=1,STORE_NAME="firebase-heartbeat-store";let dbPromise$1=null;function getDbPromise$1(){return dbPromise$1||(dbPromise$1=openDB(DB_NAME$1,DB_VERSION$1,{upgrade:(Ae,r)=>{switch(r){case 0:try{Ae.createObjectStore(STORE_NAME)}catch(Se){console.warn(Se)}}}}).catch(Ae=>{throw ERROR_FACTORY$2.create("idb-open",{originalErrorMessage:Ae.message})})),dbPromise$1}async function readHeartbeatsFromIndexedDB(Ae){try{const Se=(await getDbPromise$1()).transaction(STORE_NAME),Ee=await Se.objectStore(STORE_NAME).get(computeKey(Ae));return await Se.done,Ee}catch(r){if(r instanceof FirebaseError)logger$1.warn(r.message);else{const Se=ERROR_FACTORY$2.create("idb-get",{originalErrorMessage:r?.message});logger$1.warn(Se.message)}}}async function writeHeartbeatsToIndexedDB(Ae,r){try{const Ee=(await getDbPromise$1()).transaction(STORE_NAME,"readwrite");await Ee.objectStore(STORE_NAME).put(r,computeKey(Ae)),await Ee.done}catch(Se){if(Se instanceof FirebaseError)logger$1.warn(Se.message);else{const Ee=ERROR_FACTORY$2.create("idb-set",{originalErrorMessage:Se?.message});logger$1.warn(Ee.message)}}}function computeKey(Ae){return`${Ae.name}!${Ae.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MAX_HEADER_BYTES=1024,MAX_NUM_STORED_HEARTBEATS=30;class HeartbeatServiceImpl{constructor(r){this.container=r,this._heartbeatsCache=null;const Se=this.container.getProvider("app").getImmediate();this._storage=new HeartbeatStorageImpl(Se),this._heartbeatsCachePromise=this._storage.read().then(Ee=>(this._heartbeatsCache=Ee,Ee))}async triggerHeartbeat(){try{const Se=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ee=getUTCDateString();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===Ee||this._heartbeatsCache.heartbeats.some(Fe=>Fe.date===Ee))return;if(this._heartbeatsCache.heartbeats.push({date:Ee,agent:Se}),this._heartbeatsCache.heartbeats.length>MAX_NUM_STORED_HEARTBEATS){const Fe=getEarliestHeartbeatIdx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(Fe,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){logger$1.warn(r)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=getUTCDateString(),{heartbeatsToSend:Se,unsentEntries:Ee}=extractHeartbeatsForHeader(this._heartbeatsCache.heartbeats),Fe=base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:Se}));return this._heartbeatsCache.lastSentHeartbeatDate=r,Ee.length>0?(this._heartbeatsCache.heartbeats=Ee,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),Fe}catch(r){return logger$1.warn(r),""}}}function getUTCDateString(){return new Date().toISOString().substring(0,10)}function extractHeartbeatsForHeader(Ae,r=MAX_HEADER_BYTES){const Se=[];let Ee=Ae.slice();for(const Fe of Ae){const Be=Se.find(Ve=>Ve.agent===Fe.agent);if(Be){if(Be.dates.push(Fe.date),countBytes(Se)>r){Be.dates.pop();break}}else if(Se.push({agent:Fe.agent,dates:[Fe.date]}),countBytes(Se)>r){Se.pop();break}Ee=Ee.slice(1)}return{heartbeatsToSend:Se,unsentEntries:Ee}}class HeartbeatStorageImpl{constructor(r){this.app=r,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return isIndexedDBAvailable()?validateIndexedDBOpenable().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const Se=await readHeartbeatsFromIndexedDB(this.app);return Se?.heartbeats?Se:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(r){if(await this._canUseIndexedDBPromise){const Ee=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:r.lastSentHeartbeatDate??Ee.lastSentHeartbeatDate,heartbeats:r.heartbeats})}else return}async add(r){if(await this._canUseIndexedDBPromise){const Ee=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:r.lastSentHeartbeatDate??Ee.lastSentHeartbeatDate,heartbeats:[...Ee.heartbeats,...r.heartbeats]})}else return}}function countBytes(Ae){return base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:Ae})).length}function getEarliestHeartbeatIdx(Ae){if(Ae.length===0)return-1;let r=0,Se=Ae[0].date;for(let Ee=1;Ee<Ae.length;Ee++)Ae[Ee].date<Se&&(Se=Ae[Ee].date,r=Ee);return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerCoreComponents(Ae){_registerComponent(new Component("platform-logger",r=>new PlatformLoggerServiceImpl(r),"PRIVATE")),_registerComponent(new Component("heartbeat",r=>new HeartbeatServiceImpl(r),"PRIVATE")),registerVersion(name$q,version$1$1,Ae),registerVersion(name$q,version$1$1,"esm2020"),registerVersion("fire-js","")}registerCoreComponents("");var name$3="firebase",version$3="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */registerVersion(name$3,version$3,"app");function _prodErrorMap(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const prodErrorMap=_prodErrorMap,_DEFAULT_AUTH_ERROR_FACTORY=new ErrorFactory("auth","Firebase",_prodErrorMap());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logClient=new Logger("@firebase/auth");function _logWarn(Ae,...r){logClient.logLevel<=LogLevel.WARN&&logClient.warn(`Auth (${SDK_VERSION}): ${Ae}`,...r)}function _logError(Ae,...r){logClient.logLevel<=LogLevel.ERROR&&logClient.error(`Auth (${SDK_VERSION}): ${Ae}`,...r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _fail(Ae,...r){throw createErrorInternal(Ae,...r)}function _createError(Ae,...r){return createErrorInternal(Ae,...r)}function _errorWithCustomMessage(Ae,r,Se){const Ee={...prodErrorMap(),[r]:Se};return new ErrorFactory("auth","Firebase",Ee).create(r,{appName:Ae.name})}function _serverAppCurrentUserOperationNotSupportedError(Ae){return _errorWithCustomMessage(Ae,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _assertInstanceOf(Ae,r,Se){const Ee=Se;if(!(r instanceof Ee))throw Ee.name!==r.constructor.name&&_fail(Ae,"argument-error"),_errorWithCustomMessage(Ae,"argument-error",`Type of ${r.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function createErrorInternal(Ae,...r){if(typeof Ae!="string"){const Se=r[0],Ee=[...r.slice(1)];return Ee[0]&&(Ee[0].appName=Ae.name),Ae._errorFactory.create(Se,...Ee)}return _DEFAULT_AUTH_ERROR_FACTORY.create(Ae,...r)}function _assert(Ae,r,...Se){if(!Ae)throw createErrorInternal(r,...Se)}function debugFail(Ae){const r="INTERNAL ASSERTION FAILED: "+Ae;throw _logError(r),new Error(r)}function debugAssert(Ae,r){Ae||debugFail(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getCurrentUrl(){return typeof self<"u"&&self.location?.href||""}function _isHttpOrHttps(){return _getCurrentScheme()==="http:"||_getCurrentScheme()==="https:"}function _getCurrentScheme(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _isOnline(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_isHttpOrHttps()||isBrowserExtension()||"connection"in navigator)?navigator.onLine:!0}function _getUserLanguage(){if(typeof navigator>"u")return null;const Ae=navigator;return Ae.languages&&Ae.languages[0]||Ae.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Delay{constructor(r,Se){this.shortDelay=r,this.longDelay=Se,debugAssert(Se>r,"Short delay should be less than long delay!"),this.isMobile=isMobileCordova()||isReactNative()}get(){return _isOnline()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _emulatorUrl(Ae,r){debugAssert(Ae.emulator,"Emulator should always be set here");const{url:Se}=Ae.emulator;return r?`${Se}${r.startsWith("/")?r.slice(1):r}`:Se}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FetchProvider{static initialize(r,Se,Ee){this.fetchImpl=r,Se&&(this.headersImpl=Se),Ee&&(this.responseImpl=Ee)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;debugFail("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;debugFail("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;debugFail("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SERVER_ERROR_MAP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CookieAuthProxiedEndpoints=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],DEFAULT_API_TIMEOUT_MS=new Delay(3e4,6e4);function _addTidIfNecessary(Ae,r){return Ae.tenantId&&!r.tenantId?{...r,tenantId:Ae.tenantId}:r}async function _performApiRequest(Ae,r,Se,Ee,Fe={}){return _performFetchWithErrorHandling(Ae,Fe,async()=>{let Be={},Ve={};Ee&&(r==="GET"?Ve=Ee:Be={body:JSON.stringify(Ee)});const _e=querystring({key:Ae.config.apiKey,...Ve}).slice(1),ze=await Ae._getAdditionalHeaders();ze["Content-Type"]="application/json",Ae.languageCode&&(ze["X-Firebase-Locale"]=Ae.languageCode);const xe={method:r,headers:ze,...Be};return isCloudflareWorker()||(xe.referrerPolicy="no-referrer"),Ae.emulatorConfig&&isCloudWorkstation(Ae.emulatorConfig.host)&&(xe.credentials="include"),FetchProvider.fetch()(await _getFinalTarget(Ae,Ae.config.apiHost,Se,_e),xe)})}async function _performFetchWithErrorHandling(Ae,r,Se){Ae._canInitEmulator=!1;const Ee={...SERVER_ERROR_MAP,...r};try{const Fe=new NetworkTimeout(Ae),Be=await Promise.race([Se(),Fe.promise]);Fe.clearNetworkTimeout();const Ve=await Be.json();if("needConfirmation"in Ve)throw _makeTaggedError(Ae,"account-exists-with-different-credential",Ve);if(Be.ok&&!("errorMessage"in Ve))return Ve;{const _e=Be.ok?Ve.errorMessage:Ve.error.message,[ze,xe]=_e.split(" : ");if(ze==="FEDERATED_USER_ID_ALREADY_LINKED")throw _makeTaggedError(Ae,"credential-already-in-use",Ve);if(ze==="EMAIL_EXISTS")throw _makeTaggedError(Ae,"email-already-in-use",Ve);if(ze==="USER_DISABLED")throw _makeTaggedError(Ae,"user-disabled",Ve);const Ie=Ee[ze]||ze.toLowerCase().replace(/[_\s]+/g,"-");if(xe)throw _errorWithCustomMessage(Ae,Ie,xe);_fail(Ae,Ie)}}catch(Fe){if(Fe instanceof FirebaseError)throw Fe;_fail(Ae,"network-request-failed",{message:String(Fe)})}}async function _performSignInRequest(Ae,r,Se,Ee,Fe={}){const Be=await _performApiRequest(Ae,r,Se,Ee,Fe);return"mfaPendingCredential"in Be&&_fail(Ae,"multi-factor-auth-required",{_serverResponse:Be}),Be}async function _getFinalTarget(Ae,r,Se,Ee){const Fe=`${r}${Se}?${Ee}`,Be=Ae,Ve=Be.config.emulator?_emulatorUrl(Ae.config,Fe):`${Ae.config.apiScheme}://${Fe}`;return CookieAuthProxiedEndpoints.includes(Se)&&(await Be._persistenceManagerAvailable,Be._getPersistenceType()==="COOKIE")?Be._getPersistence()._getFinalTarget(Ve).toString():Ve}function _parseEnforcementState(Ae){switch(Ae){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class NetworkTimeout{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(r){this.auth=r,this.timer=null,this.promise=new Promise((Se,Ee)=>{this.timer=setTimeout(()=>Ee(_createError(this.auth,"network-request-failed")),DEFAULT_API_TIMEOUT_MS.get())})}}function _makeTaggedError(Ae,r,Se){const Ee={appName:Ae.name};Se.email&&(Ee.email=Se.email),Se.phoneNumber&&(Ee.phoneNumber=Se.phoneNumber);const Fe=_createError(Ae,r,Ee);return Fe.customData._tokenResponse=Se,Fe}function isEnterprise(Ae){return Ae!==void 0&&Ae.enterprise!==void 0}class RecaptchaConfig{constructor(r){if(this.siteKey="",this.recaptchaEnforcementState=[],r.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=r.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=r.recaptchaEnforcementState}getProviderEnforcementState(r){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const Se of this.recaptchaEnforcementState)if(Se.provider&&Se.provider===r)return _parseEnforcementState(Se.enforcementState);return null}isProviderEnabled(r){return this.getProviderEnforcementState(r)==="ENFORCE"||this.getProviderEnforcementState(r)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function getRecaptchaConfig(Ae,r){return _performApiRequest(Ae,"GET","/v2/recaptchaConfig",_addTidIfNecessary(Ae,r))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function deleteAccount(Ae,r){return _performApiRequest(Ae,"POST","/v1/accounts:delete",r)}async function getAccountInfo(Ae,r){return _performApiRequest(Ae,"POST","/v1/accounts:lookup",r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function utcTimestampToDateString(Ae){if(Ae)try{const r=new Date(Number(Ae));if(!isNaN(r.getTime()))return r.toUTCString()}catch{}}async function getIdTokenResult(Ae,r=!1){const Se=getModularInstance(Ae),Ee=await Se.getIdToken(r),Fe=_parseToken(Ee);_assert(Fe&&Fe.exp&&Fe.auth_time&&Fe.iat,Se.auth,"internal-error");const Be=typeof Fe.firebase=="object"?Fe.firebase:void 0,Ve=Be?.sign_in_provider;return{claims:Fe,token:Ee,authTime:utcTimestampToDateString(secondsStringToMilliseconds(Fe.auth_time)),issuedAtTime:utcTimestampToDateString(secondsStringToMilliseconds(Fe.iat)),expirationTime:utcTimestampToDateString(secondsStringToMilliseconds(Fe.exp)),signInProvider:Ve||null,signInSecondFactor:Be?.sign_in_second_factor||null}}function secondsStringToMilliseconds(Ae){return Number(Ae)*1e3}function _parseToken(Ae){const[r,Se,Ee]=Ae.split(".");if(r===void 0||Se===void 0||Ee===void 0)return _logError("JWT malformed, contained fewer than 3 sections"),null;try{const Fe=base64Decode(Se);return Fe?JSON.parse(Fe):(_logError("Failed to decode base64 JWT payload"),null)}catch(Fe){return _logError("Caught error parsing JWT payload as JSON",Fe?.toString()),null}}function _tokenExpiresIn(Ae){const r=_parseToken(Ae);return _assert(r,"internal-error"),_assert(typeof r.exp<"u","internal-error"),_assert(typeof r.iat<"u","internal-error"),Number(r.exp)-Number(r.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _logoutIfInvalidated(Ae,r,Se=!1){if(Se)return r;try{return await r}catch(Ee){throw Ee instanceof FirebaseError&&isUserInvalidated(Ee)&&Ae.auth.currentUser===Ae&&await Ae.auth.signOut(),Ee}}function isUserInvalidated({code:Ae}){return Ae==="auth/user-disabled"||Ae==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ProactiveRefresh{constructor(r){this.user=r,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(r){if(r){const Se=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),Se}else{this.errorBackoff=3e4;const Ee=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,Ee)}}schedule(r=!1){if(!this.isRunning)return;const Se=this.getInterval(r);this.timerId=setTimeout(async()=>{await this.iteration()},Se)}async iteration(){try{await this.user.getIdToken(!0)}catch(r){r?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UserMetadata{constructor(r,Se){this.createdAt=r,this.lastLoginAt=Se,this._initializeTime()}_initializeTime(){this.lastSignInTime=utcTimestampToDateString(this.lastLoginAt),this.creationTime=utcTimestampToDateString(this.createdAt)}_copy(r){this.createdAt=r.createdAt,this.lastLoginAt=r.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reloadWithoutSaving(Ae){const r=Ae.auth,Se=await Ae.getIdToken(),Ee=await _logoutIfInvalidated(Ae,getAccountInfo(r,{idToken:Se}));_assert(Ee?.users.length,r,"internal-error");const Fe=Ee.users[0];Ae._notifyReloadListener(Fe);const Be=Fe.providerUserInfo?.length?extractProviderData(Fe.providerUserInfo):[],Ve=mergeProviderData(Ae.providerData,Be),_e=Ae.isAnonymous,ze=!(Ae.email&&Fe.passwordHash)&&!Ve?.length,xe=_e?ze:!1,Ie={uid:Fe.localId,displayName:Fe.displayName||null,photoURL:Fe.photoUrl||null,email:Fe.email||null,emailVerified:Fe.emailVerified||!1,phoneNumber:Fe.phoneNumber||null,tenantId:Fe.tenantId||null,providerData:Ve,metadata:new UserMetadata(Fe.createdAt,Fe.lastLoginAt),isAnonymous:xe};Object.assign(Ae,Ie)}async function reload(Ae){const r=getModularInstance(Ae);await _reloadWithoutSaving(r),await r.auth._persistUserIfCurrent(r),r.auth._notifyListenersIfCurrent(r)}function mergeProviderData(Ae,r){return[...Ae.filter(Ee=>!r.some(Fe=>Fe.providerId===Ee.providerId)),...r]}function extractProviderData(Ae){return Ae.map(({providerId:r,...Se})=>({providerId:r,uid:Se.rawId||"",displayName:Se.displayName||null,email:Se.email||null,phoneNumber:Se.phoneNumber||null,photoURL:Se.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function requestStsToken(Ae,r){const Se=await _performFetchWithErrorHandling(Ae,{},async()=>{const Ee=querystring({grant_type:"refresh_token",refresh_token:r}).slice(1),{tokenApiHost:Fe,apiKey:Be}=Ae.config,Ve=await _getFinalTarget(Ae,Fe,"/v1/token",`key=${Be}`),_e=await Ae._getAdditionalHeaders();_e["Content-Type"]="application/x-www-form-urlencoded";const ze={method:"POST",headers:_e,body:Ee};return Ae.emulatorConfig&&isCloudWorkstation(Ae.emulatorConfig.host)&&(ze.credentials="include"),FetchProvider.fetch()(Ve,ze)});return{accessToken:Se.access_token,expiresIn:Se.expires_in,refreshToken:Se.refresh_token}}async function revokeToken(Ae,r){return _performApiRequest(Ae,"POST","/v2/accounts:revokeToken",_addTidIfNecessary(Ae,r))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StsTokenManager{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(r){_assert(r.idToken,"internal-error"),_assert(typeof r.idToken<"u","internal-error"),_assert(typeof r.refreshToken<"u","internal-error");const Se="expiresIn"in r&&typeof r.expiresIn<"u"?Number(r.expiresIn):_tokenExpiresIn(r.idToken);this.updateTokensAndExpiration(r.idToken,r.refreshToken,Se)}updateFromIdToken(r){_assert(r.length!==0,"internal-error");const Se=_tokenExpiresIn(r);this.updateTokensAndExpiration(r,null,Se)}async getToken(r,Se=!1){return!Se&&this.accessToken&&!this.isExpired?this.accessToken:(_assert(this.refreshToken,r,"user-token-expired"),this.refreshToken?(await this.refresh(r,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(r,Se){const{accessToken:Ee,refreshToken:Fe,expiresIn:Be}=await requestStsToken(r,Se);this.updateTokensAndExpiration(Ee,Fe,Number(Be))}updateTokensAndExpiration(r,Se,Ee){this.refreshToken=Se||null,this.accessToken=r||null,this.expirationTime=Date.now()+Ee*1e3}static fromJSON(r,Se){const{refreshToken:Ee,accessToken:Fe,expirationTime:Be}=Se,Ve=new StsTokenManager;return Ee&&(_assert(typeof Ee=="string","internal-error",{appName:r}),Ve.refreshToken=Ee),Fe&&(_assert(typeof Fe=="string","internal-error",{appName:r}),Ve.accessToken=Fe),Be&&(_assert(typeof Be=="number","internal-error",{appName:r}),Ve.expirationTime=Be),Ve}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(r){this.accessToken=r.accessToken,this.refreshToken=r.refreshToken,this.expirationTime=r.expirationTime}_clone(){return Object.assign(new StsTokenManager,this.toJSON())}_performRefresh(){return debugFail("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function assertStringOrUndefined(Ae,r){_assert(typeof Ae=="string"||typeof Ae>"u","internal-error",{appName:r})}class UserImpl{constructor({uid:r,auth:Se,stsTokenManager:Ee,...Fe}){this.providerId="firebase",this.proactiveRefresh=new ProactiveRefresh(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=Se,this.stsTokenManager=Ee,this.accessToken=Ee.accessToken,this.displayName=Fe.displayName||null,this.email=Fe.email||null,this.emailVerified=Fe.emailVerified||!1,this.phoneNumber=Fe.phoneNumber||null,this.photoURL=Fe.photoURL||null,this.isAnonymous=Fe.isAnonymous||!1,this.tenantId=Fe.tenantId||null,this.providerData=Fe.providerData?[...Fe.providerData]:[],this.metadata=new UserMetadata(Fe.createdAt||void 0,Fe.lastLoginAt||void 0)}async getIdToken(r){const Se=await _logoutIfInvalidated(this,this.stsTokenManager.getToken(this.auth,r));return _assert(Se,this.auth,"internal-error"),this.accessToken!==Se&&(this.accessToken=Se,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),Se}getIdTokenResult(r){return getIdTokenResult(this,r)}reload(){return reload(this)}_assign(r){this!==r&&(_assert(this.uid===r.uid,this.auth,"internal-error"),this.displayName=r.displayName,this.photoURL=r.photoURL,this.email=r.email,this.emailVerified=r.emailVerified,this.phoneNumber=r.phoneNumber,this.isAnonymous=r.isAnonymous,this.tenantId=r.tenantId,this.providerData=r.providerData.map(Se=>({...Se})),this.metadata._copy(r.metadata),this.stsTokenManager._assign(r.stsTokenManager))}_clone(r){const Se=new UserImpl({...this,auth:r,stsTokenManager:this.stsTokenManager._clone()});return Se.metadata._copy(this.metadata),Se}_onReload(r){_assert(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=r,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(r){this.reloadListener?this.reloadListener(r):this.reloadUserInfo=r}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(r,Se=!1){let Ee=!1;r.idToken&&r.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(r),Ee=!0),Se&&await _reloadWithoutSaving(this),await this.auth._persistUserIfCurrent(this),Ee&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_isFirebaseServerApp(this.auth.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this.auth));const r=await this.getIdToken();return await _logoutIfInvalidated(this,deleteAccount(this.auth,{idToken:r})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(r=>({...r})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(r,Se){const Ee=Se.displayName??void 0,Fe=Se.email??void 0,Be=Se.phoneNumber??void 0,Ve=Se.photoURL??void 0,_e=Se.tenantId??void 0,ze=Se._redirectEventId??void 0,xe=Se.createdAt??void 0,Ie=Se.lastLoginAt??void 0,{uid:Re,emailVerified:e,isAnonymous:t,providerData:Te,stsTokenManager:Ye}=Se;_assert(Re&&Ye,r,"internal-error");const en=StsTokenManager.fromJSON(this.name,Ye);_assert(typeof Re=="string",r,"internal-error"),assertStringOrUndefined(Ee,r.name),assertStringOrUndefined(Fe,r.name),_assert(typeof e=="boolean",r,"internal-error"),_assert(typeof t=="boolean",r,"internal-error"),assertStringOrUndefined(Be,r.name),assertStringOrUndefined(Ve,r.name),assertStringOrUndefined(_e,r.name),assertStringOrUndefined(ze,r.name),assertStringOrUndefined(xe,r.name),assertStringOrUndefined(Ie,r.name);const je=new UserImpl({uid:Re,auth:r,email:Fe,emailVerified:e,displayName:Ee,isAnonymous:t,photoURL:Ve,phoneNumber:Be,tenantId:_e,stsTokenManager:en,createdAt:xe,lastLoginAt:Ie});return Te&&Array.isArray(Te)&&(je.providerData=Te.map(nn=>({...nn}))),ze&&(je._redirectEventId=ze),je}static async _fromIdTokenResponse(r,Se,Ee=!1){const Fe=new StsTokenManager;Fe.updateFromServerResponse(Se);const Be=new UserImpl({uid:Se.localId,auth:r,stsTokenManager:Fe,isAnonymous:Ee});return await _reloadWithoutSaving(Be),Be}static async _fromGetAccountInfoResponse(r,Se,Ee){const Fe=Se.users[0];_assert(Fe.localId!==void 0,"internal-error");const Be=Fe.providerUserInfo!==void 0?extractProviderData(Fe.providerUserInfo):[],Ve=!(Fe.email&&Fe.passwordHash)&&!Be?.length,_e=new StsTokenManager;_e.updateFromIdToken(Ee);const ze=new UserImpl({uid:Fe.localId,auth:r,stsTokenManager:_e,isAnonymous:Ve}),xe={uid:Fe.localId,displayName:Fe.displayName||null,photoURL:Fe.photoUrl||null,email:Fe.email||null,emailVerified:Fe.emailVerified||!1,phoneNumber:Fe.phoneNumber||null,tenantId:Fe.tenantId||null,providerData:Be,metadata:new UserMetadata(Fe.createdAt,Fe.lastLoginAt),isAnonymous:!(Fe.email&&Fe.passwordHash)&&!Be?.length};return Object.assign(ze,xe),ze}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const instanceCache=new Map;function _getInstance(Ae){debugAssert(Ae instanceof Function,"Expected a class definition");let r=instanceCache.get(Ae);return r?(debugAssert(r instanceof Ae,"Instance stored in cache mismatched with class"),r):(r=new Ae,instanceCache.set(Ae,r),r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class InMemoryPersistence{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(r,Se){this.storage[r]=Se}async _get(r){const Se=this.storage[r];return Se===void 0?null:Se}async _remove(r){delete this.storage[r]}_addListener(r,Se){}_removeListener(r,Se){}}InMemoryPersistence.type="NONE";const inMemoryPersistence=InMemoryPersistence;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _persistenceKeyName(Ae,r,Se){return`firebase:${Ae}:${r}:${Se}`}class PersistenceUserManager{constructor(r,Se,Ee){this.persistence=r,this.auth=Se,this.userKey=Ee;const{config:Fe,name:Be}=this.auth;this.fullUserKey=_persistenceKeyName(this.userKey,Fe.apiKey,Be),this.fullPersistenceKey=_persistenceKeyName("persistence",Fe.apiKey,Be),this.boundEventHandler=Se._onStorageEvent.bind(Se),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(r){return this.persistence._set(this.fullUserKey,r.toJSON())}async getCurrentUser(){const r=await this.persistence._get(this.fullUserKey);if(!r)return null;if(typeof r=="string"){const Se=await getAccountInfo(this.auth,{idToken:r}).catch(()=>{});return Se?UserImpl._fromGetAccountInfoResponse(this.auth,Se,r):null}return UserImpl._fromJSON(this.auth,r)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(r){if(this.persistence===r)return;const Se=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=r,Se)return this.setCurrentUser(Se)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(r,Se,Ee="authUser"){if(!Se.length)return new PersistenceUserManager(_getInstance(inMemoryPersistence),r,Ee);const Fe=(await Promise.all(Se.map(async xe=>{if(await xe._isAvailable())return xe}))).filter(xe=>xe);let Be=Fe[0]||_getInstance(inMemoryPersistence);const Ve=_persistenceKeyName(Ee,r.config.apiKey,r.name);let _e=null;for(const xe of Se)try{const Ie=await xe._get(Ve);if(Ie){let Re;if(typeof Ie=="string"){const e=await getAccountInfo(r,{idToken:Ie}).catch(()=>{});if(!e)break;Re=await UserImpl._fromGetAccountInfoResponse(r,e,Ie)}else Re=UserImpl._fromJSON(r,Ie);xe!==Be&&(_e=Re),Be=xe;break}}catch{}const ze=Fe.filter(xe=>xe._shouldAllowMigration);return!Be._shouldAllowMigration||!ze.length?new PersistenceUserManager(Be,r,Ee):(Be=ze[0],_e&&await Be._set(Ve,_e.toJSON()),await Promise.all(Se.map(async xe=>{if(xe!==Be)try{await xe._remove(Ve)}catch{}})),new PersistenceUserManager(Be,r,Ee))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getBrowserName(Ae){const r=Ae.toLowerCase();if(r.includes("opera/")||r.includes("opr/")||r.includes("opios/"))return"Opera";if(_isIEMobile(r))return"IEMobile";if(r.includes("msie")||r.includes("trident/"))return"IE";if(r.includes("edge/"))return"Edge";if(_isFirefox(r))return"Firefox";if(r.includes("silk/"))return"Silk";if(_isBlackBerry(r))return"Blackberry";if(_isWebOS(r))return"Webos";if(_isSafari(r))return"Safari";if((r.includes("chrome/")||_isChromeIOS(r))&&!r.includes("edge/"))return"Chrome";if(_isAndroid(r))return"Android";{const Se=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,Ee=Ae.match(Se);if(Ee?.length===2)return Ee[1]}return"Other"}function _isFirefox(Ae=getUA()){return/firefox\//i.test(Ae)}function _isSafari(Ae=getUA()){const r=Ae.toLowerCase();return r.includes("safari/")&&!r.includes("chrome/")&&!r.includes("crios/")&&!r.includes("android")}function _isChromeIOS(Ae=getUA()){return/crios\//i.test(Ae)}function _isIEMobile(Ae=getUA()){return/iemobile/i.test(Ae)}function _isAndroid(Ae=getUA()){return/android/i.test(Ae)}function _isBlackBerry(Ae=getUA()){return/blackberry/i.test(Ae)}function _isWebOS(Ae=getUA()){return/webos/i.test(Ae)}function _isIOS(Ae=getUA()){return/iphone|ipad|ipod/i.test(Ae)||/macintosh/i.test(Ae)&&/mobile/i.test(Ae)}function _isIOSStandalone(Ae=getUA()){return _isIOS(Ae)&&!!window.navigator?.standalone}function _isIE10(){return isIE()&&document.documentMode===10}function _isMobileBrowser(Ae=getUA()){return _isIOS(Ae)||_isAndroid(Ae)||_isWebOS(Ae)||_isBlackBerry(Ae)||/windows phone/i.test(Ae)||_isIEMobile(Ae)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getClientVersion(Ae,r=[]){let Se;switch(Ae){case"Browser":Se=_getBrowserName(getUA());break;case"Worker":Se=`${_getBrowserName(getUA())}-${Ae}`;break;default:Se=Ae}const Ee=r.length?r.join(","):"FirebaseCore-web";return`${Se}/JsCore/${SDK_VERSION}/${Ee}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthMiddlewareQueue{constructor(r){this.auth=r,this.queue=[]}pushCallback(r,Se){const Ee=Be=>new Promise((Ve,_e)=>{try{const ze=r(Be);Ve(ze)}catch(ze){_e(ze)}});Ee.onAbort=Se,this.queue.push(Ee);const Fe=this.queue.length-1;return()=>{this.queue[Fe]=()=>Promise.resolve()}}async runMiddleware(r){if(this.auth.currentUser===r)return;const Se=[];try{for(const Ee of this.queue)await Ee(r),Ee.onAbort&&Se.push(Ee.onAbort)}catch(Ee){Se.reverse();for(const Fe of Se)try{Fe()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:Ee?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _getPasswordPolicy(Ae,r={}){return _performApiRequest(Ae,"GET","/v2/passwordPolicy",_addTidIfNecessary(Ae,r))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MINIMUM_MIN_PASSWORD_LENGTH=6;class PasswordPolicyImpl{constructor(r){const Se=r.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=Se.minPasswordLength??MINIMUM_MIN_PASSWORD_LENGTH,Se.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Se.maxPasswordLength),Se.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=Se.containsLowercaseCharacter),Se.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=Se.containsUppercaseCharacter),Se.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=Se.containsNumericCharacter),Se.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Se.containsNonAlphanumericCharacter),this.enforcementState=r.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=r.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=r.forceUpgradeOnSignin??!1,this.schemaVersion=r.schemaVersion}validatePassword(r){const Se={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(r,Se),this.validatePasswordCharacterOptions(r,Se),Se.isValid&&(Se.isValid=Se.meetsMinPasswordLength??!0),Se.isValid&&(Se.isValid=Se.meetsMaxPasswordLength??!0),Se.isValid&&(Se.isValid=Se.containsLowercaseLetter??!0),Se.isValid&&(Se.isValid=Se.containsUppercaseLetter??!0),Se.isValid&&(Se.isValid=Se.containsNumericCharacter??!0),Se.isValid&&(Se.isValid=Se.containsNonAlphanumericCharacter??!0),Se}validatePasswordLengthOptions(r,Se){const Ee=this.customStrengthOptions.minPasswordLength,Fe=this.customStrengthOptions.maxPasswordLength;Ee&&(Se.meetsMinPasswordLength=r.length>=Ee),Fe&&(Se.meetsMaxPasswordLength=r.length<=Fe)}validatePasswordCharacterOptions(r,Se){this.updatePasswordCharacterOptionsStatuses(Se,!1,!1,!1,!1);let Ee;for(let Fe=0;Fe<r.length;Fe++)Ee=r.charAt(Fe),this.updatePasswordCharacterOptionsStatuses(Se,Ee>="a"&&Ee<="z",Ee>="A"&&Ee<="Z",Ee>="0"&&Ee<="9",this.allowedNonAlphanumericCharacters.includes(Ee))}updatePasswordCharacterOptionsStatuses(r,Se,Ee,Fe,Be){this.customStrengthOptions.containsLowercaseLetter&&(r.containsLowercaseLetter||(r.containsLowercaseLetter=Se)),this.customStrengthOptions.containsUppercaseLetter&&(r.containsUppercaseLetter||(r.containsUppercaseLetter=Ee)),this.customStrengthOptions.containsNumericCharacter&&(r.containsNumericCharacter||(r.containsNumericCharacter=Fe)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(r.containsNonAlphanumericCharacter||(r.containsNonAlphanumericCharacter=Be))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthImpl{constructor(r,Se,Ee,Fe){this.app=r,this.heartbeatServiceProvider=Se,this.appCheckServiceProvider=Ee,this.config=Fe,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Subscription(this),this.idTokenSubscription=new Subscription(this),this.beforeStateQueue=new AuthMiddlewareQueue(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_DEFAULT_AUTH_ERROR_FACTORY,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=r.name,this.clientVersion=Fe.sdkClientVersion,this._persistenceManagerAvailable=new Promise(Be=>this._resolvePersistenceManagerAvailable=Be)}_initializeWithPersistence(r,Se){return Se&&(this._popupRedirectResolver=_getInstance(Se)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await PersistenceUserManager.create(this,r),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(Se),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const r=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!r)){if(this.currentUser&&r&&this.currentUser.uid===r.uid){this._currentUser._assign(r),await this.currentUser.getIdToken();return}await this._updateCurrentUser(r,!0)}}async initializeCurrentUserFromIdToken(r){try{const Se=await getAccountInfo(this,{idToken:r}),Ee=await UserImpl._fromGetAccountInfoResponse(this,Se,r);await this.directlySetCurrentUser(Ee)}catch(Se){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",Se),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(r){if(_isFirebaseServerApp(this.app)){const Be=this.app.settings.authIdToken;return Be?new Promise(Ve=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(Be).then(Ve,Ve))}):this.directlySetCurrentUser(null)}const Se=await this.assertedPersistence.getCurrentUser();let Ee=Se,Fe=!1;if(r&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const Be=this.redirectUser?._redirectEventId,Ve=Ee?._redirectEventId,_e=await this.tryRedirectSignIn(r);(!Be||Be===Ve)&&_e?.user&&(Ee=_e.user,Fe=!0)}if(!Ee)return this.directlySetCurrentUser(null);if(!Ee._redirectEventId){if(Fe)try{await this.beforeStateQueue.runMiddleware(Ee)}catch(Be){Ee=Se,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(Be))}return Ee?this.reloadAndSetCurrentUserOrClear(Ee):this.directlySetCurrentUser(null)}return _assert(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===Ee._redirectEventId?this.directlySetCurrentUser(Ee):this.reloadAndSetCurrentUserOrClear(Ee)}async tryRedirectSignIn(r){let Se=null;try{Se=await this._popupRedirectResolver._completeRedirectFn(this,r,!0)}catch{await this._setRedirectUser(null)}return Se}async reloadAndSetCurrentUserOrClear(r){try{await _reloadWithoutSaving(r)}catch(Se){if(Se?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(r)}useDeviceLanguage(){this.languageCode=_getUserLanguage()}async _delete(){this._deleted=!0}async updateCurrentUser(r){if(_isFirebaseServerApp(this.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this));const Se=r?getModularInstance(r):null;return Se&&_assert(Se.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(Se&&Se._clone(this))}async _updateCurrentUser(r,Se=!1){if(!this._deleted)return r&&_assert(this.tenantId===r.tenantId,this,"tenant-id-mismatch"),Se||await this.beforeStateQueue.runMiddleware(r),this.queue(async()=>{await this.directlySetCurrentUser(r),this.notifyAuthListeners()})}async signOut(){return _isFirebaseServerApp(this.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(r){return _isFirebaseServerApp(this.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_getInstance(r))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(r){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const Se=this._getPasswordPolicyInternal();return Se.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):Se.validatePassword(r)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const r=await _getPasswordPolicy(this),Se=new PasswordPolicyImpl(r);this.tenantId===null?this._projectPasswordPolicy=Se:this._tenantPasswordPolicies[this.tenantId]=Se}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(r){this._errorFactory=new ErrorFactory("auth","Firebase",r())}onAuthStateChanged(r,Se,Ee){return this.registerStateListener(this.authStateSubscription,r,Se,Ee)}beforeAuthStateChanged(r,Se){return this.beforeStateQueue.pushCallback(r,Se)}onIdTokenChanged(r,Se,Ee){return this.registerStateListener(this.idTokenSubscription,r,Se,Ee)}authStateReady(){return new Promise((r,Se)=>{if(this.currentUser)r();else{const Ee=this.onAuthStateChanged(()=>{Ee(),r()},Se)}})}async revokeAccessToken(r){if(this.currentUser){const Se=await this.currentUser.getIdToken(),Ee={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:r,idToken:Se};this.tenantId!=null&&(Ee.tenantId=this.tenantId),await revokeToken(this,Ee)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(r,Se){const Ee=await this.getOrInitRedirectPersistenceManager(Se);return r===null?Ee.removeCurrentUser():Ee.setCurrentUser(r)}async getOrInitRedirectPersistenceManager(r){if(!this.redirectPersistenceManager){const Se=r&&_getInstance(r)||this._popupRedirectResolver;_assert(Se,this,"argument-error"),this.redirectPersistenceManager=await PersistenceUserManager.create(this,[_getInstance(Se._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(r){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===r?this._currentUser:this.redirectUser?._redirectEventId===r?this.redirectUser:null}async _persistUserIfCurrent(r){if(r===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(r))}_notifyListenersIfCurrent(r){r===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=this.currentUser?.uid??null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(r,Se,Ee,Fe){if(this._deleted)return()=>{};const Be=typeof Se=="function"?Se:Se.next.bind(Se);let Ve=!1;const _e=this._isInitialized?Promise.resolve():this._initializationPromise;if(_assert(_e,this,"internal-error"),_e.then(()=>{Ve||Be(this.currentUser)}),typeof Se=="function"){const ze=r.addObserver(Se,Ee,Fe);return()=>{Ve=!0,ze()}}else{const ze=r.addObserver(Se);return()=>{Ve=!0,ze()}}}async directlySetCurrentUser(r){this.currentUser&&this.currentUser!==r&&this._currentUser._stopProactiveRefresh(),r&&this.isProactiveRefreshEnabled&&r._startProactiveRefresh(),this.currentUser=r,r?await this.assertedPersistence.setCurrentUser(r):await this.assertedPersistence.removeCurrentUser()}queue(r){return this.operations=this.operations.then(r,r),this.operations}get assertedPersistence(){return _assert(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(r){!r||this.frameworks.includes(r)||(this.frameworks.push(r),this.frameworks.sort(),this.clientVersion=_getClientVersion(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const Se=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();Se&&(r["X-Firebase-Client"]=Se);const Ee=await this._getAppCheckToken();return Ee&&(r["X-Firebase-AppCheck"]=Ee),r}async _getAppCheckToken(){if(_isFirebaseServerApp(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const r=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return r?.error&&_logWarn(`Error while retrieving App Check token: ${r.error}`),r?.token}}function _castAuth(Ae){return getModularInstance(Ae)}class Subscription{constructor(r){this.auth=r,this.observer=null,this.addObserver=createSubscribe(Se=>this.observer=Se)}get next(){return _assert(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let externalJSProvider={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _setExternalJSProvider(Ae){externalJSProvider=Ae}function _loadJS(Ae){return externalJSProvider.loadJS(Ae)}function _recaptchaEnterpriseScriptUrl(){return externalJSProvider.recaptchaEnterpriseScript}function _gapiScriptUrl(){return externalJSProvider.gapiScript}function _generateCallbackName(Ae){return`__${Ae}${Math.floor(Math.random()*1e6)}`}class MockGreCAPTCHATopLevel{constructor(){this.enterprise=new MockGreCAPTCHA}ready(r){r()}execute(r,Se){return Promise.resolve("token")}render(r,Se){return""}}class MockGreCAPTCHA{ready(r){r()}execute(r,Se){return Promise.resolve("token")}render(r,Se){return""}}const RECAPTCHA_ENTERPRISE_VERIFIER_TYPE="recaptcha-enterprise",FAKE_TOKEN="NO_RECAPTCHA";class RecaptchaEnterpriseVerifier{constructor(r){this.type=RECAPTCHA_ENTERPRISE_VERIFIER_TYPE,this.auth=_castAuth(r)}async verify(r="verify",Se=!1){async function Ee(Be){if(!Se){if(Be.tenantId==null&&Be._agentRecaptchaConfig!=null)return Be._agentRecaptchaConfig.siteKey;if(Be.tenantId!=null&&Be._tenantRecaptchaConfigs[Be.tenantId]!==void 0)return Be._tenantRecaptchaConfigs[Be.tenantId].siteKey}return new Promise(async(Ve,_e)=>{getRecaptchaConfig(Be,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(ze=>{if(ze.recaptchaKey===void 0)_e(new Error("recaptcha Enterprise site key undefined"));else{const xe=new RecaptchaConfig(ze);return Be.tenantId==null?Be._agentRecaptchaConfig=xe:Be._tenantRecaptchaConfigs[Be.tenantId]=xe,Ve(xe.siteKey)}}).catch(ze=>{_e(ze)})})}function Fe(Be,Ve,_e){const ze=window.grecaptcha;isEnterprise(ze)?ze.enterprise.ready(()=>{ze.enterprise.execute(Be,{action:r}).then(xe=>{Ve(xe)}).catch(()=>{Ve(FAKE_TOKEN)})}):_e(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new MockGreCAPTCHATopLevel().execute("siteKey",{action:"verify"}):new Promise((Be,Ve)=>{Ee(this.auth).then(_e=>{if(!Se&&isEnterprise(window.grecaptcha))Fe(_e,Be,Ve);else{if(typeof window>"u"){Ve(new Error("RecaptchaVerifier is only supported in browser"));return}let ze=_recaptchaEnterpriseScriptUrl();ze.length!==0&&(ze+=_e),_loadJS(ze).then(()=>{Fe(_e,Be,Ve)}).catch(xe=>{Ve(xe)})}}).catch(_e=>{Ve(_e)})})}}async function injectRecaptchaFields(Ae,r,Se,Ee=!1,Fe=!1){const Be=new RecaptchaEnterpriseVerifier(Ae);let Ve;if(Fe)Ve=FAKE_TOKEN;else try{Ve=await Be.verify(Se)}catch{Ve=await Be.verify(Se,!0)}const _e={...r};if(Se==="mfaSmsEnrollment"||Se==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in _e){const ze=_e.phoneEnrollmentInfo.phoneNumber,xe=_e.phoneEnrollmentInfo.recaptchaToken;Object.assign(_e,{phoneEnrollmentInfo:{phoneNumber:ze,recaptchaToken:xe,captchaResponse:Ve,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in _e){const ze=_e.phoneSignInInfo.recaptchaToken;Object.assign(_e,{phoneSignInInfo:{recaptchaToken:ze,captchaResponse:Ve,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return _e}return Ee?Object.assign(_e,{captchaResp:Ve}):Object.assign(_e,{captchaResponse:Ve}),Object.assign(_e,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(_e,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),_e}async function handleRecaptchaFlow(Ae,r,Se,Ee,Fe){if(Ae._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const Be=await injectRecaptchaFields(Ae,r,Se,Se==="getOobCode");return Ee(Ae,Be)}else return Ee(Ae,r).catch(async Be=>{if(Be.code==="auth/missing-recaptcha-token"){console.log(`${Se} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const Ve=await injectRecaptchaFields(Ae,r,Se,Se==="getOobCode");return Ee(Ae,Ve)}else return Promise.reject(Be)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function initializeAuth(Ae,r){const Se=_getProvider(Ae,"auth");if(Se.isInitialized()){const Fe=Se.getImmediate(),Be=Se.getOptions();if(deepEqual(Be,r??{}))return Fe;_fail(Fe,"already-initialized")}return Se.initialize({options:r})}function _initializeAuthInstance(Ae,r){const Se=r?.persistence||[],Ee=(Array.isArray(Se)?Se:[Se]).map(_getInstance);r?.errorMap&&Ae._updateErrorMap(r.errorMap),Ae._initializeWithPersistence(Ee,r?.popupRedirectResolver)}function connectAuthEmulator(Ae,r,Se){const Ee=_castAuth(Ae);_assert(/^https?:\/\//.test(r),Ee,"invalid-emulator-scheme");const Fe=!1,Be=extractProtocol(r),{host:Ve,port:_e}=extractHostAndPort(r),ze=_e===null?"":`:${_e}`,xe={url:`${Be}//${Ve}${ze}/`},Ie=Object.freeze({host:Ve,port:_e,protocol:Be.replace(":",""),options:Object.freeze({disableWarnings:Fe})});if(!Ee._canInitEmulator){_assert(Ee.config.emulator&&Ee.emulatorConfig,Ee,"emulator-config-failed"),_assert(deepEqual(xe,Ee.config.emulator)&&deepEqual(Ie,Ee.emulatorConfig),Ee,"emulator-config-failed");return}Ee.config.emulator=xe,Ee.emulatorConfig=Ie,Ee.settings.appVerificationDisabledForTesting=!0,isCloudWorkstation(Ve)?(pingServer(`${Be}//${Ve}${ze}`),updateEmulatorBanner("Auth",!0)):emitEmulatorWarning()}function extractProtocol(Ae){const r=Ae.indexOf(":");return r<0?"":Ae.substr(0,r+1)}function extractHostAndPort(Ae){const r=extractProtocol(Ae),Se=/(\/\/)?([^?#/]+)/.exec(Ae.substr(r.length));if(!Se)return{host:"",port:null};const Ee=Se[2].split("@").pop()||"",Fe=/^(\[[^\]]+\])(:|$)/.exec(Ee);if(Fe){const Be=Fe[1];return{host:Be,port:parsePort(Ee.substr(Be.length+1))}}else{const[Be,Ve]=Ee.split(":");return{host:Be,port:parsePort(Ve)}}}function parsePort(Ae){if(!Ae)return null;const r=Number(Ae);return isNaN(r)?null:r}function emitEmulatorWarning(){function Ae(){const r=document.createElement("p"),Se=r.style;r.innerText="Running in emulator mode. Do not use with production credentials.",Se.position="fixed",Se.width="100%",Se.backgroundColor="#ffffff",Se.border=".1em solid #000000",Se.color="#b50000",Se.bottom="0px",Se.left="0px",Se.margin="0px",Se.zIndex="10000",Se.textAlign="center",r.classList.add("firebase-emulator-warning"),document.body.appendChild(r)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",Ae):Ae())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthCredential{constructor(r,Se){this.providerId=r,this.signInMethod=Se}toJSON(){return debugFail("not implemented")}_getIdTokenResponse(r){return debugFail("not implemented")}_linkToIdToken(r,Se){return debugFail("not implemented")}_getReauthenticationResolver(r){return debugFail("not implemented")}}async function linkEmailPassword(Ae,r){return _performApiRequest(Ae,"POST","/v1/accounts:signUp",r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithPassword(Ae,r){return _performSignInRequest(Ae,"POST","/v1/accounts:signInWithPassword",_addTidIfNecessary(Ae,r))}async function sendOobCode(Ae,r){return _performApiRequest(Ae,"POST","/v1/accounts:sendOobCode",_addTidIfNecessary(Ae,r))}async function sendEmailVerification$1(Ae,r){return sendOobCode(Ae,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithEmailLink$1(Ae,r){return _performSignInRequest(Ae,"POST","/v1/accounts:signInWithEmailLink",_addTidIfNecessary(Ae,r))}async function signInWithEmailLinkForLinking(Ae,r){return _performSignInRequest(Ae,"POST","/v1/accounts:signInWithEmailLink",_addTidIfNecessary(Ae,r))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EmailAuthCredential extends AuthCredential{constructor(r,Se,Ee,Fe=null){super("password",Ee),this._email=r,this._password=Se,this._tenantId=Fe}static _fromEmailAndPassword(r,Se){return new EmailAuthCredential(r,Se,"password")}static _fromEmailAndCode(r,Se,Ee=null){return new EmailAuthCredential(r,Se,"emailLink",Ee)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(r){const Se=typeof r=="string"?JSON.parse(r):r;if(Se?.email&&Se?.password){if(Se.signInMethod==="password")return this._fromEmailAndPassword(Se.email,Se.password);if(Se.signInMethod==="emailLink")return this._fromEmailAndCode(Se.email,Se.password,Se.tenantId)}return null}async _getIdTokenResponse(r){switch(this.signInMethod){case"password":const Se={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return handleRecaptchaFlow(r,Se,"signInWithPassword",signInWithPassword);case"emailLink":return signInWithEmailLink$1(r,{email:this._email,oobCode:this._password});default:_fail(r,"internal-error")}}async _linkToIdToken(r,Se){switch(this.signInMethod){case"password":const Ee={idToken:Se,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return handleRecaptchaFlow(r,Ee,"signUpPassword",linkEmailPassword);case"emailLink":return signInWithEmailLinkForLinking(r,{idToken:Se,email:this._email,oobCode:this._password});default:_fail(r,"internal-error")}}_getReauthenticationResolver(r){return this._getIdTokenResponse(r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithIdp(Ae,r){return _performSignInRequest(Ae,"POST","/v1/accounts:signInWithIdp",_addTidIfNecessary(Ae,r))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IDP_REQUEST_URI$1="http://localhost";class OAuthCredential extends AuthCredential{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(r){const Se=new OAuthCredential(r.providerId,r.signInMethod);return r.idToken||r.accessToken?(r.idToken&&(Se.idToken=r.idToken),r.accessToken&&(Se.accessToken=r.accessToken),r.nonce&&!r.pendingToken&&(Se.nonce=r.nonce),r.pendingToken&&(Se.pendingToken=r.pendingToken)):r.oauthToken&&r.oauthTokenSecret?(Se.accessToken=r.oauthToken,Se.secret=r.oauthTokenSecret):_fail("argument-error"),Se}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(r){const Se=typeof r=="string"?JSON.parse(r):r,{providerId:Ee,signInMethod:Fe,...Be}=Se;if(!Ee||!Fe)return null;const Ve=new OAuthCredential(Ee,Fe);return Ve.idToken=Be.idToken||void 0,Ve.accessToken=Be.accessToken||void 0,Ve.secret=Be.secret,Ve.nonce=Be.nonce,Ve.pendingToken=Be.pendingToken||null,Ve}_getIdTokenResponse(r){const Se=this.buildRequest();return signInWithIdp(r,Se)}_linkToIdToken(r,Se){const Ee=this.buildRequest();return Ee.idToken=Se,signInWithIdp(r,Ee)}_getReauthenticationResolver(r){const Se=this.buildRequest();return Se.autoCreate=!1,signInWithIdp(r,Se)}buildRequest(){const r={requestUri:IDP_REQUEST_URI$1,returnSecureToken:!0};if(this.pendingToken)r.pendingToken=this.pendingToken;else{const Se={};this.idToken&&(Se.id_token=this.idToken),this.accessToken&&(Se.access_token=this.accessToken),this.secret&&(Se.oauth_token_secret=this.secret),Se.providerId=this.providerId,this.nonce&&!this.pendingToken&&(Se.nonce=this.nonce),r.postBody=querystring(Se)}return r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function parseMode(Ae){switch(Ae){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function parseDeepLink(Ae){const r=querystringDecode(extractQuerystring(Ae)).link,Se=r?querystringDecode(extractQuerystring(r)).deep_link_id:null,Ee=querystringDecode(extractQuerystring(Ae)).deep_link_id;return(Ee?querystringDecode(extractQuerystring(Ee)).link:null)||Ee||Se||r||Ae}class ActionCodeURL{constructor(r){const Se=querystringDecode(extractQuerystring(r)),Ee=Se.apiKey??null,Fe=Se.oobCode??null,Be=parseMode(Se.mode??null);_assert(Ee&&Fe&&Be,"argument-error"),this.apiKey=Ee,this.operation=Be,this.code=Fe,this.continueUrl=Se.continueUrl??null,this.languageCode=Se.lang??null,this.tenantId=Se.tenantId??null}static parseLink(r){const Se=parseDeepLink(r);try{return new ActionCodeURL(Se)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EmailAuthProvider{constructor(){this.providerId=EmailAuthProvider.PROVIDER_ID}static credential(r,Se){return EmailAuthCredential._fromEmailAndPassword(r,Se)}static credentialWithLink(r,Se){const Ee=ActionCodeURL.parseLink(Se);return _assert(Ee,"argument-error"),EmailAuthCredential._fromEmailAndCode(r,Ee.code,Ee.tenantId)}}EmailAuthProvider.PROVIDER_ID="password";EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD="password";EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FederatedAuthProvider{constructor(r){this.providerId=r,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(r){this.defaultLanguageCode=r}setCustomParameters(r){return this.customParameters=r,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BaseOAuthProvider extends FederatedAuthProvider{constructor(){super(...arguments),this.scopes=[]}addScope(r){return this.scopes.includes(r)||this.scopes.push(r),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FacebookAuthProvider extends BaseOAuthProvider{constructor(){super("facebook.com")}static credential(r){return OAuthCredential._fromParams({providerId:FacebookAuthProvider.PROVIDER_ID,signInMethod:FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD,accessToken:r})}static credentialFromResult(r){return FacebookAuthProvider.credentialFromTaggedObject(r)}static credentialFromError(r){return FacebookAuthProvider.credentialFromTaggedObject(r.customData||{})}static credentialFromTaggedObject({_tokenResponse:r}){if(!r||!("oauthAccessToken"in r)||!r.oauthAccessToken)return null;try{return FacebookAuthProvider.credential(r.oauthAccessToken)}catch{return null}}}FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD="facebook.com";FacebookAuthProvider.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GoogleAuthProvider extends BaseOAuthProvider{constructor(){super("google.com"),this.addScope("profile")}static credential(r,Se){return OAuthCredential._fromParams({providerId:GoogleAuthProvider.PROVIDER_ID,signInMethod:GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD,idToken:r,accessToken:Se})}static credentialFromResult(r){return GoogleAuthProvider.credentialFromTaggedObject(r)}static credentialFromError(r){return GoogleAuthProvider.credentialFromTaggedObject(r.customData||{})}static credentialFromTaggedObject({_tokenResponse:r}){if(!r)return null;const{oauthIdToken:Se,oauthAccessToken:Ee}=r;if(!Se&&!Ee)return null;try{return GoogleAuthProvider.credential(Se,Ee)}catch{return null}}}GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD="google.com";GoogleAuthProvider.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GithubAuthProvider extends BaseOAuthProvider{constructor(){super("github.com")}static credential(r){return OAuthCredential._fromParams({providerId:GithubAuthProvider.PROVIDER_ID,signInMethod:GithubAuthProvider.GITHUB_SIGN_IN_METHOD,accessToken:r})}static credentialFromResult(r){return GithubAuthProvider.credentialFromTaggedObject(r)}static credentialFromError(r){return GithubAuthProvider.credentialFromTaggedObject(r.customData||{})}static credentialFromTaggedObject({_tokenResponse:r}){if(!r||!("oauthAccessToken"in r)||!r.oauthAccessToken)return null;try{return GithubAuthProvider.credential(r.oauthAccessToken)}catch{return null}}}GithubAuthProvider.GITHUB_SIGN_IN_METHOD="github.com";GithubAuthProvider.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TwitterAuthProvider extends BaseOAuthProvider{constructor(){super("twitter.com")}static credential(r,Se){return OAuthCredential._fromParams({providerId:TwitterAuthProvider.PROVIDER_ID,signInMethod:TwitterAuthProvider.TWITTER_SIGN_IN_METHOD,oauthToken:r,oauthTokenSecret:Se})}static credentialFromResult(r){return TwitterAuthProvider.credentialFromTaggedObject(r)}static credentialFromError(r){return TwitterAuthProvider.credentialFromTaggedObject(r.customData||{})}static credentialFromTaggedObject({_tokenResponse:r}){if(!r)return null;const{oauthAccessToken:Se,oauthTokenSecret:Ee}=r;if(!Se||!Ee)return null;try{return TwitterAuthProvider.credential(Se,Ee)}catch{return null}}}TwitterAuthProvider.TWITTER_SIGN_IN_METHOD="twitter.com";TwitterAuthProvider.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signUp(Ae,r){return _performSignInRequest(Ae,"POST","/v1/accounts:signUp",_addTidIfNecessary(Ae,r))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UserCredentialImpl{constructor(r){this.user=r.user,this.providerId=r.providerId,this._tokenResponse=r._tokenResponse,this.operationType=r.operationType}static async _fromIdTokenResponse(r,Se,Ee,Fe=!1){const Be=await UserImpl._fromIdTokenResponse(r,Ee,Fe),Ve=providerIdForResponse(Ee);return new UserCredentialImpl({user:Be,providerId:Ve,_tokenResponse:Ee,operationType:Se})}static async _forOperation(r,Se,Ee){await r._updateTokensIfNecessary(Ee,!0);const Fe=providerIdForResponse(Ee);return new UserCredentialImpl({user:r,providerId:Fe,_tokenResponse:Ee,operationType:Se})}}function providerIdForResponse(Ae){return Ae.providerId?Ae.providerId:"phoneNumber"in Ae?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MultiFactorError extends FirebaseError{constructor(r,Se,Ee,Fe){super(Se.code,Se.message),this.operationType=Ee,this.user=Fe,Object.setPrototypeOf(this,MultiFactorError.prototype),this.customData={appName:r.name,tenantId:r.tenantId??void 0,_serverResponse:Se.customData._serverResponse,operationType:Ee}}static _fromErrorAndOperation(r,Se,Ee,Fe){return new MultiFactorError(r,Se,Ee,Fe)}}function _processCredentialSavingMfaContextIfNecessary(Ae,r,Se,Ee){return(r==="reauthenticate"?Se._getReauthenticationResolver(Ae):Se._getIdTokenResponse(Ae)).catch(Be=>{throw Be.code==="auth/multi-factor-auth-required"?MultiFactorError._fromErrorAndOperation(Ae,Be,r,Ee):Be})}async function _link$1(Ae,r,Se=!1){const Ee=await _logoutIfInvalidated(Ae,r._linkToIdToken(Ae.auth,await Ae.getIdToken()),Se);return UserCredentialImpl._forOperation(Ae,"link",Ee)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reauthenticate(Ae,r,Se=!1){const{auth:Ee}=Ae;if(_isFirebaseServerApp(Ee.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(Ee));const Fe="reauthenticate";try{const Be=await _logoutIfInvalidated(Ae,_processCredentialSavingMfaContextIfNecessary(Ee,Fe,r,Ae),Se);_assert(Be.idToken,Ee,"internal-error");const Ve=_parseToken(Be.idToken);_assert(Ve,Ee,"internal-error");const{sub:_e}=Ve;return _assert(Ae.uid===_e,Ee,"user-mismatch"),UserCredentialImpl._forOperation(Ae,Fe,Be)}catch(Be){throw Be?.code==="auth/user-not-found"&&_fail(Ee,"user-mismatch"),Be}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _signInWithCredential(Ae,r,Se=!1){if(_isFirebaseServerApp(Ae.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(Ae));const Ee="signIn",Fe=await _processCredentialSavingMfaContextIfNecessary(Ae,Ee,r),Be=await UserCredentialImpl._fromIdTokenResponse(Ae,Ee,Fe);return Se||await Ae._updateCurrentUser(Be.user),Be}async function signInWithCredential(Ae,r){return _signInWithCredential(_castAuth(Ae),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function recachePasswordPolicy(Ae){const r=_castAuth(Ae);r._getPasswordPolicyInternal()&&await r._updatePasswordPolicy()}async function createUserWithEmailAndPassword(Ae,r,Se){if(_isFirebaseServerApp(Ae.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(Ae));const Ee=_castAuth(Ae),Ve=await handleRecaptchaFlow(Ee,{returnSecureToken:!0,email:r,password:Se,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",signUp).catch(ze=>{throw ze.code==="auth/password-does-not-meet-requirements"&&recachePasswordPolicy(Ae),ze}),_e=await UserCredentialImpl._fromIdTokenResponse(Ee,"signIn",Ve);return await Ee._updateCurrentUser(_e.user),_e}function signInWithEmailAndPassword(Ae,r,Se){return _isFirebaseServerApp(Ae.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(Ae)):signInWithCredential(getModularInstance(Ae),EmailAuthProvider.credential(r,Se)).catch(async Ee=>{throw Ee.code==="auth/password-does-not-meet-requirements"&&recachePasswordPolicy(Ae),Ee})}async function sendEmailVerification(Ae,r){const Se=getModularInstance(Ae),Fe={requestType:"VERIFY_EMAIL",idToken:await Ae.getIdToken()},{email:Be}=await sendEmailVerification$1(Se.auth,Fe);Be!==Ae.email&&await Ae.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function updateProfile$1(Ae,r){return _performApiRequest(Ae,"POST","/v1/accounts:update",r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function updateProfile(Ae,{displayName:r,photoURL:Se}){if(r===void 0&&Se===void 0)return;const Ee=getModularInstance(Ae),Be={idToken:await Ee.getIdToken(),displayName:r,photoUrl:Se,returnSecureToken:!0},Ve=await _logoutIfInvalidated(Ee,updateProfile$1(Ee.auth,Be));Ee.displayName=Ve.displayName||null,Ee.photoURL=Ve.photoUrl||null;const _e=Ee.providerData.find(({providerId:ze})=>ze==="password");_e&&(_e.displayName=Ee.displayName,_e.photoURL=Ee.photoURL),await Ee._updateTokensIfNecessary(Ve)}function onIdTokenChanged(Ae,r,Se,Ee){return getModularInstance(Ae).onIdTokenChanged(r,Se,Ee)}function beforeAuthStateChanged(Ae,r,Se){return getModularInstance(Ae).beforeAuthStateChanged(r,Se)}const STORAGE_AVAILABLE_KEY="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BrowserPersistenceClass{constructor(r,Se){this.storageRetriever=r,this.type=Se}_isAvailable(){try{return this.storage?(this.storage.setItem(STORAGE_AVAILABLE_KEY,"1"),this.storage.removeItem(STORAGE_AVAILABLE_KEY),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(r,Se){return this.storage.setItem(r,JSON.stringify(Se)),Promise.resolve()}_get(r){const Se=this.storage.getItem(r);return Promise.resolve(Se?JSON.parse(Se):null)}_remove(r){return this.storage.removeItem(r),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _POLLING_INTERVAL_MS$1=1e3,IE10_LOCAL_STORAGE_SYNC_DELAY=10;class BrowserLocalPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(r,Se)=>this.onStorageEvent(r,Se),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_isMobileBrowser(),this._shouldAllowMigration=!0}forAllChangedKeys(r){for(const Se of Object.keys(this.listeners)){const Ee=this.storage.getItem(Se),Fe=this.localCache[Se];Ee!==Fe&&r(Se,Fe,Ee)}}onStorageEvent(r,Se=!1){if(!r.key){this.forAllChangedKeys((Ve,_e,ze)=>{this.notifyListeners(Ve,ze)});return}const Ee=r.key;Se?this.detachListener():this.stopPolling();const Fe=()=>{const Ve=this.storage.getItem(Ee);!Se&&this.localCache[Ee]===Ve||this.notifyListeners(Ee,Ve)},Be=this.storage.getItem(Ee);_isIE10()&&Be!==r.newValue&&r.newValue!==r.oldValue?setTimeout(Fe,IE10_LOCAL_STORAGE_SYNC_DELAY):Fe()}notifyListeners(r,Se){this.localCache[r]=Se;const Ee=this.listeners[r];if(Ee)for(const Fe of Array.from(Ee))Fe(Se&&JSON.parse(Se))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((r,Se,Ee)=>{this.onStorageEvent(new StorageEvent("storage",{key:r,oldValue:Se,newValue:Ee}),!0)})},_POLLING_INTERVAL_MS$1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(r,Se){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[r]||(this.listeners[r]=new Set,this.localCache[r]=this.storage.getItem(r)),this.listeners[r].add(Se)}_removeListener(r,Se){this.listeners[r]&&(this.listeners[r].delete(Se),this.listeners[r].size===0&&delete this.listeners[r]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(r,Se){await super._set(r,Se),this.localCache[r]=JSON.stringify(Se)}async _get(r){const Se=await super._get(r);return this.localCache[r]=JSON.stringify(Se),Se}async _remove(r){await super._remove(r),delete this.localCache[r]}}BrowserLocalPersistence.type="LOCAL";const browserLocalPersistence=BrowserLocalPersistence;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BrowserSessionPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(r,Se){}_removeListener(r,Se){}}BrowserSessionPersistence.type="SESSION";const browserSessionPersistence=BrowserSessionPersistence;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _allSettled(Ae){return Promise.all(Ae.map(async r=>{try{return{fulfilled:!0,value:await r}}catch(Se){return{fulfilled:!1,reason:Se}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Receiver{constructor(r){this.eventTarget=r,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(r){const Se=this.receivers.find(Fe=>Fe.isListeningto(r));if(Se)return Se;const Ee=new Receiver(r);return this.receivers.push(Ee),Ee}isListeningto(r){return this.eventTarget===r}async handleEvent(r){const Se=r,{eventId:Ee,eventType:Fe,data:Be}=Se.data,Ve=this.handlersMap[Fe];if(!Ve?.size)return;Se.ports[0].postMessage({status:"ack",eventId:Ee,eventType:Fe});const _e=Array.from(Ve).map(async xe=>xe(Se.origin,Be)),ze=await _allSettled(_e);Se.ports[0].postMessage({status:"done",eventId:Ee,eventType:Fe,response:ze})}_subscribe(r,Se){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[r]||(this.handlersMap[r]=new Set),this.handlersMap[r].add(Se)}_unsubscribe(r,Se){this.handlersMap[r]&&Se&&this.handlersMap[r].delete(Se),(!Se||this.handlersMap[r].size===0)&&delete this.handlersMap[r],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Receiver.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _generateEventId(Ae="",r=10){let Se="";for(let Ee=0;Ee<r;Ee++)Se+=Math.floor(Math.random()*10);return Ae+Se}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sender{constructor(r){this.target=r,this.handlers=new Set}removeMessageHandler(r){r.messageChannel&&(r.messageChannel.port1.removeEventListener("message",r.onMessage),r.messageChannel.port1.close()),this.handlers.delete(r)}async _send(r,Se,Ee=50){const Fe=typeof MessageChannel<"u"?new MessageChannel:null;if(!Fe)throw new Error("connection_unavailable");let Be,Ve;return new Promise((_e,ze)=>{const xe=_generateEventId("",20);Fe.port1.start();const Ie=setTimeout(()=>{ze(new Error("unsupported_event"))},Ee);Ve={messageChannel:Fe,onMessage(Re){const e=Re;if(e.data.eventId===xe)switch(e.data.status){case"ack":clearTimeout(Ie),Be=setTimeout(()=>{ze(new Error("timeout"))},3e3);break;case"done":clearTimeout(Be),_e(e.data.response);break;default:clearTimeout(Ie),clearTimeout(Be),ze(new Error("invalid_response"));break}}},this.handlers.add(Ve),Fe.port1.addEventListener("message",Ve.onMessage),this.target.postMessage({eventType:r,eventId:xe,data:Se},[Fe.port2])}).finally(()=>{Ve&&this.removeMessageHandler(Ve)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _window(){return window}function _setWindowLocation(Ae){_window().location.href=Ae}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _isWorker(){return typeof _window().WorkerGlobalScope<"u"&&typeof _window().importScripts=="function"}async function _getActiveServiceWorker(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _getServiceWorkerController(){return navigator?.serviceWorker?.controller||null}function _getWorkerGlobalScope(){return _isWorker()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME="firebaseLocalStorageDb",DB_VERSION=1,DB_OBJECTSTORE_NAME="firebaseLocalStorage",DB_DATA_KEYPATH="fbase_key";class DBPromise{constructor(r){this.request=r}toPromise(){return new Promise((r,Se)=>{this.request.addEventListener("success",()=>{r(this.request.result)}),this.request.addEventListener("error",()=>{Se(this.request.error)})})}}function getObjectStore(Ae,r){return Ae.transaction([DB_OBJECTSTORE_NAME],r?"readwrite":"readonly").objectStore(DB_OBJECTSTORE_NAME)}function _deleteDatabase(){const Ae=indexedDB.deleteDatabase(DB_NAME);return new DBPromise(Ae).toPromise()}function _openDatabase(){const Ae=indexedDB.open(DB_NAME,DB_VERSION);return new Promise((r,Se)=>{Ae.addEventListener("error",()=>{Se(Ae.error)}),Ae.addEventListener("upgradeneeded",()=>{const Ee=Ae.result;try{Ee.createObjectStore(DB_OBJECTSTORE_NAME,{keyPath:DB_DATA_KEYPATH})}catch(Fe){Se(Fe)}}),Ae.addEventListener("success",async()=>{const Ee=Ae.result;Ee.objectStoreNames.contains(DB_OBJECTSTORE_NAME)?r(Ee):(Ee.close(),await _deleteDatabase(),r(await _openDatabase()))})})}async function _putObject(Ae,r,Se){const Ee=getObjectStore(Ae,!0).put({[DB_DATA_KEYPATH]:r,value:Se});return new DBPromise(Ee).toPromise()}async function getObject(Ae,r){const Se=getObjectStore(Ae,!1).get(r),Ee=await new DBPromise(Se).toPromise();return Ee===void 0?null:Ee.value}function _deleteObject(Ae,r){const Se=getObjectStore(Ae,!0).delete(r);return new DBPromise(Se).toPromise()}const _POLLING_INTERVAL_MS=800,_TRANSACTION_RETRY_COUNT=3;class IndexedDBLocalPersistence{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _openDatabase(),this.db)}async _withRetries(r){let Se=0;for(;;)try{const Ee=await this._openDb();return await r(Ee)}catch(Ee){if(Se++>_TRANSACTION_RETRY_COUNT)throw Ee;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _isWorker()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Receiver._getInstance(_getWorkerGlobalScope()),this.receiver._subscribe("keyChanged",async(r,Se)=>({keyProcessed:(await this._poll()).includes(Se.key)})),this.receiver._subscribe("ping",async(r,Se)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await _getActiveServiceWorker(),!this.activeServiceWorker)return;this.sender=new Sender(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&r[0]?.fulfilled&&r[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(r){if(!(!this.sender||!this.activeServiceWorker||_getServiceWorkerController()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:r},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const r=await _openDatabase();return await _putObject(r,STORAGE_AVAILABLE_KEY,"1"),await _deleteObject(r,STORAGE_AVAILABLE_KEY),!0}catch{}return!1}async _withPendingWrite(r){this.pendingWrites++;try{await r()}finally{this.pendingWrites--}}async _set(r,Se){return this._withPendingWrite(async()=>(await this._withRetries(Ee=>_putObject(Ee,r,Se)),this.localCache[r]=Se,this.notifyServiceWorker(r)))}async _get(r){const Se=await this._withRetries(Ee=>getObject(Ee,r));return this.localCache[r]=Se,Se}async _remove(r){return this._withPendingWrite(async()=>(await this._withRetries(Se=>_deleteObject(Se,r)),delete this.localCache[r],this.notifyServiceWorker(r)))}async _poll(){const r=await this._withRetries(Fe=>{const Be=getObjectStore(Fe,!1).getAll();return new DBPromise(Be).toPromise()});if(!r)return[];if(this.pendingWrites!==0)return[];const Se=[],Ee=new Set;if(r.length!==0)for(const{fbase_key:Fe,value:Be}of r)Ee.add(Fe),JSON.stringify(this.localCache[Fe])!==JSON.stringify(Be)&&(this.notifyListeners(Fe,Be),Se.push(Fe));for(const Fe of Object.keys(this.localCache))this.localCache[Fe]&&!Ee.has(Fe)&&(this.notifyListeners(Fe,null),Se.push(Fe));return Se}notifyListeners(r,Se){this.localCache[r]=Se;const Ee=this.listeners[r];if(Ee)for(const Fe of Array.from(Ee))Fe(Se)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_POLLING_INTERVAL_MS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(r,Se){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[r]||(this.listeners[r]=new Set,this._get(r)),this.listeners[r].add(Se)}_removeListener(r,Se){this.listeners[r]&&(this.listeners[r].delete(Se),this.listeners[r].size===0&&delete this.listeners[r]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IndexedDBLocalPersistence.type="LOCAL";const indexedDBLocalPersistence=IndexedDBLocalPersistence;new Delay(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _withDefaultResolver(Ae,r){return r?_getInstance(r):(_assert(Ae._popupRedirectResolver,Ae,"argument-error"),Ae._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IdpCredential extends AuthCredential{constructor(r){super("custom","custom"),this.params=r}_getIdTokenResponse(r){return signInWithIdp(r,this._buildIdpRequest())}_linkToIdToken(r,Se){return signInWithIdp(r,this._buildIdpRequest(Se))}_getReauthenticationResolver(r){return signInWithIdp(r,this._buildIdpRequest())}_buildIdpRequest(r){const Se={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return r&&(Se.idToken=r),Se}}function _signIn(Ae){return _signInWithCredential(Ae.auth,new IdpCredential(Ae),Ae.bypassAuthState)}function _reauth(Ae){const{auth:r,user:Se}=Ae;return _assert(Se,r,"internal-error"),_reauthenticate(Se,new IdpCredential(Ae),Ae.bypassAuthState)}async function _link(Ae){const{auth:r,user:Se}=Ae;return _assert(Se,r,"internal-error"),_link$1(Se,new IdpCredential(Ae),Ae.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AbstractPopupRedirectOperation{constructor(r,Se,Ee,Fe,Be=!1){this.auth=r,this.resolver=Ee,this.user=Fe,this.bypassAuthState=Be,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(Se)?Se:[Se]}execute(){return new Promise(async(r,Se)=>{this.pendingPromise={resolve:r,reject:Se};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(Ee){this.reject(Ee)}})}async onAuthEvent(r){const{urlResponse:Se,sessionId:Ee,postBody:Fe,tenantId:Be,error:Ve,type:_e}=r;if(Ve){this.reject(Ve);return}const ze={auth:this.auth,requestUri:Se,sessionId:Ee,tenantId:Be||void 0,postBody:Fe||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(_e)(ze))}catch(xe){this.reject(xe)}}onError(r){this.reject(r)}getIdpTask(r){switch(r){case"signInViaPopup":case"signInViaRedirect":return _signIn;case"linkViaPopup":case"linkViaRedirect":return _link;case"reauthViaPopup":case"reauthViaRedirect":return _reauth;default:_fail(this.auth,"internal-error")}}resolve(r){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(r),this.unregisterAndCleanUp()}reject(r){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(r),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _POLL_WINDOW_CLOSE_TIMEOUT=new Delay(2e3,1e4);async function signInWithPopup(Ae,r,Se){if(_isFirebaseServerApp(Ae.app))return Promise.reject(_createError(Ae,"operation-not-supported-in-this-environment"));const Ee=_castAuth(Ae);_assertInstanceOf(Ae,r,FederatedAuthProvider);const Fe=_withDefaultResolver(Ee,Se);return new PopupOperation(Ee,"signInViaPopup",r,Fe).executeNotNull()}class PopupOperation extends AbstractPopupRedirectOperation{constructor(r,Se,Ee,Fe,Be){super(r,Se,Fe,Be),this.provider=Ee,this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction&&PopupOperation.currentPopupAction.cancel(),PopupOperation.currentPopupAction=this}async executeNotNull(){const r=await this.execute();return _assert(r,this.auth,"internal-error"),r}async onExecution(){debugAssert(this.filter.length===1,"Popup operations only handle one event");const r=_generateEventId();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],r),this.authWindow.associatedEvent=r,this.resolver._originValidation(this.auth).catch(Se=>{this.reject(Se)}),this.resolver._isIframeWebStorageSupported(this.auth,Se=>{Se||this.reject(_createError(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(_createError(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction=null}pollUserCancellation(){const r=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_createError(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(r,_POLL_WINDOW_CLOSE_TIMEOUT.get())};r()}}PopupOperation.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PENDING_REDIRECT_KEY="pendingRedirect",redirectOutcomeMap=new Map;class RedirectAction extends AbstractPopupRedirectOperation{constructor(r,Se,Ee=!1){super(r,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],Se,void 0,Ee),this.eventId=null}async execute(){let r=redirectOutcomeMap.get(this.auth._key());if(!r){try{const Ee=await _getAndClearPendingRedirectStatus(this.resolver,this.auth)?await super.execute():null;r=()=>Promise.resolve(Ee)}catch(Se){r=()=>Promise.reject(Se)}redirectOutcomeMap.set(this.auth._key(),r)}return this.bypassAuthState||redirectOutcomeMap.set(this.auth._key(),()=>Promise.resolve(null)),r()}async onAuthEvent(r){if(r.type==="signInViaRedirect")return super.onAuthEvent(r);if(r.type==="unknown"){this.resolve(null);return}if(r.eventId){const Se=await this.auth._redirectUserForId(r.eventId);if(Se)return this.user=Se,super.onAuthEvent(r);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _getAndClearPendingRedirectStatus(Ae,r){const Se=pendingRedirectKey(r),Ee=resolverPersistence(Ae);if(!await Ee._isAvailable())return!1;const Fe=await Ee._get(Se)==="true";return await Ee._remove(Se),Fe}function _overrideRedirectResult(Ae,r){redirectOutcomeMap.set(Ae._key(),r)}function resolverPersistence(Ae){return _getInstance(Ae._redirectPersistence)}function pendingRedirectKey(Ae){return _persistenceKeyName(PENDING_REDIRECT_KEY,Ae.config.apiKey,Ae.name)}async function _getRedirectResult(Ae,r,Se=!1){if(_isFirebaseServerApp(Ae.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(Ae));const Ee=_castAuth(Ae),Fe=_withDefaultResolver(Ee,r),Ve=await new RedirectAction(Ee,Fe,Se).execute();return Ve&&!Se&&(delete Ve.user._redirectEventId,await Ee._persistUserIfCurrent(Ve.user),await Ee._setRedirectUser(null,r)),Ve}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EVENT_DUPLICATION_CACHE_DURATION_MS=600*1e3;class AuthEventManager{constructor(r){this.auth=r,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(r){this.consumers.add(r),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,r)&&(this.sendToConsumer(this.queuedRedirectEvent,r),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(r){this.consumers.delete(r)}onEvent(r){if(this.hasEventBeenHandled(r))return!1;let Se=!1;return this.consumers.forEach(Ee=>{this.isEventForConsumer(r,Ee)&&(Se=!0,this.sendToConsumer(r,Ee),this.saveEventToCache(r))}),this.hasHandledPotentialRedirect||!isRedirectEvent(r)||(this.hasHandledPotentialRedirect=!0,Se||(this.queuedRedirectEvent=r,Se=!0)),Se}sendToConsumer(r,Se){if(r.error&&!isNullRedirectEvent(r)){const Ee=r.error.code?.split("auth/")[1]||"internal-error";Se.onError(_createError(this.auth,Ee))}else Se.onAuthEvent(r)}isEventForConsumer(r,Se){const Ee=Se.eventId===null||!!r.eventId&&r.eventId===Se.eventId;return Se.filter.includes(r.type)&&Ee}hasEventBeenHandled(r){return Date.now()-this.lastProcessedEventTime>=EVENT_DUPLICATION_CACHE_DURATION_MS&&this.cachedEventUids.clear(),this.cachedEventUids.has(eventUid(r))}saveEventToCache(r){this.cachedEventUids.add(eventUid(r)),this.lastProcessedEventTime=Date.now()}}function eventUid(Ae){return[Ae.type,Ae.eventId,Ae.sessionId,Ae.tenantId].filter(r=>r).join("-")}function isNullRedirectEvent({type:Ae,error:r}){return Ae==="unknown"&&r?.code==="auth/no-auth-event"}function isRedirectEvent(Ae){switch(Ae.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return isNullRedirectEvent(Ae);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _getProjectConfig(Ae,r={}){return _performApiRequest(Ae,"GET","/v1/projects",r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP_ADDRESS_REGEX=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HTTP_REGEX=/^https?/;async function _validateOrigin(Ae){if(Ae.config.emulator)return;const{authorizedDomains:r}=await _getProjectConfig(Ae);for(const Se of r)try{if(matchDomain(Se))return}catch{}_fail(Ae,"unauthorized-domain")}function matchDomain(Ae){const r=_getCurrentUrl(),{protocol:Se,hostname:Ee}=new URL(r);if(Ae.startsWith("chrome-extension://")){const Ve=new URL(Ae);return Ve.hostname===""&&Ee===""?Se==="chrome-extension:"&&Ae.replace("chrome-extension://","")===r.replace("chrome-extension://",""):Se==="chrome-extension:"&&Ve.hostname===Ee}if(!HTTP_REGEX.test(Se))return!1;if(IP_ADDRESS_REGEX.test(Ae))return Ee===Ae;const Fe=Ae.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Fe+"|"+Fe+")$","i").test(Ee)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NETWORK_TIMEOUT=new Delay(3e4,6e4);function resetUnloadedGapiModules(){const Ae=_window().___jsl;if(Ae?.H){for(const r of Object.keys(Ae.H))if(Ae.H[r].r=Ae.H[r].r||[],Ae.H[r].L=Ae.H[r].L||[],Ae.H[r].r=[...Ae.H[r].L],Ae.CP)for(let Se=0;Se<Ae.CP.length;Se++)Ae.CP[Se]=null}}function loadGapi(Ae){return new Promise((r,Se)=>{function Ee(){resetUnloadedGapiModules(),gapi.load("gapi.iframes",{callback:()=>{r(gapi.iframes.getContext())},ontimeout:()=>{resetUnloadedGapiModules(),Se(_createError(Ae,"network-request-failed"))},timeout:NETWORK_TIMEOUT.get()})}if(_window().gapi?.iframes?.Iframe)r(gapi.iframes.getContext());else if(_window().gapi?.load)Ee();else{const Fe=_generateCallbackName("iframefcb");return _window()[Fe]=()=>{gapi.load?Ee():Se(_createError(Ae,"network-request-failed"))},_loadJS(`${_gapiScriptUrl()}?onload=${Fe}`).catch(Be=>Se(Be))}}).catch(r=>{throw cachedGApiLoader=null,r})}let cachedGApiLoader=null;function _loadGapi(Ae){return cachedGApiLoader=cachedGApiLoader||loadGapi(Ae),cachedGApiLoader}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PING_TIMEOUT=new Delay(5e3,15e3),IFRAME_PATH="__/auth/iframe",EMULATED_IFRAME_PATH="emulator/auth/iframe",IFRAME_ATTRIBUTES={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EID_FROM_APIHOST=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function getIframeUrl(Ae){const r=Ae.config;_assert(r.authDomain,Ae,"auth-domain-config-required");const Se=r.emulator?_emulatorUrl(r,EMULATED_IFRAME_PATH):`https://${Ae.config.authDomain}/${IFRAME_PATH}`,Ee={apiKey:r.apiKey,appName:Ae.name,v:SDK_VERSION},Fe=EID_FROM_APIHOST.get(Ae.config.apiHost);Fe&&(Ee.eid=Fe);const Be=Ae._getFrameworks();return Be.length&&(Ee.fw=Be.join(",")),`${Se}?${querystring(Ee).slice(1)}`}async function _openIframe(Ae){const r=await _loadGapi(Ae),Se=_window().gapi;return _assert(Se,Ae,"internal-error"),r.open({where:document.body,url:getIframeUrl(Ae),messageHandlersFilter:Se.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IFRAME_ATTRIBUTES,dontclear:!0},Ee=>new Promise(async(Fe,Be)=>{await Ee.restyle({setHideOnLeave:!1});const Ve=_createError(Ae,"network-request-failed"),_e=_window().setTimeout(()=>{Be(Ve)},PING_TIMEOUT.get());function ze(){_window().clearTimeout(_e),Fe(Ee)}Ee.ping(ze).then(ze,()=>{Be(Ve)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BASE_POPUP_OPTIONS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DEFAULT_WIDTH=500,DEFAULT_HEIGHT=600,TARGET_BLANK="_blank",FIREFOX_EMPTY_URL="http://localhost";class AuthPopup{constructor(r){this.window=r,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _open(Ae,r,Se,Ee=DEFAULT_WIDTH,Fe=DEFAULT_HEIGHT){const Be=Math.max((window.screen.availHeight-Fe)/2,0).toString(),Ve=Math.max((window.screen.availWidth-Ee)/2,0).toString();let _e="";const ze={...BASE_POPUP_OPTIONS,width:Ee.toString(),height:Fe.toString(),top:Be,left:Ve},xe=getUA().toLowerCase();Se&&(_e=_isChromeIOS(xe)?TARGET_BLANK:Se),_isFirefox(xe)&&(r=r||FIREFOX_EMPTY_URL,ze.scrollbars="yes");const Ie=Object.entries(ze).reduce((e,[t,Te])=>`${e}${t}=${Te},`,"");if(_isIOSStandalone(xe)&&_e!=="_self")return openAsNewWindowIOS(r||"",_e),new AuthPopup(null);const Re=window.open(r||"",_e,Ie);_assert(Re,Ae,"popup-blocked");try{Re.focus()}catch{}return new AuthPopup(Re)}function openAsNewWindowIOS(Ae,r){const Se=document.createElement("a");Se.href=Ae,Se.target=r;const Ee=document.createEvent("MouseEvent");Ee.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),Se.dispatchEvent(Ee)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WIDGET_PATH="__/auth/handler",EMULATOR_WIDGET_PATH="emulator/auth/handler",FIREBASE_APP_CHECK_FRAGMENT_ID=encodeURIComponent("fac");async function _getRedirectUrl(Ae,r,Se,Ee,Fe,Be){_assert(Ae.config.authDomain,Ae,"auth-domain-config-required"),_assert(Ae.config.apiKey,Ae,"invalid-api-key");const Ve={apiKey:Ae.config.apiKey,appName:Ae.name,authType:Se,redirectUrl:Ee,v:SDK_VERSION,eventId:Fe};if(r instanceof FederatedAuthProvider){r.setDefaultLanguage(Ae.languageCode),Ve.providerId=r.providerId||"",isEmpty(r.getCustomParameters())||(Ve.customParameters=JSON.stringify(r.getCustomParameters()));for(const[Ie,Re]of Object.entries({}))Ve[Ie]=Re}if(r instanceof BaseOAuthProvider){const Ie=r.getScopes().filter(Re=>Re!=="");Ie.length>0&&(Ve.scopes=Ie.join(","))}Ae.tenantId&&(Ve.tid=Ae.tenantId);const _e=Ve;for(const Ie of Object.keys(_e))_e[Ie]===void 0&&delete _e[Ie];const ze=await Ae._getAppCheckToken(),xe=ze?`#${FIREBASE_APP_CHECK_FRAGMENT_ID}=${encodeURIComponent(ze)}`:"";return`${getHandlerBase(Ae)}?${querystring(_e).slice(1)}${xe}`}function getHandlerBase({config:Ae}){return Ae.emulator?_emulatorUrl(Ae,EMULATOR_WIDGET_PATH):`https://${Ae.authDomain}/${WIDGET_PATH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WEB_STORAGE_SUPPORT_KEY="webStorageSupport";class BrowserPopupRedirectResolver{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=browserSessionPersistence,this._completeRedirectFn=_getRedirectResult,this._overrideRedirectResult=_overrideRedirectResult}async _openPopup(r,Se,Ee,Fe){debugAssert(this.eventManagers[r._key()]?.manager,"_initialize() not called before _openPopup()");const Be=await _getRedirectUrl(r,Se,Ee,_getCurrentUrl(),Fe);return _open(r,Be,_generateEventId())}async _openRedirect(r,Se,Ee,Fe){await this._originValidation(r);const Be=await _getRedirectUrl(r,Se,Ee,_getCurrentUrl(),Fe);return _setWindowLocation(Be),new Promise(()=>{})}_initialize(r){const Se=r._key();if(this.eventManagers[Se]){const{manager:Fe,promise:Be}=this.eventManagers[Se];return Fe?Promise.resolve(Fe):(debugAssert(Be,"If manager is not set, promise should be"),Be)}const Ee=this.initAndGetManager(r);return this.eventManagers[Se]={promise:Ee},Ee.catch(()=>{delete this.eventManagers[Se]}),Ee}async initAndGetManager(r){const Se=await _openIframe(r),Ee=new AuthEventManager(r);return Se.register("authEvent",Fe=>(_assert(Fe?.authEvent,r,"invalid-auth-event"),{status:Ee.onEvent(Fe.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[r._key()]={manager:Ee},this.iframes[r._key()]=Se,Ee}_isIframeWebStorageSupported(r,Se){this.iframes[r._key()].send(WEB_STORAGE_SUPPORT_KEY,{type:WEB_STORAGE_SUPPORT_KEY},Fe=>{const Be=Fe?.[0]?.[WEB_STORAGE_SUPPORT_KEY];Be!==void 0&&Se(!!Be),_fail(r,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(r){const Se=r._key();return this.originValidationPromises[Se]||(this.originValidationPromises[Se]=_validateOrigin(r)),this.originValidationPromises[Se]}get _shouldInitProactively(){return _isMobileBrowser()||_isSafari()||_isIOS()}}const browserPopupRedirectResolver=BrowserPopupRedirectResolver;var name$2="@firebase/auth",version$2="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthInterop{constructor(r){this.auth=r,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(r){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(r)}:null}addAuthTokenListener(r){if(this.assertAuthConfigured(),this.internalListeners.has(r))return;const Se=this.auth.onIdTokenChanged(Ee=>{r(Ee?.stsTokenManager.accessToken||null)});this.internalListeners.set(r,Se),this.updateProactiveRefresh()}removeAuthTokenListener(r){this.assertAuthConfigured();const Se=this.internalListeners.get(r);Se&&(this.internalListeners.delete(r),Se(),this.updateProactiveRefresh())}assertAuthConfigured(){_assert(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getVersionForPlatform(Ae){switch(Ae){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function registerAuth(Ae){_registerComponent(new Component("auth",(r,{options:Se})=>{const Ee=r.getProvider("app").getImmediate(),Fe=r.getProvider("heartbeat"),Be=r.getProvider("app-check-internal"),{apiKey:Ve,authDomain:_e}=Ee.options;_assert(Ve&&!Ve.includes(":"),"invalid-api-key",{appName:Ee.name});const ze={apiKey:Ve,authDomain:_e,clientPlatform:Ae,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_getClientVersion(Ae)},xe=new AuthImpl(Ee,Fe,Be,ze);return _initializeAuthInstance(xe,Se),xe},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((r,Se,Ee)=>{r.getProvider("auth-internal").initialize()})),_registerComponent(new Component("auth-internal",r=>{const Se=_castAuth(r.getProvider("auth").getImmediate());return(Ee=>new AuthInterop(Ee))(Se)},"PRIVATE").setInstantiationMode("EXPLICIT")),registerVersion(name$2,version$2,getVersionForPlatform(Ae)),registerVersion(name$2,version$2,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ID_TOKEN_MAX_AGE=300,authIdTokenMaxAge=getExperimentalSetting("authIdTokenMaxAge")||DEFAULT_ID_TOKEN_MAX_AGE;let lastPostedIdToken=null;const mintCookieFactory=Ae=>async r=>{const Se=r&&await r.getIdTokenResult(),Ee=Se&&(new Date().getTime()-Date.parse(Se.issuedAtTime))/1e3;if(Ee&&Ee>authIdTokenMaxAge)return;const Fe=Se?.token;lastPostedIdToken!==Fe&&(lastPostedIdToken=Fe,await fetch(Ae,{method:Fe?"POST":"DELETE",headers:Fe?{Authorization:`Bearer ${Fe}`}:{}}))};function getAuth(Ae=getApp()){const r=_getProvider(Ae,"auth");if(r.isInitialized())return r.getImmediate();const Se=initializeAuth(Ae,{popupRedirectResolver:browserPopupRedirectResolver,persistence:[indexedDBLocalPersistence,browserLocalPersistence,browserSessionPersistence]}),Ee=getExperimentalSetting("authTokenSyncURL");if(Ee&&typeof isSecureContext=="boolean"&&isSecureContext){const Be=new URL(Ee,location.origin);if(location.origin===Be.origin){const Ve=mintCookieFactory(Be.toString());beforeAuthStateChanged(Se,Ve,()=>Ve(Se.currentUser)),onIdTokenChanged(Se,_e=>Ve(_e))}}const Fe=getDefaultEmulatorHost("auth");return Fe&&connectAuthEmulator(Se,`http://${Fe}`),Se}function getScriptParentElement(){return document.getElementsByTagName("head")?.[0]??document}_setExternalJSProvider({loadJS(Ae){return new Promise((r,Se)=>{const Ee=document.createElement("script");Ee.setAttribute("src",Ae),Ee.onload=r,Ee.onerror=Fe=>{const Be=_createError("internal-error");Be.customData=Fe,Se(Be)},Ee.type="text/javascript",Ee.charset="UTF-8",getScriptParentElement().appendChild(Ee)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});registerAuth("Browser");const name$1="@firebase/installations",version$1="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PENDING_TIMEOUT_MS=1e4,PACKAGE_VERSION=`w:${version$1}`,INTERNAL_AUTH_VERSION="FIS_v2",INSTALLATIONS_API_URL="https://firebaseinstallations.googleapis.com/v1",TOKEN_EXPIRATION_BUFFER=3600*1e3,SERVICE="installations",SERVICE_NAME="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERROR_DESCRIPTION_MAP={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ERROR_FACTORY$1=new ErrorFactory(SERVICE,SERVICE_NAME,ERROR_DESCRIPTION_MAP);function isServerError(Ae){return Ae instanceof FirebaseError&&Ae.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getInstallationsEndpoint({projectId:Ae}){return`${INSTALLATIONS_API_URL}/projects/${Ae}/installations`}function extractAuthTokenInfoFromResponse(Ae){return{token:Ae.token,requestStatus:2,expiresIn:getExpiresInFromResponseExpiresIn(Ae.expiresIn),creationTime:Date.now()}}async function getErrorFromResponse(Ae,r){const Ee=(await r.json()).error;return ERROR_FACTORY$1.create("request-failed",{requestName:Ae,serverCode:Ee.code,serverMessage:Ee.message,serverStatus:Ee.status})}function getHeaders$1({apiKey:Ae}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":Ae})}function getHeadersWithAuth(Ae,{refreshToken:r}){const Se=getHeaders$1(Ae);return Se.append("Authorization",getAuthorizationHeader(r)),Se}async function retryIfServerError(Ae){const r=await Ae();return r.status>=500&&r.status<600?Ae():r}function getExpiresInFromResponseExpiresIn(Ae){return Number(Ae.replace("s","000"))}function getAuthorizationHeader(Ae){return`${INTERNAL_AUTH_VERSION} ${Ae}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function createInstallationRequest({appConfig:Ae,heartbeatServiceProvider:r},{fid:Se}){const Ee=getInstallationsEndpoint(Ae),Fe=getHeaders$1(Ae),Be=r.getImmediate({optional:!0});if(Be){const xe=await Be.getHeartbeatsHeader();xe&&Fe.append("x-firebase-client",xe)}const Ve={fid:Se,authVersion:INTERNAL_AUTH_VERSION,appId:Ae.appId,sdkVersion:PACKAGE_VERSION},_e={method:"POST",headers:Fe,body:JSON.stringify(Ve)},ze=await retryIfServerError(()=>fetch(Ee,_e));if(ze.ok){const xe=await ze.json();return{fid:xe.fid||Se,registrationStatus:2,refreshToken:xe.refreshToken,authToken:extractAuthTokenInfoFromResponse(xe.authToken)}}else throw await getErrorFromResponse("Create Installation",ze)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sleep(Ae){return new Promise(r=>{setTimeout(r,Ae)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bufferToBase64UrlSafe(Ae){return btoa(String.fromCharCode(...Ae)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VALID_FID_PATTERN=/^[cdef][\w-]{21}$/,INVALID_FID="";function generateFid(){try{const Ae=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(Ae),Ae[0]=112+Ae[0]%16;const Se=encode(Ae);return VALID_FID_PATTERN.test(Se)?Se:INVALID_FID}catch{return INVALID_FID}}function encode(Ae){return bufferToBase64UrlSafe(Ae).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getKey(Ae){return`${Ae.appName}!${Ae.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fidChangeCallbacks=new Map;function fidChanged(Ae,r){const Se=getKey(Ae);callFidChangeCallbacks(Se,r),broadcastFidChange(Se,r)}function callFidChangeCallbacks(Ae,r){const Se=fidChangeCallbacks.get(Ae);if(Se)for(const Ee of Se)Ee(r)}function broadcastFidChange(Ae,r){const Se=getBroadcastChannel();Se&&Se.postMessage({key:Ae,fid:r}),closeBroadcastChannel()}let broadcastChannel=null;function getBroadcastChannel(){return!broadcastChannel&&"BroadcastChannel"in self&&(broadcastChannel=new BroadcastChannel("[Firebase] FID Change"),broadcastChannel.onmessage=Ae=>{callFidChangeCallbacks(Ae.data.key,Ae.data.fid)}),broadcastChannel}function closeBroadcastChannel(){fidChangeCallbacks.size===0&&broadcastChannel&&(broadcastChannel.close(),broadcastChannel=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DATABASE_NAME="firebase-installations-database",DATABASE_VERSION=1,OBJECT_STORE_NAME="firebase-installations-store";let dbPromise=null;function getDbPromise(){return dbPromise||(dbPromise=openDB(DATABASE_NAME,DATABASE_VERSION,{upgrade:(Ae,r)=>{switch(r){case 0:Ae.createObjectStore(OBJECT_STORE_NAME)}}})),dbPromise}async function set(Ae,r){const Se=getKey(Ae),Fe=(await getDbPromise()).transaction(OBJECT_STORE_NAME,"readwrite"),Be=Fe.objectStore(OBJECT_STORE_NAME),Ve=await Be.get(Se);return await Be.put(r,Se),await Fe.done,(!Ve||Ve.fid!==r.fid)&&fidChanged(Ae,r.fid),r}async function remove(Ae){const r=getKey(Ae),Ee=(await getDbPromise()).transaction(OBJECT_STORE_NAME,"readwrite");await Ee.objectStore(OBJECT_STORE_NAME).delete(r),await Ee.done}async function update(Ae,r){const Se=getKey(Ae),Fe=(await getDbPromise()).transaction(OBJECT_STORE_NAME,"readwrite"),Be=Fe.objectStore(OBJECT_STORE_NAME),Ve=await Be.get(Se),_e=r(Ve);return _e===void 0?await Be.delete(Se):await Be.put(_e,Se),await Fe.done,_e&&(!Ve||Ve.fid!==_e.fid)&&fidChanged(Ae,_e.fid),_e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function getInstallationEntry(Ae){let r;const Se=await update(Ae.appConfig,Ee=>{const Fe=updateOrCreateInstallationEntry(Ee),Be=triggerRegistrationIfNecessary(Ae,Fe);return r=Be.registrationPromise,Be.installationEntry});return Se.fid===INVALID_FID?{installationEntry:await r}:{installationEntry:Se,registrationPromise:r}}function updateOrCreateInstallationEntry(Ae){const r=Ae||{fid:generateFid(),registrationStatus:0};return clearTimedOutRequest(r)}function triggerRegistrationIfNecessary(Ae,r){if(r.registrationStatus===0){if(!navigator.onLine){const Fe=Promise.reject(ERROR_FACTORY$1.create("app-offline"));return{installationEntry:r,registrationPromise:Fe}}const Se={fid:r.fid,registrationStatus:1,registrationTime:Date.now()},Ee=registerInstallation(Ae,Se);return{installationEntry:Se,registrationPromise:Ee}}else return r.registrationStatus===1?{installationEntry:r,registrationPromise:waitUntilFidRegistration(Ae)}:{installationEntry:r}}async function registerInstallation(Ae,r){try{const Se=await createInstallationRequest(Ae,r);return set(Ae.appConfig,Se)}catch(Se){throw isServerError(Se)&&Se.customData.serverCode===409?await remove(Ae.appConfig):await set(Ae.appConfig,{fid:r.fid,registrationStatus:0}),Se}}async function waitUntilFidRegistration(Ae){let r=await updateInstallationRequest(Ae.appConfig);for(;r.registrationStatus===1;)await sleep(100),r=await updateInstallationRequest(Ae.appConfig);if(r.registrationStatus===0){const{installationEntry:Se,registrationPromise:Ee}=await getInstallationEntry(Ae);return Ee||Se}return r}function updateInstallationRequest(Ae){return update(Ae,r=>{if(!r)throw ERROR_FACTORY$1.create("installation-not-found");return clearTimedOutRequest(r)})}function clearTimedOutRequest(Ae){return hasInstallationRequestTimedOut(Ae)?{fid:Ae.fid,registrationStatus:0}:Ae}function hasInstallationRequestTimedOut(Ae){return Ae.registrationStatus===1&&Ae.registrationTime+PENDING_TIMEOUT_MS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function generateAuthTokenRequest({appConfig:Ae,heartbeatServiceProvider:r},Se){const Ee=getGenerateAuthTokenEndpoint(Ae,Se),Fe=getHeadersWithAuth(Ae,Se),Be=r.getImmediate({optional:!0});if(Be){const xe=await Be.getHeartbeatsHeader();xe&&Fe.append("x-firebase-client",xe)}const Ve={installation:{sdkVersion:PACKAGE_VERSION,appId:Ae.appId}},_e={method:"POST",headers:Fe,body:JSON.stringify(Ve)},ze=await retryIfServerError(()=>fetch(Ee,_e));if(ze.ok){const xe=await ze.json();return extractAuthTokenInfoFromResponse(xe)}else throw await getErrorFromResponse("Generate Auth Token",ze)}function getGenerateAuthTokenEndpoint(Ae,{fid:r}){return`${getInstallationsEndpoint(Ae)}/${r}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function refreshAuthToken(Ae,r=!1){let Se;const Ee=await update(Ae.appConfig,Be=>{if(!isEntryRegistered(Be))throw ERROR_FACTORY$1.create("not-registered");const Ve=Be.authToken;if(!r&&isAuthTokenValid(Ve))return Be;if(Ve.requestStatus===1)return Se=waitUntilAuthTokenRequest(Ae,r),Be;{if(!navigator.onLine)throw ERROR_FACTORY$1.create("app-offline");const _e=makeAuthTokenRequestInProgressEntry(Be);return Se=fetchAuthTokenFromServer(Ae,_e),_e}});return Se?await Se:Ee.authToken}async function waitUntilAuthTokenRequest(Ae,r){let Se=await updateAuthTokenRequest(Ae.appConfig);for(;Se.authToken.requestStatus===1;)await sleep(100),Se=await updateAuthTokenRequest(Ae.appConfig);const Ee=Se.authToken;return Ee.requestStatus===0?refreshAuthToken(Ae,r):Ee}function updateAuthTokenRequest(Ae){return update(Ae,r=>{if(!isEntryRegistered(r))throw ERROR_FACTORY$1.create("not-registered");const Se=r.authToken;return hasAuthTokenRequestTimedOut(Se)?{...r,authToken:{requestStatus:0}}:r})}async function fetchAuthTokenFromServer(Ae,r){try{const Se=await generateAuthTokenRequest(Ae,r),Ee={...r,authToken:Se};return await set(Ae.appConfig,Ee),Se}catch(Se){if(isServerError(Se)&&(Se.customData.serverCode===401||Se.customData.serverCode===404))await remove(Ae.appConfig);else{const Ee={...r,authToken:{requestStatus:0}};await set(Ae.appConfig,Ee)}throw Se}}function isEntryRegistered(Ae){return Ae!==void 0&&Ae.registrationStatus===2}function isAuthTokenValid(Ae){return Ae.requestStatus===2&&!isAuthTokenExpired(Ae)}function isAuthTokenExpired(Ae){const r=Date.now();return r<Ae.creationTime||Ae.creationTime+Ae.expiresIn<r+TOKEN_EXPIRATION_BUFFER}function makeAuthTokenRequestInProgressEntry(Ae){const r={requestStatus:1,requestTime:Date.now()};return{...Ae,authToken:r}}function hasAuthTokenRequestTimedOut(Ae){return Ae.requestStatus===1&&Ae.requestTime+PENDING_TIMEOUT_MS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function getId(Ae){const r=Ae,{installationEntry:Se,registrationPromise:Ee}=await getInstallationEntry(r);return Ee?Ee.catch(console.error):refreshAuthToken(r).catch(console.error),Se.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function getToken(Ae,r=!1){const Se=Ae;return await completeInstallationRegistration(Se),(await refreshAuthToken(Se,r)).token}async function completeInstallationRegistration(Ae){const{registrationPromise:r}=await getInstallationEntry(Ae);r&&await r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function extractAppConfig(Ae){if(!Ae||!Ae.options)throw getMissingValueError("App Configuration");if(!Ae.name)throw getMissingValueError("App Name");const r=["projectId","apiKey","appId"];for(const Se of r)if(!Ae.options[Se])throw getMissingValueError(Se);return{appName:Ae.name,projectId:Ae.options.projectId,apiKey:Ae.options.apiKey,appId:Ae.options.appId}}function getMissingValueError(Ae){return ERROR_FACTORY$1.create("missing-app-config-values",{valueName:Ae})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const INSTALLATIONS_NAME="installations",INSTALLATIONS_NAME_INTERNAL="installations-internal",publicFactory=Ae=>{const r=Ae.getProvider("app").getImmediate(),Se=extractAppConfig(r),Ee=_getProvider(r,"heartbeat");return{app:r,appConfig:Se,heartbeatServiceProvider:Ee,_delete:()=>Promise.resolve()}},internalFactory=Ae=>{const r=Ae.getProvider("app").getImmediate(),Se=_getProvider(r,INSTALLATIONS_NAME).getImmediate();return{getId:()=>getId(Se),getToken:Fe=>getToken(Se,Fe)}};function registerInstallations(){_registerComponent(new Component(INSTALLATIONS_NAME,publicFactory,"PUBLIC")),_registerComponent(new Component(INSTALLATIONS_NAME_INTERNAL,internalFactory,"PRIVATE"))}registerInstallations();registerVersion(name$1,version$1);registerVersion(name$1,version$1,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ANALYTICS_TYPE="analytics",GA_FID_KEY="firebase_id",ORIGIN_KEY="origin",FETCH_TIMEOUT_MILLIS=60*1e3,DYNAMIC_CONFIG_URL="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",GTAG_URL="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logger=new Logger("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERRORS={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ERROR_FACTORY=new ErrorFactory("analytics","Analytics",ERRORS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function createGtagTrustedTypesScriptURL(Ae){if(!Ae.startsWith(GTAG_URL)){const r=ERROR_FACTORY.create("invalid-gtag-resource",{gtagURL:Ae});return logger.warn(r.message),""}return Ae}function promiseAllSettled(Ae){return Promise.all(Ae.map(r=>r.catch(Se=>Se)))}function createTrustedTypesPolicy(Ae,r){let Se;return window.trustedTypes&&(Se=window.trustedTypes.createPolicy(Ae,r)),Se}function insertScriptTag(Ae,r){const Se=createTrustedTypesPolicy("firebase-js-sdk-policy",{createScriptURL:createGtagTrustedTypesScriptURL}),Ee=document.createElement("script"),Fe=`${GTAG_URL}?l=${Ae}&id=${r}`;Ee.src=Se?Se?.createScriptURL(Fe):Fe,Ee.async=!0,document.head.appendChild(Ee)}function getOrCreateDataLayer(Ae){let r=[];return Array.isArray(window[Ae])?r=window[Ae]:window[Ae]=r,r}async function gtagOnConfig(Ae,r,Se,Ee,Fe,Be){const Ve=Ee[Fe];try{if(Ve)await r[Ve];else{const ze=(await promiseAllSettled(Se)).find(xe=>xe.measurementId===Fe);ze&&await r[ze.appId]}}catch(_e){logger.error(_e)}Ae("config",Fe,Be)}async function gtagOnEvent(Ae,r,Se,Ee,Fe){try{let Be=[];if(Fe&&Fe.send_to){let Ve=Fe.send_to;Array.isArray(Ve)||(Ve=[Ve]);const _e=await promiseAllSettled(Se);for(const ze of Ve){const xe=_e.find(Re=>Re.measurementId===ze),Ie=xe&&r[xe.appId];if(Ie)Be.push(Ie);else{Be=[];break}}}Be.length===0&&(Be=Object.values(r)),await Promise.all(Be),Ae("event",Ee,Fe||{})}catch(Be){logger.error(Be)}}function wrapGtag(Ae,r,Se,Ee){async function Fe(Be,...Ve){try{if(Be==="event"){const[_e,ze]=Ve;await gtagOnEvent(Ae,r,Se,_e,ze)}else if(Be==="config"){const[_e,ze]=Ve;await gtagOnConfig(Ae,r,Se,Ee,_e,ze)}else if(Be==="consent"){const[_e,ze]=Ve;Ae("consent",_e,ze)}else if(Be==="get"){const[_e,ze,xe]=Ve;Ae("get",_e,ze,xe)}else if(Be==="set"){const[_e]=Ve;Ae("set",_e)}else Ae(Be,...Ve)}catch(_e){logger.error(_e)}}return Fe}function wrapOrCreateGtag(Ae,r,Se,Ee,Fe){let Be=function(...Ve){window[Ee].push(arguments)};return window[Fe]&&typeof window[Fe]=="function"&&(Be=window[Fe]),window[Fe]=wrapGtag(Be,Ae,r,Se),{gtagCore:Be,wrappedGtag:window[Fe]}}function findGtagScriptOnPage(Ae){const r=window.document.getElementsByTagName("script");for(const Se of Object.values(r))if(Se.src&&Se.src.includes(GTAG_URL)&&Se.src.includes(Ae))return Se;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LONG_RETRY_FACTOR=30,BASE_INTERVAL_MILLIS=1e3;class RetryData{constructor(r={},Se=BASE_INTERVAL_MILLIS){this.throttleMetadata=r,this.intervalMillis=Se}getThrottleMetadata(r){return this.throttleMetadata[r]}setThrottleMetadata(r,Se){this.throttleMetadata[r]=Se}deleteThrottleMetadata(r){delete this.throttleMetadata[r]}}const defaultRetryData=new RetryData;function getHeaders(Ae){return new Headers({Accept:"application/json","x-goog-api-key":Ae})}async function fetchDynamicConfig(Ae){const{appId:r,apiKey:Se}=Ae,Ee={method:"GET",headers:getHeaders(Se)},Fe=DYNAMIC_CONFIG_URL.replace("{app-id}",r),Be=await fetch(Fe,Ee);if(Be.status!==200&&Be.status!==304){let Ve="";try{const _e=await Be.json();_e.error?.message&&(Ve=_e.error.message)}catch{}throw ERROR_FACTORY.create("config-fetch-failed",{httpStatus:Be.status,responseMessage:Ve})}return Be.json()}async function fetchDynamicConfigWithRetry(Ae,r=defaultRetryData,Se){const{appId:Ee,apiKey:Fe,measurementId:Be}=Ae.options;if(!Ee)throw ERROR_FACTORY.create("no-app-id");if(!Fe){if(Be)return{measurementId:Be,appId:Ee};throw ERROR_FACTORY.create("no-api-key")}const Ve=r.getThrottleMetadata(Ee)||{backoffCount:0,throttleEndTimeMillis:Date.now()},_e=new AnalyticsAbortSignal;return setTimeout(async()=>{_e.abort()},FETCH_TIMEOUT_MILLIS),attemptFetchDynamicConfigWithRetry({appId:Ee,apiKey:Fe,measurementId:Be},Ve,_e,r)}async function attemptFetchDynamicConfigWithRetry(Ae,{throttleEndTimeMillis:r,backoffCount:Se},Ee,Fe=defaultRetryData){const{appId:Be,measurementId:Ve}=Ae;try{await setAbortableTimeout(Ee,r)}catch(_e){if(Ve)return logger.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ve} provided in the "measurementId" field in the local Firebase config. [${_e?.message}]`),{appId:Be,measurementId:Ve};throw _e}try{const _e=await fetchDynamicConfig(Ae);return Fe.deleteThrottleMetadata(Be),_e}catch(_e){const ze=_e;if(!isRetriableError(ze)){if(Fe.deleteThrottleMetadata(Be),Ve)return logger.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ve} provided in the "measurementId" field in the local Firebase config. [${ze?.message}]`),{appId:Be,measurementId:Ve};throw _e}const xe=Number(ze?.customData?.httpStatus)===503?calculateBackoffMillis(Se,Fe.intervalMillis,LONG_RETRY_FACTOR):calculateBackoffMillis(Se,Fe.intervalMillis),Ie={throttleEndTimeMillis:Date.now()+xe,backoffCount:Se+1};return Fe.setThrottleMetadata(Be,Ie),logger.debug(`Calling attemptFetch again in ${xe} millis`),attemptFetchDynamicConfigWithRetry(Ae,Ie,Ee,Fe)}}function setAbortableTimeout(Ae,r){return new Promise((Se,Ee)=>{const Fe=Math.max(r-Date.now(),0),Be=setTimeout(Se,Fe);Ae.addEventListener(()=>{clearTimeout(Be),Ee(ERROR_FACTORY.create("fetch-throttle",{throttleEndTimeMillis:r}))})})}function isRetriableError(Ae){if(!(Ae instanceof FirebaseError)||!Ae.customData)return!1;const r=Number(Ae.customData.httpStatus);return r===429||r===500||r===503||r===504}class AnalyticsAbortSignal{constructor(){this.listeners=[]}addEventListener(r){this.listeners.push(r)}abort(){this.listeners.forEach(r=>r())}}async function logEvent$1(Ae,r,Se,Ee,Fe){if(Fe&&Fe.global){Ae("event",Se,Ee);return}else{const Be=await r,Ve={...Ee,send_to:Be};Ae("event",Se,Ve)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function validateIndexedDB(){if(isIndexedDBAvailable())try{await validateIndexedDBOpenable()}catch(Ae){return logger.warn(ERROR_FACTORY.create("indexeddb-unavailable",{errorInfo:Ae?.toString()}).message),!1}else return logger.warn(ERROR_FACTORY.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function _initializeAnalytics(Ae,r,Se,Ee,Fe,Be,Ve){const _e=fetchDynamicConfigWithRetry(Ae);_e.then(e=>{Se[e.measurementId]=e.appId,Ae.options.measurementId&&e.measurementId!==Ae.options.measurementId&&logger.warn(`The measurement ID in the local Firebase config (${Ae.options.measurementId}) does not match the measurement ID fetched from the server (${e.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(e=>logger.error(e)),r.push(_e);const ze=validateIndexedDB().then(e=>{if(e)return Ee.getId()}),[xe,Ie]=await Promise.all([_e,ze]);findGtagScriptOnPage(Be)||insertScriptTag(Be,xe.measurementId),Fe("js",new Date);const Re=Ve?.config??{};return Re[ORIGIN_KEY]="firebase",Re.update=!0,Ie!=null&&(Re[GA_FID_KEY]=Ie),Fe("config",xe.measurementId,Re),xe.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AnalyticsService{constructor(r){this.app=r}_delete(){return delete initializationPromisesMap[this.app.options.appId],Promise.resolve()}}let initializationPromisesMap={},dynamicConfigPromisesList=[];const measurementIdToAppId={};let dataLayerName="dataLayer",gtagName="gtag",gtagCoreFunction,wrappedGtagFunction,globalInitDone=!1;function warnOnBrowserContextMismatch(){const Ae=[];if(isBrowserExtension()&&Ae.push("This is a browser extension environment."),areCookiesEnabled()||Ae.push("Cookies are not available."),Ae.length>0){const r=Ae.map((Ee,Fe)=>`(${Fe+1}) ${Ee}`).join(" "),Se=ERROR_FACTORY.create("invalid-analytics-context",{errorInfo:r});logger.warn(Se.message)}}function factory(Ae,r,Se){warnOnBrowserContextMismatch();const Ee=Ae.options.appId;if(!Ee)throw ERROR_FACTORY.create("no-app-id");if(!Ae.options.apiKey)if(Ae.options.measurementId)logger.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${Ae.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ERROR_FACTORY.create("no-api-key");if(initializationPromisesMap[Ee]!=null)throw ERROR_FACTORY.create("already-exists",{id:Ee});if(!globalInitDone){getOrCreateDataLayer(dataLayerName);const{wrappedGtag:Be,gtagCore:Ve}=wrapOrCreateGtag(initializationPromisesMap,dynamicConfigPromisesList,measurementIdToAppId,dataLayerName,gtagName);wrappedGtagFunction=Be,gtagCoreFunction=Ve,globalInitDone=!0}return initializationPromisesMap[Ee]=_initializeAnalytics(Ae,dynamicConfigPromisesList,measurementIdToAppId,r,gtagCoreFunction,dataLayerName,Se),new AnalyticsService(Ae)}function getAnalytics(Ae=getApp()){Ae=getModularInstance(Ae);const r=_getProvider(Ae,ANALYTICS_TYPE);return r.isInitialized()?r.getImmediate():initializeAnalytics(Ae)}function initializeAnalytics(Ae,r={}){const Se=_getProvider(Ae,ANALYTICS_TYPE);if(Se.isInitialized()){const Fe=Se.getImmediate();if(deepEqual(r,Se.getOptions()))return Fe;throw ERROR_FACTORY.create("already-initialized")}return Se.initialize({options:r})}function logEvent(Ae,r,Se,Ee){Ae=getModularInstance(Ae),logEvent$1(wrappedGtagFunction,initializationPromisesMap[Ae.app.options.appId],r,Se,Ee).catch(Fe=>logger.error(Fe))}const name="@firebase/analytics",version="0.10.18";function registerAnalytics(){_registerComponent(new Component(ANALYTICS_TYPE,(r,{options:Se})=>{const Ee=r.getProvider("app").getImmediate(),Fe=r.getProvider("installations-internal").getImmediate();return factory(Ee,Fe,Se)},"PUBLIC")),_registerComponent(new Component("analytics-internal",Ae,"PRIVATE")),registerVersion(name,version),registerVersion(name,version,"esm2020");function Ae(r){try{const Se=r.getProvider(ANALYTICS_TYPE).getImmediate();return{logEvent:(Ee,Fe,Be)=>logEvent(Se,Ee,Fe,Be)}}catch(Se){throw ERROR_FACTORY.create("interop-component-reg-failed",{reason:Se})}}}registerAnalytics();const firebaseConfig={apiKey:"AIzaSyATMWhbqqV8oSBIgApvXFYLXUDkktra_rA",authDomain:"Tvocalguide-69ad3.firebaseapp.com",projectId:"vocalguide-69ad3",storageBucket:"vocalguide-69ad3.firebasestorage.app",messagingSenderId:"12603664675",appId:"1:12603664675:web:3d67014c19784e2cf30496",measurementId:"G-GZ9BYHW3LE"},app=initializeApp(firebaseConfig);getAnalytics(app);const auth=getAuth(app),googleProvider=new GoogleAuthProvider,Register=()=>{const Ae=useNavigate(),[r,Se]=reactExports.useState(""),[Ee,Fe]=reactExports.useState(""),[Be,Ve]=reactExports.useState(""),[_e,ze]=reactExports.useState(""),xe=async()=>{try{const e=(await signInWithPopup(auth,googleProvider)).user;Se(e.displayName||""),Fe(e.email||""),ze("Has iniciado sesión con Google."),Ae("/")}catch(Re){console.error("Error con Google:",Re),ze("Error al iniciar con Google.")}},Ie=async Re=>{Re.preventDefault();try{const e=await createUserWithEmailAndPassword(auth,Ee,Be);await updateProfile(e.user,{displayName:r}),await sendEmailVerification(e.user),ze("Registro exitoso. Verifica tu correo electrónico para activar tu cuenta."),setTimeout(()=>{Ae("/login")},3e3),Se(""),Fe(""),Ve("")}catch(e){console.error("Error en registro:",e),ze("Error: "+e.message)}};return jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center bg-silverGradient-200 bg-opacity-25 p-4",children:jsxRuntimeExports.jsxs("div",{className:"w-full max-w-md bg-gray-100 rounded-2xl shadow-lg p-8",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-center mb-6",children:"Crear una cuenta"}),_e&&jsxRuntimeExports.jsx("div",{className:"mb-4 text-center text-sm text-green-600 font-semibold",children:_e}),jsxRuntimeExports.jsxs("form",{className:"space-y-4",onSubmit:Ie,children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block mb-1 text-sm font-medium",children:"Nombre"}),jsxRuntimeExports.jsx("input",{type:"text",value:r,onChange:Re=>Se(Re.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-violet-400",placeholder:"Tu nombre",required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block mb-1 text-sm font-medium",children:"Correo electrónico"}),jsxRuntimeExports.jsx("input",{type:"email",value:Ee,onChange:Re=>Fe(Re.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-violet-400",placeholder:"ejemplo@email.com",required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block mb-1 text-sm font-medium",children:"Contraseña"}),jsxRuntimeExports.jsx("input",{type:"password",value:Be,onChange:Re=>Ve(Re.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-violet-400",placeholder:"Contraseña segura",required:!0})]}),jsxRuntimeExports.jsx("button",{type:"submit",className:"w-full bg-violet-500 text-white py-2 rounded-lg font-semibold hover:bg-violet-600 transition",children:"Registrarse"})]}),jsxRuntimeExports.jsxs("div",{className:"my-4 flex items-center justify-between",children:[jsxRuntimeExports.jsx("hr",{className:"w-full border-gray-300"}),jsxRuntimeExports.jsx("span",{className:"px-2 text-gray-500 text-sm",children:"o"}),jsxRuntimeExports.jsx("hr",{className:"w-full border-gray-300"})]}),jsxRuntimeExports.jsxs("button",{onClick:xe,className:"w-full flex items-center justify-center bg-red-500 text-white py-2 rounded-lg font-semibold hover:bg-red-600 transition",children:[jsxRuntimeExports.jsx(FaGoogle,{className:"mr-2"})," Registrarse con Google"]})]})})};function Navbar(){return jsxRuntimeExports.jsx("nav",{className:"fixed top-0 left-0 w-full z-50 backdrop-blur-lg bg-white/10 shadow-lg border-b border-white/20",children:jsxRuntimeExports.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center h-16",children:[jsxRuntimeExports.jsx(Link,{to:"images/logo.png",className:"text-2xl font-bold text-purple-300 hover:text-purple-100 transition duration-300",children:"VocalGuide"}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-6",children:[jsxRuntimeExports.jsx(Link,{to:"/",className:"text-black hover:text-purple-200 transition duration-300 ease-in-out border-b-2 border-transparent hover:border-purple-400",children:"Inicio"}),jsxRuntimeExports.jsx(Link,{to:"/Exercises",className:"text-black hover:text-purple-200 transition duration-300 ease-in-out border-b-2 border-transparent hover:border-purple-400",children:"Ejercicios"}),jsxRuntimeExports.jsx(Link,{to:"/tienda",className:"text-black hover:text-purple-200 transition duration-300 ease-in-out border-b-2 border-transparent hover:border-purple-400",children:"Comprar"}),jsxRuntimeExports.jsx(Link,{to:"/Comentarios",className:"text-black hover:text-purple-200 transition duration-300 ease-in-out border-b-2 border-transparent hover:border-purple-400",children:"Testimonios"}),jsxRuntimeExports.jsx(Link,{to:"/Register",className:"text-black hover:text-purple-200 transition duration-300 ease-in-out border-b-2 border-transparent hover:border-purple-400",children:"Registrar"})]})]})})})}function Login(){const Ae=useNavigate(),[r,Se]=reactExports.useState(""),[Ee,Fe]=reactExports.useState(""),[Be,Ve]=reactExports.useState(""),_e=async ze=>{ze.preventDefault(),Ve("");try{if(!(await signInWithEmailAndPassword(auth,r,Ee)).user.emailVerified){Ve("Debes verificar tu correo antes de iniciar sesión.");return}Ae("/")}catch(xe){console.error("Error en inicio de sesión:",xe),Ve("Error: "+xe.message)}};return jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center bg-silverGradient-200 bg-opacity-25 p-4",children:jsxRuntimeExports.jsxs("div",{className:"w-full max-w-md bg-gray-100 rounded-2xl shadow-lg p-8",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-center mb-6",children:"Iniciar Sesión"}),Be&&jsxRuntimeExports.jsx("div",{className:"mb-4 text-center text-sm text-red-600 font-semibold",children:Be}),jsxRuntimeExports.jsxs("form",{className:"space-y-4",onSubmit:_e,children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block mb-1 text-sm font-medium",children:"Correo electrónico"}),jsxRuntimeExports.jsx("input",{type:"email",value:r,onChange:ze=>Se(ze.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-violet-400",placeholder:"ejemplo@email.com",required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block mb-1 text-sm font-medium",children:"Contraseña"}),jsxRuntimeExports.jsx("input",{type:"password",value:Ee,onChange:ze=>Fe(ze.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-violet-400",placeholder:"Contraseña segura",required:!0})]}),jsxRuntimeExports.jsx("button",{type:"submit",className:"w-full bg-violet-500 text-white py-2 rounded-lg font-semibold hover:bg-violet-600 transition",children:"Iniciar Sesión"})]})]})})}const ProductCard=({product:Ae})=>jsxRuntimeExports.jsxs("div",{className:"bg-white shadow-lg rounded-2xl overflow-hidden transition-transform transform hover:-translate-y-1 hover:shadow-xl",children:[jsxRuntimeExports.jsx("img",{src:Ae.image,alt:Ae.title,className:"w-full h-48 object-cover"}),jsxRuntimeExports.jsxs("div",{className:"p-5 flex flex-col justify-between h-[260px]",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:Ae.title}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 text-sm",children:Ae.description})]}),jsxRuntimeExports.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("span",{className:"text-pink-600 font-bold text-lg",children:["$",Ae.price]}),jsxRuntimeExports.jsx(Link,{to:"/checkout",children:jsxRuntimeExports.jsx("button",{className:"bg-pink-500 hover:bg-pink-600 text-white px-4 py-2 rounded-md",children:"Comprar Ahora"})})]})]})]}),Store=()=>{const Ae={id:1,title:"Guía de Vocalización para Principiantes",description:"Domina las bases del canto con esta guía completa y práctica.",price:7.99,image:"/images/portada.png"};return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-white text-gray-800 p-6",children:[jsxRuntimeExports.jsx("p",{className:"italic text-sm text-white-600",children:"¡Comienza hoy y transforma tu voz desde casa!"}),jsxRuntimeExports.jsx("h1",{className:"text-4xl font-bold mb-8 text-center",children:"Tienda"}),jsxRuntimeExports.jsx("div",{className:"flex justify-center",children:jsxRuntimeExports.jsx(ProductCard,{product:Ae})})]})},CommentForm=({onAddComment:Ae})=>{const[r,Se]=reactExports.useState(""),Ee=Fe=>{if(Fe.preventDefault(),r.trim()==="")return;const Be={id:Date.now(),author:"Usuario Anónimo",date:new Date().toLocaleString(),text:r};Ae(Be),Se("")};return jsxRuntimeExports.jsxs("form",{onSubmit:Ee,className:"mb-6",children:[jsxRuntimeExports.jsx("textarea",{value:r,onChange:Fe=>Se(Fe.target.value),placeholder:"Escribe tu comentario aquí...",className:"w-full p-3 border opacity-80 border-gray-300 rounded-lg",rows:4}),jsxRuntimeExports.jsx("button",{type:"submit",className:"mt-2 px-4 py-2 text-center block w-fit mx-auto overflow-hidden transition-transform hover:scale-105 bg-purple-600 text-white rounded hover:bg-purple-700",children:"Enviar Comentario"})]})},CommentList=({comments:Ae})=>jsxRuntimeExports.jsx("div",{className:"space-y-4",children:Ae.length===0?jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:"Aún no hay comentarios."}):Ae.map(r=>jsxRuntimeExports.jsxs("div",{className:"p-4 border rounded-lg bg-gray-50",children:[jsxRuntimeExports.jsx("p",{className:"font-semibold",children:r.author}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500",children:r.date}),jsxRuntimeExports.jsx("p",{className:"mt-2",children:r.text})]},r.id))}),Comentarios=()=>{const[Ae,r]=reactExports.useState([{id:1,texto:"¡La guía está excelente! Me ha ayudado mucho a mejorar mi técnica.",autor:"Mariana G."}]),Se=Ee=>{r([...Ae,{id:Date.now(),...Ee}])};return jsxRuntimeExports.jsxs("section",{className:"bg-white bg-opacity-50 py-8 px-4 rounded-md shadow-md max-w-4xl mx-auto",children:[jsxRuntimeExports.jsx("ul",{className:" text-white list-disc list-inside",children:"....."}),jsxRuntimeExports.jsx("ul",{className:" text-white list-disc list-inside",children:"....."}),jsxRuntimeExports.jsx("ul",{className:" text-white list-disc list-inside",children:"....."}),jsxRuntimeExports.jsx("h2",{className:"text-3xl font-semibold mb-6 text-center text-gray-800",children:"Comentarios"}),jsxRuntimeExports.jsxs("div",{className:"flex justify-center gap-6 flex-wrap",children:[jsxRuntimeExports.jsx("img",{src:"/images/singer1.jpeg",alt:"Comentario 1",className:"max-w-[450px] max-h-[350px] object-cover rounded-lg shadow-lg"}),jsxRuntimeExports.jsx("img",{src:"/images/group.jpeg",alt:"Comentario 2",className:"max-w-[450px] max-h-[350px] object-cover rounded-lg shadow-lg"}),jsxRuntimeExports.jsx("img",{src:"/images/singer2.jpeg",alt:"Comentario 3",className:"max-w-[450px] max-h-[350px] object-cover rounded-lg shadow-lg"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx(CommentForm,{onAddComment:Se}),jsxRuntimeExports.jsx(CommentList,{comments:Ae})]})]})},scriptRel="modulepreload",assetsURL=function(Ae){return"/"+Ae},seen={},__vitePreload=function Ae(r,Se,Ee){let Fe=Promise.resolve();if(Se&&Se.length>0){let ze=function(xe){return Promise.all(xe.map(Ie=>Promise.resolve(Ie).then(Re=>({status:"fulfilled",value:Re}),Re=>({status:"rejected",reason:Re}))))};document.getElementsByTagName("link");const Ve=document.querySelector("meta[property=csp-nonce]"),_e=Ve?.nonce||Ve?.getAttribute("nonce");Fe=ze(Se.map(xe=>{if(xe=assetsURL(xe),xe in seen)return;seen[xe]=!0;const Ie=xe.endsWith(".css"),Re=Ie?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${xe}"]${Re}`))return;const e=document.createElement("link");if(e.rel=Ie?"stylesheet":scriptRel,Ie||(e.as="script"),e.crossOrigin="",e.href=xe,_e&&e.setAttribute("nonce",_e),document.head.appendChild(e),Ie)return new Promise((t,Te)=>{e.addEventListener("load",t),e.addEventListener("error",()=>Te(new Error(`Unable to preload CSS for ${xe}`)))})}))}function Be(Ve){const _e=new Event("vite:preloadError",{cancelable:!0});if(_e.payload=Ve,window.dispatchEvent(_e),!_e.defaultPrevented)throw Ve}return Fe.then(Ve=>{for(const _e of Ve||[])_e.status==="rejected"&&Be(_e.reason);return r().catch(Be)})};function _typeof(Ae){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_typeof(Ae)}var u8=Uint8Array,u16=Uint16Array,i32=Int32Array,fleb=new u8([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),fdeb=new u8([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),clim=new u8([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),freb=function(Ae,r){for(var Se=new u16(31),Ee=0;Ee<31;++Ee)Se[Ee]=r+=1<<Ae[Ee-1];for(var Fe=new i32(Se[30]),Ee=1;Ee<30;++Ee)for(var Be=Se[Ee];Be<Se[Ee+1];++Be)Fe[Be]=Be-Se[Ee]<<5|Ee;return{b:Se,r:Fe}},_a$1=freb(fleb,2),fl=_a$1.b,revfl=_a$1.r;fl[28]=258,revfl[258]=28;var _b=freb(fdeb,0),fd=_b.b,revfd=_b.r,rev=new u16(32768);for(var i$1=0;i$1<32768;++i$1){var x$1=(i$1&43690)>>1|(i$1&21845)<<1;x$1=(x$1&52428)>>2|(x$1&13107)<<2,x$1=(x$1&61680)>>4|(x$1&3855)<<4,rev[i$1]=((x$1&65280)>>8|(x$1&255)<<8)>>1}var hMap=function(Ae,r,Se){for(var Ee=Ae.length,Fe=0,Be=new u16(r);Fe<Ee;++Fe)Ae[Fe]&&++Be[Ae[Fe]-1];var Ve=new u16(r);for(Fe=1;Fe<r;++Fe)Ve[Fe]=Ve[Fe-1]+Be[Fe-1]<<1;var _e;if(Se){_e=new u16(1<<r);var ze=15-r;for(Fe=0;Fe<Ee;++Fe)if(Ae[Fe])for(var xe=Fe<<4|Ae[Fe],Ie=r-Ae[Fe],Re=Ve[Ae[Fe]-1]++<<Ie,e=Re|(1<<Ie)-1;Re<=e;++Re)_e[rev[Re]>>ze]=xe}else for(_e=new u16(Ee),Fe=0;Fe<Ee;++Fe)Ae[Fe]&&(_e[Fe]=rev[Ve[Ae[Fe]-1]++]>>15-Ae[Fe]);return _e},flt=new u8(288);for(var i$1=0;i$1<144;++i$1)flt[i$1]=8;for(var i$1=144;i$1<256;++i$1)flt[i$1]=9;for(var i$1=256;i$1<280;++i$1)flt[i$1]=7;for(var i$1=280;i$1<288;++i$1)flt[i$1]=8;var fdt=new u8(32);for(var i$1=0;i$1<32;++i$1)fdt[i$1]=5;var flm=hMap(flt,9,0),flrm=hMap(flt,9,1),fdm=hMap(fdt,5,0),fdrm=hMap(fdt,5,1),max=function(Ae){for(var r=Ae[0],Se=1;Se<Ae.length;++Se)Ae[Se]>r&&(r=Ae[Se]);return r},bits=function(Ae,r,Se){var Ee=r/8|0;return(Ae[Ee]|Ae[Ee+1]<<8)>>(r&7)&Se},bits16=function(Ae,r){var Se=r/8|0;return(Ae[Se]|Ae[Se+1]<<8|Ae[Se+2]<<16)>>(r&7)},shft=function(Ae){return(Ae+7)/8|0},slc=function(Ae,r,Se){return(Se==null||Se>Ae.length)&&(Se=Ae.length),new u8(Ae.subarray(r,Se))},ec=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],err=function(Ae,r,Se){var Ee=new Error(r||ec[Ae]);if(Ee.code=Ae,Error.captureStackTrace&&Error.captureStackTrace(Ee,err),!Se)throw Ee;return Ee},inflt=function(Ae,r,Se,Ee){var Fe=Ae.length,Be=0;if(!Fe||r.f&&!r.l)return Se||new u8(0);var Ve=!Se,_e=Ve||r.i!=2,ze=r.i;Ve&&(Se=new u8(Fe*3));var xe=function(Sn){var _n=Se.length;if(Sn>_n){var wn=new u8(Math.max(_n*2,Sn));wn.set(Se),Se=wn}},Ie=r.f||0,Re=r.p||0,e=r.b||0,t=r.l,Te=r.d,Ye=r.m,en=r.n,je=Fe*8;do{if(!t){Ie=bits(Ae,Re,1);var nn=bits(Ae,Re+1,3);if(Re+=3,nn)if(nn==1)t=flrm,Te=fdrm,Ye=9,en=5;else if(nn==2){var St=bits(Ae,Re,31)+257,rn=bits(Ae,Re+10,15)+4,un=St+bits(Ae,Re+5,31)+1;Re+=14;for(var Qe=new u8(un),hn=new u8(19),He=0;He<rn;++He)hn[clim[He]]=bits(Ae,Re+He*3,7);Re+=rn*3;for(var pn=max(hn),Xe=(1<<pn)-1,fn=hMap(hn,pn,1),He=0;He<un;){var dn=fn[bits(Ae,Re,Xe)];Re+=dn&15;var Ge=dn>>4;if(Ge<16)Qe[He++]=Ge;else{var qe=0,tn=0;for(Ge==16?(tn=3+bits(Ae,Re,3),Re+=2,qe=Qe[He-1]):Ge==17?(tn=3+bits(Ae,Re,7),Re+=3):Ge==18&&(tn=11+bits(Ae,Re,127),Re+=7);tn--;)Qe[He++]=qe}}var Me=Qe.subarray(0,St),De=Qe.subarray(St);Ye=max(Me),en=max(De),t=hMap(Me,Ye,1),Te=hMap(De,en,1)}else err(1);else{var Ge=shft(Re)+4,Oe=Ae[Ge-4]|Ae[Ge-3]<<8,Ce=Ge+Oe;if(Ce>Fe){ze&&err(0);break}_e&&xe(e+Oe),Se.set(Ae.subarray(Ge,Ce),e),r.b=e+=Oe,r.p=Re=Ce*8,r.f=Ie;continue}if(Re>je){ze&&err(0);break}}_e&&xe(e+131072);for(var Ue=(1<<Ye)-1,We=(1<<en)-1,$e=Re;;$e=Re){var qe=t[bits16(Ae,Re)&Ue],on=qe>>4;if(Re+=qe&15,Re>je){ze&&err(0);break}if(qe||err(2),on<256)Se[e++]=on;else if(on==256){$e=Re,t=null;break}else{var Je=on-254;if(on>264){var He=on-257,an=fleb[He];Je=bits(Ae,Re,(1<<an)-1)+fl[He],Re+=an}var Ke=Te[bits16(Ae,Re)&We],sn=Ke>>4;Ke||err(3),Re+=Ke&15;var De=fd[sn];if(sn>3){var an=fdeb[sn];De+=bits16(Ae,Re)&(1<<an)-1,Re+=an}if(Re>je){ze&&err(0);break}_e&&xe(e+131072);var gn=e+Je;if(e<De){var mn=Be-De,yn=Math.min(De,gn);for(mn+e<0&&err(3);e<yn;++e)Se[e]=Ee[mn+e]}for(;e<gn;++e)Se[e]=Se[e-De]}}r.l=t,r.p=$e,r.b=e,r.f=Ie,t&&(Ie=1,r.m=Ye,r.d=Te,r.n=en)}while(!Ie);return e!=Se.length&&Ve?slc(Se,0,e):Se.subarray(0,e)},wbits=function(Ae,r,Se){Se<<=r&7;var Ee=r/8|0;Ae[Ee]|=Se,Ae[Ee+1]|=Se>>8},wbits16=function(Ae,r,Se){Se<<=r&7;var Ee=r/8|0;Ae[Ee]|=Se,Ae[Ee+1]|=Se>>8,Ae[Ee+2]|=Se>>16},hTree=function(Ae,r){for(var Se=[],Ee=0;Ee<Ae.length;++Ee)Ae[Ee]&&Se.push({s:Ee,f:Ae[Ee]});var Fe=Se.length,Be=Se.slice();if(!Fe)return{t:et$1,l:0};if(Fe==1){var Ve=new u8(Se[0].s+1);return Ve[Se[0].s]=1,{t:Ve,l:1}}Se.sort(function(Ce,St){return Ce.f-St.f}),Se.push({s:-1,f:25001});var _e=Se[0],ze=Se[1],xe=0,Ie=1,Re=2;for(Se[0]={s:-1,f:_e.f+ze.f,l:_e,r:ze};Ie!=Fe-1;)_e=Se[Se[xe].f<Se[Re].f?xe++:Re++],ze=Se[xe!=Ie&&Se[xe].f<Se[Re].f?xe++:Re++],Se[Ie++]={s:-1,f:_e.f+ze.f,l:_e,r:ze};for(var e=Be[0].s,Ee=1;Ee<Fe;++Ee)Be[Ee].s>e&&(e=Be[Ee].s);var t=new u16(e+1),Te=ln(Se[Ie-1],t,0);if(Te>r){var Ee=0,Ye=0,en=Te-r,je=1<<en;for(Be.sort(function(St,rn){return t[rn.s]-t[St.s]||St.f-rn.f});Ee<Fe;++Ee){var nn=Be[Ee].s;if(t[nn]>r)Ye+=je-(1<<Te-t[nn]),t[nn]=r;else break}for(Ye>>=en;Ye>0;){var Ge=Be[Ee].s;t[Ge]<r?Ye-=1<<r-t[Ge]++-1:++Ee}for(;Ee>=0&&Ye;--Ee){var Oe=Be[Ee].s;t[Oe]==r&&(--t[Oe],++Ye)}Te=r}return{t:new u8(t),l:Te}},ln=function(Ae,r,Se){return Ae.s==-1?Math.max(ln(Ae.l,r,Se+1),ln(Ae.r,r,Se+1)):r[Ae.s]=Se},lc=function(Ae){for(var r=Ae.length;r&&!Ae[--r];);for(var Se=new u16(++r),Ee=0,Fe=Ae[0],Be=1,Ve=function(ze){Se[Ee++]=ze},_e=1;_e<=r;++_e)if(Ae[_e]==Fe&&_e!=r)++Be;else{if(!Fe&&Be>2){for(;Be>138;Be-=138)Ve(32754);Be>2&&(Ve(Be>10?Be-11<<5|28690:Be-3<<5|12305),Be=0)}else if(Be>3){for(Ve(Fe),--Be;Be>6;Be-=6)Ve(8304);Be>2&&(Ve(Be-3<<5|8208),Be=0)}for(;Be--;)Ve(Fe);Be=1,Fe=Ae[_e]}return{c:Se.subarray(0,Ee),n:r}},clen=function(Ae,r){for(var Se=0,Ee=0;Ee<r.length;++Ee)Se+=Ae[Ee]*r[Ee];return Se},wfblk=function(Ae,r,Se){var Ee=Se.length,Fe=shft(r+2);Ae[Fe]=Ee&255,Ae[Fe+1]=Ee>>8,Ae[Fe+2]=Ae[Fe]^255,Ae[Fe+3]=Ae[Fe+1]^255;for(var Be=0;Be<Ee;++Be)Ae[Fe+Be+4]=Se[Be];return(Fe+4+Ee)*8},wblk=function(Ae,r,Se,Ee,Fe,Be,Ve,_e,ze,xe,Ie){wbits(r,Ie++,Se),++Fe[256];for(var Re=hTree(Fe,15),e=Re.t,t=Re.l,Te=hTree(Be,15),Ye=Te.t,en=Te.l,je=lc(e),nn=je.c,Ge=je.n,Oe=lc(Ye),Ce=Oe.c,St=Oe.n,rn=new u16(19),un=0;un<nn.length;++un)++rn[nn[un]&31];for(var un=0;un<Ce.length;++un)++rn[Ce[un]&31];for(var Qe=hTree(rn,7),hn=Qe.t,He=Qe.l,pn=19;pn>4&&!hn[clim[pn-1]];--pn);var Xe=xe+5<<3,fn=clen(Fe,flt)+clen(Be,fdt)+Ve,dn=clen(Fe,e)+clen(Be,Ye)+Ve+14+3*pn+clen(rn,hn)+2*rn[16]+3*rn[17]+7*rn[18];if(ze>=0&&Xe<=fn&&Xe<=dn)return wfblk(r,Ie,Ae.subarray(ze,ze+xe));var qe,tn,Me,De;if(wbits(r,Ie,1+(dn<fn)),Ie+=2,dn<fn){qe=hMap(e,t,0),tn=e,Me=hMap(Ye,en,0),De=Ye;var Ue=hMap(hn,He,0);wbits(r,Ie,Ge-257),wbits(r,Ie+5,St-1),wbits(r,Ie+10,pn-4),Ie+=14;for(var un=0;un<pn;++un)wbits(r,Ie+3*un,hn[clim[un]]);Ie+=3*pn;for(var We=[nn,Ce],$e=0;$e<2;++$e)for(var on=We[$e],un=0;un<on.length;++un){var Je=on[un]&31;wbits(r,Ie,Ue[Je]),Ie+=hn[Je],Je>15&&(wbits(r,Ie,on[un]>>5&127),Ie+=on[un]>>12)}}else qe=flm,tn=flt,Me=fdm,De=fdt;for(var un=0;un<_e;++un){var an=Ee[un];if(an>255){var Je=an>>18&31;wbits16(r,Ie,qe[Je+257]),Ie+=tn[Je+257],Je>7&&(wbits(r,Ie,an>>23&31),Ie+=fleb[Je]);var Ke=an&31;wbits16(r,Ie,Me[Ke]),Ie+=De[Ke],Ke>3&&(wbits16(r,Ie,an>>5&8191),Ie+=fdeb[Ke])}else wbits16(r,Ie,qe[an]),Ie+=tn[an]}return wbits16(r,Ie,qe[256]),Ie+tn[256]},deo=new i32([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),et$1=new u8(0),dflt=function(Ae,r,Se,Ee,Fe,Be){var Ve=Be.z||Ae.length,_e=new u8(Ee+Ve+5*(1+Math.ceil(Ve/7e3))+Fe),ze=_e.subarray(Ee,_e.length-Fe),xe=Be.l,Ie=(Be.r||0)&7;if(r){Ie&&(ze[0]=Be.r>>3);for(var Re=deo[r-1],e=Re>>13,t=Re&8191,Te=(1<<Se)-1,Ye=Be.p||new u16(32768),en=Be.h||new u16(Te+1),je=Math.ceil(Se/3),nn=2*je,Ge=function(Nn){return(Ae[Nn]^Ae[Nn+1]<<je^Ae[Nn+2]<<nn)&Te},Oe=new i32(25e3),Ce=new u16(288),St=new u16(32),rn=0,un=0,Qe=Be.i||0,hn=0,He=Be.w||0,pn=0;Qe+2<Ve;++Qe){var Xe=Ge(Qe),fn=Qe&32767,dn=en[Xe];if(Ye[fn]=dn,en[Xe]=fn,He<=Qe){var qe=Ve-Qe;if((rn>7e3||hn>24576)&&(qe>423||!xe)){Ie=wblk(Ae,ze,0,Oe,Ce,St,un,hn,pn,Qe-pn,Ie),hn=rn=un=0,pn=Qe;for(var tn=0;tn<286;++tn)Ce[tn]=0;for(var tn=0;tn<30;++tn)St[tn]=0}var Me=2,De=0,Ue=t,We=fn-dn&32767;if(qe>2&&Xe==Ge(Qe-We))for(var $e=Math.min(e,qe)-1,on=Math.min(32767,Qe),Je=Math.min(258,qe);We<=on&&--Ue&&fn!=dn;){if(Ae[Qe+Me]==Ae[Qe+Me-We]){for(var an=0;an<Je&&Ae[Qe+an]==Ae[Qe+an-We];++an);if(an>Me){if(Me=an,De=We,an>$e)break;for(var Ke=Math.min(We,an-2),sn=0,tn=0;tn<Ke;++tn){var gn=Qe-We+tn&32767,mn=Ye[gn],yn=gn-mn&32767;yn>sn&&(sn=yn,dn=gn)}}}fn=dn,dn=Ye[fn],We+=fn-dn&32767}if(De){Oe[hn++]=268435456|revfl[Me]<<18|revfd[De];var Sn=revfl[Me]&31,_n=revfd[De]&31;un+=fleb[Sn]+fdeb[_n],++Ce[257+Sn],++St[_n],He=Qe+Me,++rn}else Oe[hn++]=Ae[Qe],++Ce[Ae[Qe]]}}for(Qe=Math.max(Qe,He);Qe<Ve;++Qe)Oe[hn++]=Ae[Qe],++Ce[Ae[Qe]];Ie=wblk(Ae,ze,xe,Oe,Ce,St,un,hn,pn,Qe-pn,Ie),xe||(Be.r=Ie&7|ze[Ie/8|0]<<3,Ie-=7,Be.h=en,Be.p=Ye,Be.i=Qe,Be.w=He)}else{for(var Qe=Be.w||0;Qe<Ve+xe;Qe+=65535){var wn=Qe+65535;wn>=Ve&&(ze[Ie/8|0]=xe,wn=Ve),Ie=wfblk(ze,Ie+1,Ae.subarray(Qe,wn))}Be.i=Ve}return slc(_e,0,Ee+shft(Ie)+Fe)},adler=function(){var Ae=1,r=0;return{p:function(Se){for(var Ee=Ae,Fe=r,Be=Se.length|0,Ve=0;Ve!=Be;){for(var _e=Math.min(Ve+2655,Be);Ve<_e;++Ve)Fe+=Ee+=Se[Ve];Ee=(Ee&65535)+15*(Ee>>16),Fe=(Fe&65535)+15*(Fe>>16)}Ae=Ee,r=Fe},d:function(){return Ae%=65521,r%=65521,(Ae&255)<<24|(Ae&65280)<<8|(r&255)<<8|r>>8}}},dopt=function(Ae,r,Se,Ee,Fe){if(!Fe&&(Fe={l:1},r.dictionary)){var Be=r.dictionary.subarray(-32768),Ve=new u8(Be.length+Ae.length);Ve.set(Be),Ve.set(Ae,Be.length),Ae=Ve,Fe.w=Be.length}return dflt(Ae,r.level==null?6:r.level,r.mem==null?Fe.l?Math.ceil(Math.max(8,Math.min(13,Math.log(Ae.length)))*1.5):20:12+r.mem,Se,Ee,Fe)},wbytes=function(Ae,r,Se){for(;Se;++r)Ae[r]=Se,Se>>>=8},zlh=function(Ae,r){var Se=r.level,Ee=Se==0?0:Se<6?1:Se==9?3:2;if(Ae[0]=120,Ae[1]=Ee<<6|(r.dictionary&&32),Ae[1]|=31-(Ae[0]<<8|Ae[1])%31,r.dictionary){var Fe=adler();Fe.p(r.dictionary),wbytes(Ae,2,Fe.d())}},zls=function(Ae,r){return((Ae[0]&15)!=8||Ae[0]>>4>7||(Ae[0]<<8|Ae[1])%31)&&err(6,"invalid zlib data"),(Ae[1]>>5&1)==1&&err(6,"invalid zlib data: "+(Ae[1]&32?"need":"unexpected")+" dictionary"),(Ae[1]>>3&4)+2};function zlibSync(Ae,r){r||(r={});var Se=adler();Se.p(Ae);var Ee=dopt(Ae,r,r.dictionary?6:2,4);return zlh(Ee,r),wbytes(Ee,Ee.length-4,Se.d()),Ee}function unzlibSync(Ae,r){return inflt(Ae.subarray(zls(Ae),-4),{i:2},r,r)}var td=typeof TextDecoder<"u"&&new TextDecoder,tds=0;try{td.decode(et$1,{stream:!0}),tds=1}catch(Ae){}var n=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function i(){n.console&&typeof n.console.log=="function"&&n.console.log.apply(n.console,arguments)}var a={log:i,warn:function(Ae){n.console&&(typeof n.console.warn=="function"?n.console.warn.apply(n.console,arguments):i.call(null,arguments))},error:function(Ae){n.console&&(typeof n.console.error=="function"?n.console.error.apply(n.console,arguments):i(Ae))}};function o(Ae,r,Se){var Ee=new XMLHttpRequest;Ee.open("GET",Ae),Ee.responseType="blob",Ee.onload=function(){l(Ee.response,r,Se)},Ee.onerror=function(){a.error("could not download file")},Ee.send()}function s(Ae){var r=new XMLHttpRequest;r.open("HEAD",Ae,!1);try{r.send()}catch{}return r.status>=200&&r.status<=299}function c(Ae){try{Ae.dispatchEvent(new MouseEvent("click"))}catch{var r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),Ae.dispatchEvent(r)}}var u,h,l=n.saveAs||((typeof window>"u"?"undefined":_typeof(window))!=="object"||window!==n?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(Ae,r,Se){var Ee=n.URL||n.webkitURL,Fe=document.createElement("a");r=r||Ae.name||"download",Fe.download=r,Fe.rel="noopener",typeof Ae=="string"?(Fe.href=Ae,Fe.origin!==location.origin?s(Fe.href)?o(Ae,r,Se):c(Fe,Fe.target="_blank"):c(Fe)):(Fe.href=Ee.createObjectURL(Ae),setTimeout(function(){Ee.revokeObjectURL(Fe.href)},4e4),setTimeout(function(){c(Fe)},0))}:"msSaveOrOpenBlob"in navigator?function(Ae,r,Se){if(r=r||Ae.name||"download",typeof Ae=="string")if(s(Ae))o(Ae,r,Se);else{var Ee=document.createElement("a");Ee.href=Ae,Ee.target="_blank",setTimeout(function(){c(Ee)})}else navigator.msSaveOrOpenBlob(function(Fe,Be){return Be===void 0?Be={autoBom:!1}:_typeof(Be)!=="object"&&(a.warn("Deprecated: Expected third argument to be a object"),Be={autoBom:!Be}),Be.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(Fe.type)?new Blob(["\uFEFF",Fe],{type:Fe.type}):Fe}(Ae,Se),r)}:function(Ae,r,Se,Ee){if((Ee=Ee||open("","_blank"))&&(Ee.document.title=Ee.document.body.innerText="downloading..."),typeof Ae=="string")return o(Ae,r,Se);var Fe=Ae.type==="application/octet-stream",Be=/constructor/i.test(n.HTMLElement)||n.safari,Ve=/CriOS\/[\d]+/.test(navigator.userAgent);if((Ve||Fe&&Be)&&(typeof FileReader>"u"?"undefined":_typeof(FileReader))==="object"){var _e=new FileReader;_e.onloadend=function(){var Ie=_e.result;Ie=Ve?Ie:Ie.replace(/^data:[^;]*;/,"data:attachment/file;"),Ee?Ee.location.href=Ie:location=Ie,Ee=null},_e.readAsDataURL(Ae)}else{var ze=n.URL||n.webkitURL,xe=ze.createObjectURL(Ae);Ee?Ee.location=xe:location.href=xe,Ee=null,setTimeout(function(){ze.revokeObjectURL(xe)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function f(Ae){var r;Ae=Ae||"",this.ok=!1,Ae.charAt(0)=="#"&&(Ae=Ae.substr(1,6)),Ae={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[Ae=(Ae=Ae.replace(/ /g,"")).toLowerCase()]||Ae;for(var Se=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(_e){return[parseInt(_e[1]),parseInt(_e[2]),parseInt(_e[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(_e){return[parseInt(_e[1],16),parseInt(_e[2],16),parseInt(_e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(_e){return[parseInt(_e[1]+_e[1],16),parseInt(_e[2]+_e[2],16),parseInt(_e[3]+_e[3],16)]}}],Ee=0;Ee<Se.length;Ee++){var Fe=Se[Ee].re,Be=Se[Ee].process,Ve=Fe.exec(Ae);Ve&&(r=Be(Ve),this.r=r[0],this.g=r[1],this.b=r[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var _e=this.r.toString(16),ze=this.g.toString(16),xe=this.b.toString(16);return _e.length==1&&(_e="0"+_e),ze.length==1&&(ze="0"+ze),xe.length==1&&(xe="0"+xe),"#"+_e+ze+xe}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function d(Ae,r){var Se=Ae[0],Ee=Ae[1],Fe=Ae[2],Be=Ae[3];Se=g(Se,Ee,Fe,Be,r[0],7,-680876936),Be=g(Be,Se,Ee,Fe,r[1],12,-389564586),Fe=g(Fe,Be,Se,Ee,r[2],17,606105819),Ee=g(Ee,Fe,Be,Se,r[3],22,-1044525330),Se=g(Se,Ee,Fe,Be,r[4],7,-176418897),Be=g(Be,Se,Ee,Fe,r[5],12,1200080426),Fe=g(Fe,Be,Se,Ee,r[6],17,-1473231341),Ee=g(Ee,Fe,Be,Se,r[7],22,-45705983),Se=g(Se,Ee,Fe,Be,r[8],7,1770035416),Be=g(Be,Se,Ee,Fe,r[9],12,-1958414417),Fe=g(Fe,Be,Se,Ee,r[10],17,-42063),Ee=g(Ee,Fe,Be,Se,r[11],22,-1990404162),Se=g(Se,Ee,Fe,Be,r[12],7,1804603682),Be=g(Be,Se,Ee,Fe,r[13],12,-40341101),Fe=g(Fe,Be,Se,Ee,r[14],17,-1502002290),Se=m(Se,Ee=g(Ee,Fe,Be,Se,r[15],22,1236535329),Fe,Be,r[1],5,-165796510),Be=m(Be,Se,Ee,Fe,r[6],9,-1069501632),Fe=m(Fe,Be,Se,Ee,r[11],14,643717713),Ee=m(Ee,Fe,Be,Se,r[0],20,-373897302),Se=m(Se,Ee,Fe,Be,r[5],5,-701558691),Be=m(Be,Se,Ee,Fe,r[10],9,38016083),Fe=m(Fe,Be,Se,Ee,r[15],14,-660478335),Ee=m(Ee,Fe,Be,Se,r[4],20,-405537848),Se=m(Se,Ee,Fe,Be,r[9],5,568446438),Be=m(Be,Se,Ee,Fe,r[14],9,-1019803690),Fe=m(Fe,Be,Se,Ee,r[3],14,-187363961),Ee=m(Ee,Fe,Be,Se,r[8],20,1163531501),Se=m(Se,Ee,Fe,Be,r[13],5,-1444681467),Be=m(Be,Se,Ee,Fe,r[2],9,-51403784),Fe=m(Fe,Be,Se,Ee,r[7],14,1735328473),Se=v(Se,Ee=m(Ee,Fe,Be,Se,r[12],20,-1926607734),Fe,Be,r[5],4,-378558),Be=v(Be,Se,Ee,Fe,r[8],11,-2022574463),Fe=v(Fe,Be,Se,Ee,r[11],16,1839030562),Ee=v(Ee,Fe,Be,Se,r[14],23,-35309556),Se=v(Se,Ee,Fe,Be,r[1],4,-1530992060),Be=v(Be,Se,Ee,Fe,r[4],11,1272893353),Fe=v(Fe,Be,Se,Ee,r[7],16,-155497632),Ee=v(Ee,Fe,Be,Se,r[10],23,-1094730640),Se=v(Se,Ee,Fe,Be,r[13],4,681279174),Be=v(Be,Se,Ee,Fe,r[0],11,-358537222),Fe=v(Fe,Be,Se,Ee,r[3],16,-722521979),Ee=v(Ee,Fe,Be,Se,r[6],23,76029189),Se=v(Se,Ee,Fe,Be,r[9],4,-640364487),Be=v(Be,Se,Ee,Fe,r[12],11,-421815835),Fe=v(Fe,Be,Se,Ee,r[15],16,530742520),Se=b(Se,Ee=v(Ee,Fe,Be,Se,r[2],23,-995338651),Fe,Be,r[0],6,-198630844),Be=b(Be,Se,Ee,Fe,r[7],10,1126891415),Fe=b(Fe,Be,Se,Ee,r[14],15,-1416354905),Ee=b(Ee,Fe,Be,Se,r[5],21,-57434055),Se=b(Se,Ee,Fe,Be,r[12],6,1700485571),Be=b(Be,Se,Ee,Fe,r[3],10,-1894986606),Fe=b(Fe,Be,Se,Ee,r[10],15,-1051523),Ee=b(Ee,Fe,Be,Se,r[1],21,-2054922799),Se=b(Se,Ee,Fe,Be,r[8],6,1873313359),Be=b(Be,Se,Ee,Fe,r[15],10,-30611744),Fe=b(Fe,Be,Se,Ee,r[6],15,-1560198380),Ee=b(Ee,Fe,Be,Se,r[13],21,1309151649),Se=b(Se,Ee,Fe,Be,r[4],6,-145523070),Be=b(Be,Se,Ee,Fe,r[11],10,-1120210379),Fe=b(Fe,Be,Se,Ee,r[2],15,718787259),Ee=b(Ee,Fe,Be,Se,r[9],21,-343485551),Ae[0]=_(Se,Ae[0]),Ae[1]=_(Ee,Ae[1]),Ae[2]=_(Fe,Ae[2]),Ae[3]=_(Be,Ae[3])}function p(Ae,r,Se,Ee,Fe,Be){return r=_(_(r,Ae),_(Ee,Be)),_(r<<Fe|r>>>32-Fe,Se)}function g(Ae,r,Se,Ee,Fe,Be,Ve){return p(r&Se|~r&Ee,Ae,r,Fe,Be,Ve)}function m(Ae,r,Se,Ee,Fe,Be,Ve){return p(r&Ee|Se&~Ee,Ae,r,Fe,Be,Ve)}function v(Ae,r,Se,Ee,Fe,Be,Ve){return p(r^Se^Ee,Ae,r,Fe,Be,Ve)}function b(Ae,r,Se,Ee,Fe,Be,Ve){return p(Se^(r|~Ee),Ae,r,Fe,Be,Ve)}function y(Ae){var r,Se=Ae.length,Ee=[1732584193,-271733879,-1732584194,271733878];for(r=64;r<=Ae.length;r+=64)d(Ee,w(Ae.substring(r-64,r)));Ae=Ae.substring(r-64);var Fe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(r=0;r<Ae.length;r++)Fe[r>>2]|=Ae.charCodeAt(r)<<(r%4<<3);if(Fe[r>>2]|=128<<(r%4<<3),r>55)for(d(Ee,Fe),r=0;r<16;r++)Fe[r]=0;return Fe[14]=8*Se,d(Ee,Fe),Ee}function w(Ae){var r,Se=[];for(r=0;r<64;r+=4)Se[r>>2]=Ae.charCodeAt(r)+(Ae.charCodeAt(r+1)<<8)+(Ae.charCodeAt(r+2)<<16)+(Ae.charCodeAt(r+3)<<24);return Se}u=n.atob.bind(n),h=n.btoa.bind(n);var N="0123456789abcdef".split("");function L(Ae){for(var r="",Se=0;Se<4;Se++)r+=N[Ae>>8*Se+4&15]+N[Ae>>8*Se&15];return r}function A(Ae){return String.fromCharCode((255&Ae)>>0,(65280&Ae)>>8,(16711680&Ae)>>16,(4278190080&Ae)>>24)}function x(Ae){return y(Ae).map(A).join("")}var S=function(Ae){for(var r=0;r<Ae.length;r++)Ae[r]=L(Ae[r]);return Ae.join("")}(y("hello"))!="5d41402abc4b2a76b9719d911017c592";function _(Ae,r){if(S){var Se=(65535&Ae)+(65535&r);return(Ae>>16)+(r>>16)+(Se>>16)<<16|65535&Se}return Ae+r&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function P(Ae,r){var Se,Ee,Fe,Be;if(Ae!==Se){for(var Ve=(Fe=Ae,Be=1+(256/Ae.length>>0),new Array(Be+1).join(Fe)),_e=[],ze=0;ze<256;ze++)_e[ze]=ze;var xe=0;for(ze=0;ze<256;ze++){var Ie=_e[ze];xe=(xe+Ie+Ve.charCodeAt(ze))%256,_e[ze]=_e[xe],_e[xe]=Ie}Se=Ae,Ee=_e}else _e=Ee;var Re=r.length,e=0,t=0,Te="";for(ze=0;ze<Re;ze++)t=(t+(Ie=_e[e=(e+1)%256]))%256,_e[e]=_e[t],_e[t]=Ie,Ve=_e[(_e[e]+_e[t])%256],Te+=String.fromCharCode(r.charCodeAt(ze)^Ve);return Te}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var k={print:4,modify:8,copy:16,"annot-forms":32};function I(Ae,r,Se,Ee){this.v=1,this.r=2;var Fe=192;Ae.forEach(function(_e){if(k.perm!==void 0)throw new Error("Invalid permission: "+_e);Fe+=k[_e]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var Be=(r+this.padding).substr(0,32),Ve=(Se+this.padding).substr(0,32);this.O=this.processOwnerPassword(Be,Ve),this.P=-(1+(255^Fe)),this.encryptionKey=x(Be+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(Ee)).substr(0,5),this.U=P(this.encryptionKey,this.padding)}function F(Ae){if(/[^\u0000-\u00ff]/.test(Ae))throw new Error("Invalid PDF Name Object: "+Ae+", Only accept ASCII characters.");for(var r="",Se=Ae.length,Ee=0;Ee<Se;Ee++){var Fe=Ae.charCodeAt(Ee);Fe<33||Fe===35||Fe===37||Fe===40||Fe===41||Fe===47||Fe===60||Fe===62||Fe===91||Fe===93||Fe===123||Fe===125||Fe>126?r+="#"+("0"+Fe.toString(16)).slice(-2):r+=Ae[Ee]}return r}function C(Ae){if(_typeof(Ae)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var r={};this.subscribe=function(Se,Ee,Fe){if(Fe=Fe||!1,typeof Se!="string"||typeof Ee!="function"||typeof Fe!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");r.hasOwnProperty(Se)||(r[Se]={});var Be=Math.random().toString(35);return r[Se][Be]=[Ee,!!Fe],Be},this.unsubscribe=function(Se){for(var Ee in r)if(r[Ee][Se])return delete r[Ee][Se],Object.keys(r[Ee]).length===0&&delete r[Ee],!0;return!1},this.publish=function(Se){if(r.hasOwnProperty(Se)){var Ee=Array.prototype.slice.call(arguments,1),Fe=[];for(var Be in r[Se]){var Ve=r[Se][Be];try{Ve[0].apply(Ae,Ee)}catch(_e){n.console&&a.error("jsPDF PubSub Error",_e.message,_e)}Ve[1]&&Fe.push(Be)}Fe.length&&Fe.forEach(this.unsubscribe)}},this.getTopics=function(){return r}}function j(Ae){if(!(this instanceof j))return new j(Ae);var r="opacity,stroke-opacity".split(",");for(var Se in Ae)Ae.hasOwnProperty(Se)&&r.indexOf(Se)>=0&&(this[Se]=Ae[Se]);this.id="",this.objectNumber=-1}function O(Ae,r){this.gState=Ae,this.matrix=r,this.id="",this.objectNumber=-1}function B(Ae,r,Se,Ee,Fe){if(!(this instanceof B))return new B(Ae,r,Se,Ee,Fe);this.type=Ae==="axial"?2:3,this.coords=r,this.colors=Se,O.call(this,Ee,Fe)}function M(Ae,r,Se,Ee,Fe){if(!(this instanceof M))return new M(Ae,r,Se,Ee,Fe);this.boundingBox=Ae,this.xStep=r,this.yStep=Se,this.stream="",this.cloneIndex=0,O.call(this,Ee,Fe)}function E(Ae){var r,Se=typeof arguments[0]=="string"?arguments[0]:"p",Ee=arguments[1],Fe=arguments[2],Be=arguments[3],Ve=[],_e=1,ze=16,xe="S",Ie=null;_typeof(Ae=Ae||{})==="object"&&(Se=Ae.orientation,Ee=Ae.unit||Ee,Fe=Ae.format||Fe,Be=Ae.compress||Ae.compressPdf||Be,(Ie=Ae.encryption||null)!==null&&(Ie.userPassword=Ie.userPassword||"",Ie.ownerPassword=Ie.ownerPassword||"",Ie.userPermissions=Ie.userPermissions||[]),_e=typeof Ae.userUnit=="number"?Math.abs(Ae.userUnit):1,Ae.precision!==void 0&&(r=Ae.precision),Ae.floatPrecision!==void 0&&(ze=Ae.floatPrecision),xe=Ae.defaultPathOperation||"S"),Ve=Ae.filters||(Be===!0?["FlateEncode"]:Ve),Ee=Ee||"mm",Se=(""+(Se||"P")).toLowerCase();var Re=Ae.putOnlyUsedFonts||!1,e={},t={internal:{},__private__:{}};t.__private__.PubSub=C;var Te="1.3",Ye=t.__private__.getPdfVersion=function(){return Te};t.__private__.setPdfVersion=function(Fn){Te=Fn};var en={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};t.__private__.getPageFormats=function(){return en};var je=t.__private__.getPageFormat=function(Fn){return en[Fn]};Fe=Fe||"a4";var nn={COMPAT:"compat",ADVANCED:"advanced"},Ge=nn.COMPAT;function Oe(){this.saveGraphicsState(),Cn(new vi(Gn,0,0,-Gn,0,hl()*Gn).toString()+" cm"),this.setFontSize(this.getFontSize()/Gn),xe="n",Ge=nn.ADVANCED}function Ce(){this.restoreGraphicsState(),xe="S",Ge=nn.COMPAT}var St=t.__private__.combineFontStyleAndFontWeight=function(Fn,Kn){if(Fn=="bold"&&Kn=="normal"||Fn=="bold"&&Kn==400||Fn=="normal"&&Kn=="italic"||Fn=="bold"&&Kn=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Kn&&(Fn=Kn==400||Kn==="normal"?Fn==="italic"?"italic":"normal":Kn!=700&&Kn!=="bold"||Fn!=="normal"?(Kn==700?"bold":Kn)+""+Fn:"bold"),Fn};t.advancedAPI=function(Fn){var Kn=Ge===nn.COMPAT;return Kn&&Oe.call(this),typeof Fn!="function"||(Fn(this),Kn&&Ce.call(this)),this},t.compatAPI=function(Fn){var Kn=Ge===nn.ADVANCED;return Kn&&Ce.call(this),typeof Fn!="function"||(Fn(this),Kn&&Oe.call(this)),this},t.isAdvancedAPI=function(){return Ge===nn.ADVANCED};var rn,un=function(Fn){if(Ge!==nn.ADVANCED)throw new Error(Fn+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Qe=t.roundToPrecision=t.__private__.roundToPrecision=function(Fn,Kn){var di=r||Kn;if(isNaN(Fn)||isNaN(di))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return Fn.toFixed(di).replace(/0+$/,"")};rn=t.hpf=t.__private__.hpf=typeof ze=="number"?function(Fn){if(isNaN(Fn))throw new Error("Invalid argument passed to jsPDF.hpf");return Qe(Fn,ze)}:ze==="smart"?function(Fn){if(isNaN(Fn))throw new Error("Invalid argument passed to jsPDF.hpf");return Qe(Fn,Fn>-1&&Fn<1?16:5)}:function(Fn){if(isNaN(Fn))throw new Error("Invalid argument passed to jsPDF.hpf");return Qe(Fn,16)};var hn=t.f2=t.__private__.f2=function(Fn){if(isNaN(Fn))throw new Error("Invalid argument passed to jsPDF.f2");return Qe(Fn,2)},He=t.__private__.f3=function(Fn){if(isNaN(Fn))throw new Error("Invalid argument passed to jsPDF.f3");return Qe(Fn,3)},pn=t.scale=t.__private__.scale=function(Fn){if(isNaN(Fn))throw new Error("Invalid argument passed to jsPDF.scale");return Ge===nn.COMPAT?Fn*Gn:Ge===nn.ADVANCED?Fn:void 0},Xe=function(Fn){return Ge===nn.COMPAT?hl()-Fn:Ge===nn.ADVANCED?Fn:void 0},fn=function(Fn){return pn(Xe(Fn))};t.__private__.setPrecision=t.setPrecision=function(Fn){typeof parseInt(Fn,10)=="number"&&(r=parseInt(Fn,10))};var dn,qe="00000000000000000000000000000000",tn=t.__private__.getFileId=function(){return qe},Me=t.__private__.setFileId=function(Fn){return qe=Fn!==void 0&&/^[a-fA-F0-9]{32}$/.test(Fn)?Fn.toUpperCase():qe.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),Ie!==null&&(Fa=new I(Ie.userPermissions,Ie.userPassword,Ie.ownerPassword,qe)),qe};t.setFileId=function(Fn){return Me(Fn),this},t.getFileId=function(){return tn()};var De=t.__private__.convertDateToPDFDate=function(Fn){var Kn=Fn.getTimezoneOffset(),di=Kn<0?"+":"-",mi=Math.floor(Math.abs(Kn/60)),Ti=Math.abs(Kn%60),zi=[di,Je(mi),"'",Je(Ti),"'"].join("");return["D:",Fn.getFullYear(),Je(Fn.getMonth()+1),Je(Fn.getDate()),Je(Fn.getHours()),Je(Fn.getMinutes()),Je(Fn.getSeconds()),zi].join("")},Ue=t.__private__.convertPDFDateToDate=function(Fn){var Kn=parseInt(Fn.substr(2,4),10),di=parseInt(Fn.substr(6,2),10)-1,mi=parseInt(Fn.substr(8,2),10),Ti=parseInt(Fn.substr(10,2),10),zi=parseInt(Fn.substr(12,2),10),tr=parseInt(Fn.substr(14,2),10);return new Date(Kn,di,mi,Ti,zi,tr,0)},We=t.__private__.setCreationDate=function(Fn){var Kn;if(Fn===void 0&&(Fn=new Date),Fn instanceof Date)Kn=De(Fn);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(Fn))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Kn=Fn}return dn=Kn},$e=t.__private__.getCreationDate=function(Fn){var Kn=dn;return Fn==="jsDate"&&(Kn=Ue(dn)),Kn};t.setCreationDate=function(Fn){return We(Fn),this},t.getCreationDate=function(Fn){return $e(Fn)};var on,Je=t.__private__.padd2=function(Fn){return("0"+parseInt(Fn)).slice(-2)},an=t.__private__.padd2Hex=function(Fn){return("00"+(Fn=Fn.toString())).substr(Fn.length)},Ke=0,sn=[],gn=[],mn=0,yn=[],Sn=[],_n=!1,wn=gn,Nn=function(){Ke=0,mn=0,gn=[],sn=[],yn=[],sr=Yi(),xr=Yi()};t.__private__.setCustomOutputDestination=function(Fn){_n=!0,wn=Fn};var Tn=function(Fn){_n||(wn=Fn)};t.__private__.resetCustomOutputDestination=function(){_n=!1,wn=gn};var Cn=t.__private__.out=function(Fn){return Fn=Fn.toString(),mn+=Fn.length+1,wn.push(Fn),wn},In=t.__private__.write=function(Fn){return Cn(arguments.length===1?Fn.toString():Array.prototype.join.call(arguments," "))},Rn=t.__private__.getArrayBuffer=function(Fn){for(var Kn=Fn.length,di=new ArrayBuffer(Kn),mi=new Uint8Array(di);Kn--;)mi[Kn]=Fn.charCodeAt(Kn);return di},bn=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];t.__private__.getStandardFonts=function(){return bn};var kn=Ae.fontSize||16;t.__private__.setFontSize=t.setFontSize=function(Fn){return kn=Ge===nn.ADVANCED?Fn/Gn:Fn,this};var En,On=t.__private__.getFontSize=t.getFontSize=function(){return Ge===nn.COMPAT?kn:kn*Gn},Mn=Ae.R2L||!1;t.__private__.setR2L=t.setR2L=function(Fn){return Mn=Fn,this},t.__private__.getR2L=t.getR2L=function(){return Mn};var Bn,Hn=t.__private__.setZoomMode=function(Fn){var Kn=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(Fn))En=Fn;else if(isNaN(Fn)){if(Kn.indexOf(Fn)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+Fn+'" is not recognized.');En=Fn}else En=parseInt(Fn,10)};t.__private__.getZoomMode=function(){return En};var $n,Un=t.__private__.setPageMode=function(Fn){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(Fn)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+Fn+'" is not recognized.');Bn=Fn};t.__private__.getPageMode=function(){return Bn};var qn=t.__private__.setLayoutMode=function(Fn){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(Fn)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+Fn+'" is not recognized.');$n=Fn};t.__private__.getLayoutMode=function(){return $n},t.__private__.setDisplayMode=t.setDisplayMode=function(Fn,Kn,di){return Hn(Fn),qn(Kn),Un(di),this};var jn={title:"",subject:"",author:"",keywords:"",creator:""};t.__private__.getDocumentProperty=function(Fn){if(Object.keys(jn).indexOf(Fn)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return jn[Fn]},t.__private__.getDocumentProperties=function(){return jn},t.__private__.setDocumentProperties=t.setProperties=t.setDocumentProperties=function(Fn){for(var Kn in jn)jn.hasOwnProperty(Kn)&&Fn[Kn]&&(jn[Kn]=Fn[Kn]);return this},t.__private__.setDocumentProperty=function(Fn,Kn){if(Object.keys(jn).indexOf(Fn)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return jn[Fn]=Kn};var Xn,Gn,ri,ui,ti,Yn={},Qn={},ci=[],pi={},ki={},hi={},si={},ai=null,li=0,Ei=[],$i=new C(t),Qi=Ae.hotfixes||[],fr={},ar={},Ii=[],vi=function Fn(Kn,di,mi,Ti,zi,tr){if(!(this instanceof Fn))return new Fn(Kn,di,mi,Ti,zi,tr);isNaN(Kn)&&(Kn=1),isNaN(di)&&(di=0),isNaN(mi)&&(mi=0),isNaN(Ti)&&(Ti=1),isNaN(zi)&&(zi=0),isNaN(tr)&&(tr=0),this._matrix=[Kn,di,mi,Ti,zi,tr]};Object.defineProperty(vi.prototype,"sx",{get:function(){return this._matrix[0]},set:function(Fn){this._matrix[0]=Fn}}),Object.defineProperty(vi.prototype,"shy",{get:function(){return this._matrix[1]},set:function(Fn){this._matrix[1]=Fn}}),Object.defineProperty(vi.prototype,"shx",{get:function(){return this._matrix[2]},set:function(Fn){this._matrix[2]=Fn}}),Object.defineProperty(vi.prototype,"sy",{get:function(){return this._matrix[3]},set:function(Fn){this._matrix[3]=Fn}}),Object.defineProperty(vi.prototype,"tx",{get:function(){return this._matrix[4]},set:function(Fn){this._matrix[4]=Fn}}),Object.defineProperty(vi.prototype,"ty",{get:function(){return this._matrix[5]},set:function(Fn){this._matrix[5]=Fn}}),Object.defineProperty(vi.prototype,"a",{get:function(){return this._matrix[0]},set:function(Fn){this._matrix[0]=Fn}}),Object.defineProperty(vi.prototype,"b",{get:function(){return this._matrix[1]},set:function(Fn){this._matrix[1]=Fn}}),Object.defineProperty(vi.prototype,"c",{get:function(){return this._matrix[2]},set:function(Fn){this._matrix[2]=Fn}}),Object.defineProperty(vi.prototype,"d",{get:function(){return this._matrix[3]},set:function(Fn){this._matrix[3]=Fn}}),Object.defineProperty(vi.prototype,"e",{get:function(){return this._matrix[4]},set:function(Fn){this._matrix[4]=Fn}}),Object.defineProperty(vi.prototype,"f",{get:function(){return this._matrix[5]},set:function(Fn){this._matrix[5]=Fn}}),Object.defineProperty(vi.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(vi.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(vi.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(vi.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),vi.prototype.join=function(Fn){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(rn).join(Fn)},vi.prototype.multiply=function(Fn){var Kn=Fn.sx*this.sx+Fn.shy*this.shx,di=Fn.sx*this.shy+Fn.shy*this.sy,mi=Fn.shx*this.sx+Fn.sy*this.shx,Ti=Fn.shx*this.shy+Fn.sy*this.sy,zi=Fn.tx*this.sx+Fn.ty*this.shx+this.tx,tr=Fn.tx*this.shy+Fn.ty*this.sy+this.ty;return new vi(Kn,di,mi,Ti,zi,tr)},vi.prototype.decompose=function(){var Fn=this.sx,Kn=this.shy,di=this.shx,mi=this.sy,Ti=this.tx,zi=this.ty,tr=Math.sqrt(Fn*Fn+Kn*Kn),Sr=(Fn/=tr)*di+(Kn/=tr)*mi;di-=Fn*Sr,mi-=Kn*Sr;var zr=Math.sqrt(di*di+mi*mi);return Sr/=zr,Fn*(mi/=zr)<Kn*(di/=zr)&&(Fn=-Fn,Kn=-Kn,Sr=-Sr,tr=-tr),{scale:new vi(tr,0,0,zr,0,0),translate:new vi(1,0,0,1,Ti,zi),rotate:new vi(Fn,Kn,-Kn,Fn,0,0),skew:new vi(1,0,Sr,1,0,0)}},vi.prototype.toString=function(Fn){return this.join(" ")},vi.prototype.inversed=function(){var Fn=this.sx,Kn=this.shy,di=this.shx,mi=this.sy,Ti=this.tx,zi=this.ty,tr=1/(Fn*mi-Kn*di),Sr=mi*tr,zr=-Kn*tr,aa=-di*tr,ia=Fn*tr;return new vi(Sr,zr,aa,ia,-Sr*Ti-aa*zi,-zr*Ti-ia*zi)},vi.prototype.applyToPoint=function(Fn){var Kn=Fn.x*this.sx+Fn.y*this.shx+this.tx,di=Fn.x*this.shy+Fn.y*this.sy+this.ty;return new ao(Kn,di)},vi.prototype.applyToRectangle=function(Fn){var Kn=this.applyToPoint(Fn),di=this.applyToPoint(new ao(Fn.x+Fn.w,Fn.y+Fn.h));return new Xs(Kn.x,Kn.y,di.x-Kn.x,di.y-Kn.y)},vi.prototype.clone=function(){var Fn=this.sx,Kn=this.shy,di=this.shx,mi=this.sy,Ti=this.tx,zi=this.ty;return new vi(Fn,Kn,di,mi,Ti,zi)},t.Matrix=vi;var rr=t.matrixMult=function(Fn,Kn){return Kn.multiply(Fn)},dr=new vi(1,0,0,1,0,0);t.unitMatrix=t.identityMatrix=dr;var Xi=function(Fn,Kn){if(!ki[Fn]){var di=(Kn instanceof B?"Sh":"P")+(Object.keys(pi).length+1).toString(10);Kn.id=di,ki[Fn]=di,pi[di]=Kn,$i.publish("addPattern",Kn)}};t.ShadingPattern=B,t.TilingPattern=M,t.addShadingPattern=function(Fn,Kn){return un("addShadingPattern()"),Xi(Fn,Kn),this},t.beginTilingPattern=function(Fn){un("beginTilingPattern()"),Xc(Fn.boundingBox[0],Fn.boundingBox[1],Fn.boundingBox[2]-Fn.boundingBox[0],Fn.boundingBox[3]-Fn.boundingBox[1],Fn.matrix)},t.endTilingPattern=function(Fn,Kn){un("endTilingPattern()"),Kn.stream=Sn[on].join(`
`),Xi(Fn,Kn),$i.publish("endTilingPattern",Kn),Ii.pop().restore()};var Gi=t.__private__.newObject=function(){var Fn=Yi();return Nr(Fn,!0),Fn},Yi=t.__private__.newObjectDeferred=function(){return Ke++,sn[Ke]=function(){return mn},Ke},Nr=function(Fn,Kn){return Kn=typeof Kn=="boolean"&&Kn,sn[Fn]=mn,Kn&&Cn(Fn+" 0 obj"),Fn},ha=t.__private__.newAdditionalObject=function(){var Fn={objId:Yi(),content:""};return yn.push(Fn),Fn},sr=Yi(),xr=Yi(),Zi=t.__private__.decodeColorString=function(Fn){var Kn=Fn.split(" ");if(Kn.length!==2||Kn[1]!=="g"&&Kn[1]!=="G")Kn.length===5&&(Kn[4]==="k"||Kn[4]==="K")&&(Kn=[(1-Kn[0])*(1-Kn[3]),(1-Kn[1])*(1-Kn[3]),(1-Kn[2])*(1-Kn[3]),"r"]);else{var di=parseFloat(Kn[0]);Kn=[di,di,di,"r"]}for(var mi="#",Ti=0;Ti<3;Ti++)mi+=("0"+Math.floor(255*parseFloat(Kn[Ti])).toString(16)).slice(-2);return mi},Ar=t.__private__.encodeColorString=function(Fn){var Kn;typeof Fn=="string"&&(Fn={ch1:Fn});var di=Fn.ch1,mi=Fn.ch2,Ti=Fn.ch3,zi=Fn.ch4,tr=Fn.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof di=="string"&&di.charAt(0)!=="#"){var Sr=new f(di);if(Sr.ok)di=Sr.toHex();else if(!/^\d*\.?\d*$/.test(di))throw new Error('Invalid color "'+di+'" passed to jsPDF.encodeColorString.')}if(typeof di=="string"&&/^#[0-9A-Fa-f]{3}$/.test(di)&&(di="#"+di[1]+di[1]+di[2]+di[2]+di[3]+di[3]),typeof di=="string"&&/^#[0-9A-Fa-f]{6}$/.test(di)){var zr=parseInt(di.substr(1),16);di=zr>>16&255,mi=zr>>8&255,Ti=255&zr}if(mi===void 0||zi===void 0&&di===mi&&mi===Ti)if(typeof di=="string")Kn=di+" "+tr[0];else switch(Fn.precision){case 2:Kn=hn(di/255)+" "+tr[0];break;case 3:default:Kn=He(di/255)+" "+tr[0]}else if(zi===void 0||_typeof(zi)==="object"){if(zi&&!isNaN(zi.a)&&zi.a===0)return Kn=["1.","1.","1.",tr[1]].join(" ");if(typeof di=="string")Kn=[di,mi,Ti,tr[1]].join(" ");else switch(Fn.precision){case 2:Kn=[hn(di/255),hn(mi/255),hn(Ti/255),tr[1]].join(" ");break;default:case 3:Kn=[He(di/255),He(mi/255),He(Ti/255),tr[1]].join(" ")}}else if(typeof di=="string")Kn=[di,mi,Ti,zi,tr[2]].join(" ");else switch(Fn.precision){case 2:Kn=[hn(di),hn(mi),hn(Ti),hn(zi),tr[2]].join(" ");break;case 3:default:Kn=[He(di),He(mi),He(Ti),He(zi),tr[2]].join(" ")}return Kn},Hr=t.__private__.getFilters=function(){return Ve},Xr=t.__private__.putStream=function(Fn){var Kn=(Fn=Fn||{}).data||"",di=Fn.filters||Hr(),mi=Fn.alreadyAppliedFilters||[],Ti=Fn.addLength1||!1,zi=Kn.length,tr=Fn.objectId,Sr=function(hs){return hs};if(Ie!==null&&tr===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");Ie!==null&&(Sr=Fa.encryptor(tr,0));var zr={};di===!0&&(di=["FlateEncode"]);var aa=Fn.additionalKeyValues||[],ia=(zr=E.API.processDataByFilters!==void 0?E.API.processDataByFilters(Kn,di):{data:Kn,reverseChain:[]}).reverseChain+(Array.isArray(mi)?mi.join(" "):mi.toString());if(zr.data.length!==0&&(aa.push({key:"Length",value:zr.data.length}),Ti===!0&&aa.push({key:"Length1",value:zi})),ia.length!=0)if(ia.split("/").length-1==1)aa.push({key:"Filter",value:ia});else{aa.push({key:"Filter",value:"["+ia+"]"});for(var ua=0;ua<aa.length;ua+=1)if(aa[ua].key==="DecodeParms"){for(var ja=[],za=0;za<zr.reverseChain.split("/").length-1;za+=1)ja.push("null");ja.push(aa[ua].value),aa[ua].value="["+ja.join(" ")+"]"}}Cn("<<");for(var Va=0;Va<aa.length;Va++)Cn("/"+aa[Va].key+" "+aa[Va].value);Cn(">>"),zr.data.length!==0&&(Cn("stream"),Cn(Sr(zr.data)),Cn("endstream"))},kr=t.__private__.putPage=function(Fn){var Kn=Fn.number,di=Fn.data,mi=Fn.objId,Ti=Fn.contentsObjId;Nr(mi,!0),Cn("<</Type /Page"),Cn("/Parent "+Fn.rootDictionaryObjId+" 0 R"),Cn("/Resources "+Fn.resourceDictionaryObjId+" 0 R"),Cn("/MediaBox ["+parseFloat(rn(Fn.mediaBox.bottomLeftX))+" "+parseFloat(rn(Fn.mediaBox.bottomLeftY))+" "+rn(Fn.mediaBox.topRightX)+" "+rn(Fn.mediaBox.topRightY)+"]"),Fn.cropBox!==null&&Cn("/CropBox ["+rn(Fn.cropBox.bottomLeftX)+" "+rn(Fn.cropBox.bottomLeftY)+" "+rn(Fn.cropBox.topRightX)+" "+rn(Fn.cropBox.topRightY)+"]"),Fn.bleedBox!==null&&Cn("/BleedBox ["+rn(Fn.bleedBox.bottomLeftX)+" "+rn(Fn.bleedBox.bottomLeftY)+" "+rn(Fn.bleedBox.topRightX)+" "+rn(Fn.bleedBox.topRightY)+"]"),Fn.trimBox!==null&&Cn("/TrimBox ["+rn(Fn.trimBox.bottomLeftX)+" "+rn(Fn.trimBox.bottomLeftY)+" "+rn(Fn.trimBox.topRightX)+" "+rn(Fn.trimBox.topRightY)+"]"),Fn.artBox!==null&&Cn("/ArtBox ["+rn(Fn.artBox.bottomLeftX)+" "+rn(Fn.artBox.bottomLeftY)+" "+rn(Fn.artBox.topRightX)+" "+rn(Fn.artBox.topRightY)+"]"),typeof Fn.userUnit=="number"&&Fn.userUnit!==1&&Cn("/UserUnit "+Fn.userUnit),$i.publish("putPage",{objId:mi,pageContext:Ei[Kn],pageNumber:Kn,page:di}),Cn("/Contents "+Ti+" 0 R"),Cn(">>"),Cn("endobj");var zi=di.join(`
`);return Ge===nn.ADVANCED&&(zi+=`
Q`),Nr(Ti,!0),Xr({data:zi,filters:Hr(),objectId:Ti}),Cn("endobj"),mi},da=t.__private__.putPages=function(){var Fn,Kn,di=[];for(Fn=1;Fn<=li;Fn++)Ei[Fn].objId=Yi(),Ei[Fn].contentsObjId=Yi();for(Fn=1;Fn<=li;Fn++)di.push(kr({number:Fn,data:Sn[Fn],objId:Ei[Fn].objId,contentsObjId:Ei[Fn].contentsObjId,mediaBox:Ei[Fn].mediaBox,cropBox:Ei[Fn].cropBox,bleedBox:Ei[Fn].bleedBox,trimBox:Ei[Fn].trimBox,artBox:Ei[Fn].artBox,userUnit:Ei[Fn].userUnit,rootDictionaryObjId:sr,resourceDictionaryObjId:xr}));Nr(sr,!0),Cn("<</Type /Pages");var mi="/Kids [";for(Kn=0;Kn<li;Kn++)mi+=di[Kn]+" 0 R ";Cn(mi+"]"),Cn("/Count "+li),Cn(">>"),Cn("endobj"),$i.publish("postPutPages")},Mi=function(Fn){$i.publish("putFont",{font:Fn,out:Cn,newObject:Gi,putStream:Xr}),Fn.isAlreadyPutted!==!0&&(Fn.objectNumber=Gi(),Cn("<<"),Cn("/Type /Font"),Cn("/BaseFont /"+F(Fn.postScriptName)),Cn("/Subtype /Type1"),typeof Fn.encoding=="string"&&Cn("/Encoding /"+Fn.encoding),Cn("/FirstChar 32"),Cn("/LastChar 255"),Cn(">>"),Cn("endobj"))},Ri=function(){for(var Fn in Yn)Yn.hasOwnProperty(Fn)&&(Re===!1||Re===!0&&e.hasOwnProperty(Fn))&&Mi(Yn[Fn])},Ui=function(Fn){Fn.objectNumber=Gi();var Kn=[];Kn.push({key:"Type",value:"/XObject"}),Kn.push({key:"Subtype",value:"/Form"}),Kn.push({key:"BBox",value:"["+[rn(Fn.x),rn(Fn.y),rn(Fn.x+Fn.width),rn(Fn.y+Fn.height)].join(" ")+"]"}),Kn.push({key:"Matrix",value:"["+Fn.matrix.toString()+"]"});var di=Fn.pages[1].join(`
`);Xr({data:di,additionalKeyValues:Kn,objectId:Fn.objectNumber}),Cn("endobj")},Bi=function(){for(var Fn in fr)fr.hasOwnProperty(Fn)&&Ui(fr[Fn])},Ji=function(Fn,Kn){var di,mi=[],Ti=1/(Kn-1);for(di=0;di<1;di+=Ti)mi.push(di);if(mi.push(1),Fn[0].offset!=0){var zi={offset:0,color:Fn[0].color};Fn.unshift(zi)}if(Fn[Fn.length-1].offset!=1){var tr={offset:1,color:Fn[Fn.length-1].color};Fn.push(tr)}for(var Sr="",zr=0,aa=0;aa<mi.length;aa++){for(di=mi[aa];di>Fn[zr+1].offset;)zr++;var ia=Fn[zr].offset,ua=(di-ia)/(Fn[zr+1].offset-ia),ja=Fn[zr].color,za=Fn[zr+1].color;Sr+=an(Math.round((1-ua)*ja[0]+ua*za[0]).toString(16))+an(Math.round((1-ua)*ja[1]+ua*za[1]).toString(16))+an(Math.round((1-ua)*ja[2]+ua*za[2]).toString(16))}return Sr.trim()},or=function(Fn,Kn){Kn||(Kn=21);var di=Gi(),mi=Ji(Fn.colors,Kn),Ti=[];Ti.push({key:"FunctionType",value:"0"}),Ti.push({key:"Domain",value:"[0.0 1.0]"}),Ti.push({key:"Size",value:"["+Kn+"]"}),Ti.push({key:"BitsPerSample",value:"8"}),Ti.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ti.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Xr({data:mi,additionalKeyValues:Ti,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:di}),Cn("endobj"),Fn.objectNumber=Gi(),Cn("<< /ShadingType "+Fn.type),Cn("/ColorSpace /DeviceRGB");var zi="/Coords ["+rn(parseFloat(Fn.coords[0]))+" "+rn(parseFloat(Fn.coords[1]))+" ";Fn.type===2?zi+=rn(parseFloat(Fn.coords[2]))+" "+rn(parseFloat(Fn.coords[3])):zi+=rn(parseFloat(Fn.coords[2]))+" "+rn(parseFloat(Fn.coords[3]))+" "+rn(parseFloat(Fn.coords[4]))+" "+rn(parseFloat(Fn.coords[5])),Cn(zi+="]"),Fn.matrix&&Cn("/Matrix ["+Fn.matrix.toString()+"]"),Cn("/Function "+di+" 0 R"),Cn("/Extend [true true]"),Cn(">>"),Cn("endobj")},ur=function(Fn,Kn){var di=Yi(),mi=Gi();Kn.push({resourcesOid:di,objectOid:mi}),Fn.objectNumber=mi;var Ti=[];Ti.push({key:"Type",value:"/Pattern"}),Ti.push({key:"PatternType",value:"1"}),Ti.push({key:"PaintType",value:"1"}),Ti.push({key:"TilingType",value:"1"}),Ti.push({key:"BBox",value:"["+Fn.boundingBox.map(rn).join(" ")+"]"}),Ti.push({key:"XStep",value:rn(Fn.xStep)}),Ti.push({key:"YStep",value:rn(Fn.yStep)}),Ti.push({key:"Resources",value:di+" 0 R"}),Fn.matrix&&Ti.push({key:"Matrix",value:"["+Fn.matrix.toString()+"]"}),Xr({data:Fn.stream,additionalKeyValues:Ti,objectId:Fn.objectNumber}),Cn("endobj")},Li=function(Fn){var Kn;for(Kn in pi)pi.hasOwnProperty(Kn)&&(pi[Kn]instanceof B?or(pi[Kn]):pi[Kn]instanceof M&&ur(pi[Kn],Fn))},Er=function(Fn){for(var Kn in Fn.objectNumber=Gi(),Cn("<<"),Fn)switch(Kn){case"opacity":Cn("/ca "+hn(Fn[Kn]));break;case"stroke-opacity":Cn("/CA "+hn(Fn[Kn]))}Cn(">>"),Cn("endobj")},br=function(){var Fn;for(Fn in hi)hi.hasOwnProperty(Fn)&&Er(hi[Fn])},$r=function(){for(var Fn in Cn("/XObject <<"),fr)fr.hasOwnProperty(Fn)&&fr[Fn].objectNumber>=0&&Cn("/"+Fn+" "+fr[Fn].objectNumber+" 0 R");$i.publish("putXobjectDict"),Cn(">>")},_r=function(){Fa.oid=Gi(),Cn("<<"),Cn("/Filter /Standard"),Cn("/V "+Fa.v),Cn("/R "+Fa.r),Cn("/U <"+Fa.toHexString(Fa.U)+">"),Cn("/O <"+Fa.toHexString(Fa.O)+">"),Cn("/P "+Fa.P),Cn(">>"),Cn("endobj")},Fr=function(){for(var Fn in Cn("/Font <<"),Yn)Yn.hasOwnProperty(Fn)&&(Re===!1||Re===!0&&e.hasOwnProperty(Fn))&&Cn("/"+Fn+" "+Yn[Fn].objectNumber+" 0 R");Cn(">>")},Ir=function(){if(Object.keys(pi).length>0){for(var Fn in Cn("/Shading <<"),pi)pi.hasOwnProperty(Fn)&&pi[Fn]instanceof B&&pi[Fn].objectNumber>=0&&Cn("/"+Fn+" "+pi[Fn].objectNumber+" 0 R");$i.publish("putShadingPatternDict"),Cn(">>")}},cr=function(Fn){if(Object.keys(pi).length>0){for(var Kn in Cn("/Pattern <<"),pi)pi.hasOwnProperty(Kn)&&pi[Kn]instanceof t.TilingPattern&&pi[Kn].objectNumber>=0&&pi[Kn].objectNumber<Fn&&Cn("/"+Kn+" "+pi[Kn].objectNumber+" 0 R");$i.publish("putTilingPatternDict"),Cn(">>")}},yr=function(){if(Object.keys(hi).length>0){var Fn;for(Fn in Cn("/ExtGState <<"),hi)hi.hasOwnProperty(Fn)&&hi[Fn].objectNumber>=0&&Cn("/"+Fn+" "+hi[Fn].objectNumber+" 0 R");$i.publish("putGStateDict"),Cn(">>")}},er=function(Fn){Nr(Fn.resourcesOid,!0),Cn("<<"),Cn("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Fr(),Ir(),cr(Fn.objectOid),yr(),$r(),Cn(">>"),Cn("endobj")},Dr=function(){var Fn=[];Ri(),br(),Bi(),Li(Fn),$i.publish("putResources"),Fn.forEach(er),er({resourcesOid:xr,objectOid:Number.MAX_SAFE_INTEGER}),$i.publish("postPutResources")},Gr=function(){$i.publish("putAdditionalObjects");for(var Fn=0;Fn<yn.length;Fn++){var Kn=yn[Fn];Nr(Kn.objId,!0),Cn(Kn.content),Cn("endobj")}$i.publish("postPutAdditionalObjects")},Ea=function(Fn){Qn[Fn.fontName]=Qn[Fn.fontName]||{},Qn[Fn.fontName][Fn.fontStyle]=Fn.id},Tr=function(Fn,Kn,di,mi,Ti){var zi={id:"F"+(Object.keys(Yn).length+1).toString(10),postScriptName:Fn,fontName:Kn,fontStyle:di,encoding:mi,isStandardFont:Ti||!1,metadata:{}};return $i.publish("addFont",{font:zi,instance:this}),Yn[zi.id]=zi,Ea(zi),zi.id},Rr=function(Fn){for(var Kn=0,di=bn.length;Kn<di;Kn++){var mi=Tr.call(this,Fn[Kn][0],Fn[Kn][1],Fn[Kn][2],bn[Kn][3],!0);Re===!1&&(e[mi]=!0);var Ti=Fn[Kn][0].split("-");Ea({id:mi,fontName:Ti[0],fontStyle:Ti[1]||""})}$i.publish("addFonts",{fonts:Yn,dictionary:Qn})},Zr=function(Fn){return Fn.foo=function(){try{return Fn.apply(this,arguments)}catch(mi){var Kn=mi.stack||"";~Kn.indexOf(" at ")&&(Kn=Kn.split(" at ")[1]);var di="Error in function "+Kn.split(`
`)[0].split("<")[0]+": "+mi.message;if(!n.console)throw new Error(di);n.console.error(di,mi),n.alert&&alert(di)}},Fn.foo.bar=Fn,Fn.foo},ma=function(Fn,Kn){var di,mi,Ti,zi,tr,Sr,zr,aa,ia;if(Ti=(Kn=Kn||{}).sourceEncoding||"Unicode",tr=Kn.outputEncoding,(Kn.autoencode||tr)&&Yn[Xn].metadata&&Yn[Xn].metadata[Ti]&&Yn[Xn].metadata[Ti].encoding&&(zi=Yn[Xn].metadata[Ti].encoding,!tr&&Yn[Xn].encoding&&(tr=Yn[Xn].encoding),!tr&&zi.codePages&&(tr=zi.codePages[0]),typeof tr=="string"&&(tr=zi[tr]),tr)){for(zr=!1,Sr=[],di=0,mi=Fn.length;di<mi;di++)(aa=tr[Fn.charCodeAt(di)])?Sr.push(String.fromCharCode(aa)):Sr.push(Fn[di]),Sr[di].charCodeAt(0)>>8&&(zr=!0);Fn=Sr.join("")}for(di=Fn.length;zr===void 0&&di!==0;)Fn.charCodeAt(di-1)>>8&&(zr=!0),di--;if(!zr)return Fn;for(Sr=Kn.noBOM?[]:[254,255],di=0,mi=Fn.length;di<mi;di++){if((ia=(aa=Fn.charCodeAt(di))>>8)>>8)throw new Error("Character at position "+di+" of string '"+Fn+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Sr.push(ia),Sr.push(aa-(ia<<8))}return String.fromCharCode.apply(void 0,Sr)},Sa=t.__private__.pdfEscape=t.pdfEscape=function(Fn,Kn){return ma(Fn,Kn).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ys=t.__private__.beginPage=function(Fn){Sn[++li]=[],Ei[li]={objId:0,contentsObjId:0,userUnit:Number(_e),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(Fn[0]),topRightY:Number(Fn[1])}},no(li),Tn(Sn[on])},zo=function(Fn,Kn){var di,mi,Ti;switch(Se=Kn||Se,typeof Fn=="string"&&(di=je(Fn.toLowerCase()),Array.isArray(di)&&(mi=di[0],Ti=di[1])),Array.isArray(Fn)&&(mi=Fn[0]*Gn,Ti=Fn[1]*Gn),isNaN(mi)&&(mi=Fe[0],Ti=Fe[1]),(mi>14400||Ti>14400)&&(a.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),mi=Math.min(14400,mi),Ti=Math.min(14400,Ti)),Fe=[mi,Ti],Se.substr(0,1)){case"l":Ti>mi&&(Fe=[Ti,mi]);break;case"p":mi>Ti&&(Fe=[Ti,mi])}ys(Fe),jr(gr),Cn(Lr),Ba!==0&&Cn(Ba+" J"),qs!==0&&Cn(qs+" j"),$i.publish("addPage",{pageNumber:li})},Eo=function(Fn){Fn>0&&Fn<=li&&(Sn.splice(Fn,1),Ei.splice(Fn,1),li--,on>li&&(on=li),this.setPage(on))},no=function(Fn){Fn>0&&Fn<=li&&(on=Fn)},Cl=t.__private__.getNumberOfPages=t.getNumberOfPages=function(){return Sn.length-1},_o=function(Fn,Kn,di){var mi,Ti=void 0;return di=di||{},Fn=Fn!==void 0?Fn:Yn[Xn].fontName,Kn=Kn!==void 0?Kn:Yn[Xn].fontStyle,mi=Fn.toLowerCase(),Qn[mi]!==void 0&&Qn[mi][Kn]!==void 0?Ti=Qn[mi][Kn]:Qn[Fn]!==void 0&&Qn[Fn][Kn]!==void 0?Ti=Qn[Fn][Kn]:di.disableWarning===!1&&a.warn("Unable to look up font label for font '"+Fn+"', '"+Kn+"'. Refer to getFontList() for available fonts."),Ti||di.noFallback||(Ti=Qn.times[Kn])==null&&(Ti=Qn.times.normal),Ti},ca=t.__private__.putInfo=function(){var Fn=Gi(),Kn=function(mi){return mi};for(var di in Ie!==null&&(Kn=Fa.encryptor(Fn,0)),Cn("<<"),Cn("/Producer ("+Sa(Kn("jsPDF "+E.version))+")"),jn)jn.hasOwnProperty(di)&&jn[di]&&Cn("/"+di.substr(0,1).toUpperCase()+di.substr(1)+" ("+Sa(Kn(jn[di]))+")");Cn("/CreationDate ("+Sa(Kn(dn))+")"),Cn(">>"),Cn("endobj")},Io=t.__private__.putCatalog=function(Fn){var Kn=(Fn=Fn||{}).rootDictionaryObjId||sr;switch(Gi(),Cn("<<"),Cn("/Type /Catalog"),Cn("/Pages "+Kn+" 0 R"),En||(En="fullwidth"),En){case"fullwidth":Cn("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Cn("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Cn("/OpenAction [3 0 R /Fit]");break;case"original":Cn("/OpenAction [3 0 R /XYZ null null 1]");break;default:var di=""+En;di.substr(di.length-1)==="%"&&(En=parseInt(En)/100),typeof En=="number"&&Cn("/OpenAction [3 0 R /XYZ null null "+hn(En)+"]")}switch($n||($n="continuous"),$n){case"continuous":Cn("/PageLayout /OneColumn");break;case"single":Cn("/PageLayout /SinglePage");break;case"two":case"twoleft":Cn("/PageLayout /TwoColumnLeft");break;case"tworight":Cn("/PageLayout /TwoColumnRight")}Bn&&Cn("/PageMode /"+Bn),$i.publish("putCatalog"),Cn(">>"),Cn("endobj")},ul=t.__private__.putTrailer=function(){Cn("trailer"),Cn("<<"),Cn("/Size "+(Ke+1)),Cn("/Root "+Ke+" 0 R"),Cn("/Info "+(Ke-1)+" 0 R"),Ie!==null&&Cn("/Encrypt "+Fa.oid+" 0 R"),Cn("/ID [ <"+qe+"> <"+qe+"> ]"),Cn(">>")},To=t.__private__.putHeader=function(){Cn("%PDF-"+Te),Cn("%ºß¬à")},Po=t.__private__.putXRef=function(){var Fn="0000000000";Cn("xref"),Cn("0 "+(Ke+1)),Cn("0000000000 65535 f ");for(var Kn=1;Kn<=Ke;Kn++)typeof sn[Kn]=="function"?Cn((Fn+sn[Kn]()).slice(-10)+" 00000 n "):sn[Kn]!==void 0?Cn((Fn+sn[Kn]).slice(-10)+" 00000 n "):Cn("0000000000 00000 n ")},Ps=t.__private__.buildDocument=function(){Nn(),Tn(gn),$i.publish("buildDocument"),To(),da(),Gr(),Dr(),Ie!==null&&_r(),ca(),Io();var Fn=mn;return Po(),ul(),Cn("startxref"),Cn(""+Fn),Cn("%%EOF"),Tn(Sn[on]),gn.join(`
`)},xo=t.__private__.getBlob=function(Fn){return new Blob([Rn(Fn)],{type:"application/pdf"})},io=t.output=t.__private__.output=Zr(function(Fn,Kn){switch(typeof(Kn=Kn||{})=="string"?Kn={filename:Kn}:Kn.filename=Kn.filename||"generated.pdf",Fn){case void 0:return Ps();case"save":t.save(Kn.filename);break;case"arraybuffer":return Rn(Ps());case"blob":return xo(Ps());case"bloburi":case"bloburl":if(n.URL!==void 0&&typeof n.URL.createObjectURL=="function")return n.URL&&n.URL.createObjectURL(xo(Ps()))||void 0;a.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var di="",mi=Ps();try{di=h(mi)}catch{di=h(unescape(encodeURIComponent(mi)))}return"data:application/pdf;filename="+Kn.filename+";base64,"+di;case"pdfobjectnewwindow":if(Object.prototype.toString.call(n)==="[object Window]"){var Ti="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",zi=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Kn.pdfObjectUrl&&(Ti=Kn.pdfObjectUrl,zi="");var tr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ti+'"'+zi+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Kn)+");<\/script></body></html>",Sr=n.open();return Sr!==null&&Sr.document.write(tr),Sr}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(n)==="[object Window]"){var zr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Kn.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Kn.filename+'" width="500px" height="400px" /></body></html>',aa=n.open();if(aa!==null){aa.document.write(zr);var ia=this;aa.document.documentElement.querySelector("#pdfViewer").onload=function(){aa.document.title=Kn.filename,aa.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(ia.output("bloburl"))}}return aa}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(n)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var ua='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Kn)+'"></iframe></body></html>',ja=n.open();if(ja!==null&&(ja.document.write(ua),ja.document.title=Kn.filename),ja||typeof safari>"u")return ja;break;case"datauri":case"dataurl":return n.document.location.href=this.output("datauristring",Kn);default:return null}}),$s=function(Fn){return Array.isArray(Qi)===!0&&Qi.indexOf(Fn)>-1};switch(Ee){case"pt":Gn=1;break;case"mm":Gn=72/25.4;break;case"cm":Gn=72/2.54;break;case"in":Gn=72;break;case"px":Gn=$s("px_scaling")==1?.75:96/72;break;case"pc":case"em":Gn=12;break;case"ex":Gn=6;break;default:if(typeof Ee!="number")throw new Error("Invalid unit: "+Ee);Gn=Ee}var Fa=null;We(),Me();var ws=function(Fn){return Ie!==null?Fa.encryptor(Fn,0):function(Kn){return Kn}},vs=t.__private__.getPageInfo=t.getPageInfo=function(Fn){if(isNaN(Fn)||Fn%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ei[Fn].objId,pageNumber:Fn,pageContext:Ei[Fn]}},Wr=t.__private__.getPageInfoByObjId=function(Fn){if(isNaN(Fn)||Fn%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Kn in Ei)if(Ei[Kn].objId===Fn)break;return vs(Kn)},bo=t.__private__.getCurrentPageInfo=t.getCurrentPageInfo=function(){return{objId:Ei[on].objId,pageNumber:on,pageContext:Ei[on]}};t.addPage=function(){return zo.apply(this,arguments),this},t.setPage=function(){return no.apply(this,arguments),Tn.call(this,Sn[on]),this},t.insertPage=function(Fn){return this.addPage(),this.movePage(on,Fn),this},t.movePage=function(Fn,Kn){var di,mi;if(Fn>Kn){di=Sn[Fn],mi=Ei[Fn];for(var Ti=Fn;Ti>Kn;Ti--)Sn[Ti]=Sn[Ti-1],Ei[Ti]=Ei[Ti-1];Sn[Kn]=di,Ei[Kn]=mi,this.setPage(Kn)}else if(Fn<Kn){di=Sn[Fn],mi=Ei[Fn];for(var zi=Fn;zi<Kn;zi++)Sn[zi]=Sn[zi+1],Ei[zi]=Ei[zi+1];Sn[Kn]=di,Ei[Kn]=mi,this.setPage(Kn)}return this},t.deletePage=function(){return Eo.apply(this,arguments),this},t.__private__.text=t.text=function(Fn,Kn,di,mi,Ti){var zi,tr,Sr,zr,aa,ia,ua,ja,za,Va=(mi=mi||{}).scope||this;if(typeof Fn=="number"&&typeof Kn=="number"&&(typeof di=="string"||Array.isArray(di))){var hs=di;di=Kn,Kn=Fn,Fn=hs}if(arguments[3]instanceof vi?(un("The transform parameter of text() with a Matrix value"),za=Ti):(Sr=arguments[4],zr=arguments[5],_typeof(ua=arguments[3])==="object"&&ua!==null||(typeof Sr=="string"&&(zr=Sr,Sr=null),typeof ua=="string"&&(zr=ua,ua=null),typeof ua=="number"&&(Sr=ua,ua=null),mi={flags:ua,angle:Sr,align:zr})),isNaN(Kn)||isNaN(di)||Fn==null)throw new Error("Invalid arguments passed to jsPDF.text");if(Fn.length===0)return Va;var rs="",wo=!1,Gs=typeof mi.lineHeightFactor=="number"?mi.lineHeightFactor:pr,so=Va.internal.scaleFactor;function dl(Na){return Na=Na.split("	").join(Array(mi.TabLen||9).join(" ")),Sa(Na,ua)}function Ec(Na){for(var Ia,Wa=Na.concat(),Ka=[],No=Wa.length;No--;)typeof(Ia=Wa.shift())=="string"?Ka.push(Ia):Array.isArray(Na)&&(Ia.length===1||Ia[1]===void 0&&Ia[2]===void 0)?Ka.push(Ia[0]):Ka.push([Ia[0],Ia[1],Ia[2]]);return Ka}function Xl(Na,Ia){var Wa;if(typeof Na=="string")Wa=Ia(Na)[0];else if(Array.isArray(Na)){for(var Ka,No,ic=Na.concat(),Rl=[],Tc=ic.length;Tc--;)typeof(Ka=ic.shift())=="string"?Rl.push(Ia(Ka)[0]):Array.isArray(Ka)&&typeof Ka[0]=="string"&&(No=Ia(Ka[0],Ka[1],Ka[2]),Rl.push([No[0],No[1],No[2]]));Wa=Rl}return Wa}var kl=!1,Gl=!0;if(typeof Fn=="string")kl=!0;else if(Array.isArray(Fn)){var Vl=Fn.concat();tr=[];for(var El,qa=Vl.length;qa--;)(typeof(El=Vl.shift())!="string"||Array.isArray(El)&&typeof El[0]!="string")&&(Gl=!1);kl=Gl}if(kl===!1)throw new Error('Type of text must be string or Array. "'+Fn+'" is not recognized.');typeof Fn=="string"&&(Fn=Fn.match(/[\r?\n]/)?Fn.split(/\r\n|\r|\n/g):[Fn]);var Kl=kn/Va.internal.scaleFactor,Yl=Kl*(Gs-1);switch(mi.baseline){case"bottom":di-=Yl;break;case"top":di+=Kl-Yl;break;case"hanging":di+=Kl-2*Yl;break;case"middle":di+=Kl/2-Yl}if((ia=mi.maxWidth||0)>0&&(typeof Fn=="string"?Fn=Va.splitTextToSize(Fn,ia):Object.prototype.toString.call(Fn)==="[object Array]"&&(Fn=Fn.reduce(function(Na,Ia){return Na.concat(Va.splitTextToSize(Ia,ia))},[]))),zi={text:Fn,x:Kn,y:di,options:mi,mutex:{pdfEscape:Sa,activeFontKey:Xn,fonts:Yn,activeFontSize:kn}},$i.publish("preProcessText",zi),Fn=zi.text,Sr=(mi=zi.options).angle,!(za instanceof vi)&&Sr&&typeof Sr=="number"){Sr*=Math.PI/180,mi.rotationDirection===0&&(Sr=-Sr),Ge===nn.ADVANCED&&(Sr=-Sr);var Jl=Math.cos(Sr),Zl=Math.sin(Sr);za=new vi(Jl,Zl,-Zl,Jl,0,0)}else Sr&&Sr instanceof vi&&(za=Sr);Ge!==nn.ADVANCED||za||(za=dr),(aa=mi.charSpace||ss)!==void 0&&(rs+=rn(pn(aa))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ja=mi.horizontalScale)!==void 0&&(rs+=rn(100*ja)+` Tz
`),mi.lang;var Ss=-1,_l=mi.renderingMode!==void 0?mi.renderingMode:mi.stroke,Wo=Va.internal.getCurrentPageInfo().pageContext;switch(_l){case 0:case!1:case"fill":Ss=0;break;case 1:case!0:case"stroke":Ss=1;break;case 2:case"fillThenStroke":Ss=2;break;case 3:case"invisible":Ss=3;break;case 4:case"fillAndAddForClipping":Ss=4;break;case 5:case"strokeAndAddPathForClipping":Ss=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ss=6;break;case 7:case"addToPathForClipping":Ss=7}var Gc=Wo.usedRenderingMode!==void 0?Wo.usedRenderingMode:-1;Ss!==-1?rs+=Ss+` Tr
`:Gc!==-1&&(rs+=`0 Tr
`),Ss!==-1&&(Wo.usedRenderingMode=Ss),zr=mi.align||"left";var As,Ql=kn*Gs,_c=Va.internal.pageSize.getWidth(),tc=Yn[Xn];aa=mi.charSpace||ss,ia=mi.maxWidth||0,ua=Object.assign({autoencode:!0,noBOM:!0},mi.flags);var Ro=[],pl=function(Na){return Va.getStringUnitWidth(Na,{font:tc,charSpace:aa,fontSize:kn,doKerning:!1})*kn/so};if(Object.prototype.toString.call(Fn)==="[object Array]"){var Cs;tr=Ec(Fn),zr!=="left"&&(As=tr.map(pl));var ds,gl=0;if(zr==="right"){Kn-=As[0],Fn=[],qa=tr.length;for(var Xo=0;Xo<qa;Xo++)Xo===0?(ds=la(Kn),Cs=oa(di)):(ds=pn(gl-As[Xo]),Cs=-Ql),Fn.push([tr[Xo],ds,Cs]),gl=As[Xo]}else if(zr==="center"){Kn-=As[0]/2,Fn=[],qa=tr.length;for(var Go=0;Go<qa;Go++)Go===0?(ds=la(Kn),Cs=oa(di)):(ds=pn((gl-As[Go])/2),Cs=-Ql),Fn.push([tr[Go],ds,Cs]),gl=As[Go]}else if(zr==="left"){Fn=[],qa=tr.length;for(var nc=0;nc<qa;nc++)Fn.push(tr[nc])}else if(zr==="justify"&&tc.encoding==="Identity-H"){Fn=[],qa=tr.length,ia=ia!==0?ia:_c;for(var Vo=0,wa=0;wa<qa;wa++)if(Cs=wa===0?oa(di):-Ql,ds=wa===0?la(Kn):Vo,wa<qa-1){var Ko=pn((ia-As[wa])/(tr[wa].split(" ").length-1)),fs=tr[wa].split(" ");Fn.push([fs[0]+" ",ds,Cs]),Vo=0;for(var Vs=1;Vs<fs.length;Vs++){var Il=(pl(fs[Vs-1]+" "+fs[Vs])-pl(fs[Vs]))*so+Ko;Vs==fs.length-1?Fn.push([fs[Vs],Il,0]):Fn.push([fs[Vs]+" ",Il,0]),Vo-=Il}}else Fn.push([tr[wa],ds,Cs]);Fn.push(["",Vo,0])}else{if(zr!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(Fn=[],qa=tr.length,ia=ia!==0?ia:_c,wa=0;wa<qa;wa++)Cs=wa===0?oa(di):-Ql,ds=wa===0?la(Kn):0,wa<qa-1?Ro.push(rn(pn((ia-As[wa])/(tr[wa].split(" ").length-1)))):Ro.push(0),Fn.push([tr[wa],ds,Cs])}}var Ic=typeof mi.R2L=="boolean"?mi.R2L:Mn;Ic===!0&&(Fn=Xl(Fn,function(Na,Ia,Wa){return[Na.split("").reverse().join(""),Ia,Wa]})),zi={text:Fn,x:Kn,y:di,options:mi,mutex:{pdfEscape:Sa,activeFontKey:Xn,fonts:Yn,activeFontSize:kn}},$i.publish("postProcessText",zi),Fn=zi.text,wo=zi.mutex.isHex||!1;var Tl=Yn[Xn].encoding;Tl!=="WinAnsiEncoding"&&Tl!=="StandardEncoding"||(Fn=Xl(Fn,function(Na,Ia,Wa){return[dl(Na),Ia,Wa]})),tr=Ec(Fn),Fn=[];for(var Pl,Fl,Ks,Yo=0,Oo=1,Jo=Array.isArray(tr[0])?Oo:Yo,Zo="",ml=function(Na,Ia,Wa){var Ka="";return Wa instanceof vi?(Wa=typeof mi.angle=="number"?rr(Wa,new vi(1,0,0,1,Na,Ia)):rr(new vi(1,0,0,1,Na,Ia),Wa),Ge===nn.ADVANCED&&(Wa=rr(new vi(1,0,0,-1,0,0),Wa)),Ka=Wa.join(" ")+` Tm
`):Ka=rn(Na)+" "+rn(Ia)+` Td
`,Ka},os=0;os<tr.length;os++){switch(Zo="",Jo){case Oo:Ks=(wo?"<":"(")+tr[os][0]+(wo?">":")"),Pl=parseFloat(tr[os][1]),Fl=parseFloat(tr[os][2]);break;case Yo:Ks=(wo?"<":"(")+tr[os]+(wo?">":")"),Pl=la(Kn),Fl=oa(di)}Ro!==void 0&&Ro[os]!==void 0&&(Zo=Ro[os]+` Tw
`),os===0?Fn.push(Zo+ml(Pl,Fl,za)+Ks):Jo===Yo?Fn.push(Zo+Ks):Jo===Oo&&Fn.push(Zo+ml(Pl,Fl,za)+Ks)}Fn=Jo===Yo?Fn.join(` Tj
T* `):Fn.join(` Tj
`),Fn+=` Tj
`;var Os=`BT
/`;return Os+=Xn+" "+kn+` Tf
`,Os+=rn(kn*Gs)+` TL
`,Os+=pa+`
`,Os+=rs,Os+=Fn,Cn(Os+="ET"),e[Xn]=!0,Va};var Fs=t.__private__.clip=t.clip=function(Fn){return Cn(Fn==="evenodd"?"W*":"W"),this};t.clipEvenOdd=function(){return Fs("evenodd")},t.__private__.discardPath=t.discardPath=function(){return Cn("n"),this};var Rs=t.__private__.isValidStyle=function(Fn){var Kn=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(Fn)!==-1&&(Kn=!0),Kn};t.__private__.setDefaultPathOperation=t.setDefaultPathOperation=function(Fn){return Rs(Fn)&&(xe=Fn),this};var yo=t.__private__.getStyle=t.getStyle=function(Fn){var Kn=xe;switch(Fn){case"D":case"S":Kn="S";break;case"F":Kn="f";break;case"FD":case"DF":Kn="B";break;case"f":case"f*":case"B":case"B*":Kn=Fn}return Kn},ro=t.close=function(){return Cn("h"),this};t.stroke=function(){return Cn("S"),this},t.fill=function(Fn){return Hs("f",Fn),this},t.fillEvenOdd=function(Fn){return Hs("f*",Fn),this},t.fillStroke=function(Fn){return Hs("B",Fn),this},t.fillStrokeEvenOdd=function(Fn){return Hs("B*",Fn),this};var Hs=function(Fn,Kn){_typeof(Kn)==="object"?Ai(Kn,Fn):Cn(Fn)},Fo=function(Fn){Fn===null||Ge===nn.ADVANCED&&Fn===void 0||(Fn=yo(Fn),Cn(Fn))};function zs(Fn,Kn,di,mi,Ti){var zi=new M(Kn||this.boundingBox,di||this.xStep,mi||this.yStep,this.gState,Ti||this.matrix);zi.stream=this.stream;var tr=Fn+"$$"+this.cloneIndex+++"$$";return Xi(tr,zi),zi}var Ai=function(Fn,Kn){var di=ki[Fn.key],mi=pi[di];if(mi instanceof B)Cn("q"),Cn(Ze(Kn)),mi.gState&&t.setGState(mi.gState),Cn(Fn.matrix.toString()+" cm"),Cn("/"+di+" sh"),Cn("Q");else if(mi instanceof M){var Ti=new vi(1,0,0,-1,0,hl());Fn.matrix&&(Ti=Ti.multiply(Fn.matrix||dr),di=zs.call(mi,Fn.key,Fn.boundingBox,Fn.xStep,Fn.yStep,Ti).id),Cn("q"),Cn("/Pattern cs"),Cn("/"+di+" scn"),mi.gState&&t.setGState(mi.gState),Cn(Kn),Cn("Q")}},Ze=function(Fn){switch(Fn){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Pn=t.moveTo=function(Fn,Kn){return Cn(rn(pn(Fn))+" "+rn(fn(Kn))+" m"),this},gi=t.lineTo=function(Fn,Kn){return Cn(rn(pn(Fn))+" "+rn(fn(Kn))+" l"),this},_i=t.curveTo=function(Fn,Kn,di,mi,Ti,zi){return Cn([rn(pn(Fn)),rn(fn(Kn)),rn(pn(di)),rn(fn(mi)),rn(pn(Ti)),rn(fn(zi)),"c"].join(" ")),this};t.__private__.line=t.line=function(Fn,Kn,di,mi,Ti){if(isNaN(Fn)||isNaN(Kn)||isNaN(di)||isNaN(mi)||!Rs(Ti))throw new Error("Invalid arguments passed to jsPDF.line");return Ge===nn.COMPAT?this.lines([[di-Fn,mi-Kn]],Fn,Kn,[1,1],Ti||"S"):this.lines([[di-Fn,mi-Kn]],Fn,Kn,[1,1]).stroke()},t.__private__.lines=t.lines=function(Fn,Kn,di,mi,Ti,zi){var tr,Sr,zr,aa,ia,ua,ja,za,Va,hs,rs,wo;if(typeof Fn=="number"&&(wo=di,di=Kn,Kn=Fn,Fn=wo),mi=mi||[1,1],zi=zi||!1,isNaN(Kn)||isNaN(di)||!Array.isArray(Fn)||!Array.isArray(mi)||!Rs(Ti)||typeof zi!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Pn(Kn,di),tr=mi[0],Sr=mi[1],aa=Fn.length,hs=Kn,rs=di,zr=0;zr<aa;zr++)(ia=Fn[zr]).length===2?(hs=ia[0]*tr+hs,rs=ia[1]*Sr+rs,gi(hs,rs)):(ua=ia[0]*tr+hs,ja=ia[1]*Sr+rs,za=ia[2]*tr+hs,Va=ia[3]*Sr+rs,hs=ia[4]*tr+hs,rs=ia[5]*Sr+rs,_i(ua,ja,za,Va,hs,rs));return zi&&ro(),Fo(Ti),this},t.path=function(Fn){for(var Kn=0;Kn<Fn.length;Kn++){var di=Fn[Kn],mi=di.c;switch(di.op){case"m":Pn(mi[0],mi[1]);break;case"l":gi(mi[0],mi[1]);break;case"c":_i.apply(this,mi);break;case"h":ro()}}return this},t.__private__.rect=t.rect=function(Fn,Kn,di,mi,Ti){if(isNaN(Fn)||isNaN(Kn)||isNaN(di)||isNaN(mi)||!Rs(Ti))throw new Error("Invalid arguments passed to jsPDF.rect");return Ge===nn.COMPAT&&(mi=-mi),Cn([rn(pn(Fn)),rn(fn(Kn)),rn(pn(di)),rn(pn(mi)),"re"].join(" ")),Fo(Ti),this},t.__private__.triangle=t.triangle=function(Fn,Kn,di,mi,Ti,zi,tr){if(isNaN(Fn)||isNaN(Kn)||isNaN(di)||isNaN(mi)||isNaN(Ti)||isNaN(zi)||!Rs(tr))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[di-Fn,mi-Kn],[Ti-di,zi-mi],[Fn-Ti,Kn-zi]],Fn,Kn,[1,1],tr,!0),this},t.__private__.roundedRect=t.roundedRect=function(Fn,Kn,di,mi,Ti,zi,tr){if(isNaN(Fn)||isNaN(Kn)||isNaN(di)||isNaN(mi)||isNaN(Ti)||isNaN(zi)||!Rs(tr))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Sr=4/3*(Math.SQRT2-1);return Ti=Math.min(Ti,.5*di),zi=Math.min(zi,.5*mi),this.lines([[di-2*Ti,0],[Ti*Sr,0,Ti,zi-zi*Sr,Ti,zi],[0,mi-2*zi],[0,zi*Sr,-Ti*Sr,zi,-Ti,zi],[2*Ti-di,0],[-Ti*Sr,0,-Ti,-zi*Sr,-Ti,-zi],[0,2*zi-mi],[0,-zi*Sr,Ti*Sr,-zi,Ti,-zi]],Fn+Ti,Kn,[1,1],tr,!0),this},t.__private__.ellipse=t.ellipse=function(Fn,Kn,di,mi,Ti){if(isNaN(Fn)||isNaN(Kn)||isNaN(di)||isNaN(mi)||!Rs(Ti))throw new Error("Invalid arguments passed to jsPDF.ellipse");var zi=4/3*(Math.SQRT2-1)*di,tr=4/3*(Math.SQRT2-1)*mi;return Pn(Fn+di,Kn),_i(Fn+di,Kn-tr,Fn+zi,Kn-mi,Fn,Kn-mi),_i(Fn-zi,Kn-mi,Fn-di,Kn-tr,Fn-di,Kn),_i(Fn-di,Kn+tr,Fn-zi,Kn+mi,Fn,Kn+mi),_i(Fn+zi,Kn+mi,Fn+di,Kn+tr,Fn+di,Kn),Fo(Ti),this},t.__private__.circle=t.circle=function(Fn,Kn,di,mi){if(isNaN(Fn)||isNaN(Kn)||isNaN(di)||!Rs(mi))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(Fn,Kn,di,di,mi)},t.setFont=function(Fn,Kn,di){return di&&(Kn=St(Kn,di)),Xn=_o(Fn,Kn,{disableWarning:!1}),this};var Hi=t.__private__.getFont=t.getFont=function(){return Yn[_o.apply(t,arguments)]};t.__private__.getFontList=t.getFontList=function(){var Fn,Kn,di={};for(Fn in Qn)if(Qn.hasOwnProperty(Fn))for(Kn in di[Fn]=[],Qn[Fn])Qn[Fn].hasOwnProperty(Kn)&&di[Fn].push(Kn);return di},t.addFont=function(Fn,Kn,di,mi,Ti){var zi=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&zi.indexOf(arguments[3])!==-1?Ti=arguments[3]:arguments[3]&&zi.indexOf(arguments[3])==-1&&(di=St(di,mi)),Ti=Ti||"Identity-H",Tr.call(this,Fn,Kn,di,Ti)};var pr,gr=Ae.lineWidth||.200025,vr=t.__private__.getLineWidth=t.getLineWidth=function(){return gr},jr=t.__private__.setLineWidth=t.setLineWidth=function(Fn){return gr=Fn,Cn(rn(pn(Fn))+" w"),this};t.__private__.setLineDash=E.API.setLineDash=E.API.setLineDashPattern=function(Fn,Kn){if(Fn=Fn||[],Kn=Kn||0,isNaN(Kn)||!Array.isArray(Fn))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return Fn=Fn.map(function(di){return rn(pn(di))}).join(" "),Kn=rn(pn(Kn)),Cn("["+Fn+"] "+Kn+" d"),this};var Qr=t.__private__.getLineHeight=t.getLineHeight=function(){return kn*pr};t.__private__.getLineHeight=t.getLineHeight=function(){return kn*pr};var fa=t.__private__.setLineHeightFactor=t.setLineHeightFactor=function(Fn){return typeof(Fn=Fn||1.15)=="number"&&(pr=Fn),this},ra=t.__private__.getLineHeightFactor=t.getLineHeightFactor=function(){return pr};fa(Ae.lineHeight);var la=t.__private__.getHorizontalCoordinate=function(Fn){return pn(Fn)},oa=t.__private__.getVerticalCoordinate=function(Fn){return Ge===nn.ADVANCED?Fn:Ei[on].mediaBox.topRightY-Ei[on].mediaBox.bottomLeftY-pn(Fn)},Kr=t.__private__.getHorizontalCoordinateString=t.getHorizontalCoordinateString=function(Fn){return rn(la(Fn))},xa=t.__private__.getVerticalCoordinateString=t.getVerticalCoordinateString=function(Fn){return rn(oa(Fn))},Lr=Ae.strokeColor||"0 G";t.__private__.getStrokeColor=t.getDrawColor=function(){return Zi(Lr)},t.__private__.setStrokeColor=t.setDrawColor=function(Fn,Kn,di,mi){return Lr=Ar({ch1:Fn,ch2:Kn,ch3:di,ch4:mi,pdfColorType:"draw",precision:2}),Cn(Lr),this};var na=Ae.fillColor||"0 g";t.__private__.getFillColor=t.getFillColor=function(){return Zi(na)},t.__private__.setFillColor=t.setFillColor=function(Fn,Kn,di,mi){return na=Ar({ch1:Fn,ch2:Kn,ch3:di,ch4:mi,pdfColorType:"fill",precision:2}),Cn(na),this};var pa=Ae.textColor||"0 g",Vr=t.__private__.getTextColor=t.getTextColor=function(){return Zi(pa)};t.__private__.setTextColor=t.setTextColor=function(Fn,Kn,di,mi){return pa=Ar({ch1:Fn,ch2:Kn,ch3:di,ch4:mi,pdfColorType:"text",precision:3}),this};var ss=Ae.charSpace,is=t.__private__.getCharSpace=t.getCharSpace=function(){return parseFloat(ss||0)};t.__private__.setCharSpace=t.setCharSpace=function(Fn){if(isNaN(Fn))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ss=Fn,this};var Ba=0;t.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},t.__private__.setLineCap=t.setLineCap=function(Fn){var Kn=t.CapJoinStyles[Fn];if(Kn===void 0)throw new Error("Line cap style of '"+Fn+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ba=Kn,Cn(Kn+" J"),this};var qs=0;t.__private__.setLineJoin=t.setLineJoin=function(Fn){var Kn=t.CapJoinStyles[Fn];if(Kn===void 0)throw new Error("Line join style of '"+Fn+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return qs=Kn,Cn(Kn+" j"),this},t.__private__.setLineMiterLimit=t.__private__.setMiterLimit=t.setLineMiterLimit=t.setMiterLimit=function(Fn){if(Fn=Fn||0,isNaN(Fn))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Cn(rn(pn(Fn))+" M"),this},t.GState=j,t.setGState=function(Fn){(Fn=typeof Fn=="string"?hi[si[Fn]]:Ws(null,Fn)).equals(ai)||(Cn("/"+Fn.id+" gs"),ai=Fn)};var Ws=function(Fn,Kn){if(!Fn||!si[Fn]){var di=!1;for(var mi in hi)if(hi.hasOwnProperty(mi)&&hi[mi].equals(Kn)){di=!0;break}if(di)Kn=hi[mi];else{var Ti="GS"+(Object.keys(hi).length+1).toString(10);hi[Ti]=Kn,Kn.id=Ti}return Fn&&(si[Fn]=Kn.id),$i.publish("addGState",Kn),Kn}};t.addGState=function(Fn,Kn){return Ws(Fn,Kn),this},t.saveGraphicsState=function(){return Cn("q"),ci.push({key:Xn,size:kn,color:pa}),this},t.restoreGraphicsState=function(){Cn("Q");var Fn=ci.pop();return Xn=Fn.key,kn=Fn.size,pa=Fn.color,ai=null,this},t.setCurrentTransformationMatrix=function(Fn){return Cn(Fn.toString()+" cm"),this},t.comment=function(Fn){return Cn("#"+Fn),this};var ao=function(Fn,Kn){var di=Fn||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return di},set:function(zi){isNaN(zi)||(di=parseFloat(zi))}});var mi=Kn||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return mi},set:function(zi){isNaN(zi)||(mi=parseFloat(zi))}});var Ti="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ti},set:function(zi){Ti=zi.toString()}}),this},Xs=function(Fn,Kn,di,mi){ao.call(this,Fn,Kn),this.type="rect";var Ti=di||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ti},set:function(tr){isNaN(tr)||(Ti=parseFloat(tr))}});var zi=mi||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return zi},set:function(tr){isNaN(tr)||(zi=parseFloat(tr))}}),this},ql=function(){this.page=li,this.currentPage=on,this.pages=Sn.slice(0),this.pagesContext=Ei.slice(0),this.x=ri,this.y=ui,this.matrix=ti,this.width=qo(on),this.height=hl(on),this.outputDestination=wn,this.id="",this.objectNumber=-1};ql.prototype.restore=function(){li=this.page,on=this.currentPage,Ei=this.pagesContext,Sn=this.pages,ri=this.x,ui=this.y,ti=this.matrix,Cc(on,this.width),kc(on,this.height),wn=this.outputDestination};var Xc=function(Fn,Kn,di,mi,Ti){Ii.push(new ql),li=on=0,Sn=[],ri=Fn,ui=Kn,ti=Ti,ys([di,mi])},p0=function(Fn){if(ar[Fn])Ii.pop().restore();else{var Kn=new ql,di="Xo"+(Object.keys(fr).length+1).toString(10);Kn.id=di,ar[Fn]=di,fr[di]=Kn,$i.publish("addFormObject",Kn),Ii.pop().restore()}};for(var Wl in t.beginFormObject=function(Fn,Kn,di,mi,Ti){return Xc(Fn,Kn,di,mi,Ti),this},t.endFormObject=function(Fn){return p0(Fn),this},t.doFormObject=function(Fn,Kn){var di=fr[ar[Fn]];return Cn("q"),Cn(Kn.toString()+" cm"),Cn("/"+di.id+" Do"),Cn("Q"),this},t.getFormObject=function(Fn){var Kn=fr[ar[Fn]];return{x:Kn.x,y:Kn.y,width:Kn.width,height:Kn.height,matrix:Kn.matrix}},t.save=function(Fn,Kn){return Fn=Fn||"generated.pdf",(Kn=Kn||{}).returnPromise=Kn.returnPromise||!1,Kn.returnPromise===!1?(l(xo(Ps()),Fn),typeof l.unload=="function"&&n.setTimeout&&setTimeout(l.unload,911),this):new Promise(function(di,mi){try{var Ti=l(xo(Ps()),Fn);typeof l.unload=="function"&&n.setTimeout&&setTimeout(l.unload,911),di(Ti)}catch(zi){mi(zi.message)}})},E.API)E.API.hasOwnProperty(Wl)&&(Wl==="events"&&E.API.events.length?function(Fn,Kn){var di,mi,Ti;for(Ti=Kn.length-1;Ti!==-1;Ti--)di=Kn[Ti][0],mi=Kn[Ti][1],Fn.subscribe.apply(Fn,[di].concat(typeof mi=="function"?[mi]:mi))}($i,E.API.events):t[Wl]=E.API[Wl]);var qo=t.getPageWidth=function(Fn){return(Ei[Fn=Fn||on].mediaBox.topRightX-Ei[Fn].mediaBox.bottomLeftX)/Gn},Cc=t.setPageWidth=function(Fn,Kn){Ei[Fn].mediaBox.topRightX=Kn*Gn+Ei[Fn].mediaBox.bottomLeftX},hl=t.getPageHeight=function(Fn){return(Ei[Fn=Fn||on].mediaBox.topRightY-Ei[Fn].mediaBox.bottomLeftY)/Gn},kc=t.setPageHeight=function(Fn,Kn){Ei[Fn].mediaBox.topRightY=Kn*Gn+Ei[Fn].mediaBox.bottomLeftY};return t.internal={pdfEscape:Sa,getStyle:yo,getFont:Hi,getFontSize:On,getCharSpace:is,getTextColor:Vr,getLineHeight:Qr,getLineHeightFactor:ra,getLineWidth:vr,write:In,getHorizontalCoordinate:la,getVerticalCoordinate:oa,getCoordinateString:Kr,getVerticalCoordinateString:xa,collections:{},newObject:Gi,newAdditionalObject:ha,newObjectDeferred:Yi,newObjectDeferredBegin:Nr,getFilters:Hr,putStream:Xr,events:$i,scaleFactor:Gn,pageSize:{getWidth:function(){return qo(on)},setWidth:function(Fn){Cc(on,Fn)},getHeight:function(){return hl(on)},setHeight:function(Fn){kc(on,Fn)}},encryptionOptions:Ie,encryption:Fa,getEncryptor:ws,output:io,getNumberOfPages:Cl,pages:Sn,out:Cn,f2:hn,f3:He,getPageInfo:vs,getPageInfoByObjId:Wr,getCurrentPageInfo:bo,getPDFVersion:Ye,Point:ao,Rectangle:Xs,Matrix:vi,hasHotfix:$s},Object.defineProperty(t.internal.pageSize,"width",{get:function(){return qo(on)},set:function(Fn){Cc(on,Fn)},enumerable:!0,configurable:!0}),Object.defineProperty(t.internal.pageSize,"height",{get:function(){return hl(on)},set:function(Fn){kc(on,Fn)},enumerable:!0,configurable:!0}),Rr.call(t,bn),Xn="F1",zo(Fe,Se),$i.publish("initialized"),t}I.prototype.lsbFirstWord=function(Ae){return String.fromCharCode(Ae>>0&255,Ae>>8&255,Ae>>16&255,Ae>>24&255)},I.prototype.toHexString=function(Ae){return Ae.split("").map(function(r){return("0"+(255&r.charCodeAt(0)).toString(16)).slice(-2)}).join("")},I.prototype.hexToBytes=function(Ae){for(var r=[],Se=0;Se<Ae.length;Se+=2)r.push(String.fromCharCode(parseInt(Ae.substr(Se,2),16)));return r.join("")},I.prototype.processOwnerPassword=function(Ae,r){return P(x(r).substr(0,5),Ae)},I.prototype.encryptor=function(Ae,r){var Se=x(this.encryptionKey+String.fromCharCode(255&Ae,Ae>>8&255,Ae>>16&255,255&r,r>>8&255)).substr(0,10);return function(Ee){return P(Se,Ee)}},j.prototype.equals=function(Ae){var r,Se="id,objectNumber,equals";if(!Ae||_typeof(Ae)!==_typeof(this))return!1;var Ee=0;for(r in this)if(!(Se.indexOf(r)>=0)){if(this.hasOwnProperty(r)&&!Ae.hasOwnProperty(r)||this[r]!==Ae[r])return!1;Ee++}for(r in Ae)Ae.hasOwnProperty(r)&&Se.indexOf(r)<0&&Ee--;return Ee===0},E.API={events:[]},E.version="3.0.1";var q=E.API,D=1,R=function(Ae){return Ae.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},T=function(Ae){return Ae.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},U=function(Ae){return Ae.toFixed(2)},z=function(Ae){return Ae.toFixed(5)};q.__acroform__={};var H=function(Ae,r){Ae.prototype=Object.create(r.prototype),Ae.prototype.constructor=Ae},W=function(Ae){return Ae*D},V=function(Ae){var r=new ut,Se=At.internal.getHeight(Ae)||0,Ee=At.internal.getWidth(Ae)||0;return r.BBox=[0,0,Number(U(Ee)),Number(U(Se))],r},G=q.__acroform__.setBit=function(Ae,r){if(Ae=Ae||0,r=r||0,isNaN(Ae)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return Ae|=1<<r},Y=q.__acroform__.clearBit=function(Ae,r){if(Ae=Ae||0,r=r||0,isNaN(Ae)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return Ae&=~(1<<r)},J=q.__acroform__.getBit=function(Ae,r){if(isNaN(Ae)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(Ae&1<<r)==0?0:1},X=q.__acroform__.getBitForPdf=function(Ae,r){if(isNaN(Ae)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return J(Ae,r-1)},K=q.__acroform__.setBitForPdf=function(Ae,r){if(isNaN(Ae)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return G(Ae,r-1)},Z=q.__acroform__.clearBitForPdf=function(Ae,r){if(isNaN(Ae)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Y(Ae,r-1)},$=q.__acroform__.calculateCoordinates=function(Ae,r){var Se=r.internal.getHorizontalCoordinate,Ee=r.internal.getVerticalCoordinate,Fe=Ae[0],Be=Ae[1],Ve=Ae[2],_e=Ae[3],ze={};return ze.lowerLeft_X=Se(Fe)||0,ze.lowerLeft_Y=Ee(Be+_e)||0,ze.upperRight_X=Se(Fe+Ve)||0,ze.upperRight_Y=Ee(Be)||0,[Number(U(ze.lowerLeft_X)),Number(U(ze.lowerLeft_Y)),Number(U(ze.upperRight_X)),Number(U(ze.upperRight_Y))]},Q=function(Ae){if(Ae.appearanceStreamContent)return Ae.appearanceStreamContent;if(Ae.V||Ae.DV){var r=[],Se=Ae._V||Ae.DV,Ee=tt(Ae,Se),Fe=Ae.scope.internal.getFont(Ae.fontName,Ae.fontStyle).id;r.push("/Tx BMC"),r.push("q"),r.push("BT"),r.push(Ae.scope.__private__.encodeColorString(Ae.color)),r.push("/"+Fe+" "+U(Ee.fontSize)+" Tf"),r.push("1 0 0 1 0 0 Tm"),r.push(Ee.text),r.push("ET"),r.push("Q"),r.push("EMC");var Be=V(Ae);return Be.scope=Ae.scope,Be.stream=r.join(`
`),Be}},tt=function(Ae,r){var Se=Ae.fontSize===0?Ae.maxFontSize:Ae.fontSize,Ee={text:"",fontSize:""},Fe=(r=(r=r.substr(0,1)=="("?r.substr(1):r).substr(r.length-1)==")"?r.substr(0,r.length-1):r).split(" ");Fe=Ae.multiline?Fe.map(function(He){return He.split(`
`)}):Fe.map(function(He){return[He]});var Be=Se,Ve=At.internal.getHeight(Ae)||0;Ve=Ve<0?-Ve:Ve;var _e=At.internal.getWidth(Ae)||0;_e=_e<0?-_e:_e;var ze=function(He,pn,Xe){if(He+1<Fe.length){var fn=pn+" "+Fe[He+1][0];return et(fn,Ae,Xe).width<=_e-4}return!1};Be++;e:for(;Be>0;){r="",Be--;var xe,Ie,Re=et("3",Ae,Be).height,e=Ae.multiline?Ve-Be:(Ve-Re)/2,t=e+=2,Te=0,Ye=0,en=0;if(Be<=0){r=`(...) Tj
`,r+="% Width of Text: "+et(r,Ae,Be=12).width+", FieldWidth:"+_e+`
`;break}for(var je="",nn=0,Ge=0;Ge<Fe.length;Ge++)if(Fe.hasOwnProperty(Ge)){var Oe=!1;if(Fe[Ge].length!==1&&en!==Fe[Ge].length-1){if((Re+2)*(nn+2)+2>Ve)continue e;je+=Fe[Ge][en],Oe=!0,Ye=Ge,Ge--}else{je=(je+=Fe[Ge][en]+" ").substr(je.length-1)==" "?je.substr(0,je.length-1):je;var Ce=parseInt(Ge),St=ze(Ce,je,Be),rn=Ge>=Fe.length-1;if(St&&!rn){je+=" ",en=0;continue}if(St||rn){if(rn)Ye=Ce;else if(Ae.multiline&&(Re+2)*(nn+2)+2>Ve)continue e}else{if(!Ae.multiline||(Re+2)*(nn+2)+2>Ve)continue e;Ye=Ce}}for(var un="",Qe=Te;Qe<=Ye;Qe++){var hn=Fe[Qe];if(Ae.multiline){if(Qe===Ye){un+=hn[en]+" ",en=(en+1)%hn.length;continue}if(Qe===Te){un+=hn[hn.length-1]+" ";continue}}un+=hn[0]+" "}switch(un=un.substr(un.length-1)==" "?un.substr(0,un.length-1):un,Ie=et(un,Ae,Be).width,Ae.textAlign){case"right":xe=_e-Ie-2;break;case"center":xe=(_e-Ie)/2;break;case"left":default:xe=2}r+=U(xe)+" "+U(t)+` Td
`,r+="("+R(un)+`) Tj
`,r+=-U(xe)+` 0 Td
`,t=-(Be+2),Ie=0,Te=Oe?Ye:Ye+1,nn++,je=""}break}return Ee.text=r,Ee.fontSize=Be,Ee},et=function(Ae,r,Se){var Ee=r.scope.internal.getFont(r.fontName,r.fontStyle),Fe=r.scope.getStringUnitWidth(Ae,{font:Ee,fontSize:parseFloat(Se),charSpace:0})*parseFloat(Se);return{height:r.scope.getStringUnitWidth("3",{font:Ee,fontSize:parseFloat(Se),charSpace:0})*parseFloat(Se)*1.5,width:Fe}},rt={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},nt=function(Ae,r){var Se={type:"reference",object:Ae};r.internal.getPageInfo(Ae.page).pageContext.annotations.find(function(Ee){return Ee.type===Se.type&&Ee.object===Se.object})===void 0&&r.internal.getPageInfo(Ae.page).pageContext.annotations.push(Se)},it=function(Ae,r){for(var Se in Ae)if(Ae.hasOwnProperty(Se)){var Ee=Se,Fe=Ae[Se];r.internal.newObjectDeferredBegin(Fe.objId,!0),_typeof(Fe)==="object"&&typeof Fe.putStream=="function"&&Fe.putStream(),delete Ae[Ee]}},at=function(Ae,r){if(r.scope=Ae,Ae.internal!==void 0&&(Ae.internal.acroformPlugin===void 0||Ae.internal.acroformPlugin.isInitialized===!1)){if(lt.FieldNum=0,Ae.internal.acroformPlugin=JSON.parse(JSON.stringify(rt)),Ae.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");D=Ae.internal.scaleFactor,Ae.internal.acroformPlugin.acroFormDictionaryRoot=new ht,Ae.internal.acroformPlugin.acroFormDictionaryRoot.scope=Ae,Ae.internal.acroformPlugin.acroFormDictionaryRoot._eventID=Ae.internal.events.subscribe("postPutResources",function(){(function(Se){Se.internal.events.unsubscribe(Se.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete Se.internal.acroformPlugin.acroFormDictionaryRoot._eventID,Se.internal.acroformPlugin.printedOut=!0})(Ae)}),Ae.internal.events.subscribe("buildDocument",function(){(function(Se){Se.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var Ee=Se.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var Fe in Ee)if(Ee.hasOwnProperty(Fe)){var Be=Ee[Fe];Be.objId=void 0,Be.hasAnnotation&&nt(Be,Se)}})(Ae)}),Ae.internal.events.subscribe("putCatalog",function(){(function(Se){if(Se.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");Se.internal.write("/AcroForm "+Se.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(Ae)}),Ae.internal.events.subscribe("postPutPages",function(Se){(function(Ee,Fe){var Be=!Ee;for(var Ve in Ee||(Fe.internal.newObjectDeferredBegin(Fe.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),Fe.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),Ee=Ee||Fe.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(Ee.hasOwnProperty(Ve)){var _e=Ee[Ve],ze=[],xe=_e.Rect;if(_e.Rect&&(_e.Rect=$(_e.Rect,Fe)),Fe.internal.newObjectDeferredBegin(_e.objId,!0),_e.DA=At.createDefaultAppearanceStream(_e),_typeof(_e)==="object"&&typeof _e.getKeyValueListForStream=="function"&&(ze=_e.getKeyValueListForStream()),_e.Rect=xe,_e.hasAppearanceStream&&!_e.appearanceStreamContent){var Ie=Q(_e);ze.push({key:"AP",value:"<</N "+Ie+">>"}),Fe.internal.acroformPlugin.xForms.push(Ie)}if(_e.appearanceStreamContent){var Re="";for(var e in _e.appearanceStreamContent)if(_e.appearanceStreamContent.hasOwnProperty(e)){var t=_e.appearanceStreamContent[e];if(Re+="/"+e+" ",Re+="<<",Object.keys(t).length>=1||Array.isArray(t)){for(var Ve in t)if(t.hasOwnProperty(Ve)){var Te=t[Ve];typeof Te=="function"&&(Te=Te.call(Fe,_e)),Re+="/"+Ve+" "+Te+" ",Fe.internal.acroformPlugin.xForms.indexOf(Te)>=0||Fe.internal.acroformPlugin.xForms.push(Te)}}else typeof(Te=t)=="function"&&(Te=Te.call(Fe,_e)),Re+="/"+Ve+" "+Te,Fe.internal.acroformPlugin.xForms.indexOf(Te)>=0||Fe.internal.acroformPlugin.xForms.push(Te);Re+=">>"}ze.push({key:"AP",value:`<<
`+Re+">>"})}Fe.internal.putStream({additionalKeyValues:ze,objectId:_e.objId}),Fe.internal.out("endobj")}Be&&it(Fe.internal.acroformPlugin.xForms,Fe)})(Se,Ae)}),Ae.internal.acroformPlugin.isInitialized=!0}},ot=q.__acroform__.arrayToPdfArray=function(Ae,r,Se){var Ee=function(Ve){return Ve};if(Array.isArray(Ae)){for(var Fe="[",Be=0;Be<Ae.length;Be++)switch(Be!==0&&(Fe+=" "),_typeof(Ae[Be])){case"boolean":case"number":case"object":Fe+=Ae[Be].toString();break;case"string":Ae[Be].substr(0,1)!=="/"?(r!==void 0&&Se&&(Ee=Se.internal.getEncryptor(r)),Fe+="("+R(Ee(Ae[Be].toString()))+")"):Fe+=Ae[Be].toString()}return Fe+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},st=function(Ae,r,Se){var Ee=function(Fe){return Fe};return r!==void 0&&Se&&(Ee=Se.internal.getEncryptor(r)),(Ae=Ae||"").toString(),Ae="("+R(Ee(Ae))+")"},ct=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(Ae){this._objId=Ae}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ct.prototype.toString=function(){return this.objId+" 0 R"},ct.prototype.putStream=function(){var Ae=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:Ae,objectId:this.objId}),this.scope.internal.out("endobj")},ct.prototype.getKeyValueListForStream=function(){var Ae=[],r=Object.getOwnPropertyNames(this).filter(function(Be){return Be!="content"&&Be!="appearanceStreamContent"&&Be!="scope"&&Be!="objId"&&Be.substring(0,1)!="_"});for(var Se in r)if(Object.getOwnPropertyDescriptor(this,r[Se]).configurable===!1){var Ee=r[Se],Fe=this[Ee];Fe&&(Array.isArray(Fe)?Ae.push({key:Ee,value:ot(Fe,this.objId,this.scope)}):Fe instanceof ct?(Fe.scope=this.scope,Ae.push({key:Ee,value:Fe.objId+" 0 R"})):typeof Fe!="function"&&Ae.push({key:Ee,value:Fe}))}return Ae};var ut=function(){ct.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var Ae,r=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return r},set:function(Se){r=Se}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(Se){Ae=Se.trim()},get:function(){return Ae||null}})};H(ut,ct);var ht=function(){ct.call(this);var Ae,r=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return r.length>0?r:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return r}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(Ae){var Se=function(Ee){return Ee};return this.scope&&(Se=this.scope.internal.getEncryptor(this.objId)),"("+R(Se(Ae))+")"}},set:function(Se){Ae=Se}})};H(ht,ct);var lt=function Ae(){ct.call(this);var r=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return r},set:function(je){if(isNaN(je))throw new Error('Invalid value "'+je+'" for attribute F supplied.');r=je}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!X(r,3)},set:function(je){je?this.F=K(r,3):this.F=Z(r,3)}});var Se=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return Se},set:function(je){if(isNaN(je))throw new Error('Invalid value "'+je+'" for attribute Ff supplied.');Se=je}});var Ee=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(Ee.length!==0)return Ee},set:function(je){Ee=je!==void 0?je:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!Ee||isNaN(Ee[0])?0:Ee[0]},set:function(je){Ee[0]=je}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!Ee||isNaN(Ee[1])?0:Ee[1]},set:function(je){Ee[1]=je}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!Ee||isNaN(Ee[2])?0:Ee[2]},set:function(je){Ee[2]=je}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!Ee||isNaN(Ee[3])?0:Ee[3]},set:function(je){Ee[3]=je}});var Fe="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return Fe},set:function(je){switch(je){case"/Btn":case"/Tx":case"/Ch":case"/Sig":Fe=je;break;default:throw new Error('Invalid value "'+je+'" for attribute FT supplied.')}}});var Be=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!Be||Be.length<1){if(this instanceof yt)return;Be="FieldObject"+Ae.FieldNum++}var je=function(nn){return nn};return this.scope&&(je=this.scope.internal.getEncryptor(this.objId)),"("+R(je(Be))+")"},set:function(je){Be=je.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return Be},set:function(je){Be=je}});var Ve="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return Ve},set:function(je){Ve=je}});var _e="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return _e},set:function(je){_e=je}});var ze=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return ze},set:function(je){ze=je}});var xe=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return xe===void 0?50/D:xe},set:function(je){xe=je}});var Ie="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return Ie},set:function(je){Ie=je}});var Re="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!Re||this instanceof yt||this instanceof Nt))return st(Re,this.objId,this.scope)},set:function(je){je=je.toString(),Re=je}});var e=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(e)return this instanceof mt?e:st(e,this.objId,this.scope)},set:function(je){je=je.toString(),e=this instanceof mt?je:je.substr(0,1)==="("?T(je.substr(1,je.length-2)):T(je)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof mt?T(e.substr(1,e.length-1)):e},set:function(je){je=je.toString(),e=this instanceof mt?"/"+je:je}});var t=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(t)return t},set:function(je){this.V=je}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(t)return this instanceof mt?t:st(t,this.objId,this.scope)},set:function(je){je=je.toString(),t=this instanceof mt?je:je.substr(0,1)==="("?T(je.substr(1,je.length-2)):T(je)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof mt?T(t.substr(1,t.length-1)):t},set:function(je){je=je.toString(),t=this instanceof mt?"/"+je:je}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var Te,Ye=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return Ye},set:function(je){je=!!je,Ye=je}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(Te)return Te},set:function(je){Te=je}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,1)},set:function(je){je?this.Ff=K(this.Ff,1):this.Ff=Z(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,2)},set:function(je){je?this.Ff=K(this.Ff,2):this.Ff=Z(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,3)},set:function(je){je?this.Ff=K(this.Ff,3):this.Ff=Z(this.Ff,3)}});var en=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(en!==null)return en},set:function(je){if([0,1,2].indexOf(je)===-1)throw new Error('Invalid value "'+je+'" for attribute Q supplied.');en=je}}),Object.defineProperty(this,"textAlign",{get:function(){var je;switch(en){case 0:default:je="left";break;case 1:je="center";break;case 2:je="right"}return je},configurable:!0,enumerable:!0,set:function(je){switch(je){case"right":case 2:en=2;break;case"center":case 1:en=1;break;case"left":case 0:default:en=0}}})};H(lt,ct);var ft=function(){lt.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var Ae=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return Ae},set:function(Se){Ae=Se}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return Ae},set:function(Se){Ae=Se}});var r=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return ot(r,this.objId,this.scope)},set:function(Se){var Ee,Fe;Fe=[],typeof(Ee=Se)=="string"&&(Fe=function(Be,Ve,_e){_e||(_e=1);for(var ze,xe=[];ze=Ve.exec(Be);)xe.push(ze[_e]);return xe}(Ee,/\((.*?)\)/g)),r=Fe}}),this.getOptions=function(){return r},this.setOptions=function(Se){r=Se,this.sort&&r.sort()},this.addOption=function(Se){Se=(Se=Se||"").toString(),r.push(Se),this.sort&&r.sort()},this.removeOption=function(Se,Ee){for(Ee=Ee||!1,Se=(Se=Se||"").toString();r.indexOf(Se)!==-1&&(r.splice(r.indexOf(Se),1),Ee!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,18)},set:function(Se){Se?this.Ff=K(this.Ff,18):this.Ff=Z(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,19)},set:function(Se){this.combo===!0&&(Se?this.Ff=K(this.Ff,19):this.Ff=Z(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,20)},set:function(Se){Se?(this.Ff=K(this.Ff,20),r.sort()):this.Ff=Z(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,22)},set:function(Se){Se?this.Ff=K(this.Ff,22):this.Ff=Z(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,23)},set:function(Se){Se?this.Ff=K(this.Ff,23):this.Ff=Z(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,27)},set:function(Se){Se?this.Ff=K(this.Ff,27):this.Ff=Z(this.Ff,27)}}),this.hasAppearanceStream=!1};H(ft,lt);var dt=function(){ft.call(this),this.fontName="helvetica",this.combo=!1};H(dt,ft);var pt=function(){dt.call(this),this.combo=!0};H(pt,dt);var gt=function(){pt.call(this),this.edit=!0};H(gt,pt);var mt=function(){lt.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,15)},set:function(Se){Se?this.Ff=K(this.Ff,15):this.Ff=Z(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,16)},set:function(Se){Se?this.Ff=K(this.Ff,16):this.Ff=Z(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,17)},set:function(Se){Se?this.Ff=K(this.Ff,17):this.Ff=Z(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,26)},set:function(Se){Se?this.Ff=K(this.Ff,26):this.Ff=Z(this.Ff,26)}});var Ae,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var Se=function(Be){return Be};if(this.scope&&(Se=this.scope.internal.getEncryptor(this.objId)),Object.keys(r).length!==0){var Ee,Fe=[];for(Ee in Fe.push("<<"),r)Fe.push("/"+Ee+" ("+R(Se(r[Ee]))+")");return Fe.push(">>"),Fe.join(`
`)}},set:function(Se){_typeof(Se)==="object"&&(r=Se)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(Se){typeof Se=="string"&&(r.CA=Se)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return Ae},set:function(Se){Ae=Se}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return Ae.substr(1,Ae.length-1)},set:function(Se){Ae="/"+Se}})};H(mt,lt);var vt=function(){mt.call(this),this.pushButton=!0};H(vt,mt);var bt=function(){mt.call(this),this.radio=!0,this.pushButton=!1;var Ae=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return Ae},set:function(r){Ae=r!==void 0?r:[]}})};H(bt,mt);var yt=function(){var Ae,r;lt.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return Ae},set:function(Fe){Ae=Fe}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return r},set:function(Fe){r=Fe}});var Se,Ee={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var Fe=function(_e){return _e};this.scope&&(Fe=this.scope.internal.getEncryptor(this.objId));var Be,Ve=[];for(Be in Ve.push("<<"),Ee)Ve.push("/"+Be+" ("+R(Fe(Ee[Be]))+")");return Ve.push(">>"),Ve.join(`
`)},set:function(Fe){_typeof(Fe)==="object"&&(Ee=Fe)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return Ee.CA||""},set:function(Fe){typeof Fe=="string"&&(Ee.CA=Fe)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return Se},set:function(Fe){Se=Fe}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return Se.substr(1,Se.length-1)},set:function(Fe){Se="/"+Fe}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=At.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};H(yt,lt),bt.prototype.setAppearance=function(Ae){if(!("createAppearanceStream"in Ae)||!("getCA"in Ae))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var r in this.Kids)if(this.Kids.hasOwnProperty(r)){var Se=this.Kids[r];Se.appearanceStreamContent=Ae.createAppearanceStream(Se.optionName),Se.caption=Ae.getCA()}},bt.prototype.createOption=function(Ae){var r=new yt;return r.Parent=this,r.optionName=Ae,this.Kids.push(r),xt.call(this.scope,r),r};var wt=function(){mt.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=At.CheckBox.createAppearanceStream()};H(wt,mt);var Nt=function(){lt.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,13)},set:function(r){r?this.Ff=K(this.Ff,13):this.Ff=Z(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,21)},set:function(r){r?this.Ff=K(this.Ff,21):this.Ff=Z(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,23)},set:function(r){r?this.Ff=K(this.Ff,23):this.Ff=Z(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,24)},set:function(r){r?this.Ff=K(this.Ff,24):this.Ff=Z(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,25)},set:function(r){r?this.Ff=K(this.Ff,25):this.Ff=Z(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,26)},set:function(r){r?this.Ff=K(this.Ff,26):this.Ff=Z(this.Ff,26)}});var Ae=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return Ae},set:function(r){Ae=r}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return Ae},set:function(r){Number.isInteger(r)&&(Ae=r)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};H(Nt,lt);var Lt=function(){Nt.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,14)},set:function(Ae){Ae?this.Ff=K(this.Ff,14):this.Ff=Z(this.Ff,14)}}),this.password=!0};H(Lt,Nt);var At={CheckBox:{createAppearanceStream:function(){return{N:{On:At.CheckBox.YesNormal},D:{On:At.CheckBox.YesPushDown,Off:At.CheckBox.OffPushDown}}},YesPushDown:function(Ae){var r=V(Ae);r.scope=Ae.scope;var Se=[],Ee=Ae.scope.internal.getFont(Ae.fontName,Ae.fontStyle).id,Fe=Ae.scope.__private__.encodeColorString(Ae.color),Be=tt(Ae,Ae.caption);return Se.push("0.749023 g"),Se.push("0 0 "+U(At.internal.getWidth(Ae))+" "+U(At.internal.getHeight(Ae))+" re"),Se.push("f"),Se.push("BMC"),Se.push("q"),Se.push("0 0 1 rg"),Se.push("/"+Ee+" "+U(Be.fontSize)+" Tf "+Fe),Se.push("BT"),Se.push(Be.text),Se.push("ET"),Se.push("Q"),Se.push("EMC"),r.stream=Se.join(`
`),r},YesNormal:function(Ae){var r=V(Ae);r.scope=Ae.scope;var Se=Ae.scope.internal.getFont(Ae.fontName,Ae.fontStyle).id,Ee=Ae.scope.__private__.encodeColorString(Ae.color),Fe=[],Be=At.internal.getHeight(Ae),Ve=At.internal.getWidth(Ae),_e=tt(Ae,Ae.caption);return Fe.push("1 g"),Fe.push("0 0 "+U(Ve)+" "+U(Be)+" re"),Fe.push("f"),Fe.push("q"),Fe.push("0 0 1 rg"),Fe.push("0 0 "+U(Ve-1)+" "+U(Be-1)+" re"),Fe.push("W"),Fe.push("n"),Fe.push("0 g"),Fe.push("BT"),Fe.push("/"+Se+" "+U(_e.fontSize)+" Tf "+Ee),Fe.push(_e.text),Fe.push("ET"),Fe.push("Q"),r.stream=Fe.join(`
`),r},OffPushDown:function(Ae){var r=V(Ae);r.scope=Ae.scope;var Se=[];return Se.push("0.749023 g"),Se.push("0 0 "+U(At.internal.getWidth(Ae))+" "+U(At.internal.getHeight(Ae))+" re"),Se.push("f"),r.stream=Se.join(`
`),r}},RadioButton:{Circle:{createAppearanceStream:function(Ae){var r={D:{Off:At.RadioButton.Circle.OffPushDown},N:{}};return r.N[Ae]=At.RadioButton.Circle.YesNormal,r.D[Ae]=At.RadioButton.Circle.YesPushDown,r},getCA:function(){return"l"},YesNormal:function(Ae){var r=V(Ae);r.scope=Ae.scope;var Se=[],Ee=At.internal.getWidth(Ae)<=At.internal.getHeight(Ae)?At.internal.getWidth(Ae)/4:At.internal.getHeight(Ae)/4;Ee=Number((.9*Ee).toFixed(5));var Fe=At.internal.Bezier_C,Be=Number((Ee*Fe).toFixed(5));return Se.push("q"),Se.push("1 0 0 1 "+z(At.internal.getWidth(Ae)/2)+" "+z(At.internal.getHeight(Ae)/2)+" cm"),Se.push(Ee+" 0 m"),Se.push(Ee+" "+Be+" "+Be+" "+Ee+" 0 "+Ee+" c"),Se.push("-"+Be+" "+Ee+" -"+Ee+" "+Be+" -"+Ee+" 0 c"),Se.push("-"+Ee+" -"+Be+" -"+Be+" -"+Ee+" 0 -"+Ee+" c"),Se.push(Be+" -"+Ee+" "+Ee+" -"+Be+" "+Ee+" 0 c"),Se.push("f"),Se.push("Q"),r.stream=Se.join(`
`),r},YesPushDown:function(Ae){var r=V(Ae);r.scope=Ae.scope;var Se=[],Ee=At.internal.getWidth(Ae)<=At.internal.getHeight(Ae)?At.internal.getWidth(Ae)/4:At.internal.getHeight(Ae)/4;Ee=Number((.9*Ee).toFixed(5));var Fe=Number((2*Ee).toFixed(5)),Be=Number((Fe*At.internal.Bezier_C).toFixed(5)),Ve=Number((Ee*At.internal.Bezier_C).toFixed(5));return Se.push("0.749023 g"),Se.push("q"),Se.push("1 0 0 1 "+z(At.internal.getWidth(Ae)/2)+" "+z(At.internal.getHeight(Ae)/2)+" cm"),Se.push(Fe+" 0 m"),Se.push(Fe+" "+Be+" "+Be+" "+Fe+" 0 "+Fe+" c"),Se.push("-"+Be+" "+Fe+" -"+Fe+" "+Be+" -"+Fe+" 0 c"),Se.push("-"+Fe+" -"+Be+" -"+Be+" -"+Fe+" 0 -"+Fe+" c"),Se.push(Be+" -"+Fe+" "+Fe+" -"+Be+" "+Fe+" 0 c"),Se.push("f"),Se.push("Q"),Se.push("0 g"),Se.push("q"),Se.push("1 0 0 1 "+z(At.internal.getWidth(Ae)/2)+" "+z(At.internal.getHeight(Ae)/2)+" cm"),Se.push(Ee+" 0 m"),Se.push(Ee+" "+Ve+" "+Ve+" "+Ee+" 0 "+Ee+" c"),Se.push("-"+Ve+" "+Ee+" -"+Ee+" "+Ve+" -"+Ee+" 0 c"),Se.push("-"+Ee+" -"+Ve+" -"+Ve+" -"+Ee+" 0 -"+Ee+" c"),Se.push(Ve+" -"+Ee+" "+Ee+" -"+Ve+" "+Ee+" 0 c"),Se.push("f"),Se.push("Q"),r.stream=Se.join(`
`),r},OffPushDown:function(Ae){var r=V(Ae);r.scope=Ae.scope;var Se=[],Ee=At.internal.getWidth(Ae)<=At.internal.getHeight(Ae)?At.internal.getWidth(Ae)/4:At.internal.getHeight(Ae)/4;Ee=Number((.9*Ee).toFixed(5));var Fe=Number((2*Ee).toFixed(5)),Be=Number((Fe*At.internal.Bezier_C).toFixed(5));return Se.push("0.749023 g"),Se.push("q"),Se.push("1 0 0 1 "+z(At.internal.getWidth(Ae)/2)+" "+z(At.internal.getHeight(Ae)/2)+" cm"),Se.push(Fe+" 0 m"),Se.push(Fe+" "+Be+" "+Be+" "+Fe+" 0 "+Fe+" c"),Se.push("-"+Be+" "+Fe+" -"+Fe+" "+Be+" -"+Fe+" 0 c"),Se.push("-"+Fe+" -"+Be+" -"+Be+" -"+Fe+" 0 -"+Fe+" c"),Se.push(Be+" -"+Fe+" "+Fe+" -"+Be+" "+Fe+" 0 c"),Se.push("f"),Se.push("Q"),r.stream=Se.join(`
`),r}},Cross:{createAppearanceStream:function(Ae){var r={D:{Off:At.RadioButton.Cross.OffPushDown},N:{}};return r.N[Ae]=At.RadioButton.Cross.YesNormal,r.D[Ae]=At.RadioButton.Cross.YesPushDown,r},getCA:function(){return"8"},YesNormal:function(Ae){var r=V(Ae);r.scope=Ae.scope;var Se=[],Ee=At.internal.calculateCross(Ae);return Se.push("q"),Se.push("1 1 "+U(At.internal.getWidth(Ae)-2)+" "+U(At.internal.getHeight(Ae)-2)+" re"),Se.push("W"),Se.push("n"),Se.push(U(Ee.x1.x)+" "+U(Ee.x1.y)+" m"),Se.push(U(Ee.x2.x)+" "+U(Ee.x2.y)+" l"),Se.push(U(Ee.x4.x)+" "+U(Ee.x4.y)+" m"),Se.push(U(Ee.x3.x)+" "+U(Ee.x3.y)+" l"),Se.push("s"),Se.push("Q"),r.stream=Se.join(`
`),r},YesPushDown:function(Ae){var r=V(Ae);r.scope=Ae.scope;var Se=At.internal.calculateCross(Ae),Ee=[];return Ee.push("0.749023 g"),Ee.push("0 0 "+U(At.internal.getWidth(Ae))+" "+U(At.internal.getHeight(Ae))+" re"),Ee.push("f"),Ee.push("q"),Ee.push("1 1 "+U(At.internal.getWidth(Ae)-2)+" "+U(At.internal.getHeight(Ae)-2)+" re"),Ee.push("W"),Ee.push("n"),Ee.push(U(Se.x1.x)+" "+U(Se.x1.y)+" m"),Ee.push(U(Se.x2.x)+" "+U(Se.x2.y)+" l"),Ee.push(U(Se.x4.x)+" "+U(Se.x4.y)+" m"),Ee.push(U(Se.x3.x)+" "+U(Se.x3.y)+" l"),Ee.push("s"),Ee.push("Q"),r.stream=Ee.join(`
`),r},OffPushDown:function(Ae){var r=V(Ae);r.scope=Ae.scope;var Se=[];return Se.push("0.749023 g"),Se.push("0 0 "+U(At.internal.getWidth(Ae))+" "+U(At.internal.getHeight(Ae))+" re"),Se.push("f"),r.stream=Se.join(`
`),r}}},createDefaultAppearanceStream:function(Ae){var r=Ae.scope.internal.getFont(Ae.fontName,Ae.fontStyle).id,Se=Ae.scope.__private__.encodeColorString(Ae.color);return"/"+r+" "+Ae.fontSize+" Tf "+Se}};At.internal={Bezier_C:.551915024494,calculateCross:function(Ae){var r=At.internal.getWidth(Ae),Se=At.internal.getHeight(Ae),Ee=Math.min(r,Se);return{x1:{x:(r-Ee)/2,y:(Se-Ee)/2+Ee},x2:{x:(r-Ee)/2+Ee,y:(Se-Ee)/2},x3:{x:(r-Ee)/2,y:(Se-Ee)/2},x4:{x:(r-Ee)/2+Ee,y:(Se-Ee)/2+Ee}}}},At.internal.getWidth=function(Ae){var r=0;return _typeof(Ae)==="object"&&(r=W(Ae.Rect[2])),r},At.internal.getHeight=function(Ae){var r=0;return _typeof(Ae)==="object"&&(r=W(Ae.Rect[3])),r};var xt=q.addField=function(Ae){if(at(this,Ae),!(Ae instanceof lt))throw new Error("Invalid argument passed to jsPDF.addField.");var r;return(r=Ae).scope.internal.acroformPlugin.printedOut&&(r.scope.internal.acroformPlugin.printedOut=!1,r.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),r.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(r),Ae.page=Ae.scope.internal.getCurrentPageInfo().pageNumber,this};q.AcroFormChoiceField=ft,q.AcroFormListBox=dt,q.AcroFormComboBox=pt,q.AcroFormEditBox=gt,q.AcroFormButton=mt,q.AcroFormPushButton=vt,q.AcroFormRadioButton=bt,q.AcroFormCheckBox=wt,q.AcroFormTextField=Nt,q.AcroFormPasswordField=Lt,q.AcroFormAppearance=At,q.AcroForm={ChoiceField:ft,ListBox:dt,ComboBox:pt,EditBox:gt,Button:mt,PushButton:vt,RadioButton:bt,CheckBox:wt,TextField:Nt,PasswordField:Lt,Appearance:At},E.AcroForm={ChoiceField:ft,ListBox:dt,ComboBox:pt,EditBox:gt,Button:mt,PushButton:vt,RadioButton:bt,CheckBox:wt,TextField:Nt,PasswordField:Lt,Appearance:At};E.AcroForm;function _t(Ae){return Ae.reduce(function(r,Se,Ee){return r[Se]=Ee,r},{})}(function(Ae){Ae.__addimage__={};var r="UNKNOWN",Se={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},Ee=Ae.__addimage__.getImageFileTypeByImageData=function(He,pn){var Xe,fn,dn,qe,tn,Me=r;if((pn=pn||r)==="RGBA"||He.data!==void 0&&He.data instanceof Uint8ClampedArray&&"height"in He&&"width"in He)return"RGBA";if(St(He))for(tn in Se)for(dn=Se[tn],Xe=0;Xe<dn.length;Xe+=1){for(qe=!0,fn=0;fn<dn[Xe].length;fn+=1)if(dn[Xe][fn]!==void 0&&dn[Xe][fn]!==He[fn]){qe=!1;break}if(qe===!0){Me=tn;break}}else for(tn in Se)for(dn=Se[tn],Xe=0;Xe<dn.length;Xe+=1){for(qe=!0,fn=0;fn<dn[Xe].length;fn+=1)if(dn[Xe][fn]!==void 0&&dn[Xe][fn]!==He.charCodeAt(fn)){qe=!1;break}if(qe===!0){Me=tn;break}}return Me===r&&pn!==r&&(Me=pn),Me},Fe=function He(pn){for(var Xe=this.internal.write,fn=this.internal.putStream,dn=(0,this.internal.getFilters)();dn.indexOf("FlateEncode")!==-1;)dn.splice(dn.indexOf("FlateEncode"),1);pn.objectId=this.internal.newObject();var qe=[];if(qe.push({key:"Type",value:"/XObject"}),qe.push({key:"Subtype",value:"/Image"}),qe.push({key:"Width",value:pn.width}),qe.push({key:"Height",value:pn.height}),pn.colorSpace===en.INDEXED?qe.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(pn.palette.length/3-1)+" "+("sMask"in pn&&pn.sMask!==void 0?pn.objectId+2:pn.objectId+1)+" 0 R]"}):(qe.push({key:"ColorSpace",value:"/"+pn.colorSpace}),pn.colorSpace===en.DEVICE_CMYK&&qe.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),qe.push({key:"BitsPerComponent",value:pn.bitsPerComponent}),"decodeParameters"in pn&&pn.decodeParameters!==void 0&&qe.push({key:"DecodeParms",value:"<<"+pn.decodeParameters+">>"}),"transparency"in pn&&Array.isArray(pn.transparency)){for(var tn="",Me=0,De=pn.transparency.length;Me<De;Me++)tn+=pn.transparency[Me]+" "+pn.transparency[Me]+" ";qe.push({key:"Mask",value:"["+tn+"]"})}pn.sMask!==void 0&&qe.push({key:"SMask",value:pn.objectId+1+" 0 R"});var Ue=pn.filter!==void 0?["/"+pn.filter]:void 0;if(fn({data:pn.data,additionalKeyValues:qe,alreadyAppliedFilters:Ue,objectId:pn.objectId}),Xe("endobj"),"sMask"in pn&&pn.sMask!==void 0){var We="/Predictor "+pn.predictor+" /Colors 1 /BitsPerComponent "+pn.bitsPerComponent+" /Columns "+pn.width,$e={width:pn.width,height:pn.height,colorSpace:"DeviceGray",bitsPerComponent:pn.bitsPerComponent,decodeParameters:We,data:pn.sMask};"filter"in pn&&($e.filter=pn.filter),He.call(this,$e)}if(pn.colorSpace===en.INDEXED){var on=this.internal.newObject();fn({data:un(new Uint8Array(pn.palette)),objectId:on}),Xe("endobj")}},Be=function(){var He=this.internal.collections.addImage_images;for(var pn in He)Fe.call(this,He[pn])},Ve=function(){var He,pn=this.internal.collections.addImage_images,Xe=this.internal.write;for(var fn in pn)Xe("/I"+(He=pn[fn]).index,He.objectId,"0","R")},_e=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",Be),this.internal.events.subscribe("putXobjectDict",Ve))},ze=function(){var He=this.internal.collections.addImage_images;return _e.call(this),He},xe=function(){return Object.keys(this.internal.collections.addImage_images).length},Ie=function(He){return typeof Ae["process"+He.toUpperCase()]=="function"},Re=function(He){return _typeof(He)==="object"&&He.nodeType===1},e=function(He,pn){if(He.nodeName==="IMG"&&He.hasAttribute("src")){var Xe=""+He.getAttribute("src");if(Xe.indexOf("data:image/")===0)return u(unescape(Xe).split("base64,").pop());var fn=Ae.loadFile(Xe,!0);if(fn!==void 0)return fn}if(He.nodeName==="CANVAS"){if(He.width===0||He.height===0)throw new Error("Given canvas must have data. Canvas width: "+He.width+", height: "+He.height);var dn;switch(pn){case"PNG":dn="image/png";break;case"WEBP":dn="image/webp";break;case"JPEG":case"JPG":default:dn="image/jpeg"}return u(He.toDataURL(dn,1).split("base64,").pop())}},t=function(He){var pn=this.internal.collections.addImage_images;if(pn){for(var Xe in pn)if(He===pn[Xe].alias)return pn[Xe]}},Te=function(He,pn,Xe){return He||pn||(He=-96,pn=-96),He<0&&(He=-1*Xe.width*72/He/this.internal.scaleFactor),pn<0&&(pn=-1*Xe.height*72/pn/this.internal.scaleFactor),He===0&&(He=pn*Xe.width/Xe.height),pn===0&&(pn=He*Xe.height/Xe.width),[He,pn]},Ye=function(He,pn,Xe,fn,dn,qe){var tn=Te.call(this,Xe,fn,dn),Me=this.internal.getCoordinateString,De=this.internal.getVerticalCoordinateString,Ue=ze.call(this);if(Xe=tn[0],fn=tn[1],Ue[dn.index]=dn,qe){qe*=Math.PI/180;var We=Math.cos(qe),$e=Math.sin(qe),on=function(an){return an.toFixed(4)},Je=[on(We),on($e),on(-1*$e),on(We),0,0,"cm"]}this.internal.write("q"),qe?(this.internal.write([1,"0","0",1,Me(He),De(pn+fn),"cm"].join(" ")),this.internal.write(Je.join(" ")),this.internal.write([Me(Xe),"0","0",Me(fn),"0","0","cm"].join(" "))):this.internal.write([Me(Xe),"0","0",Me(fn),Me(He),De(pn+fn),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+dn.index+" Do"),this.internal.write("Q")},en=Ae.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};Ae.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var je=Ae.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},nn=Ae.__addimage__.sHashCode=function(He){var pn,Xe,fn=0;if(typeof He=="string")for(Xe=He.length,pn=0;pn<Xe;pn++)fn=(fn<<5)-fn+He.charCodeAt(pn),fn|=0;else if(St(He))for(Xe=He.byteLength/2,pn=0;pn<Xe;pn++)fn=(fn<<5)-fn+He[pn],fn|=0;return fn},Ge=Ae.__addimage__.validateStringAsBase64=function(He){(He=He||"").toString().trim();var pn=!0;return He.length===0&&(pn=!1),He.length%4!=0&&(pn=!1),/^[A-Za-z0-9+/]+$/.test(He.substr(0,He.length-2))===!1&&(pn=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(He.substr(-2))===!1&&(pn=!1),pn},Oe=Ae.__addimage__.extractImageFromDataUrl=function(He){if(He==null||!(He=He.trim()).startsWith("data:"))return null;var pn=He.indexOf(",");return pn<0?null:He.substring(0,pn).trim().endsWith("base64")?He.substring(pn+1):null},Ce=Ae.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};Ae.__addimage__.isArrayBuffer=function(He){return Ce()&&He instanceof ArrayBuffer};var St=Ae.__addimage__.isArrayBufferView=function(He){return Ce()&&typeof Uint32Array<"u"&&(He instanceof Int8Array||He instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&He instanceof Uint8ClampedArray||He instanceof Int16Array||He instanceof Uint16Array||He instanceof Int32Array||He instanceof Uint32Array||He instanceof Float32Array||He instanceof Float64Array)},rn=Ae.__addimage__.binaryStringToUint8Array=function(He){for(var pn=He.length,Xe=new Uint8Array(pn),fn=0;fn<pn;fn++)Xe[fn]=He.charCodeAt(fn);return Xe},un=Ae.__addimage__.arrayBufferToBinaryString=function(He){for(var pn="",Xe=St(He)?He:new Uint8Array(He),fn=0;fn<Xe.length;fn+=8192)pn+=String.fromCharCode.apply(null,Xe.subarray(fn,fn+8192));return pn};Ae.addImage=function(){var He,pn,Xe,fn,dn,qe,tn,Me,De;if(typeof arguments[1]=="number"?(pn=r,Xe=arguments[1],fn=arguments[2],dn=arguments[3],qe=arguments[4],tn=arguments[5],Me=arguments[6],De=arguments[7]):(pn=arguments[1],Xe=arguments[2],fn=arguments[3],dn=arguments[4],qe=arguments[5],tn=arguments[6],Me=arguments[7],De=arguments[8]),_typeof(He=arguments[0])==="object"&&!Re(He)&&"imageData"in He){var Ue=He;He=Ue.imageData,pn=Ue.format||pn||r,Xe=Ue.x||Xe||0,fn=Ue.y||fn||0,dn=Ue.w||Ue.width||dn,qe=Ue.h||Ue.height||qe,tn=Ue.alias||tn,Me=Ue.compression||Me,De=Ue.rotation||Ue.angle||De}var We=this.internal.getFilters();if(Me===void 0&&We.indexOf("FlateEncode")!==-1&&(Me="SLOW"),isNaN(Xe)||isNaN(fn))throw new Error("Invalid coordinates passed to jsPDF.addImage");_e.call(this);var $e=Qe.call(this,He,pn,tn,Me);return Ye.call(this,Xe,fn,dn,qe,$e,De),this};var Qe=function(He,pn,Xe,fn){var dn,qe,tn;if(typeof He=="string"&&Ee(He)===r){He=unescape(He);var Me=hn(He,!1);(Me!==""||(Me=Ae.loadFile(He,!0))!==void 0)&&(He=Me)}if(Re(He)&&(He=e(He,pn)),pn=Ee(He,pn),!Ie(pn))throw new Error("addImage does not support files of type '"+pn+"', please ensure that a plugin for '"+pn+"' support is added.");if(((tn=Xe)==null||tn.length===0)&&(Xe=function(De){return typeof De=="string"||St(De)?nn(De):St(De.data)?nn(De.data):null}(He)),(dn=t.call(this,Xe))||(Ce()&&(He instanceof Uint8Array||pn==="RGBA"||(qe=He,He=rn(He))),dn=this["process"+pn.toUpperCase()](He,xe.call(this),Xe,function(De){return De&&typeof De=="string"&&(De=De.toUpperCase()),De in Ae.image_compression?De:je.NONE}(fn),qe)),!dn)throw new Error("An unknown error occurred whilst processing the image.");return dn},hn=Ae.__addimage__.convertBase64ToBinaryString=function(He,pn){pn=typeof pn!="boolean"||pn;var Xe,fn="";if(typeof He=="string"){var dn;Xe=(dn=Oe(He))!==null&&dn!==void 0?dn:He;try{fn=u(Xe)}catch(qe){if(pn)throw Ge(Xe)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+qe.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return fn};Ae.getImageProperties=function(He){var pn,Xe,fn="";if(Re(He)&&(He=e(He)),typeof He=="string"&&Ee(He)===r&&((fn=hn(He,!1))===""&&(fn=Ae.loadFile(He)||""),He=fn),Xe=Ee(He),!Ie(Xe))throw new Error("addImage does not support files of type '"+Xe+"', please ensure that a plugin for '"+Xe+"' support is added.");if(!Ce()||He instanceof Uint8Array||(He=rn(He)),!(pn=this["process"+Xe.toUpperCase()](He)))throw new Error("An unknown error occurred whilst processing the image");return pn.fileType=Xe,pn}})(E.API),function(Ae){var r=function(Se){if(Se!==void 0&&Se!="")return!0};E.API.events.push(["addPage",function(Se){this.internal.getPageInfo(Se.pageNumber).pageContext.annotations=[]}]),Ae.events.push(["putPage",function(Se){for(var Ee,Fe,Be,Ve=this.internal.getCoordinateString,_e=this.internal.getVerticalCoordinateString,ze=this.internal.getPageInfoByObjId(Se.objId),xe=Se.pageContext.annotations,Ie=!1,Re=0;Re<xe.length&&!Ie;Re++)switch((Ee=xe[Re]).type){case"link":(r(Ee.options.url)||r(Ee.options.pageNumber))&&(Ie=!0);break;case"reference":case"text":case"freetext":Ie=!0}if(Ie!=0){this.internal.write("/Annots [");for(var e=0;e<xe.length;e++){Ee=xe[e];var t=this.internal.pdfEscape,Te=this.internal.getEncryptor(Se.objId);switch(Ee.type){case"reference":this.internal.write(" "+Ee.object.objId+" 0 R ");break;case"text":var Ye=this.internal.newAdditionalObject(),en=this.internal.newAdditionalObject(),je=this.internal.getEncryptor(Ye.objId),nn=Ee.title||"Note";Be="<</Type /Annot /Subtype /Text "+(Fe="/Rect ["+Ve(Ee.bounds.x)+" "+_e(Ee.bounds.y+Ee.bounds.h)+" "+Ve(Ee.bounds.x+Ee.bounds.w)+" "+_e(Ee.bounds.y)+"] ")+"/Contents ("+t(je(Ee.contents))+")",Be+=" /Popup "+en.objId+" 0 R",Be+=" /P "+ze.objId+" 0 R",Be+=" /T ("+t(je(nn))+") >>",Ye.content=Be;var Ge=Ye.objId+" 0 R";Be="<</Type /Annot /Subtype /Popup "+(Fe="/Rect ["+Ve(Ee.bounds.x+30)+" "+_e(Ee.bounds.y+Ee.bounds.h)+" "+Ve(Ee.bounds.x+Ee.bounds.w+30)+" "+_e(Ee.bounds.y)+"] ")+" /Parent "+Ge,Ee.open&&(Be+=" /Open true"),Be+=" >>",en.content=Be,this.internal.write(Ye.objId,"0 R",en.objId,"0 R");break;case"freetext":Fe="/Rect ["+Ve(Ee.bounds.x)+" "+_e(Ee.bounds.y)+" "+Ve(Ee.bounds.x+Ee.bounds.w)+" "+_e(Ee.bounds.y+Ee.bounds.h)+"] ";var Oe=Ee.color||"#000000";Be="<</Type /Annot /Subtype /FreeText "+Fe+"/Contents ("+t(Te(Ee.contents))+")",Be+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+Oe+")",Be+=" /Border [0 0 0]",Be+=" >>",this.internal.write(Be);break;case"link":if(Ee.options.name){var Ce=this.annotations._nameMap[Ee.options.name];Ee.options.pageNumber=Ce.page,Ee.options.top=Ce.y}else Ee.options.top||(Ee.options.top=0);if(Fe="/Rect ["+Ee.finalBounds.x+" "+Ee.finalBounds.y+" "+Ee.finalBounds.w+" "+Ee.finalBounds.h+"] ",Be="",Ee.options.url)Be="<</Type /Annot /Subtype /Link "+Fe+"/Border [0 0 0] /A <</S /URI /URI ("+t(Te(Ee.options.url))+") >>";else if(Ee.options.pageNumber)switch(Be="<</Type /Annot /Subtype /Link "+Fe+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(Ee.options.pageNumber).objId+" 0 R",Ee.options.magFactor=Ee.options.magFactor||"XYZ",Ee.options.magFactor){case"Fit":Be+=" /Fit]";break;case"FitH":Be+=" /FitH "+Ee.options.top+"]";break;case"FitV":Ee.options.left=Ee.options.left||0,Be+=" /FitV "+Ee.options.left+"]";break;case"XYZ":default:var St=_e(Ee.options.top);Ee.options.left=Ee.options.left||0,Ee.options.zoom===void 0&&(Ee.options.zoom=0),Be+=" /XYZ "+Ee.options.left+" "+St+" "+Ee.options.zoom+"]"}Be!=""&&(Be+=" >>",this.internal.write(Be))}}this.internal.write("]")}}]),Ae.createAnnotation=function(Se){var Ee=this.internal.getCurrentPageInfo();switch(Se.type){case"link":this.link(Se.bounds.x,Se.bounds.y,Se.bounds.w,Se.bounds.h,Se);break;case"text":case"freetext":Ee.pageContext.annotations.push(Se)}},Ae.link=function(Se,Ee,Fe,Be,Ve){var _e=this.internal.getCurrentPageInfo(),ze=this.internal.getCoordinateString,xe=this.internal.getVerticalCoordinateString;_e.pageContext.annotations.push({finalBounds:{x:ze(Se),y:xe(Ee),w:ze(Se+Fe),h:xe(Ee+Be)},options:Ve,type:"link"})},Ae.textWithLink=function(Se,Ee,Fe,Be){var Ve,_e,ze=this.getTextWidth(Se),xe=this.internal.getLineHeight()/this.internal.scaleFactor;if(Be.maxWidth!==void 0){_e=Be.maxWidth;var Ie=this.splitTextToSize(Se,_e).length;Ve=Math.ceil(xe*Ie)}else _e=ze,Ve=xe;return this.text(Se,Ee,Fe,Be),Fe+=.2*xe,Be.align==="center"&&(Ee-=ze/2),Be.align==="right"&&(Ee-=ze),this.link(Ee,Fe-xe,_e,Ve,Be),ze},Ae.getTextWidth=function(Se){var Ee=this.internal.getFontSize();return this.getStringUnitWidth(Se)*Ee/this.internal.scaleFactor}}(E.API),function(Ae){var r={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},Se={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},Ee={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},Fe=[1570,1571,1573,1575];Ae.__arabicParser__={};var Be=Ae.__arabicParser__.isInArabicSubstitutionA=function(Ye){return r[Ye.charCodeAt(0)]!==void 0},Ve=Ae.__arabicParser__.isArabicLetter=function(Ye){return typeof Ye=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(Ye)},_e=Ae.__arabicParser__.isArabicEndLetter=function(Ye){return Ve(Ye)&&Be(Ye)&&r[Ye.charCodeAt(0)].length<=2},ze=Ae.__arabicParser__.isArabicAlfLetter=function(Ye){return Ve(Ye)&&Fe.indexOf(Ye.charCodeAt(0))>=0};Ae.__arabicParser__.arabicLetterHasIsolatedForm=function(Ye){return Ve(Ye)&&Be(Ye)&&r[Ye.charCodeAt(0)].length>=1};var xe=Ae.__arabicParser__.arabicLetterHasFinalForm=function(Ye){return Ve(Ye)&&Be(Ye)&&r[Ye.charCodeAt(0)].length>=2};Ae.__arabicParser__.arabicLetterHasInitialForm=function(Ye){return Ve(Ye)&&Be(Ye)&&r[Ye.charCodeAt(0)].length>=3};var Ie=Ae.__arabicParser__.arabicLetterHasMedialForm=function(Ye){return Ve(Ye)&&Be(Ye)&&r[Ye.charCodeAt(0)].length==4},Re=Ae.__arabicParser__.resolveLigatures=function(Ye){var en=0,je=Se,nn="",Ge=0;for(en=0;en<Ye.length;en+=1)je[Ye.charCodeAt(en)]!==void 0?(Ge++,typeof(je=je[Ye.charCodeAt(en)])=="number"&&(nn+=String.fromCharCode(je),je=Se,Ge=0),en===Ye.length-1&&(je=Se,nn+=Ye.charAt(en-(Ge-1)),en-=Ge-1,Ge=0)):(je=Se,nn+=Ye.charAt(en-Ge),en-=Ge,Ge=0);return nn};Ae.__arabicParser__.isArabicDiacritic=function(Ye){return Ye!==void 0&&Ee[Ye.charCodeAt(0)]!==void 0};var e=Ae.__arabicParser__.getCorrectForm=function(Ye,en,je){return Ve(Ye)?Be(Ye)===!1?-1:!xe(Ye)||!Ve(en)&&!Ve(je)||!Ve(je)&&_e(en)||_e(Ye)&&!Ve(en)||_e(Ye)&&ze(en)||_e(Ye)&&_e(en)?0:Ie(Ye)&&Ve(en)&&!_e(en)&&Ve(je)&&xe(je)?3:_e(Ye)||!Ve(je)?1:2:-1},t=function(Ye){var en=0,je=0,nn=0,Ge="",Oe="",Ce="",St=(Ye=Ye||"").split("\\s+"),rn=[];for(en=0;en<St.length;en+=1){for(rn.push(""),je=0;je<St[en].length;je+=1)Ge=St[en][je],Oe=St[en][je-1],Ce=St[en][je+1],Ve(Ge)?(nn=e(Ge,Oe,Ce),rn[en]+=nn!==-1?String.fromCharCode(r[Ge.charCodeAt(0)][nn]):Ge):rn[en]+=Ge;rn[en]=Re(rn[en])}return rn.join(" ")},Te=Ae.__arabicParser__.processArabic=Ae.processArabic=function(){var Ye,en=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,je=[];if(Array.isArray(en)){var nn=0;for(je=[],nn=0;nn<en.length;nn+=1)Array.isArray(en[nn])?je.push([t(en[nn][0]),en[nn][1],en[nn][2]]):je.push([t(en[nn])]);Ye=je}else Ye=t(en);return typeof arguments[0]=="string"?Ye:(arguments[0].text=Ye,arguments[0])};Ae.events.push(["preProcessText",Te])}(E.API),E.API.autoPrint=function(Ae){var r;switch((Ae=Ae||{}).variant=Ae.variant||"non-conform",Ae.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){r=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+r+" 0 R")})}return this},function(Ae){var r=function(){var Se=void 0;Object.defineProperty(this,"pdf",{get:function(){return Se},set:function(_e){Se=_e}});var Ee=150;Object.defineProperty(this,"width",{get:function(){return Ee},set:function(_e){Ee=isNaN(_e)||Number.isInteger(_e)===!1||_e<0?150:_e,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=Ee+1)}});var Fe=300;Object.defineProperty(this,"height",{get:function(){return Fe},set:function(_e){Fe=isNaN(_e)||Number.isInteger(_e)===!1||_e<0?300:_e,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=Fe+1)}});var Be=[];Object.defineProperty(this,"childNodes",{get:function(){return Be},set:function(_e){Be=_e}});var Ve={};Object.defineProperty(this,"style",{get:function(){return Ve},set:function(_e){Ve=_e}}),Object.defineProperty(this,"parentNode",{})};r.prototype.getContext=function(Se,Ee){var Fe;if((Se=Se||"2d")!=="2d")return null;for(Fe in Ee)this.pdf.context2d.hasOwnProperty(Fe)&&(this.pdf.context2d[Fe]=Ee[Fe]);return this.pdf.context2d._canvas=this,this.pdf.context2d},r.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},Ae.events.push(["initialized",function(){this.canvas=new r,this.canvas.pdf=this}])}(E.API),function(Ae){var r={left:0,top:0,bottom:0,right:0},Se=!1,Ee=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},r),this.internal.__cell__.margins.width=this.getPageWidth(),Fe.call(this))},Fe=function(){this.internal.__cell__.lastCell=new Be,this.internal.__cell__.pages=1},Be=function(){var ze=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ze},set:function(Ye){ze=Ye}});var xe=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return xe},set:function(Ye){xe=Ye}});var Ie=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return Ie},set:function(Ye){Ie=Ye}});var Re=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return Re},set:function(Ye){Re=Ye}});var e=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return e},set:function(Ye){e=Ye}});var t=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return t},set:function(Ye){t=Ye}});var Te=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return Te},set:function(Ye){Te=Ye}}),this};Be.prototype.clone=function(){return new Be(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},Be.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},Ae.setHeaderFunction=function(ze){return Ee.call(this),this.internal.__cell__.headerFunction=typeof ze=="function"?ze:void 0,this},Ae.getTextDimensions=function(ze,xe){Ee.call(this);var Ie=(xe=xe||{}).fontSize||this.getFontSize(),Re=xe.font||this.getFont(),e=xe.scaleFactor||this.internal.scaleFactor,t=0,Te=0,Ye=0,en=this;if(!Array.isArray(ze)&&typeof ze!="string"){if(typeof ze!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");ze=String(ze)}var je=xe.maxWidth;je>0?typeof ze=="string"?ze=this.splitTextToSize(ze,je):Object.prototype.toString.call(ze)==="[object Array]"&&(ze=ze.reduce(function(Ge,Oe){return Ge.concat(en.splitTextToSize(Oe,je))},[])):ze=Array.isArray(ze)?ze:[ze];for(var nn=0;nn<ze.length;nn++)t<(Ye=this.getStringUnitWidth(ze[nn],{font:Re})*Ie)&&(t=Ye);return t!==0&&(Te=ze.length),{w:t/=e,h:Math.max((Te*Ie*this.getLineHeightFactor()-Ie*(this.getLineHeightFactor()-1))/e,0)}},Ae.cellAddPage=function(){Ee.call(this),this.addPage();var ze=this.internal.__cell__.margins||r;return this.internal.__cell__.lastCell=new Be(ze.left,ze.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var Ve=Ae.cell=function(){var ze;ze=arguments[0]instanceof Be?arguments[0]:new Be(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),Ee.call(this);var xe=this.internal.__cell__.lastCell,Ie=this.internal.__cell__.padding,Re=this.internal.__cell__.margins||r,e=this.internal.__cell__.tableHeaderRow,t=this.internal.__cell__.printHeaders;return xe.lineNumber!==void 0&&(xe.lineNumber===ze.lineNumber?(ze.x=(xe.x||0)+(xe.width||0),ze.y=xe.y||0):xe.y+xe.height+ze.height+Re.bottom>this.getPageHeight()?(this.cellAddPage(),ze.y=Re.top,t&&e&&(this.printHeaderRow(ze.lineNumber,!0),ze.y+=e[0].height)):ze.y=xe.y+xe.height||ze.y),ze.text[0]!==void 0&&(this.rect(ze.x,ze.y,ze.width,ze.height,Se===!0?"FD":void 0),ze.align==="right"?this.text(ze.text,ze.x+ze.width-Ie,ze.y+Ie,{align:"right",baseline:"top"}):ze.align==="center"?this.text(ze.text,ze.x+ze.width/2,ze.y+Ie,{align:"center",baseline:"top",maxWidth:ze.width-Ie-Ie}):this.text(ze.text,ze.x+Ie,ze.y+Ie,{align:"left",baseline:"top",maxWidth:ze.width-Ie-Ie})),this.internal.__cell__.lastCell=ze,this};Ae.table=function(ze,xe,Ie,Re,e){if(Ee.call(this),!Ie)throw new Error("No data for PDF table.");var t,Te,Ye,en,je=[],nn=[],Ge=[],Oe={},Ce={},St=[],rn=[],un=(e=e||{}).autoSize||!1,Qe=e.printHeaders!==!1,hn=e.css&&e.css["font-size"]!==void 0?16*e.css["font-size"]:e.fontSize||12,He=e.margins||Object.assign({width:this.getPageWidth()},r),pn=typeof e.padding=="number"?e.padding:3,Xe=e.headerBackgroundColor||"#c8c8c8",fn=e.headerTextColor||"#000";if(Fe.call(this),this.internal.__cell__.printHeaders=Qe,this.internal.__cell__.margins=He,this.internal.__cell__.table_font_size=hn,this.internal.__cell__.padding=pn,this.internal.__cell__.headerBackgroundColor=Xe,this.internal.__cell__.headerTextColor=fn,this.setFontSize(hn),Re==null)nn=je=Object.keys(Ie[0]),Ge=je.map(function(){return"left"});else if(Array.isArray(Re)&&_typeof(Re[0])==="object")for(je=Re.map(function(Ue){return Ue.name}),nn=Re.map(function(Ue){return Ue.prompt||Ue.name||""}),Ge=Re.map(function(Ue){return Ue.align||"left"}),t=0;t<Re.length;t+=1)Ce[Re[t].name]=Re[t].width*(19.049976/25.4);else Array.isArray(Re)&&typeof Re[0]=="string"&&(nn=je=Re,Ge=je.map(function(){return"left"}));if(un||Array.isArray(Re)&&typeof Re[0]=="string")for(t=0;t<je.length;t+=1){for(Oe[en=je[t]]=Ie.map(function(Ue){return Ue[en]}),this.setFont(void 0,"bold"),St.push(this.getTextDimensions(nn[t],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),Te=Oe[en],this.setFont(void 0,"normal"),Ye=0;Ye<Te.length;Ye+=1)St.push(this.getTextDimensions(Te[Ye],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);Ce[en]=Math.max.apply(null,St)+pn+pn,St=[]}if(Qe){var dn={};for(t=0;t<je.length;t+=1)dn[je[t]]={},dn[je[t]].text=nn[t],dn[je[t]].align=Ge[t];var qe=_e.call(this,dn,Ce);rn=je.map(function(Ue){return new Be(ze,xe,Ce[Ue],qe,dn[Ue].text,void 0,dn[Ue].align)}),this.setTableHeaderRow(rn),this.printHeaderRow(1,!1)}var tn=Re.reduce(function(Ue,We){return Ue[We.name]=We.align,Ue},{});for(t=0;t<Ie.length;t+=1){"rowStart"in e&&e.rowStart instanceof Function&&e.rowStart({row:t,data:Ie[t]},this);var Me=_e.call(this,Ie[t],Ce);for(Ye=0;Ye<je.length;Ye+=1){var De=Ie[t][je[Ye]];"cellStart"in e&&e.cellStart instanceof Function&&e.cellStart({row:t,col:Ye,data:De},this),Ve.call(this,new Be(ze,xe,Ce[je[Ye]],Me,De,t+2,tn[je[Ye]]))}}return this.internal.__cell__.table_x=ze,this.internal.__cell__.table_y=xe,this};var _e=function(ze,xe){var Ie=this.internal.__cell__.padding,Re=this.internal.__cell__.table_font_size,e=this.internal.scaleFactor;return Object.keys(ze).map(function(t){var Te=ze[t];return this.splitTextToSize(Te.hasOwnProperty("text")?Te.text:Te,xe[t]-Ie-Ie)},this).map(function(t){return this.getLineHeightFactor()*t.length*Re/e+Ie+Ie},this).reduce(function(t,Te){return Math.max(t,Te)},0)};Ae.setTableHeaderRow=function(ze){Ee.call(this),this.internal.__cell__.tableHeaderRow=ze},Ae.printHeaderRow=function(ze,xe){if(Ee.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var Ie;if(Se=!0,typeof this.internal.__cell__.headerFunction=="function"){var Re=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new Be(Re[0],Re[1],Re[2],Re[3],void 0,-1)}this.setFont(void 0,"bold");for(var e=[],t=0;t<this.internal.__cell__.tableHeaderRow.length;t+=1){Ie=this.internal.__cell__.tableHeaderRow[t].clone(),xe&&(Ie.y=this.internal.__cell__.margins.top||0,e.push(Ie)),Ie.lineNumber=ze;var Te=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),Ve.call(this,Ie),this.setTextColor(Te)}e.length>0&&this.setTableHeaderRow(e),this.setFont(void 0,"normal"),Se=!1}}(E.API);var Pt={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},kt=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],It=_t(kt),Ft=[100,200,300,400,500,600,700,800,900],Ct=_t(Ft);function jt(Ae){var r=Ae.family.replace(/"|'/g,"").toLowerCase(),Se=function(Be){return Pt[Be=Be||"normal"]?Be:"normal"}(Ae.style),Ee=function(Be){if(!Be)return 400;if(typeof Be=="number")return Be>=100&&Be<=900&&Be%100==0?Be:400;if(/^\d00$/.test(Be))return parseInt(Be);switch(Be){case"bold":return 700;case"normal":default:return 400}}(Ae.weight),Fe=function(Be){return typeof It[Be=Be||"normal"]=="number"?Be:"normal"}(Ae.stretch);return{family:r,style:Se,weight:Ee,stretch:Fe,src:Ae.src||[],ref:Ae.ref||{name:r,style:[Fe,Se,Ee].join(" ")}}}function Ot(Ae,r,Se,Ee){var Fe;for(Fe=Se;Fe>=0&&Fe<r.length;Fe+=Ee)if(Ae[r[Fe]])return Ae[r[Fe]];for(Fe=Se;Fe>=0&&Fe<r.length;Fe-=Ee)if(Ae[r[Fe]])return Ae[r[Fe]]}var Bt={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Mt={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Et(Ae){return[Ae.stretch,Ae.style,Ae.weight,Ae.family].join(" ")}function qt(Ae,r,Se){for(var Ee=(Se=Se||{}).defaultFontFamily||"times",Fe=Object.assign({},Bt,Se.genericFontFamilies||{}),Be=null,Ve=null,_e=0;_e<r.length;++_e)if(Fe[(Be=jt(r[_e])).family]&&(Be.family=Fe[Be.family]),Ae.hasOwnProperty(Be.family)){Ve=Ae[Be.family];break}if(!(Ve=Ve||Ae[Ee]))throw new Error("Could not find a font-family for the rule '"+Et(Be)+"' and default family '"+Ee+"'.");if(Ve=function(ze,xe){if(xe[ze])return xe[ze];var Ie=It[ze],Re=Ie<=It.normal?-1:1,e=Ot(xe,kt,Ie,Re);if(!e)throw new Error("Could not find a matching font-stretch value for "+ze);return e}(Be.stretch,Ve),Ve=function(ze,xe){if(xe[ze])return xe[ze];for(var Ie=Pt[ze],Re=0;Re<Ie.length;++Re)if(xe[Ie[Re]])return xe[Ie[Re]];throw new Error("Could not find a matching font-style for "+ze)}(Be.style,Ve),!(Ve=function(ze,xe){if(xe[ze])return xe[ze];if(ze===400&&xe[500])return xe[500];if(ze===500&&xe[400])return xe[400];var Ie=Ct[ze],Re=Ot(xe,Ft,Ie,ze<400?-1:1);if(!Re)throw new Error("Could not find a matching font-weight for value "+ze);return Re}(Be.weight,Ve)))throw new Error("Failed to resolve a font for the rule '"+Et(Be)+"'.");return Ve}function Dt(Ae){return Ae.trimLeft()}function Rt(Ae,r){for(var Se=0;Se<Ae.length;){if(Ae.charAt(Se)===r)return[Ae.substring(0,Se),Ae.substring(Se+1)];Se+=1}return null}function Tt(Ae){var r=Ae.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return r===null?null:[r[0],Ae.substring(r[0].length)]}var Ut,zt,Ht,Wt=["times"];(function(Ae){var r,Se,Ee,Fe,Be,Ve,_e,ze,xe,Ie=function($e){return $e=$e||{},this.isStrokeTransparent=$e.isStrokeTransparent||!1,this.strokeOpacity=$e.strokeOpacity||1,this.strokeStyle=$e.strokeStyle||"#000000",this.fillStyle=$e.fillStyle||"#000000",this.isFillTransparent=$e.isFillTransparent||!1,this.fillOpacity=$e.fillOpacity||1,this.font=$e.font||"10px sans-serif",this.textBaseline=$e.textBaseline||"alphabetic",this.textAlign=$e.textAlign||"left",this.lineWidth=$e.lineWidth||1,this.lineJoin=$e.lineJoin||"miter",this.lineCap=$e.lineCap||"butt",this.path=$e.path||[],this.transform=$e.transform!==void 0?$e.transform.clone():new ze,this.globalCompositeOperation=$e.globalCompositeOperation||"normal",this.globalAlpha=$e.globalAlpha||1,this.clip_path=$e.clip_path||[],this.currentPoint=$e.currentPoint||new Ve,this.miterLimit=$e.miterLimit||10,this.lastPoint=$e.lastPoint||new Ve,this.lineDashOffset=$e.lineDashOffset||0,this.lineDash=$e.lineDash||[],this.margin=$e.margin||[0,0,0,0],this.prevPageLastElemOffset=$e.prevPageLastElemOffset||0,this.ignoreClearRect=typeof $e.ignoreClearRect!="boolean"||$e.ignoreClearRect,this};Ae.events.push(["initialized",function(){this.context2d=new Re(this),r=this.internal.f2,Se=this.internal.getCoordinateString,Ee=this.internal.getVerticalCoordinateString,Fe=this.internal.getHorizontalCoordinate,Be=this.internal.getVerticalCoordinate,Ve=this.internal.Point,_e=this.internal.Rectangle,ze=this.internal.Matrix,xe=new Ie}]);var Re=function($e){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var on=$e;Object.defineProperty(this,"pdf",{get:function(){return on}});var Je=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Je},set:function(Tn){Je=!!Tn}});var an=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return an},set:function(Tn){an=!!Tn}});var Ke=0;Object.defineProperty(this,"posX",{get:function(){return Ke},set:function(Tn){isNaN(Tn)||(Ke=Tn)}});var sn=0;Object.defineProperty(this,"posY",{get:function(){return sn},set:function(Tn){isNaN(Tn)||(sn=Tn)}}),Object.defineProperty(this,"margin",{get:function(){return xe.margin},set:function(Tn){var Cn;typeof Tn=="number"?Cn=[Tn,Tn,Tn,Tn]:((Cn=new Array(4))[0]=Tn[0],Cn[1]=Tn.length>=2?Tn[1]:Cn[0],Cn[2]=Tn.length>=3?Tn[2]:Cn[0],Cn[3]=Tn.length>=4?Tn[3]:Cn[1]),xe.margin=Cn}});var gn=!1;Object.defineProperty(this,"autoPaging",{get:function(){return gn},set:function(Tn){gn=Tn}});var mn=0;Object.defineProperty(this,"lastBreak",{get:function(){return mn},set:function(Tn){mn=Tn}});var yn=[];Object.defineProperty(this,"pageBreaks",{get:function(){return yn},set:function(Tn){yn=Tn}}),Object.defineProperty(this,"ctx",{get:function(){return xe},set:function(Tn){Tn instanceof Ie&&(xe=Tn)}}),Object.defineProperty(this,"path",{get:function(){return xe.path},set:function(Tn){xe.path=Tn}});var Sn=[];Object.defineProperty(this,"ctxStack",{get:function(){return Sn},set:function(Tn){Sn=Tn}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Tn){var Cn;Cn=e(Tn),this.ctx.fillStyle=Cn.style,this.ctx.isFillTransparent=Cn.a===0,this.ctx.fillOpacity=Cn.a,this.pdf.setFillColor(Cn.r,Cn.g,Cn.b,{a:Cn.a}),this.pdf.setTextColor(Cn.r,Cn.g,Cn.b,{a:Cn.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Tn){var Cn=e(Tn);this.ctx.strokeStyle=Cn.style,this.ctx.isStrokeTransparent=Cn.a===0,this.ctx.strokeOpacity=Cn.a,Cn.a===0?this.pdf.setDrawColor(255,255,255):(Cn.a,this.pdf.setDrawColor(Cn.r,Cn.g,Cn.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Tn){["butt","round","square"].indexOf(Tn)!==-1&&(this.ctx.lineCap=Tn,this.pdf.setLineCap(Tn))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Tn){isNaN(Tn)||(this.ctx.lineWidth=Tn,this.pdf.setLineWidth(Tn))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Tn){["bevel","round","miter"].indexOf(Tn)!==-1&&(this.ctx.lineJoin=Tn,this.pdf.setLineJoin(Tn))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Tn){isNaN(Tn)||(this.ctx.miterLimit=Tn,this.pdf.setMiterLimit(Tn))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Tn){this.ctx.textBaseline=Tn}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Tn){["right","end","center","left","start"].indexOf(Tn)!==-1&&(this.ctx.textAlign=Tn)}});var _n=null;function wn(Tn,Cn){if(_n===null){var In=function(Rn){var bn=[];return Object.keys(Rn).forEach(function(kn){Rn[kn].forEach(function(En){var On=null;switch(En){case"bold":On={family:kn,weight:"bold"};break;case"italic":On={family:kn,style:"italic"};break;case"bolditalic":On={family:kn,weight:"bold",style:"italic"};break;case"":case"normal":On={family:kn}}On!==null&&(On.ref={name:kn,style:En},bn.push(On))})}),bn}(Tn.getFontList());_n=function(Rn){for(var bn={},kn=0;kn<Rn.length;++kn){var En=jt(Rn[kn]),On=En.family,Mn=En.stretch,Bn=En.style,Hn=En.weight;bn[On]=bn[On]||{},bn[On][Mn]=bn[On][Mn]||{},bn[On][Mn][Bn]=bn[On][Mn][Bn]||{},bn[On][Mn][Bn][Hn]=En}return bn}(In.concat(Cn))}return _n}var Nn=null;Object.defineProperty(this,"fontFaces",{get:function(){return Nn},set:function(Tn){_n=null,Nn=Tn}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Tn){var Cn;if(this.ctx.font=Tn,(Cn=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Tn))!==null){var In=Cn[1];Cn[2];var Rn=Cn[3],bn=Cn[4];Cn[5];var kn=Cn[6],En=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(bn)[2];bn=Math.floor(En==="px"?parseFloat(bn)*this.pdf.internal.scaleFactor:En==="em"?parseFloat(bn)*this.pdf.getFontSize():parseFloat(bn)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(bn);var On=function(jn){var Xn,Gn,ri=[],ui=jn.trim();if(ui==="")return Wt;if(ui in Mt)return[Mt[ui]];for(;ui!=="";){switch(Gn=null,Xn=(ui=Dt(ui)).charAt(0)){case'"':case"'":Gn=Rt(ui.substring(1),Xn);break;default:Gn=Tt(ui)}if(Gn===null||(ri.push(Gn[0]),(ui=Dt(Gn[1]))!==""&&ui.charAt(0)!==","))return Wt;ui=ui.replace(/^,/,"")}return ri}(kn);if(this.fontFaces){var Mn=qt(wn(this.pdf,this.fontFaces),On.map(function(jn){return{family:jn,stretch:"normal",weight:Rn,style:In}}));this.pdf.setFont(Mn.ref.name,Mn.ref.style)}else{var Bn="";(Rn==="bold"||parseInt(Rn,10)>=700||In==="bold")&&(Bn="bold"),In==="italic"&&(Bn+="italic"),Bn.length===0&&(Bn="normal");for(var Hn="",$n={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Un=0;Un<On.length;Un++){if(this.pdf.internal.getFont(On[Un],Bn,{noFallback:!0,disableWarning:!0})!==void 0){Hn=On[Un];break}if(Bn==="bolditalic"&&this.pdf.internal.getFont(On[Un],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Hn=On[Un],Bn="bold";else if(this.pdf.internal.getFont(On[Un],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Hn=On[Un],Bn="normal";break}}if(Hn===""){for(var qn=0;qn<On.length;qn++)if($n[On[qn]]){Hn=$n[On[qn]];break}}Hn=Hn===""?"Times":Hn,this.pdf.setFont(Hn,Bn)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Tn){this.ctx.globalCompositeOperation=Tn}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Tn){this.ctx.globalAlpha=Tn}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Tn){this.ctx.lineDashOffset=Tn,We.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Tn){this.ctx.lineDash=Tn,We.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Tn){this.ctx.ignoreClearRect=!!Tn}})};Re.prototype.setLineDash=function($e){this.lineDash=$e},Re.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},Re.prototype.fill=function(){Oe.call(this,"fill",!1)},Re.prototype.stroke=function(){Oe.call(this,"stroke",!1)},Re.prototype.beginPath=function(){this.path=[{type:"begin"}]},Re.prototype.moveTo=function($e,on){if(isNaN($e)||isNaN(on))throw a.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Je=this.ctx.transform.applyToPoint(new Ve($e,on));this.path.push({type:"mt",x:Je.x,y:Je.y}),this.ctx.lastPoint=new Ve($e,on)},Re.prototype.closePath=function(){var $e=new Ve(0,0),on=0;for(on=this.path.length-1;on!==-1;on--)if(this.path[on].type==="begin"&&_typeof(this.path[on+1])==="object"&&typeof this.path[on+1].x=="number"){$e=new Ve(this.path[on+1].x,this.path[on+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new Ve($e.x,$e.y)},Re.prototype.lineTo=function($e,on){if(isNaN($e)||isNaN(on))throw a.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Je=this.ctx.transform.applyToPoint(new Ve($e,on));this.path.push({type:"lt",x:Je.x,y:Je.y}),this.ctx.lastPoint=new Ve(Je.x,Je.y)},Re.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),Oe.call(this,null,!0)},Re.prototype.quadraticCurveTo=function($e,on,Je,an){if(isNaN(Je)||isNaN(an)||isNaN($e)||isNaN(on))throw a.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Ke=this.ctx.transform.applyToPoint(new Ve(Je,an)),sn=this.ctx.transform.applyToPoint(new Ve($e,on));this.path.push({type:"qct",x1:sn.x,y1:sn.y,x:Ke.x,y:Ke.y}),this.ctx.lastPoint=new Ve(Ke.x,Ke.y)},Re.prototype.bezierCurveTo=function($e,on,Je,an,Ke,sn){if(isNaN(Ke)||isNaN(sn)||isNaN($e)||isNaN(on)||isNaN(Je)||isNaN(an))throw a.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var gn=this.ctx.transform.applyToPoint(new Ve(Ke,sn)),mn=this.ctx.transform.applyToPoint(new Ve($e,on)),yn=this.ctx.transform.applyToPoint(new Ve(Je,an));this.path.push({type:"bct",x1:mn.x,y1:mn.y,x2:yn.x,y2:yn.y,x:gn.x,y:gn.y}),this.ctx.lastPoint=new Ve(gn.x,gn.y)},Re.prototype.arc=function($e,on,Je,an,Ke,sn){if(isNaN($e)||isNaN(on)||isNaN(Je)||isNaN(an)||isNaN(Ke))throw a.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(sn=!!sn,!this.ctx.transform.isIdentity){var gn=this.ctx.transform.applyToPoint(new Ve($e,on));$e=gn.x,on=gn.y;var mn=this.ctx.transform.applyToPoint(new Ve(0,Je)),yn=this.ctx.transform.applyToPoint(new Ve(0,0));Je=Math.sqrt(Math.pow(mn.x-yn.x,2)+Math.pow(mn.y-yn.y,2))}Math.abs(Ke-an)>=2*Math.PI&&(an=0,Ke=2*Math.PI),this.path.push({type:"arc",x:$e,y:on,radius:Je,startAngle:an,endAngle:Ke,counterclockwise:sn})},Re.prototype.arcTo=function($e,on,Je,an,Ke){throw new Error("arcTo not implemented.")},Re.prototype.rect=function($e,on,Je,an){if(isNaN($e)||isNaN(on)||isNaN(Je)||isNaN(an))throw a.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo($e,on),this.lineTo($e+Je,on),this.lineTo($e+Je,on+an),this.lineTo($e,on+an),this.lineTo($e,on),this.lineTo($e+Je,on),this.lineTo($e,on)},Re.prototype.fillRect=function($e,on,Je,an){if(isNaN($e)||isNaN(on)||isNaN(Je)||isNaN(an))throw a.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!t.call(this)){var Ke={};this.lineCap!=="butt"&&(Ke.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Ke.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect($e,on,Je,an),this.fill(),Ke.hasOwnProperty("lineCap")&&(this.lineCap=Ke.lineCap),Ke.hasOwnProperty("lineJoin")&&(this.lineJoin=Ke.lineJoin)}},Re.prototype.strokeRect=function($e,on,Je,an){if(isNaN($e)||isNaN(on)||isNaN(Je)||isNaN(an))throw a.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");Te.call(this)||(this.beginPath(),this.rect($e,on,Je,an),this.stroke())},Re.prototype.clearRect=function($e,on,Je,an){if(isNaN($e)||isNaN(on)||isNaN(Je)||isNaN(an))throw a.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect($e,on,Je,an))},Re.prototype.save=function($e){$e=typeof $e!="boolean"||$e;for(var on=this.pdf.internal.getCurrentPageInfo().pageNumber,Je=0;Je<this.pdf.internal.getNumberOfPages();Je++)this.pdf.setPage(Je+1),this.pdf.internal.out("q");if(this.pdf.setPage(on),$e){this.ctx.fontSize=this.pdf.internal.getFontSize();var an=new Ie(this.ctx);this.ctxStack.push(this.ctx),this.ctx=an}},Re.prototype.restore=function($e){$e=typeof $e!="boolean"||$e;for(var on=this.pdf.internal.getCurrentPageInfo().pageNumber,Je=0;Je<this.pdf.internal.getNumberOfPages();Je++)this.pdf.setPage(Je+1),this.pdf.internal.out("Q");this.pdf.setPage(on),$e&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},Re.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var e=function($e){var on,Je,an,Ke;if($e.isCanvasGradient===!0&&($e=$e.getColor()),!$e)return{r:0,g:0,b:0,a:0,style:$e};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test($e))on=0,Je=0,an=0,Ke=0;else{var sn=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec($e);if(sn!==null)on=parseInt(sn[1]),Je=parseInt(sn[2]),an=parseInt(sn[3]),Ke=1;else if((sn=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec($e))!==null)on=parseInt(sn[1]),Je=parseInt(sn[2]),an=parseInt(sn[3]),Ke=parseFloat(sn[4]);else{if(Ke=1,typeof $e=="string"&&$e.charAt(0)!=="#"){var gn=new f($e);$e=gn.ok?gn.toHex():"#000000"}$e.length===4?(on=$e.substring(1,2),on+=on,Je=$e.substring(2,3),Je+=Je,an=$e.substring(3,4),an+=an):(on=$e.substring(1,3),Je=$e.substring(3,5),an=$e.substring(5,7)),on=parseInt(on,16),Je=parseInt(Je,16),an=parseInt(an,16)}}return{r:on,g:Je,b:an,a:Ke,style:$e}},t=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},Te=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};Re.prototype.fillText=function($e,on,Je,an){if(isNaN(on)||isNaN(Je)||typeof $e!="string")throw a.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(an=isNaN(an)?void 0:an,!t.call(this)){var Ke=Me(this.ctx.transform.rotation),sn=this.ctx.transform.scaleX;pn.call(this,{text:$e,x:on,y:Je,scale:sn,angle:Ke,align:this.textAlign,maxWidth:an})}},Re.prototype.strokeText=function($e,on,Je,an){if(isNaN(on)||isNaN(Je)||typeof $e!="string")throw a.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!Te.call(this)){an=isNaN(an)?void 0:an;var Ke=Me(this.ctx.transform.rotation),sn=this.ctx.transform.scaleX;pn.call(this,{text:$e,x:on,y:Je,scale:sn,renderingMode:"stroke",angle:Ke,align:this.textAlign,maxWidth:an})}},Re.prototype.measureText=function($e){if(typeof $e!="string")throw a.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var on=this.pdf,Je=this.pdf.internal.scaleFactor,an=on.internal.getFontSize(),Ke=on.getStringUnitWidth($e)*an/on.internal.scaleFactor,sn=function(gn){var mn=(gn=gn||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return mn}}),this};return new sn({width:Ke*=Math.round(96*Je/72*1e4)/1e4})},Re.prototype.scale=function($e,on){if(isNaN($e)||isNaN(on))throw a.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Je=new ze($e,0,0,on,0,0);this.ctx.transform=this.ctx.transform.multiply(Je)},Re.prototype.rotate=function($e){if(isNaN($e))throw a.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var on=new ze(Math.cos($e),Math.sin($e),-Math.sin($e),Math.cos($e),0,0);this.ctx.transform=this.ctx.transform.multiply(on)},Re.prototype.translate=function($e,on){if(isNaN($e)||isNaN(on))throw a.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Je=new ze(1,0,0,1,$e,on);this.ctx.transform=this.ctx.transform.multiply(Je)},Re.prototype.transform=function($e,on,Je,an,Ke,sn){if(isNaN($e)||isNaN(on)||isNaN(Je)||isNaN(an)||isNaN(Ke)||isNaN(sn))throw a.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var gn=new ze($e,on,Je,an,Ke,sn);this.ctx.transform=this.ctx.transform.multiply(gn)},Re.prototype.setTransform=function($e,on,Je,an,Ke,sn){$e=isNaN($e)?1:$e,on=isNaN(on)?0:on,Je=isNaN(Je)?0:Je,an=isNaN(an)?1:an,Ke=isNaN(Ke)?0:Ke,sn=isNaN(sn)?0:sn,this.ctx.transform=new ze($e,on,Je,an,Ke,sn)};var Ye=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};Re.prototype.drawImage=function($e,on,Je,an,Ke,sn,gn,mn,yn){var Sn=this.pdf.getImageProperties($e),_n=1,wn=1,Nn=1,Tn=1;an!==void 0&&mn!==void 0&&(Nn=mn/an,Tn=yn/Ke,_n=Sn.width/an*mn/an,wn=Sn.height/Ke*yn/Ke),sn===void 0&&(sn=on,gn=Je,on=0,Je=0),an!==void 0&&mn===void 0&&(mn=an,yn=Ke),an===void 0&&mn===void 0&&(mn=Sn.width,yn=Sn.height);for(var Cn,In=this.ctx.transform.decompose(),Rn=Me(In.rotate.shx),bn=new ze,kn=(bn=(bn=(bn=bn.multiply(In.translate)).multiply(In.skew)).multiply(In.scale)).applyToRectangle(new _e(sn-on*Nn,gn-Je*Tn,an*_n,Ke*wn)),En=en.call(this,kn),On=[],Mn=0;Mn<En.length;Mn+=1)On.indexOf(En[Mn])===-1&&On.push(En[Mn]);if(Ge(On),this.autoPaging)for(var Bn=On[0],Hn=On[On.length-1],$n=Bn;$n<Hn+1;$n++){this.pdf.setPage($n);var Un=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],qn=$n===1?this.posY+this.margin[0]:this.margin[0],jn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Xn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Gn=$n===1?0:jn+($n-2)*Xn;if(this.ctx.clip_path.length!==0){var ri=this.path;Cn=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=nn(Cn,this.posX+this.margin[3],-Gn+qn+this.ctx.prevPageLastElemOffset),Ce.call(this,"fill",!0),this.path=ri}var ui=JSON.parse(JSON.stringify(kn));ui=nn([ui],this.posX+this.margin[3],-Gn+qn+this.ctx.prevPageLastElemOffset)[0];var ti=($n>Bn||$n<Hn)&&Ye.call(this);ti&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Un,Xn,null).clip().discardPath()),this.pdf.addImage($e,"JPEG",ui.x,ui.y,ui.w,ui.h,null,null,Rn),ti&&this.pdf.restoreGraphicsState()}else this.pdf.addImage($e,"JPEG",kn.x,kn.y,kn.w,kn.h,null,null,Rn)};var en=function($e,on,Je){var an=[];on=on||this.pdf.internal.pageSize.width,Je=Je||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Ke=this.posY+this.ctx.prevPageLastElemOffset;switch($e.type){default:case"mt":case"lt":an.push(Math.floor(($e.y+Ke)/Je)+1);break;case"arc":an.push(Math.floor(($e.y+Ke-$e.radius)/Je)+1),an.push(Math.floor(($e.y+Ke+$e.radius)/Je)+1);break;case"qct":var sn=De(this.ctx.lastPoint.x,this.ctx.lastPoint.y,$e.x1,$e.y1,$e.x,$e.y);an.push(Math.floor((sn.y+Ke)/Je)+1),an.push(Math.floor((sn.y+sn.h+Ke)/Je)+1);break;case"bct":var gn=Ue(this.ctx.lastPoint.x,this.ctx.lastPoint.y,$e.x1,$e.y1,$e.x2,$e.y2,$e.x,$e.y);an.push(Math.floor((gn.y+Ke)/Je)+1),an.push(Math.floor((gn.y+gn.h+Ke)/Je)+1);break;case"rect":an.push(Math.floor(($e.y+Ke)/Je)+1),an.push(Math.floor(($e.y+$e.h+Ke)/Je)+1)}for(var mn=0;mn<an.length;mn+=1)for(;this.pdf.internal.getNumberOfPages()<an[mn];)je.call(this);return an},je=function(){var $e=this.fillStyle,on=this.strokeStyle,Je=this.font,an=this.lineCap,Ke=this.lineWidth,sn=this.lineJoin;this.pdf.addPage(),this.fillStyle=$e,this.strokeStyle=on,this.font=Je,this.lineCap=an,this.lineWidth=Ke,this.lineJoin=sn},nn=function($e,on,Je){for(var an=0;an<$e.length;an++)switch($e[an].type){case"bct":$e[an].x2+=on,$e[an].y2+=Je;case"qct":$e[an].x1+=on,$e[an].y1+=Je;case"mt":case"lt":case"arc":default:$e[an].x+=on,$e[an].y+=Je}return $e},Ge=function($e){return $e.sort(function(on,Je){return on-Je})},Oe=function($e,on){for(var Je,an,Ke=this.fillStyle,sn=this.strokeStyle,gn=this.lineCap,mn=this.lineWidth,yn=Math.abs(mn*this.ctx.transform.scaleX),Sn=this.lineJoin,_n=JSON.parse(JSON.stringify(this.path)),wn=JSON.parse(JSON.stringify(this.path)),Nn=[],Tn=0;Tn<wn.length;Tn++)if(wn[Tn].x!==void 0)for(var Cn=en.call(this,wn[Tn]),In=0;In<Cn.length;In+=1)Nn.indexOf(Cn[In])===-1&&Nn.push(Cn[In]);for(var Rn=0;Rn<Nn.length;Rn++)for(;this.pdf.internal.getNumberOfPages()<Nn[Rn];)je.call(this);if(Ge(Nn),this.autoPaging)for(var bn=Nn[0],kn=Nn[Nn.length-1],En=bn;En<kn+1;En++){this.pdf.setPage(En),this.fillStyle=Ke,this.strokeStyle=sn,this.lineCap=gn,this.lineWidth=yn,this.lineJoin=Sn;var On=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Mn=En===1?this.posY+this.margin[0]:this.margin[0],Bn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Hn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],$n=En===1?0:Bn+(En-2)*Hn;if(this.ctx.clip_path.length!==0){var Un=this.path;Je=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=nn(Je,this.posX+this.margin[3],-$n+Mn+this.ctx.prevPageLastElemOffset),Ce.call(this,$e,!0),this.path=Un}if(an=JSON.parse(JSON.stringify(_n)),this.path=nn(an,this.posX+this.margin[3],-$n+Mn+this.ctx.prevPageLastElemOffset),on===!1||En===0){var qn=(En>bn||En<kn)&&Ye.call(this);qn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],On,Hn,null).clip().discardPath()),Ce.call(this,$e,on),qn&&this.pdf.restoreGraphicsState()}this.lineWidth=mn}else this.lineWidth=yn,Ce.call(this,$e,on),this.lineWidth=mn;this.path=_n},Ce=function($e,on){if(($e!=="stroke"||on||!Te.call(this))&&($e==="stroke"||on||!t.call(this))){for(var Je,an,Ke=[],sn=this.path,gn=0;gn<sn.length;gn++){var mn=sn[gn];switch(mn.type){case"begin":Ke.push({begin:!0});break;case"close":Ke.push({close:!0});break;case"mt":Ke.push({start:mn,deltas:[],abs:[]});break;case"lt":var yn=Ke.length;if(sn[gn-1]&&!isNaN(sn[gn-1].x)&&(Je=[mn.x-sn[gn-1].x,mn.y-sn[gn-1].y],yn>0)){for(;yn>=0;yn--)if(Ke[yn-1].close!==!0&&Ke[yn-1].begin!==!0){Ke[yn-1].deltas.push(Je),Ke[yn-1].abs.push(mn);break}}break;case"bct":Je=[mn.x1-sn[gn-1].x,mn.y1-sn[gn-1].y,mn.x2-sn[gn-1].x,mn.y2-sn[gn-1].y,mn.x-sn[gn-1].x,mn.y-sn[gn-1].y],Ke[Ke.length-1].deltas.push(Je);break;case"qct":var Sn=sn[gn-1].x+2/3*(mn.x1-sn[gn-1].x),_n=sn[gn-1].y+2/3*(mn.y1-sn[gn-1].y),wn=mn.x+2/3*(mn.x1-mn.x),Nn=mn.y+2/3*(mn.y1-mn.y),Tn=mn.x,Cn=mn.y;Je=[Sn-sn[gn-1].x,_n-sn[gn-1].y,wn-sn[gn-1].x,Nn-sn[gn-1].y,Tn-sn[gn-1].x,Cn-sn[gn-1].y],Ke[Ke.length-1].deltas.push(Je);break;case"arc":Ke.push({deltas:[],abs:[],arc:!0}),Array.isArray(Ke[Ke.length-1].abs)&&Ke[Ke.length-1].abs.push(mn)}}an=on?null:$e==="stroke"?"stroke":"fill";for(var In=!1,Rn=0;Rn<Ke.length;Rn++)if(Ke[Rn].arc)for(var bn=Ke[Rn].abs,kn=0;kn<bn.length;kn++){var En=bn[kn];En.type==="arc"?un.call(this,En.x,En.y,En.radius,En.startAngle,En.endAngle,En.counterclockwise,void 0,on,!In):Xe.call(this,En.x,En.y),In=!0}else if(Ke[Rn].close===!0)this.pdf.internal.out("h"),In=!1;else if(Ke[Rn].begin!==!0){var On=Ke[Rn].start.x,Mn=Ke[Rn].start.y;fn.call(this,Ke[Rn].deltas,On,Mn),In=!0}an&&Qe.call(this,an),on&&hn.call(this)}},St=function($e){var on=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Je=on*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return $e-Je;case"top":return $e+on-Je;case"hanging":return $e+on-2*Je;case"middle":return $e+on/2-Je;case"ideographic":return $e;case"alphabetic":default:return $e}},rn=function($e){return $e+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};Re.prototype.createLinearGradient=function(){var $e=function(){};return $e.colorStops=[],$e.addColorStop=function(on,Je){this.colorStops.push([on,Je])},$e.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},$e.isCanvasGradient=!0,$e},Re.prototype.createPattern=function(){return this.createLinearGradient()},Re.prototype.createRadialGradient=function(){return this.createLinearGradient()};var un=function($e,on,Je,an,Ke,sn,gn,mn,yn){for(var Sn=qe.call(this,Je,an,Ke,sn),_n=0;_n<Sn.length;_n++){var wn=Sn[_n];_n===0&&(yn?He.call(this,wn.x1+$e,wn.y1+on):Xe.call(this,wn.x1+$e,wn.y1+on)),dn.call(this,$e,on,wn.x2,wn.y2,wn.x3,wn.y3,wn.x4,wn.y4)}mn?hn.call(this):Qe.call(this,gn)},Qe=function($e){switch($e){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},hn=function(){this.pdf.clip(),this.pdf.discardPath()},He=function($e,on){this.pdf.internal.out(Se($e)+" "+Ee(on)+" m")},pn=function($e){var on;switch($e.align){case"right":case"end":on="right";break;case"center":on="center";break;case"left":case"start":default:on="left"}var Je=this.pdf.getTextDimensions($e.text),an=St.call(this,$e.y),Ke=rn.call(this,an)-Je.h,sn=this.ctx.transform.applyToPoint(new Ve($e.x,an)),gn=this.ctx.transform.decompose(),mn=new ze;mn=(mn=(mn=mn.multiply(gn.translate)).multiply(gn.skew)).multiply(gn.scale);for(var yn,Sn,_n,wn=this.ctx.transform.applyToRectangle(new _e($e.x,an,Je.w,Je.h)),Nn=mn.applyToRectangle(new _e($e.x,Ke,Je.w,Je.h)),Tn=en.call(this,Nn),Cn=[],In=0;In<Tn.length;In+=1)Cn.indexOf(Tn[In])===-1&&Cn.push(Tn[In]);if(Ge(Cn),this.autoPaging)for(var Rn=Cn[0],bn=Cn[Cn.length-1],kn=Rn;kn<bn+1;kn++){this.pdf.setPage(kn);var En=kn===1?this.posY+this.margin[0]:this.margin[0],On=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Mn=this.pdf.internal.pageSize.height-this.margin[2],Bn=Mn-this.margin[0],Hn=this.pdf.internal.pageSize.width-this.margin[1],$n=Hn-this.margin[3],Un=kn===1?0:On+(kn-2)*Bn;if(this.ctx.clip_path.length!==0){var qn=this.path;yn=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=nn(yn,this.posX+this.margin[3],-1*Un+En),Ce.call(this,"fill",!0),this.path=qn}var jn=nn([JSON.parse(JSON.stringify(Nn))],this.posX+this.margin[3],-Un+En+this.ctx.prevPageLastElemOffset)[0];$e.scale>=.01&&(Sn=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Sn*$e.scale),_n=this.lineWidth,this.lineWidth=_n*$e.scale);var Xn=this.autoPaging!=="text";if(Xn||jn.y+jn.h<=Mn){if(Xn||jn.y>=En&&jn.x<=Hn){var Gn=Xn?$e.text:this.pdf.splitTextToSize($e.text,$e.maxWidth||Hn-jn.x)[0],ri=nn([JSON.parse(JSON.stringify(wn))],this.posX+this.margin[3],-Un+En+this.ctx.prevPageLastElemOffset)[0],ui=Xn&&(kn>Rn||kn<bn)&&Ye.call(this);ui&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],$n,Bn,null).clip().discardPath()),this.pdf.text(Gn,ri.x,ri.y,{angle:$e.angle,align:on,renderingMode:$e.renderingMode}),ui&&this.pdf.restoreGraphicsState()}}else jn.y<Mn&&(this.ctx.prevPageLastElemOffset+=Mn-jn.y);$e.scale>=.01&&(this.pdf.setFontSize(Sn),this.lineWidth=_n)}else $e.scale>=.01&&(Sn=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Sn*$e.scale),_n=this.lineWidth,this.lineWidth=_n*$e.scale),this.pdf.text($e.text,sn.x+this.posX,sn.y+this.posY,{angle:$e.angle,align:on,renderingMode:$e.renderingMode,maxWidth:$e.maxWidth}),$e.scale>=.01&&(this.pdf.setFontSize(Sn),this.lineWidth=_n)},Xe=function($e,on,Je,an){Je=Je||0,an=an||0,this.pdf.internal.out(Se($e+Je)+" "+Ee(on+an)+" l")},fn=function($e,on,Je){return this.pdf.lines($e,on,Je,null,null)},dn=function($e,on,Je,an,Ke,sn,gn,mn){this.pdf.internal.out([r(Fe(Je+$e)),r(Be(an+on)),r(Fe(Ke+$e)),r(Be(sn+on)),r(Fe(gn+$e)),r(Be(mn+on)),"c"].join(" "))},qe=function($e,on,Je,an){for(var Ke=2*Math.PI,sn=Math.PI/2;on>Je;)on-=Ke;var gn=Math.abs(Je-on);gn<Ke&&an&&(gn=Ke-gn);for(var mn=[],yn=an?-1:1,Sn=on;gn>1e-5;){var _n=Sn+yn*Math.min(gn,sn);mn.push(tn.call(this,$e,Sn,_n)),gn-=Math.abs(_n-Sn),Sn=_n}return mn},tn=function($e,on,Je){var an=(Je-on)/2,Ke=$e*Math.cos(an),sn=$e*Math.sin(an),gn=Ke,mn=-sn,yn=gn*gn+mn*mn,Sn=yn+gn*Ke+mn*sn,_n=4/3*(Math.sqrt(2*yn*Sn)-Sn)/(gn*sn-mn*Ke),wn=gn-_n*mn,Nn=mn+_n*gn,Tn=wn,Cn=-Nn,In=an+on,Rn=Math.cos(In),bn=Math.sin(In);return{x1:$e*Math.cos(on),y1:$e*Math.sin(on),x2:wn*Rn-Nn*bn,y2:wn*bn+Nn*Rn,x3:Tn*Rn-Cn*bn,y3:Tn*bn+Cn*Rn,x4:$e*Math.cos(Je),y4:$e*Math.sin(Je)}},Me=function($e){return 180*$e/Math.PI},De=function($e,on,Je,an,Ke,sn){var gn=$e+.5*(Je-$e),mn=on+.5*(an-on),yn=Ke+.5*(Je-Ke),Sn=sn+.5*(an-sn),_n=Math.min($e,Ke,gn,yn),wn=Math.max($e,Ke,gn,yn),Nn=Math.min(on,sn,mn,Sn),Tn=Math.max(on,sn,mn,Sn);return new _e(_n,Nn,wn-_n,Tn-Nn)},Ue=function($e,on,Je,an,Ke,sn,gn,mn){var yn,Sn,_n,wn,Nn,Tn,Cn,In,Rn,bn,kn,En,On,Mn,Bn=Je-$e,Hn=an-on,$n=Ke-Je,Un=sn-an,qn=gn-Ke,jn=mn-sn;for(Sn=0;Sn<41;Sn++)Rn=(Cn=(_n=$e+(yn=Sn/40)*Bn)+yn*((Nn=Je+yn*$n)-_n))+yn*(Nn+yn*(Ke+yn*qn-Nn)-Cn),bn=(In=(wn=on+yn*Hn)+yn*((Tn=an+yn*Un)-wn))+yn*(Tn+yn*(sn+yn*jn-Tn)-In),Sn==0?(kn=Rn,En=bn,On=Rn,Mn=bn):(kn=Math.min(kn,Rn),En=Math.min(En,bn),On=Math.max(On,Rn),Mn=Math.max(Mn,bn));return new _e(Math.round(kn),Math.round(En),Math.round(On-kn),Math.round(Mn-En))},We=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var $e,on,Je=($e=this.ctx.lineDash,on=this.ctx.lineDashOffset,JSON.stringify({lineDash:$e,lineDashOffset:on}));this.prevLineDash!==Je&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Je)}}})(E.API),function(Ae){var r=function(Be){var Ve,_e,ze,xe,Ie,Re,e,t,Te,Ye;for(_e=[],ze=0,xe=(Be+=Ve="\0\0\0\0".slice(Be.length%4||4)).length;xe>ze;ze+=4)(Ie=(Be.charCodeAt(ze)<<24)+(Be.charCodeAt(ze+1)<<16)+(Be.charCodeAt(ze+2)<<8)+Be.charCodeAt(ze+3))!==0?(Re=(Ie=((Ie=((Ie=((Ie=(Ie-(Ye=Ie%85))/85)-(Te=Ie%85))/85)-(t=Ie%85))/85)-(e=Ie%85))/85)%85,_e.push(Re+33,e+33,t+33,Te+33,Ye+33)):_e.push(122);return function(en,je){for(var nn=je;nn>0;nn--)en.pop()}(_e,Ve.length),String.fromCharCode.apply(String,_e)+"~>"},Se=function(Be){var Ve,_e,ze,xe,Ie,Re=String,e="length",t=255,Te="charCodeAt",Ye="slice",en="replace";for(Be[Ye](-2),Be=Be[Ye](0,-2)[en](/\s/g,"")[en]("z","!!!!!"),ze=[],xe=0,Ie=(Be+=Ve="uuuuu"[Ye](Be[e]%5||5))[e];Ie>xe;xe+=5)_e=52200625*(Be[Te](xe)-33)+614125*(Be[Te](xe+1)-33)+7225*(Be[Te](xe+2)-33)+85*(Be[Te](xe+3)-33)+(Be[Te](xe+4)-33),ze.push(t&_e>>24,t&_e>>16,t&_e>>8,t&_e);return function(je,nn){for(var Ge=nn;Ge>0;Ge--)je.pop()}(ze,Ve[e]),Re.fromCharCode.apply(Re,ze)},Ee=function(Be){var Ve=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((Be=Be.replace(/\s/g,"")).indexOf(">")!==-1&&(Be=Be.substr(0,Be.indexOf(">"))),Be.length%2&&(Be+="0"),Ve.test(Be)===!1)return"";for(var _e="",ze=0;ze<Be.length;ze+=2)_e+=String.fromCharCode("0x"+(Be[ze]+Be[ze+1]));return _e},Fe=function(Be){for(var Ve=new Uint8Array(Be.length),_e=Be.length;_e--;)Ve[_e]=Be.charCodeAt(_e);return Be=(Ve=zlibSync(Ve)).reduce(function(ze,xe){return ze+String.fromCharCode(xe)},"")};Ae.processDataByFilters=function(Be,Ve){var _e=0,ze=Be||"",xe=[];for(typeof(Ve=Ve||[])=="string"&&(Ve=[Ve]),_e=0;_e<Ve.length;_e+=1)switch(Ve[_e]){case"ASCII85Decode":case"/ASCII85Decode":ze=Se(ze),xe.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":ze=r(ze),xe.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":ze=Ee(ze),xe.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":ze=ze.split("").map(function(Ie){return("0"+Ie.charCodeAt().toString(16)).slice(-2)}).join("")+">",xe.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":ze=Fe(ze),xe.push("/FlateDecode");break;default:throw new Error('The filter: "'+Ve[_e]+'" is not implemented')}return{data:ze,reverseChain:xe.reverse().join(" ")}}}(E.API),function(Ae){Ae.loadFile=function(r,Se,Ee){return function(Fe,Be,Ve){Be=Be!==!1,Ve=typeof Ve=="function"?Ve:function(){};var _e=void 0;try{_e=function(ze,xe,Ie){var Re=new XMLHttpRequest,e=0,t=function(Te){var Ye=Te.length,en=[],je=String.fromCharCode;for(e=0;e<Ye;e+=1)en.push(je(255&Te.charCodeAt(e)));return en.join("")};if(Re.open("GET",ze,!xe),Re.overrideMimeType("text/plain; charset=x-user-defined"),xe===!1&&(Re.onload=function(){Re.status===200?Ie(t(this.responseText)):Ie(void 0)}),Re.send(null),xe&&Re.status===200)return t(Re.responseText)}(Fe,Be,Ve)}catch{}return _e}(r,Se,Ee)},Ae.loadImageFile=Ae.loadFile}(E.API),function(Ae){function r(){return(n.html2canvas?Promise.resolve(n.html2canvas):__vitePreload(()=>import("./html2canvas.esm-BfxBtG_O.js"),[])).catch(function(Ve){return Promise.reject(new Error("Could not load html2canvas: "+Ve))}).then(function(Ve){return Ve.default?Ve.default:Ve})}function Se(){return(n.DOMPurify?Promise.resolve(n.DOMPurify):__vitePreload(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(Ve){return Promise.reject(new Error("Could not load dompurify: "+Ve))}).then(function(Ve){return Ve.default?Ve.default:Ve})}var Ee=function(Ve){var _e=_typeof(Ve);return _e==="undefined"?"undefined":_e==="string"||Ve instanceof String?"string":_e==="number"||Ve instanceof Number?"number":_e==="function"||Ve instanceof Function?"function":Ve&&Ve.constructor===Array?"array":Ve&&Ve.nodeType===1?"element":_e==="object"?"object":"unknown"},Fe=function(Ve,_e){var ze=document.createElement(Ve);for(var xe in _e.className&&(ze.className=_e.className),_e.innerHTML&&_e.dompurify&&(ze.innerHTML=_e.dompurify.sanitize(_e.innerHTML)),_e.style)ze.style[xe]=_e.style[xe];return ze},Be=function Ve(_e){var ze=Object.assign(Ve.convert(Promise.resolve()),JSON.parse(JSON.stringify(Ve.template))),xe=Ve.convert(Promise.resolve(),ze);return xe=(xe=xe.setProgress(1,Ve,1,[Ve])).set(_e)};(Be.prototype=Object.create(Promise.prototype)).constructor=Be,Be.convert=function(Ve,_e){return Ve.__proto__=_e||Be.prototype,Ve},Be.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},Be.prototype.from=function(Ve,_e){return this.then(function(){switch(_e=_e||function(ze){switch(Ee(ze)){case"string":return"string";case"element":return ze.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(Ve)){case"string":return this.then(Se).then(function(ze){return this.set({src:Fe("div",{innerHTML:Ve,dompurify:ze})})});case"element":return this.set({src:Ve});case"canvas":return this.set({canvas:Ve});case"img":return this.set({img:Ve});default:return this.error("Unknown source type.")}})},Be.prototype.to=function(Ve){switch(Ve){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},Be.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var Ve={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},_e=function ze(xe,Ie){for(var Re=xe.nodeType===3?document.createTextNode(xe.nodeValue):xe.cloneNode(!1),e=xe.firstChild;e;e=e.nextSibling)Ie!==!0&&e.nodeType===1&&e.nodeName==="SCRIPT"||Re.appendChild(ze(e,Ie));return xe.nodeType===1&&(xe.nodeName==="CANVAS"?(Re.width=xe.width,Re.height=xe.height,Re.getContext("2d").drawImage(xe,0,0)):xe.nodeName!=="TEXTAREA"&&xe.nodeName!=="SELECT"||(Re.value=xe.value),Re.addEventListener("load",function(){Re.scrollTop=xe.scrollTop,Re.scrollLeft=xe.scrollLeft},!0)),Re}(this.prop.src,this.opt.html2canvas.javascriptEnabled);_e.tagName==="BODY"&&(Ve.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=Fe("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=Fe("div",{className:"html2pdf__container",style:Ve}),this.prop.container.appendChild(_e),this.prop.container.firstChild.appendChild(Fe("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},Be.prototype.toCanvas=function(){var Ve=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(Ve).then(r).then(function(_e){var ze=Object.assign({},this.opt.html2canvas);return delete ze.onrendered,_e(this.prop.container,ze)}).then(function(_e){(this.opt.html2canvas.onrendered||function(){})(_e),this.prop.canvas=_e,document.body.removeChild(this.prop.overlay)})},Be.prototype.toContext2d=function(){var Ve=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(Ve).then(r).then(function(_e){var ze=this.opt.jsPDF,xe=this.opt.fontFaces,Ie=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,Re=Object.assign({async:!0,allowTaint:!0,scale:Ie,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete Re.onrendered,ze.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,ze.context2d.posX=this.opt.x,ze.context2d.posY=this.opt.y,ze.context2d.margin=this.opt.margin,ze.context2d.fontFaces=xe,xe)for(var e=0;e<xe.length;++e){var t=xe[e],Te=t.src.find(function(Ye){return Ye.format==="truetype"});Te&&ze.addFont(Te.url,t.ref.name,t.ref.style)}return Re.windowHeight=Re.windowHeight||0,Re.windowHeight=Re.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):Re.windowHeight,ze.context2d.save(!0),_e(this.prop.container,Re)}).then(function(_e){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(_e),this.prop.canvas=_e,document.body.removeChild(this.prop.overlay)})},Be.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var Ve=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=Ve})},Be.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},Be.prototype.output=function(Ve,_e,ze){return(ze=ze||"pdf").toLowerCase()==="img"||ze.toLowerCase()==="image"?this.outputImg(Ve,_e):this.outputPdf(Ve,_e)},Be.prototype.outputPdf=function(Ve,_e){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(Ve,_e)})},Be.prototype.outputImg=function(Ve){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(Ve){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+Ve+'" is not supported.'}})},Be.prototype.save=function(Ve){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(Ve?{filename:Ve}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},Be.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},Be.prototype.set=function(Ve){if(Ee(Ve)!=="object")return this;var _e=Object.keys(Ve||{}).map(function(ze){if(ze in Be.template.prop)return function(){this.prop[ze]=Ve[ze]};switch(ze){case"margin":return this.setMargin.bind(this,Ve.margin);case"jsPDF":return function(){return this.opt.jsPDF=Ve.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,Ve.pageSize);default:return function(){this.opt[ze]=Ve[ze]}}},this);return this.then(function(){return this.thenList(_e)})},Be.prototype.get=function(Ve,_e){return this.then(function(){var ze=Ve in Be.template.prop?this.prop[Ve]:this.opt[Ve];return _e?_e(ze):ze})},Be.prototype.setMargin=function(Ve){return this.then(function(){switch(Ee(Ve)){case"number":Ve=[Ve,Ve,Ve,Ve];case"array":if(Ve.length===2&&(Ve=[Ve[0],Ve[1],Ve[0],Ve[1]]),Ve.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=Ve}).then(this.setPageSize)},Be.prototype.setPageSize=function(Ve){function _e(ze,xe){return Math.floor(ze*xe/72*96)}return this.then(function(){(Ve=Ve||E.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(Ve.inner={width:Ve.width-this.opt.margin[1]-this.opt.margin[3],height:Ve.height-this.opt.margin[0]-this.opt.margin[2]},Ve.inner.px={width:_e(Ve.inner.width,Ve.k),height:_e(Ve.inner.height,Ve.k)},Ve.inner.ratio=Ve.inner.height/Ve.inner.width),this.prop.pageSize=Ve})},Be.prototype.setProgress=function(Ve,_e,ze,xe){return Ve!=null&&(this.progress.val=Ve),_e!=null&&(this.progress.state=_e),ze!=null&&(this.progress.n=ze),xe!=null&&(this.progress.stack=xe),this.progress.ratio=this.progress.val/this.progress.state,this},Be.prototype.updateProgress=function(Ve,_e,ze,xe){return this.setProgress(Ve?this.progress.val+Ve:null,_e||null,ze?this.progress.n+ze:null,xe?this.progress.stack.concat(xe):null)},Be.prototype.then=function(Ve,_e){var ze=this;return this.thenCore(Ve,_e,function(xe,Ie){return ze.updateProgress(null,null,1,[xe]),Promise.prototype.then.call(this,function(Re){return ze.updateProgress(null,xe),Re}).then(xe,Ie).then(function(Re){return ze.updateProgress(1),Re})})},Be.prototype.thenCore=function(Ve,_e,ze){ze=ze||Promise.prototype.then,Ve&&(Ve=Ve.bind(this)),_e&&(_e=_e.bind(this));var xe=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:Be.convert(Object.assign({},this),Promise.prototype),Ie=ze.call(xe,Ve,_e);return Be.convert(Ie,this.__proto__)},Be.prototype.thenExternal=function(Ve,_e){return Promise.prototype.then.call(this,Ve,_e)},Be.prototype.thenList=function(Ve){var _e=this;return Ve.forEach(function(ze){_e=_e.thenCore(ze)}),_e},Be.prototype.catch=function(Ve){Ve&&(Ve=Ve.bind(this));var _e=Promise.prototype.catch.call(this,Ve);return Be.convert(_e,this)},Be.prototype.catchExternal=function(Ve){return Promise.prototype.catch.call(this,Ve)},Be.prototype.error=function(Ve){return this.then(function(){throw new Error(Ve)})},Be.prototype.using=Be.prototype.set,Be.prototype.saveAs=Be.prototype.save,Be.prototype.export=Be.prototype.output,Be.prototype.run=Be.prototype.then,E.getPageSize=function(Ve,_e,ze){if(_typeof(Ve)==="object"){var xe=Ve;Ve=xe.orientation,_e=xe.unit||_e,ze=xe.format||ze}_e=_e||"mm",ze=ze||"a4",Ve=(""+(Ve||"P")).toLowerCase();var Ie,Re=(""+ze).toLowerCase(),e={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(_e){case"pt":Ie=1;break;case"mm":Ie=72/25.4;break;case"cm":Ie=72/2.54;break;case"in":Ie=72;break;case"px":Ie=.75;break;case"pc":case"em":Ie=12;break;case"ex":Ie=6;break;default:throw"Invalid unit: "+_e}var t,Te=0,Ye=0;if(e.hasOwnProperty(Re))Te=e[Re][1]/Ie,Ye=e[Re][0]/Ie;else try{Te=ze[1],Ye=ze[0]}catch{throw new Error("Invalid format: "+ze)}if(Ve==="p"||Ve==="portrait")Ve="p",Ye>Te&&(t=Ye,Ye=Te,Te=t);else{if(Ve!=="l"&&Ve!=="landscape")throw"Invalid orientation: "+Ve;Ve="l",Te>Ye&&(t=Ye,Ye=Te,Te=t)}return{width:Ye,height:Te,unit:_e,k:Ie,orientation:Ve}},Ae.html=function(Ve,_e){(_e=_e||{}).callback=_e.callback||function(){},_e.html2canvas=_e.html2canvas||{},_e.html2canvas.canvas=_e.html2canvas.canvas||this.canvas,_e.jsPDF=_e.jsPDF||this,_e.fontFaces=_e.fontFaces?_e.fontFaces.map(jt):null;var ze=new Be(_e);return _e.worker?ze:ze.from(Ve).doCallback()}}(E.API),E.API.addJS=function(Ae){return Ht=Ae,this.internal.events.subscribe("postPutResources",function(){Ut=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Ut+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),zt=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Ht+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Ut!==void 0&&zt!==void 0&&this.internal.out("/Names <</JavaScript "+Ut+" 0 R>>")}),this},function(Ae){var r;Ae.events.push(["postPutResources",function(){var Se=this,Ee=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var Fe=Se.outline.render().split(/\r\n/),Be=0;Be<Fe.length;Be++){var Ve=Fe[Be],_e=Ee.exec(Ve);if(_e!=null){var ze=_e[1];Se.internal.newObjectDeferredBegin(ze,!1)}Se.internal.write(Ve)}if(this.outline.createNamedDestinations){var xe=this.internal.pages.length,Ie=[];for(Be=0;Be<xe;Be++){var Re=Se.internal.newObject();Ie.push(Re);var e=Se.internal.getPageInfo(Be+1);Se.internal.write("<< /D["+e.objId+" 0 R /XYZ null null null]>> endobj")}var t=Se.internal.newObject();for(Se.internal.write("<< /Names [ "),Be=0;Be<Ie.length;Be++)Se.internal.write("(page_"+(Be+1)+")"+Ie[Be]+" 0 R");Se.internal.write(" ] >>","endobj"),r=Se.internal.newObject(),Se.internal.write("<< /Dests "+t+" 0 R"),Se.internal.write(">>","endobj")}}]),Ae.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+r+" 0 R"))}]),Ae.events.push(["initialized",function(){var Se=this;Se.outline={createNamedDestinations:!1,root:{children:[]}},Se.outline.add=function(Ee,Fe,Be){var Ve={title:Fe,options:Be,children:[]};return Ee==null&&(Ee=this.root),Ee.children.push(Ve),Ve},Se.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=Se,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},Se.outline.genIds_r=function(Ee){Ee.id=Se.internal.newObjectDeferred();for(var Fe=0;Fe<Ee.children.length;Fe++)this.genIds_r(Ee.children[Fe])},Se.outline.renderRoot=function(Ee){this.objStart(Ee),this.line("/Type /Outlines"),Ee.children.length>0&&(this.line("/First "+this.makeRef(Ee.children[0])),this.line("/Last "+this.makeRef(Ee.children[Ee.children.length-1]))),this.line("/Count "+this.count_r({count:0},Ee)),this.objEnd()},Se.outline.renderItems=function(Ee){for(var Fe=this.ctx.pdf.internal.getVerticalCoordinateString,Be=0;Be<Ee.children.length;Be++){var Ve=Ee.children[Be];this.objStart(Ve),this.line("/Title "+this.makeString(Ve.title)),this.line("/Parent "+this.makeRef(Ee)),Be>0&&this.line("/Prev "+this.makeRef(Ee.children[Be-1])),Be<Ee.children.length-1&&this.line("/Next "+this.makeRef(Ee.children[Be+1])),Ve.children.length>0&&(this.line("/First "+this.makeRef(Ve.children[0])),this.line("/Last "+this.makeRef(Ve.children[Ve.children.length-1])));var _e=this.count=this.count_r({count:0},Ve);if(_e>0&&this.line("/Count "+_e),Ve.options&&Ve.options.pageNumber){var ze=Se.internal.getPageInfo(Ve.options.pageNumber);this.line("/Dest ["+ze.objId+" 0 R /XYZ 0 "+Fe(0)+" 0]")}this.objEnd()}for(var xe=0;xe<Ee.children.length;xe++)this.renderItems(Ee.children[xe])},Se.outline.line=function(Ee){this.ctx.val+=Ee+`\r
`},Se.outline.makeRef=function(Ee){return Ee.id+" 0 R"},Se.outline.makeString=function(Ee){return"("+Se.internal.pdfEscape(Ee)+")"},Se.outline.objStart=function(Ee){this.ctx.val+=`\r
`+Ee.id+` 0 obj\r
<<\r
`},Se.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},Se.outline.count_r=function(Ee,Fe){for(var Be=0;Be<Fe.children.length;Be++)Ee.count++,this.count_r(Ee,Fe.children[Be]);return Ee.count}}])}(E.API),function(Ae){var r=[192,193,194,195,196,197,198,199];Ae.processJPEG=function(Se,Ee,Fe,Be,Ve,_e){var ze,xe=this.decode.DCT_DECODE,Ie=null;if(typeof Se=="string"||this.__addimage__.isArrayBuffer(Se)||this.__addimage__.isArrayBufferView(Se)){switch(Se=Ve||Se,Se=this.__addimage__.isArrayBuffer(Se)?new Uint8Array(Se):Se,(ze=function(Re){for(var e,t=256*Re.charCodeAt(4)+Re.charCodeAt(5),Te=Re.length,Ye={width:0,height:0,numcomponents:1},en=4;en<Te;en+=2){if(en+=t,r.indexOf(Re.charCodeAt(en+1))!==-1){e=256*Re.charCodeAt(en+5)+Re.charCodeAt(en+6),Ye={width:256*Re.charCodeAt(en+7)+Re.charCodeAt(en+8),height:e,numcomponents:Re.charCodeAt(en+9)};break}t=256*Re.charCodeAt(en+2)+Re.charCodeAt(en+3)}return Ye}(Se=this.__addimage__.isArrayBufferView(Se)?this.__addimage__.arrayBufferToBinaryString(Se):Se)).numcomponents){case 1:_e=this.color_spaces.DEVICE_GRAY;break;case 4:_e=this.color_spaces.DEVICE_CMYK;break;case 3:_e=this.color_spaces.DEVICE_RGB}Ie={data:Se,width:ze.width,height:ze.height,colorSpace:_e,bitsPerComponent:8,filter:xe,index:Ee,alias:Fe}}return Ie}}(E.API);var Vt,Gt,Yt,Jt,Xt,Kt=function(){var Ae,r,Se;function Ee(Be){var Ve,_e,ze,xe,Ie,Re,e,t,Te,Ye,en,je,nn,Ge;for(this.data=Be,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},Re=null;;){switch(Ve=this.readUInt32(),Te=(function(){var Oe,Ce;for(Ce=[],Oe=0;Oe<4;++Oe)Ce.push(String.fromCharCode(this.data[this.pos++]));return Ce}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(Ve);break;case"fcTL":Re&&this.animation.frames.push(Re),this.pos+=4,Re={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},Ie=this.readUInt16(),xe=this.readUInt16()||100,Re.delay=1e3*Ie/xe,Re.disposeOp=this.data[this.pos++],Re.blendOp=this.data[this.pos++],Re.data=[];break;case"IDAT":case"fdAT":for(Te==="fdAT"&&(this.pos+=4,Ve-=4),Be=Re?.data||this.imgData,je=0;0<=Ve?je<Ve:je>Ve;0<=Ve?++je:--je)Be.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(ze=this.palette.length/3,this.transparency.indexed=this.read(Ve),this.transparency.indexed.length>ze)throw new Error("More transparent colors than palette size");if((Ye=ze-this.transparency.indexed.length)>0)for(nn=0;0<=Ye?nn<Ye:nn>Ye;0<=Ye?++nn:--nn)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(Ve)[0];break;case 2:this.transparency.rgb=this.read(Ve)}break;case"tEXt":e=(en=this.read(Ve)).indexOf(0),t=String.fromCharCode.apply(String,en.slice(0,e)),this.text[t]=String.fromCharCode.apply(String,en.slice(e+1));break;case"IEND":return Re&&this.animation.frames.push(Re),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(Ge=this.colorType)===4||Ge===6,_e=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*_e,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=Ve}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}Ee.prototype.read=function(Be){var Ve,_e;for(_e=[],Ve=0;0<=Be?Ve<Be:Ve>Be;0<=Be?++Ve:--Ve)_e.push(this.data[this.pos++]);return _e},Ee.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},Ee.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},Ee.prototype.decodePixels=function(Be){var Ve=this.pixelBitlength/8,_e=new Uint8Array(this.width*this.height*Ve),ze=0,xe=this;if(Be==null&&(Be=this.imgData),Be.length===0)return new Uint8Array(0);function Ie(Re,e,t,Te){var Ye,en,je,nn,Ge,Oe,Ce,St,rn,un,Qe,hn,He,pn,Xe,fn,dn,qe,tn,Me,De,Ue=Math.ceil((xe.width-Re)/t),We=Math.ceil((xe.height-e)/Te),$e=xe.width==Ue&&xe.height==We;for(pn=Ve*Ue,hn=$e?_e:new Uint8Array(pn*We),Oe=Be.length,He=0,en=0;He<We&&ze<Oe;){switch(Be[ze++]){case 0:for(nn=dn=0;dn<pn;nn=dn+=1)hn[en++]=Be[ze++];break;case 1:for(nn=qe=0;qe<pn;nn=qe+=1)Ye=Be[ze++],Ge=nn<Ve?0:hn[en-Ve],hn[en++]=(Ye+Ge)%256;break;case 2:for(nn=tn=0;tn<pn;nn=tn+=1)Ye=Be[ze++],je=(nn-nn%Ve)/Ve,Xe=He&&hn[(He-1)*pn+je*Ve+nn%Ve],hn[en++]=(Xe+Ye)%256;break;case 3:for(nn=Me=0;Me<pn;nn=Me+=1)Ye=Be[ze++],je=(nn-nn%Ve)/Ve,Ge=nn<Ve?0:hn[en-Ve],Xe=He&&hn[(He-1)*pn+je*Ve+nn%Ve],hn[en++]=(Ye+Math.floor((Ge+Xe)/2))%256;break;case 4:for(nn=De=0;De<pn;nn=De+=1)Ye=Be[ze++],je=(nn-nn%Ve)/Ve,Ge=nn<Ve?0:hn[en-Ve],He===0?Xe=fn=0:(Xe=hn[(He-1)*pn+je*Ve+nn%Ve],fn=je&&hn[(He-1)*pn+(je-1)*Ve+nn%Ve]),Ce=Ge+Xe-fn,St=Math.abs(Ce-Ge),un=Math.abs(Ce-Xe),Qe=Math.abs(Ce-fn),rn=St<=un&&St<=Qe?Ge:un<=Qe?Xe:fn,hn[en++]=(Ye+rn)%256;break;default:throw new Error("Invalid filter algorithm: "+Be[ze-1])}if(!$e){var on=((e+He*Te)*xe.width+Re)*Ve,Je=He*pn;for(nn=0;nn<Ue;nn+=1){for(var an=0;an<Ve;an+=1)_e[on++]=hn[Je++];on+=(t-1)*Ve}}He++}}return Be=unzlibSync(Be),xe.interlaceMethod==1?(Ie(0,0,8,8),Ie(4,0,8,8),Ie(0,4,4,8),Ie(2,0,4,4),Ie(0,2,2,4),Ie(1,0,2,2),Ie(0,1,1,2)):Ie(0,0,1,1),_e},Ee.prototype.decodePalette=function(){var Be,Ve,_e,ze,xe,Ie,Re,e,t;for(_e=this.palette,Ie=this.transparency.indexed||[],xe=new Uint8Array((Ie.length||0)+_e.length),ze=0,Be=0,Ve=Re=0,e=_e.length;Re<e;Ve=Re+=3)xe[ze++]=_e[Ve],xe[ze++]=_e[Ve+1],xe[ze++]=_e[Ve+2],xe[ze++]=(t=Ie[Be++])!=null?t:255;return xe},Ee.prototype.copyToImageData=function(Be,Ve){var _e,ze,xe,Ie,Re,e,t,Te,Ye,en,je;if(ze=this.colors,Ye=null,_e=this.hasAlphaChannel,this.palette.length&&(Ye=(je=this._decodedPalette)!=null?je:this._decodedPalette=this.decodePalette(),ze=4,_e=!0),Te=(xe=Be.data||Be).length,Re=Ye||Ve,Ie=e=0,ze===1)for(;Ie<Te;)t=Ye?4*Ve[Ie/4]:e,en=Re[t++],xe[Ie++]=en,xe[Ie++]=en,xe[Ie++]=en,xe[Ie++]=_e?Re[t++]:255,e=t;else for(;Ie<Te;)t=Ye?4*Ve[Ie/4]:e,xe[Ie++]=Re[t++],xe[Ie++]=Re[t++],xe[Ie++]=Re[t++],xe[Ie++]=_e?Re[t++]:255,e=t},Ee.prototype.decode=function(){var Be;return Be=new Uint8Array(this.width*this.height*4),this.copyToImageData(Be,this.decodePixels()),Be};var Fe=function(){if(Object.prototype.toString.call(n)==="[object Window]"){try{r=n.document.createElement("canvas"),Se=r.getContext("2d")}catch{return!1}return!0}return!1};return Fe(),Ae=function(Be){var Ve;if(Fe()===!0)return Se.width=Be.width,Se.height=Be.height,Se.clearRect(0,0,Be.width,Be.height),Se.putImageData(Be,0,0),(Ve=new Image).src=r.toDataURL(),Ve;throw new Error("This method requires a Browser with Canvas-capability.")},Ee.prototype.decodeFrames=function(Be){var Ve,_e,ze,xe,Ie,Re,e,t;if(this.animation){for(t=[],_e=Ie=0,Re=(e=this.animation.frames).length;Ie<Re;_e=++Ie)Ve=e[_e],ze=Be.createImageData(Ve.width,Ve.height),xe=this.decodePixels(new Uint8Array(Ve.data)),this.copyToImageData(ze,xe),Ve.imageData=ze,t.push(Ve.image=Ae(ze));return t}},Ee.prototype.renderFrame=function(Be,Ve){var _e,ze,xe;return _e=(ze=this.animation.frames)[Ve],xe=ze[Ve-1],Ve===0&&Be.clearRect(0,0,this.width,this.height),xe?.disposeOp===1?Be.clearRect(xe.xOffset,xe.yOffset,xe.width,xe.height):xe?.disposeOp===2&&Be.putImageData(xe.imageData,xe.xOffset,xe.yOffset),_e.blendOp===0&&Be.clearRect(_e.xOffset,_e.yOffset,_e.width,_e.height),Be.drawImage(_e.image,_e.xOffset,_e.yOffset)},Ee.prototype.animate=function(Be){var Ve,_e,ze,xe,Ie,Re,e=this;return _e=0,Re=this.animation,xe=Re.numFrames,ze=Re.frames,Ie=Re.numPlays,(Ve=function(){var t,Te;if(t=_e++%xe,Te=ze[t],e.renderFrame(Be,t),xe>1&&_e/xe<Ie)return e.animation._timeout=setTimeout(Ve,Te.delay)})()},Ee.prototype.stopAnimation=function(){var Be;return clearTimeout((Be=this.animation)!=null?Be._timeout:void 0)},Ee.prototype.render=function(Be){var Ve,_e;return Be._png&&Be._png.stopAnimation(),Be._png=this,Be.width=this.width,Be.height=this.height,Ve=Be.getContext("2d"),this.animation?(this.decodeFrames(Ve),this.animate(Ve)):(_e=Ve.createImageData(this.width,this.height),this.copyToImageData(_e,this.decodePixels()),Ve.putImageData(_e,0,0))},Ee}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Zt(Ae){var r=0;if(Ae[r++]!==71||Ae[r++]!==73||Ae[r++]!==70||Ae[r++]!==56||(Ae[r++]+1&253)!=56||Ae[r++]!==97)throw new Error("Invalid GIF 87a/89a header.");var Se=Ae[r++]|Ae[r++]<<8,Ee=Ae[r++]|Ae[r++]<<8,Fe=Ae[r++],Be=Fe>>7,Ve=1<<(7&Fe)+1;Ae[r++],Ae[r++];var _e=null,ze=null;Be&&(_e=r,ze=Ve,r+=3*Ve);var xe=!0,Ie=[],Re=0,e=null,t=0,Te=null;for(this.width=Se,this.height=Ee;xe&&r<Ae.length;)switch(Ae[r++]){case 33:switch(Ae[r++]){case 255:if(Ae[r]!==11||Ae[r+1]==78&&Ae[r+2]==69&&Ae[r+3]==84&&Ae[r+4]==83&&Ae[r+5]==67&&Ae[r+6]==65&&Ae[r+7]==80&&Ae[r+8]==69&&Ae[r+9]==50&&Ae[r+10]==46&&Ae[r+11]==48&&Ae[r+12]==3&&Ae[r+13]==1&&Ae[r+16]==0)r+=14,Te=Ae[r++]|Ae[r++]<<8,r++;else for(r+=12;;){if(!((He=Ae[r++])>=0))throw Error("Invalid block size");if(He===0)break;r+=He}break;case 249:if(Ae[r++]!==4||Ae[r+4]!==0)throw new Error("Invalid graphics extension block.");var Ye=Ae[r++];Re=Ae[r++]|Ae[r++]<<8,e=Ae[r++],(1&Ye)==0&&(e=null),t=Ye>>2&7,r++;break;case 254:for(;;){if(!((He=Ae[r++])>=0))throw Error("Invalid block size");if(He===0)break;r+=He}break;default:throw new Error("Unknown graphic control label: 0x"+Ae[r-1].toString(16))}break;case 44:var en=Ae[r++]|Ae[r++]<<8,je=Ae[r++]|Ae[r++]<<8,nn=Ae[r++]|Ae[r++]<<8,Ge=Ae[r++]|Ae[r++]<<8,Oe=Ae[r++],Ce=Oe>>6&1,St=1<<(7&Oe)+1,rn=_e,un=ze,Qe=!1;Oe>>7&&(Qe=!0,rn=r,un=St,r+=3*St);var hn=r;for(r++;;){var He;if(!((He=Ae[r++])>=0))throw Error("Invalid block size");if(He===0)break;r+=He}Ie.push({x:en,y:je,width:nn,height:Ge,has_local_palette:Qe,palette_offset:rn,palette_size:un,data_offset:hn,data_length:r-hn,transparent_index:e,interlaced:!!Ce,delay:Re,disposal:t});break;case 59:xe=!1;break;default:throw new Error("Unknown gif block: 0x"+Ae[r-1].toString(16))}this.numFrames=function(){return Ie.length},this.loopCount=function(){return Te},this.frameInfo=function(pn){if(pn<0||pn>=Ie.length)throw new Error("Frame index out of range.");return Ie[pn]},this.decodeAndBlitFrameBGRA=function(pn,Xe){var fn=this.frameInfo(pn),dn=fn.width*fn.height,qe=new Uint8Array(dn);$t(Ae,fn.data_offset,qe,dn);var tn=fn.palette_offset,Me=fn.transparent_index;Me===null&&(Me=256);var De=fn.width,Ue=Se-De,We=De,$e=4*(fn.y*Se+fn.x),on=4*((fn.y+fn.height)*Se+fn.x),Je=$e,an=4*Ue;fn.interlaced===!0&&(an+=4*Se*7);for(var Ke=8,sn=0,gn=qe.length;sn<gn;++sn){var mn=qe[sn];if(We===0&&(We=De,(Je+=an)>=on&&(an=4*Ue+4*Se*(Ke-1),Je=$e+(De+Ue)*(Ke<<1),Ke>>=1)),mn===Me)Je+=4;else{var yn=Ae[tn+3*mn],Sn=Ae[tn+3*mn+1],_n=Ae[tn+3*mn+2];Xe[Je++]=_n,Xe[Je++]=Sn,Xe[Je++]=yn,Xe[Je++]=255}--We}},this.decodeAndBlitFrameRGBA=function(pn,Xe){var fn=this.frameInfo(pn),dn=fn.width*fn.height,qe=new Uint8Array(dn);$t(Ae,fn.data_offset,qe,dn);var tn=fn.palette_offset,Me=fn.transparent_index;Me===null&&(Me=256);var De=fn.width,Ue=Se-De,We=De,$e=4*(fn.y*Se+fn.x),on=4*((fn.y+fn.height)*Se+fn.x),Je=$e,an=4*Ue;fn.interlaced===!0&&(an+=4*Se*7);for(var Ke=8,sn=0,gn=qe.length;sn<gn;++sn){var mn=qe[sn];if(We===0&&(We=De,(Je+=an)>=on&&(an=4*Ue+4*Se*(Ke-1),Je=$e+(De+Ue)*(Ke<<1),Ke>>=1)),mn===Me)Je+=4;else{var yn=Ae[tn+3*mn],Sn=Ae[tn+3*mn+1],_n=Ae[tn+3*mn+2];Xe[Je++]=yn,Xe[Je++]=Sn,Xe[Je++]=_n,Xe[Je++]=255}--We}}}function $t(Ae,r,Se,Ee){for(var Fe=Ae[r++],Be=1<<Fe,Ve=Be+1,_e=Ve+1,ze=Fe+1,xe=(1<<ze)-1,Ie=0,Re=0,e=0,t=Ae[r++],Te=new Int32Array(4096),Ye=null;;){for(;Ie<16&&t!==0;)Re|=Ae[r++]<<Ie,Ie+=8,t===1?t=Ae[r++]:--t;if(Ie<ze)break;var en=Re&xe;if(Re>>=ze,Ie-=ze,en!==Be){if(en===Ve)break;for(var je=en<_e?en:Ye,nn=0,Ge=je;Ge>Be;)Ge=Te[Ge]>>8,++nn;var Oe=Ge;if(e+nn+(je!==en?1:0)>Ee)return void a.log("Warning, gif stream longer than expected.");Se[e++]=Oe;var Ce=e+=nn;for(je!==en&&(Se[e++]=Oe),Ge=je;nn--;)Ge=Te[Ge],Se[--Ce]=255&Ge,Ge>>=8;Ye!==null&&_e<4096&&(Te[_e++]=Ye<<8|Oe,_e>=xe+1&&ze<12&&(++ze,xe=xe<<1|1)),Ye=en}else _e=Ve+1,xe=(1<<(ze=Fe+1))-1,Ye=null}return e!==Ee&&a.log("Warning, gif stream shorter than expected."),Se}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Qt(Ae){var r,Se,Ee,Fe,Be,Ve=Math.floor,_e=new Array(64),ze=new Array(64),xe=new Array(64),Ie=new Array(64),Re=new Array(65535),e=new Array(65535),t=new Array(64),Te=new Array(64),Ye=[],en=0,je=7,nn=new Array(64),Ge=new Array(64),Oe=new Array(64),Ce=new Array(256),St=new Array(2048),rn=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],un=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Qe=[0,1,2,3,4,5,6,7,8,9,10,11],hn=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],He=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],pn=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Xe=[0,1,2,3,4,5,6,7,8,9,10,11],fn=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],dn=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function qe($e,on){for(var Je=0,an=0,Ke=new Array,sn=1;sn<=16;sn++){for(var gn=1;gn<=$e[sn];gn++)Ke[on[an]]=[],Ke[on[an]][0]=Je,Ke[on[an]][1]=sn,an++,Je++;Je*=2}return Ke}function tn($e){for(var on=$e[0],Je=$e[1]-1;Je>=0;)on&1<<Je&&(en|=1<<je),Je--,--je<0&&(en==255?(Me(255),Me(0)):Me(en),je=7,en=0)}function Me($e){Ye.push($e)}function De($e){Me($e>>8&255),Me(255&$e)}function Ue($e,on,Je,an,Ke){for(var sn,gn=Ke[0],mn=Ke[240],yn=function(bn,kn){var En,On,Mn,Bn,Hn,$n,Un,qn,jn,Xn,Gn=0;for(jn=0;jn<8;++jn){En=bn[Gn],On=bn[Gn+1],Mn=bn[Gn+2],Bn=bn[Gn+3],Hn=bn[Gn+4],$n=bn[Gn+5],Un=bn[Gn+6];var ri=En+(qn=bn[Gn+7]),ui=En-qn,ti=On+Un,Yn=On-Un,Qn=Mn+$n,ci=Mn-$n,pi=Bn+Hn,ki=Bn-Hn,hi=ri+pi,si=ri-pi,ai=ti+Qn,li=ti-Qn;bn[Gn]=hi+ai,bn[Gn+4]=hi-ai;var Ei=.707106781*(li+si);bn[Gn+2]=si+Ei,bn[Gn+6]=si-Ei;var $i=.382683433*((hi=ki+ci)-(li=Yn+ui)),Qi=.5411961*hi+$i,fr=1.306562965*li+$i,ar=.707106781*(ai=ci+Yn),Ii=ui+ar,vi=ui-ar;bn[Gn+5]=vi+Qi,bn[Gn+3]=vi-Qi,bn[Gn+1]=Ii+fr,bn[Gn+7]=Ii-fr,Gn+=8}for(Gn=0,jn=0;jn<8;++jn){En=bn[Gn],On=bn[Gn+8],Mn=bn[Gn+16],Bn=bn[Gn+24],Hn=bn[Gn+32],$n=bn[Gn+40],Un=bn[Gn+48];var rr=En+(qn=bn[Gn+56]),dr=En-qn,Xi=On+Un,Gi=On-Un,Yi=Mn+$n,Nr=Mn-$n,ha=Bn+Hn,sr=Bn-Hn,xr=rr+ha,Zi=rr-ha,Ar=Xi+Yi,Hr=Xi-Yi;bn[Gn]=xr+Ar,bn[Gn+32]=xr-Ar;var Xr=.707106781*(Hr+Zi);bn[Gn+16]=Zi+Xr,bn[Gn+48]=Zi-Xr;var kr=.382683433*((xr=sr+Nr)-(Hr=Gi+dr)),da=.5411961*xr+kr,Mi=1.306562965*Hr+kr,Ri=.707106781*(Ar=Nr+Gi),Ui=dr+Ri,Bi=dr-Ri;bn[Gn+40]=Bi+da,bn[Gn+24]=Bi-da,bn[Gn+8]=Ui+Mi,bn[Gn+56]=Ui-Mi,Gn++}for(jn=0;jn<64;++jn)Xn=bn[jn]*kn[jn],t[jn]=Xn>0?Xn+.5|0:Xn-.5|0;return t}($e,on),Sn=0;Sn<64;++Sn)Te[rn[Sn]]=yn[Sn];var _n=Te[0]-Je;Je=Te[0],_n==0?tn(an[0]):(tn(an[e[sn=32767+_n]]),tn(Re[sn]));for(var wn=63;wn>0&&Te[wn]==0;)wn--;if(wn==0)return tn(gn),Je;for(var Nn,Tn=1;Tn<=wn;){for(var Cn=Tn;Te[Tn]==0&&Tn<=wn;)++Tn;var In=Tn-Cn;if(In>=16){Nn=In>>4;for(var Rn=1;Rn<=Nn;++Rn)tn(mn);In&=15}sn=32767+Te[Tn],tn(Ke[(In<<4)+e[sn]]),tn(Re[sn]),Tn++}return wn!=63&&tn(gn),Je}function We($e){$e=Math.min(Math.max($e,1),100),Be!=$e&&(function(on){for(var Je=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],an=0;an<64;an++){var Ke=Ve((Je[an]*on+50)/100);Ke=Math.min(Math.max(Ke,1),255),_e[rn[an]]=Ke}for(var sn=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],gn=0;gn<64;gn++){var mn=Ve((sn[gn]*on+50)/100);mn=Math.min(Math.max(mn,1),255),ze[rn[gn]]=mn}for(var yn=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Sn=0,_n=0;_n<8;_n++)for(var wn=0;wn<8;wn++)xe[Sn]=1/(_e[rn[Sn]]*yn[_n]*yn[wn]*8),Ie[Sn]=1/(ze[rn[Sn]]*yn[_n]*yn[wn]*8),Sn++}($e<50?Math.floor(5e3/$e):Math.floor(200-2*$e)),Be=$e)}this.encode=function($e,on){on&&We(on),Ye=new Array,en=0,je=7,De(65496),De(65504),De(16),Me(74),Me(70),Me(73),Me(70),Me(0),Me(1),Me(1),Me(0),De(1),De(1),Me(0),Me(0),function(){De(65499),De(132),Me(0);for(var On=0;On<64;On++)Me(_e[On]);Me(1);for(var Mn=0;Mn<64;Mn++)Me(ze[Mn])}(),function(On,Mn){De(65472),De(17),Me(8),De(Mn),De(On),Me(3),Me(1),Me(17),Me(0),Me(2),Me(17),Me(1),Me(3),Me(17),Me(1)}($e.width,$e.height),function(){De(65476),De(418),Me(0);for(var On=0;On<16;On++)Me(un[On+1]);for(var Mn=0;Mn<=11;Mn++)Me(Qe[Mn]);Me(16);for(var Bn=0;Bn<16;Bn++)Me(hn[Bn+1]);for(var Hn=0;Hn<=161;Hn++)Me(He[Hn]);Me(1);for(var $n=0;$n<16;$n++)Me(pn[$n+1]);for(var Un=0;Un<=11;Un++)Me(Xe[Un]);Me(17);for(var qn=0;qn<16;qn++)Me(fn[qn+1]);for(var jn=0;jn<=161;jn++)Me(dn[jn])}(),De(65498),De(12),Me(3),Me(1),Me(0),Me(2),Me(17),Me(3),Me(17),Me(0),Me(63),Me(0);var Je=0,an=0,Ke=0;en=0,je=7,this.encode.displayName="_encode_";for(var sn,gn,mn,yn,Sn,_n,wn,Nn,Tn,Cn=$e.data,In=$e.width,Rn=$e.height,bn=4*In,kn=0;kn<Rn;){for(sn=0;sn<bn;){for(Sn=bn*kn+sn,wn=-1,Nn=0,Tn=0;Tn<64;Tn++)_n=Sn+(Nn=Tn>>3)*bn+(wn=4*(7&Tn)),kn+Nn>=Rn&&(_n-=bn*(kn+1+Nn-Rn)),sn+wn>=bn&&(_n-=sn+wn-bn+4),gn=Cn[_n++],mn=Cn[_n++],yn=Cn[_n++],nn[Tn]=(St[gn]+St[mn+256>>0]+St[yn+512>>0]>>16)-128,Ge[Tn]=(St[gn+768>>0]+St[mn+1024>>0]+St[yn+1280>>0]>>16)-128,Oe[Tn]=(St[gn+1280>>0]+St[mn+1536>>0]+St[yn+1792>>0]>>16)-128;Je=Ue(nn,xe,Je,r,Ee),an=Ue(Ge,Ie,an,Se,Fe),Ke=Ue(Oe,Ie,Ke,Se,Fe),sn+=32}kn+=8}if(je>=0){var En=[];En[1]=je+1,En[0]=(1<<je+1)-1,tn(En)}return De(65497),new Uint8Array(Ye)},Ae=Ae||50,function(){for(var $e=String.fromCharCode,on=0;on<256;on++)Ce[on]=$e(on)}(),r=qe(un,Qe),Se=qe(pn,Xe),Ee=qe(hn,He),Fe=qe(fn,dn),function(){for(var $e=1,on=2,Je=1;Je<=15;Je++){for(var an=$e;an<on;an++)e[32767+an]=Je,Re[32767+an]=[],Re[32767+an][1]=Je,Re[32767+an][0]=an;for(var Ke=-(on-1);Ke<=-$e;Ke++)e[32767+Ke]=Je,Re[32767+Ke]=[],Re[32767+Ke][1]=Je,Re[32767+Ke][0]=on-1+Ke;$e<<=1,on<<=1}}(),function(){for(var $e=0;$e<256;$e++)St[$e]=19595*$e,St[$e+256>>0]=38470*$e,St[$e+512>>0]=7471*$e+32768,St[$e+768>>0]=-11059*$e,St[$e+1024>>0]=-21709*$e,St[$e+1280>>0]=32768*$e+8421375,St[$e+1536>>0]=-27439*$e,St[$e+1792>>0]=-5329*$e}(),We(Ae)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function te(Ae,r){if(this.pos=0,this.buffer=Ae,this.datav=new DataView(Ae.buffer),this.is_with_alpha=!!r,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function ee(Ae){function r(un){if(!un)throw Error("assert :P")}function Se(un,Qe,hn){for(var He=0;4>He;He++)if(un[Qe+He]!=hn.charCodeAt(He))return!0;return!1}function Ee(un,Qe,hn,He,pn){for(var Xe=0;Xe<pn;Xe++)un[Qe+Xe]=hn[He+Xe]}function Fe(un,Qe,hn,He){for(var pn=0;pn<He;pn++)un[Qe+pn]=hn}function Be(un){return new Int32Array(un)}function Ve(un,Qe){for(var hn=[],He=0;He<un;He++)hn.push(new Qe);return hn}function _e(un,Qe){var hn=[];return function He(pn,Xe,fn){for(var dn=fn[Xe],qe=0;qe<dn&&(pn.push(fn.length>Xe+1?[]:new Qe),!(fn.length<Xe+1));qe++)He(pn[qe],Xe+1,fn)}(hn,0,un),hn}var ze=function(){var un=this;function Qe(xn,An){for(var Dn=1<<An-1>>>0;xn&Dn;)Dn>>>=1;return Dn?(xn&Dn-1)+Dn:xn}function hn(xn,An,Dn,Wn,Vn){r(!(Wn%Dn));do xn[An+(Wn-=Dn)]=Vn;while(0<Wn)}function He(xn,An,Dn,Wn,Vn){if(r(2328>=Vn),512>=Vn)var Jn=Be(512);else if((Jn=Be(Vn))==null)return 0;return function(ei,ni,ii,oi,xi,Pi){var Fi,Ci,Ki=ni,ji=1<<ii,yi=Be(16),wi=Be(16);for(r(xi!=0),r(oi!=null),r(ei!=null),r(0<ii),Ci=0;Ci<xi;++Ci){if(15<oi[Ci])return 0;++yi[oi[Ci]]}if(yi[0]==xi)return 0;for(wi[1]=0,Fi=1;15>Fi;++Fi){if(yi[Fi]>1<<Fi)return 0;wi[Fi+1]=wi[Fi]+yi[Fi]}for(Ci=0;Ci<xi;++Ci)Fi=oi[Ci],0<oi[Ci]&&(Pi[wi[Fi]++]=Ci);if(wi[15]==1)return(oi=new pn).g=0,oi.value=Pi[0],hn(ei,Ki,1,ji,oi),ji;var Wi,qi=-1,Vi=ji-1,Cr=0,mr=1,qr=1,wr=1<<ii;for(Ci=0,Fi=1,xi=2;Fi<=ii;++Fi,xi<<=1){if(mr+=qr<<=1,0>(qr-=yi[Fi]))return 0;for(;0<yi[Fi];--yi[Fi])(oi=new pn).g=Fi,oi.value=Pi[Ci++],hn(ei,Ki+Cr,xi,wr,oi),Cr=Qe(Cr,Fi)}for(Fi=ii+1,xi=2;15>=Fi;++Fi,xi<<=1){if(mr+=qr<<=1,0>(qr-=yi[Fi]))return 0;for(;0<yi[Fi];--yi[Fi]){if(oi=new pn,(Cr&Vi)!=qi){for(Ki+=wr,Wi=1<<(qi=Fi)-ii;15>qi&&!(0>=(Wi-=yi[qi]));)++qi,Wi<<=1;ji+=wr=1<<(Wi=qi-ii),ei[ni+(qi=Cr&Vi)].g=Wi+ii,ei[ni+qi].value=Ki-ni-qi}oi.g=Fi-ii,oi.value=Pi[Ci++],hn(ei,Ki+(Cr>>ii),xi,wr,oi),Cr=Qe(Cr,Fi)}}return mr!=2*wi[15]-1?0:ji}(xn,An,Dn,Wn,Vn,Jn)}function pn(){this.value=this.g=0}function Xe(){this.value=this.g=0}function fn(){this.G=Ve(5,pn),this.H=Be(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=Ve(qa,Xe)}function dn(xn,An,Dn,Wn){r(xn!=null),r(An!=null),r(2147483648>Wn),xn.Ca=254,xn.I=0,xn.b=-8,xn.Ka=0,xn.oa=An,xn.pa=Dn,xn.Jd=An,xn.Yc=Dn+Wn,xn.Zc=4<=Wn?Dn+Wn-4+1:Dn,sn(xn)}function qe(xn,An){for(var Dn=0;0<An--;)Dn|=mn(xn,128)<<An;return Dn}function tn(xn,An){var Dn=qe(xn,An);return gn(xn)?-Dn:Dn}function Me(xn,An,Dn,Wn){var Vn,Jn=0;for(r(xn!=null),r(An!=null),r(4294967288>Wn),xn.Sb=Wn,xn.Ra=0,xn.u=0,xn.h=0,4<Wn&&(Wn=4),Vn=0;Vn<Wn;++Vn)Jn+=An[Dn+Vn]<<8*Vn;xn.Ra=Jn,xn.bb=Wn,xn.oa=An,xn.pa=Dn}function De(xn){for(;8<=xn.u&&xn.bb<xn.Sb;)xn.Ra>>>=8,xn.Ra+=xn.oa[xn.pa+xn.bb]<<Jl-8>>>0,++xn.bb,xn.u-=8;Je(xn)&&(xn.h=1,xn.u=0)}function Ue(xn,An){if(r(0<=An),!xn.h&&An<=Yl){var Dn=on(xn)&Kl[An];return xn.u+=An,De(xn),Dn}return xn.h=1,xn.u=0}function We(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function $e(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function on(xn){return xn.Ra>>>(xn.u&Jl-1)>>>0}function Je(xn){return r(xn.bb<=xn.Sb),xn.h||xn.bb==xn.Sb&&xn.u>Jl}function an(xn,An){xn.u=An,xn.h=Je(xn)}function Ke(xn){xn.u>=Zl&&(r(xn.u>=Zl),De(xn))}function sn(xn){r(xn!=null&&xn.oa!=null),xn.pa<xn.Zc?(xn.I=(xn.oa[xn.pa++]|xn.I<<8)>>>0,xn.b+=8):(r(xn!=null&&xn.oa!=null),xn.pa<xn.Yc?(xn.b+=8,xn.I=xn.oa[xn.pa++]|xn.I<<8):xn.Ka?xn.b=0:(xn.I<<=8,xn.b+=8,xn.Ka=1))}function gn(xn){return qe(xn,1)}function mn(xn,An){var Dn=xn.Ca;0>xn.b&&sn(xn);var Wn=xn.b,Vn=Dn*An>>>8,Jn=(xn.I>>>Wn>Vn)+0;for(Jn?(Dn-=Vn,xn.I-=Vn+1<<Wn>>>0):Dn=Vn+1,Wn=Dn,Vn=0;256<=Wn;)Vn+=8,Wn>>=8;return Wn=7^Vn+Ss[Wn],xn.b-=Wn,xn.Ca=(Dn<<Wn)-1,Jn}function yn(xn,An,Dn){xn[An+0]=Dn>>24&255,xn[An+1]=Dn>>16&255,xn[An+2]=Dn>>8&255,xn[An+3]=Dn>>0&255}function Sn(xn,An){return xn[An+0]<<0|xn[An+1]<<8}function _n(xn,An){return Sn(xn,An)|xn[An+2]<<16}function wn(xn,An){return Sn(xn,An)|Sn(xn,An+2)<<16}function Nn(xn,An){var Dn=1<<An;return r(xn!=null),r(0<An),xn.X=Be(Dn),xn.X==null?0:(xn.Mb=32-An,xn.Xa=An,1)}function Tn(xn,An){r(xn!=null),r(An!=null),r(xn.Xa==An.Xa),Ee(An.X,0,xn.X,0,1<<An.Xa)}function Cn(){this.X=[],this.Xa=this.Mb=0}function In(xn,An,Dn,Wn){r(Dn!=null),r(Wn!=null);var Vn=Dn[0],Jn=Wn[0];return Vn==0&&(Vn=(xn*Jn+An/2)/An),Jn==0&&(Jn=(An*Vn+xn/2)/xn),0>=Vn||0>=Jn?0:(Dn[0]=Vn,Wn[0]=Jn,1)}function Rn(xn,An){return xn+(1<<An)-1>>>An}function bn(xn,An){return((4278255360&xn)+(4278255360&An)>>>0&4278255360)+((16711935&xn)+(16711935&An)>>>0&16711935)>>>0}function kn(xn,An){un[An]=function(Dn,Wn,Vn,Jn,ei,ni,ii){var oi;for(oi=0;oi<ei;++oi){var xi=un[xn](ni[ii+oi-1],Vn,Jn+oi);ni[ii+oi]=bn(Dn[Wn+oi],xi)}}}function En(){this.ud=this.hd=this.jd=0}function On(xn,An){return((4278124286&(xn^An))>>>1)+(xn&An)>>>0}function Mn(xn){return 0<=xn&&256>xn?xn:0>xn?0:255<xn?255:void 0}function Bn(xn,An){return Mn(xn+(xn-An+.5>>1))}function Hn(xn,An,Dn){return Math.abs(An-Dn)-Math.abs(xn-Dn)}function $n(xn,An,Dn,Wn,Vn,Jn,ei){for(Wn=Jn[ei-1],Dn=0;Dn<Vn;++Dn)Jn[ei+Dn]=Wn=bn(xn[An+Dn],Wn)}function Un(xn,An,Dn,Wn,Vn){var Jn;for(Jn=0;Jn<Dn;++Jn){var ei=xn[An+Jn],ni=ei>>8&255,ii=16711935&(ii=(ii=16711935&ei)+((ni<<16)+ni));Wn[Vn+Jn]=(4278255360&ei)+ii>>>0}}function qn(xn,An){An.jd=xn>>0&255,An.hd=xn>>8&255,An.ud=xn>>16&255}function jn(xn,An,Dn,Wn,Vn,Jn){var ei;for(ei=0;ei<Wn;++ei){var ni=An[Dn+ei],ii=ni>>>8,oi=ni,xi=255&(xi=(xi=ni>>>16)+((xn.jd<<24>>24)*(ii<<24>>24)>>>5));oi=255&(oi=(oi=oi+((xn.hd<<24>>24)*(ii<<24>>24)>>>5))+((xn.ud<<24>>24)*(xi<<24>>24)>>>5)),Vn[Jn+ei]=(4278255360&ni)+(xi<<16)+oi}}function Xn(xn,An,Dn,Wn,Vn){un[An]=function(Jn,ei,ni,ii,oi,xi,Pi,Fi,Ci){for(ii=Pi;ii<Fi;++ii)for(Pi=0;Pi<Ci;++Pi)oi[xi++]=Vn(ni[Wn(Jn[ei++])])},un[xn]=function(Jn,ei,ni,ii,oi,xi,Pi){var Fi=8>>Jn.b,Ci=Jn.Ea,Ki=Jn.K[0],ji=Jn.w;if(8>Fi)for(Jn=(1<<Jn.b)-1,ji=(1<<Fi)-1;ei<ni;++ei){var yi,wi=0;for(yi=0;yi<Ci;++yi)yi&Jn||(wi=Wn(ii[oi++])),xi[Pi++]=Vn(Ki[wi&ji]),wi>>=Fi}else un["VP8LMapColor"+Dn](ii,oi,Ki,ji,xi,Pi,ei,ni,Ci)}}function Gn(xn,An,Dn,Wn,Vn){for(Dn=An+Dn;An<Dn;){var Jn=xn[An++];Wn[Vn++]=Jn>>16&255,Wn[Vn++]=Jn>>8&255,Wn[Vn++]=Jn>>0&255}}function ri(xn,An,Dn,Wn,Vn){for(Dn=An+Dn;An<Dn;){var Jn=xn[An++];Wn[Vn++]=Jn>>16&255,Wn[Vn++]=Jn>>8&255,Wn[Vn++]=Jn>>0&255,Wn[Vn++]=Jn>>24&255}}function ui(xn,An,Dn,Wn,Vn){for(Dn=An+Dn;An<Dn;){var Jn=(ei=xn[An++])>>16&240|ei>>12&15,ei=ei>>0&240|ei>>28&15;Wn[Vn++]=Jn,Wn[Vn++]=ei}}function ti(xn,An,Dn,Wn,Vn){for(Dn=An+Dn;An<Dn;){var Jn=(ei=xn[An++])>>16&248|ei>>13&7,ei=ei>>5&224|ei>>3&31;Wn[Vn++]=Jn,Wn[Vn++]=ei}}function Yn(xn,An,Dn,Wn,Vn){for(Dn=An+Dn;An<Dn;){var Jn=xn[An++];Wn[Vn++]=Jn>>0&255,Wn[Vn++]=Jn>>8&255,Wn[Vn++]=Jn>>16&255}}function Qn(xn,An,Dn,Wn,Vn,Jn){if(Jn==0)for(Dn=An+Dn;An<Dn;)yn(Wn,((Jn=xn[An++])[0]>>24|Jn[1]>>8&65280|Jn[2]<<8&16711680|Jn[3]<<24)>>>0),Vn+=32;else Ee(Wn,Vn,xn,An,Dn)}function ci(xn,An){un[An][0]=un[xn+"0"],un[An][1]=un[xn+"1"],un[An][2]=un[xn+"2"],un[An][3]=un[xn+"3"],un[An][4]=un[xn+"4"],un[An][5]=un[xn+"5"],un[An][6]=un[xn+"6"],un[An][7]=un[xn+"7"],un[An][8]=un[xn+"8"],un[An][9]=un[xn+"9"],un[An][10]=un[xn+"10"],un[An][11]=un[xn+"11"],un[An][12]=un[xn+"12"],un[An][13]=un[xn+"13"],un[An][14]=un[xn+"0"],un[An][15]=un[xn+"0"]}function pi(xn){return xn==ac||xn==Ol||xn==Rc||xn==Oc}function ki(){this.eb=[],this.size=this.A=this.fb=0}function hi(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function si(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ki,this.f.kb=new hi,this.sd=null}function ai(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function li(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ei(xn){return alert("todo:WebPSamplerProcessPlane"),xn.T}function $i(xn,An){var Dn=xn.T,Wn=An.ba.f.RGBA,Vn=Wn.eb,Jn=Wn.fb+xn.ka*Wn.A,ei=Ls[An.ba.S],ni=xn.y,ii=xn.O,oi=xn.f,xi=xn.N,Pi=xn.ea,Fi=xn.W,Ci=An.cc,Ki=An.dc,ji=An.Mc,yi=An.Nc,wi=xn.ka,Wi=xn.ka+xn.T,qi=xn.U,Vi=qi+1>>1;for(wi==0?ei(ni,ii,null,null,oi,xi,Pi,Fi,oi,xi,Pi,Fi,Vn,Jn,null,null,qi):(ei(An.ec,An.fc,ni,ii,Ci,Ki,ji,yi,oi,xi,Pi,Fi,Vn,Jn-Wn.A,Vn,Jn,qi),++Dn);wi+2<Wi;wi+=2)Ci=oi,Ki=xi,ji=Pi,yi=Fi,xi+=xn.Rc,Fi+=xn.Rc,Jn+=2*Wn.A,ei(ni,(ii+=2*xn.fa)-xn.fa,ni,ii,Ci,Ki,ji,yi,oi,xi,Pi,Fi,Vn,Jn-Wn.A,Vn,Jn,qi);return ii+=xn.fa,xn.j+Wi<xn.o?(Ee(An.ec,An.fc,ni,ii,qi),Ee(An.cc,An.dc,oi,xi,Vi),Ee(An.Mc,An.Nc,Pi,Fi,Vi),Dn--):1&Wi||ei(ni,ii,null,null,oi,xi,Pi,Fi,oi,xi,Pi,Fi,Vn,Jn+Wn.A,null,null,qi),Dn}function Qi(xn,An,Dn){var Wn=xn.F,Vn=[xn.J];if(Wn!=null){var Jn=xn.U,ei=An.ba.S,ni=ei==Fc||ei==Rc;An=An.ba.f.RGBA;var ii=[0],oi=xn.ka;ii[0]=xn.T,xn.Kb&&(oi==0?--ii[0]:(--oi,Vn[0]-=xn.width),xn.j+xn.ka+xn.T==xn.o&&(ii[0]=xn.o-xn.j-oi));var xi=An.eb;oi=An.fb+oi*An.A,xn=Ia(Wn,Vn[0],xn.width,Jn,ii,xi,oi+(ni?0:3),An.A),r(Dn==ii),xn&&pi(ei)&&Os(xi,oi,ni,Jn,ii,An.A)}return 0}function fr(xn){var An=xn.ma,Dn=An.ba.S,Wn=11>Dn,Vn=Dn==xl||Dn==Pc||Dn==Fc||Dn==La||Dn==12||pi(Dn);if(An.memory=null,An.Ib=null,An.Jb=null,An.Nd=null,!Gl(An.Oa,xn,Vn?11:12))return 0;if(Vn&&pi(Dn)&&tr(),xn.da)alert("todo:use_scaling");else{if(Wn){if(An.Ib=Ei,xn.Kb){if(Dn=xn.U+1>>1,An.memory=Be(xn.U+2*Dn),An.memory==null)return 0;An.ec=An.memory,An.fc=0,An.cc=An.ec,An.dc=An.fc+xn.U,An.Mc=An.cc,An.Nc=An.dc+Dn,An.Ib=$i,tr()}}else alert("todo:EmitYUV");Vn&&(An.Jb=Qi,Wn&&Ti())}if(Wn&&!ls){for(xn=0;256>xn;++xn)Ms[xn]=89858*(xn-128)+vo>>Qo,Ds[xn]=-22014*(xn-128)+vo,uc[xn]=-45773*(xn-128),Dl[xn]=113618*(xn-128)+vo>>Qo;for(xn=Ta;xn<Ra;++xn)An=76283*(xn-16)+vo>>Qo,Zc[xn-Ta]=Gs(An,255),D0[xn-Ta]=Gs(An+8>>4,15);ls=1}return 1}function ar(xn){var An=xn.ma,Dn=xn.U,Wn=xn.T;return r(!(1&xn.ka)),0>=Dn||0>=Wn?0:(Dn=An.Ib(xn,An),An.Jb!=null&&An.Jb(xn,An,Dn),An.Dc+=Dn,1)}function Ii(xn){xn.ma.memory=null}function vi(xn,An,Dn,Wn){return Ue(xn,8)!=47?0:(An[0]=Ue(xn,14)+1,Dn[0]=Ue(xn,14)+1,Wn[0]=Ue(xn,1),Ue(xn,3)!=0?0:!xn.h)}function rr(xn,An){if(4>xn)return xn+1;var Dn=xn-2>>1;return(2+(1&xn)<<Dn)+Ue(An,Dn)+1}function dr(xn,An){return 120<An?An-120:1<=(Dn=((Dn=fu[An-1])>>4)*xn+(8-(15&Dn)))?Dn:1;var Dn}function Xi(xn,An,Dn){var Wn=on(Dn),Vn=xn[An+=255&Wn].g-8;return 0<Vn&&(an(Dn,Dn.u+8),Wn=on(Dn),An+=xn[An].value,An+=Wn&(1<<Vn)-1),an(Dn,Dn.u+xn[An].g),xn[An].value}function Gi(xn,An,Dn){return Dn.g+=xn.g,Dn.value+=xn.value<<An>>>0,r(8>=Dn.g),xn.g}function Yi(xn,An,Dn){var Wn=xn.xc;return r((An=Wn==0?0:xn.vc[xn.md*(Dn>>Wn)+(An>>Wn)])<xn.Wb),xn.Ya[An]}function Nr(xn,An,Dn,Wn){var Vn=xn.ab,Jn=xn.c*An,ei=xn.C;An=ei+An;var ni=Dn,ii=Wn;for(Wn=xn.Ta,Dn=xn.Ua;0<Vn--;){var oi=xn.gc[Vn],xi=ei,Pi=An,Fi=ni,Ci=ii,Ki=(ii=Wn,ni=Dn,oi.Ea);switch(r(xi<Pi),r(Pi<=oi.nc),oi.hc){case 2:Gc(Fi,Ci,(Pi-xi)*Ki,ii,ni);break;case 0:var ji=xi,yi=Pi,wi=ii,Wi=ni,qi=(wr=oi).Ea;ji==0&&(_l(Fi,Ci,null,null,1,wi,Wi),$n(Fi,Ci+1,0,0,qi-1,wi,Wi+1),Ci+=qi,Wi+=qi,++ji);for(var Vi=1<<wr.b,Cr=Vi-1,mr=Rn(qi,wr.b),qr=wr.K,wr=wr.w+(ji>>wr.b)*mr;ji<yi;){var ba=qr,ya=wr,ga=1;for(Wo(Fi,Ci,wi,Wi-qi,1,wi,Wi);ga<qi;){var sa=(ga&~Cr)+Vi;sa>qi&&(sa=qi),(0,Ro[ba[ya++]>>8&15])(Fi,Ci+ +ga,wi,Wi+ga-qi,sa-ga,wi,Wi+ga),ga=sa}Ci+=qi,Wi+=qi,++ji&Cr||(wr+=mr)}Pi!=oi.nc&&Ee(ii,ni-Ki,ii,ni+(Pi-xi-1)*Ki,Ki);break;case 1:for(Ki=Fi,yi=Ci,qi=(Fi=oi.Ea)-(Wi=Fi&~(wi=(Ci=1<<oi.b)-1)),ji=Rn(Fi,oi.b),Vi=oi.K,oi=oi.w+(xi>>oi.b)*ji;xi<Pi;){for(Cr=Vi,mr=oi,qr=new En,wr=yi+Wi,ba=yi+Fi;yi<wr;)qn(Cr[mr++],qr),pl(qr,Ki,yi,Ci,ii,ni),yi+=Ci,ni+=Ci;yi<ba&&(qn(Cr[mr++],qr),pl(qr,Ki,yi,qi,ii,ni),yi+=qi,ni+=qi),++xi&wi||(oi+=ji)}break;case 3:if(Fi==ii&&Ci==ni&&0<oi.b){for(yi=ii,Fi=Ki=ni+(Pi-xi)*Ki-(Wi=(Pi-xi)*Rn(oi.Ea,oi.b)),Ci=ii,wi=ni,ji=[],Wi=(qi=Wi)-1;0<=Wi;--Wi)ji[Wi]=Ci[wi+Wi];for(Wi=qi-1;0<=Wi;--Wi)yi[Fi+Wi]=ji[Wi];As(oi,xi,Pi,ii,Ki,ii,ni)}else As(oi,xi,Pi,Fi,Ci,ii,ni)}ni=Wn,ii=Dn}ii!=Dn&&Ee(Wn,Dn,ni,ii,Jn)}function ha(xn,An){var Dn=xn.V,Wn=xn.Ba+xn.c*xn.C,Vn=An-xn.C;if(r(An<=xn.l.o),r(16>=Vn),0<Vn){var Jn=xn.l,ei=xn.Ta,ni=xn.Ua,ii=Jn.width;if(Nr(xn,Vn,Dn,Wn),Vn=ni=[ni],r((Dn=xn.C)<(Wn=An)),r(Jn.v<Jn.va),Wn>Jn.o&&(Wn=Jn.o),Dn<Jn.j){var oi=Jn.j-Dn;Dn=Jn.j,Vn[0]+=oi*ii}if(Dn>=Wn?Dn=0:(Vn[0]+=4*Jn.v,Jn.ka=Dn-Jn.j,Jn.U=Jn.va-Jn.v,Jn.T=Wn-Dn,Dn=1),Dn){if(ni=ni[0],11>(Dn=xn.ca).S){var xi=Dn.f.RGBA,Pi=(Wn=Dn.S,Vn=Jn.U,Jn=Jn.T,oi=xi.eb,xi.A),Fi=Jn;for(xi=xi.fb+xn.Ma*xi.A;0<Fi--;){var Ci=ei,Ki=ni,ji=Vn,yi=oi,wi=xi;switch(Wn){case Vc:Cs(Ci,Ki,ji,yi,wi);break;case xl:ds(Ci,Ki,ji,yi,wi);break;case ac:ds(Ci,Ki,ji,yi,wi),Os(yi,wi,0,ji,1,0);break;case R0:Go(Ci,Ki,ji,yi,wi);break;case Pc:Qn(Ci,Ki,ji,yi,wi,1);break;case Ol:Qn(Ci,Ki,ji,yi,wi,1),Os(yi,wi,0,ji,1,0);break;case Fc:Qn(Ci,Ki,ji,yi,wi,0);break;case Rc:Qn(Ci,Ki,ji,yi,wi,0),Os(yi,wi,1,ji,1,0);break;case La:gl(Ci,Ki,ji,yi,wi);break;case Oc:gl(Ci,Ki,ji,yi,wi),Na(yi,wi,ji,1,0);break;case Kc:Xo(Ci,Ki,ji,yi,wi);break;default:r(0)}ni+=ii,xi+=Pi}xn.Ma+=Jn}else alert("todo:EmitRescaledRowsYUVA");r(xn.Ma<=Dn.height)}}xn.C=An,r(xn.C<=xn.i)}function sr(xn){var An;if(0<xn.ua)return 0;for(An=0;An<xn.Wb;++An){var Dn=xn.Ya[An].G,Wn=xn.Ya[An].H;if(0<Dn[1][Wn[1]+0].g||0<Dn[2][Wn[2]+0].g||0<Dn[3][Wn[3]+0].g)return 0}return 1}function xr(xn,An,Dn,Wn,Vn,Jn){if(xn.Z!=0){var ei=xn.qd,ni=xn.rd;for(r(ps[xn.Z]!=null);An<Dn;++An)ps[xn.Z](ei,ni,Wn,Vn,Wn,Vn,Jn),ei=Wn,ni=Vn,Vn+=Jn;xn.qd=ei,xn.rd=ni}}function Zi(xn,An){var Dn=xn.l.ma,Wn=Dn.Z==0||Dn.Z==1?xn.l.j:xn.C;if(Wn=xn.C<Wn?Wn:xn.C,r(An<=xn.l.o),An>Wn){var Vn=xn.l.width,Jn=Dn.ca,ei=Dn.tb+Vn*Wn,ni=xn.V,ii=xn.Ba+xn.c*Wn,oi=xn.gc;r(xn.ab==1),r(oi[0].hc==3),_c(oi[0],Wn,An,ni,ii,Jn,ei),xr(Dn,Wn,An,Jn,ei,Vn)}xn.C=xn.Ma=An}function Ar(xn,An,Dn,Wn,Vn,Jn,ei){var ni=xn.$/Wn,ii=xn.$%Wn,oi=xn.m,xi=xn.s,Pi=Dn+xn.$,Fi=Pi;Vn=Dn+Wn*Vn;var Ci=Dn+Wn*Jn,Ki=280+xi.ua,ji=xn.Pb?ni:16777216,yi=0<xi.ua?xi.Wa:null,wi=xi.wc,Wi=Pi<Ci?Yi(xi,ii,ni):null;r(xn.C<Jn),r(Ci<=Vn);var qi=!1;e:for(;;){for(;qi||Pi<Ci;){var Vi=0;if(ni>=ji){var Cr=Pi-Dn;r((ji=xn).Pb),ji.wd=ji.m,ji.xd=Cr,0<ji.s.ua&&Tn(ji.s.Wa,ji.s.vb),ji=ni+Jc}if(ii&wi||(Wi=Yi(xi,ii,ni)),r(Wi!=null),Wi.Qb&&(An[Pi]=Wi.qb,qi=!0),!qi)if(Ke(oi),Wi.jc){Vi=oi,Cr=An;var mr=Pi,qr=Wi.pd[on(Vi)&qa-1];r(Wi.jc),256>qr.g?(an(Vi,Vi.u+qr.g),Cr[mr]=qr.value,Vi=0):(an(Vi,Vi.u+qr.g-256),r(256<=qr.value),Vi=qr.value),Vi==0&&(qi=!0)}else Vi=Xi(Wi.G[0],Wi.H[0],oi);if(oi.h)break;if(qi||256>Vi){if(!qi)if(Wi.nd)An[Pi]=(Wi.qb|Vi<<8)>>>0;else{if(Ke(oi),qi=Xi(Wi.G[1],Wi.H[1],oi),Ke(oi),Cr=Xi(Wi.G[2],Wi.H[2],oi),mr=Xi(Wi.G[3],Wi.H[3],oi),oi.h)break;An[Pi]=(mr<<24|qi<<16|Vi<<8|Cr)>>>0}if(qi=!1,++Pi,++ii>=Wn&&(ii=0,++ni,ei!=null&&ni<=Jn&&!(ni%16)&&ei(xn,ni),yi!=null))for(;Fi<Pi;)Vi=An[Fi++],yi.X[(506832829*Vi&4294967295)>>>yi.Mb]=Vi}else if(280>Vi){if(Vi=rr(Vi-256,oi),Cr=Xi(Wi.G[4],Wi.H[4],oi),Ke(oi),Cr=dr(Wn,Cr=rr(Cr,oi)),oi.h)break;if(Pi-Dn<Cr||Vn-Pi<Vi)break e;for(mr=0;mr<Vi;++mr)An[Pi+mr]=An[Pi+mr-Cr];for(Pi+=Vi,ii+=Vi;ii>=Wn;)ii-=Wn,++ni,ei!=null&&ni<=Jn&&!(ni%16)&&ei(xn,ni);if(r(Pi<=Vn),ii&wi&&(Wi=Yi(xi,ii,ni)),yi!=null)for(;Fi<Pi;)Vi=An[Fi++],yi.X[(506832829*Vi&4294967295)>>>yi.Mb]=Vi}else{if(!(Vi<Ki))break e;for(qi=Vi-280,r(yi!=null);Fi<Pi;)Vi=An[Fi++],yi.X[(506832829*Vi&4294967295)>>>yi.Mb]=Vi;Vi=Pi,r(!(qi>>>(Cr=yi).Xa)),An[Vi]=Cr.X[qi],qi=!0}qi||r(oi.h==Je(oi))}if(xn.Pb&&oi.h&&Pi<Vn)r(xn.m.h),xn.a=5,xn.m=xn.wd,xn.$=xn.xd,0<xn.s.ua&&Tn(xn.s.vb,xn.s.Wa);else{if(oi.h)break e;ei?.(xn,ni>Jn?Jn:ni),xn.a=0,xn.$=Pi-Dn}return 1}return xn.a=3,0}function Hr(xn){r(xn!=null),xn.vc=null,xn.yc=null,xn.Ya=null;var An=xn.Wa;An!=null&&(An.X=null),xn.vb=null,r(xn!=null)}function Xr(){var xn=new p0;return xn==null?null:(xn.a=0,xn.xb=oc,ci("Predictor","VP8LPredictors"),ci("Predictor","VP8LPredictors_C"),ci("PredictorAdd","VP8LPredictorsAdd"),ci("PredictorAdd","VP8LPredictorsAdd_C"),Gc=Un,pl=jn,Cs=Gn,ds=ri,gl=ui,Xo=ti,Go=Yn,un.VP8LMapColor32b=Ql,un.VP8LMapColor8b=tc,xn)}function kr(xn,An,Dn,Wn,Vn){var Jn=1,ei=[xn],ni=[An],ii=Wn.m,oi=Wn.s,xi=null,Pi=0;e:for(;;){if(Dn)for(;Jn&&Ue(ii,1);){var Fi=ei,Ci=ni,Ki=Wn,ji=1,yi=Ki.m,wi=Ki.gc[Ki.ab],Wi=Ue(yi,2);if(Ki.Oc&1<<Wi)Jn=0;else{switch(Ki.Oc|=1<<Wi,wi.hc=Wi,wi.Ea=Fi[0],wi.nc=Ci[0],wi.K=[null],++Ki.ab,r(4>=Ki.ab),Wi){case 0:case 1:wi.b=Ue(yi,3)+2,ji=kr(Rn(wi.Ea,wi.b),Rn(wi.nc,wi.b),0,Ki,wi.K),wi.K=wi.K[0];break;case 3:var qi,Vi=Ue(yi,8)+1,Cr=16<Vi?0:4<Vi?1:2<Vi?2:3;if(Fi[0]=Rn(wi.Ea,Cr),wi.b=Cr,qi=ji=kr(Vi,1,0,Ki,wi.K)){var mr,qr=Vi,wr=wi,ba=1<<(8>>wr.b),ya=Be(ba);if(ya==null)qi=0;else{var ga=wr.K[0],sa=wr.w;for(ya[0]=wr.K[0][0],mr=1;mr<1*qr;++mr)ya[mr]=bn(ga[sa+mr],ya[mr-1]);for(;mr<4*ba;++mr)ya[mr]=0;wr.K[0]=null,wr.K[0]=ya,qi=1}}ji=qi;break;case 2:break;default:r(0)}Jn=ji}}if(ei=ei[0],ni=ni[0],Jn&&Ue(ii,1)&&!(Jn=1<=(Pi=Ue(ii,4))&&11>=Pi)){Wn.a=3;break e}var Pa;if(Pa=Jn)t:{var Oa,ea,Ua,_s=Wn,Xa=ei,Qa=ni,Aa=Pi,gs=Dn,ms=_s.m,$a=_s.s,es=[null],cs=1,Bs=0,co=N0[Aa];n:for(;;){if(gs&&Ue(ms,1)){var Ha=Ue(ms,3)+2,Ya=Rn(Xa,Ha),Ys=Rn(Qa,Ha),wl=Ya*Ys;if(!kr(Ya,Ys,0,_s,es))break n;for(es=es[0],$a.xc=Ha,Oa=0;Oa<wl;++Oa){var tl=es[Oa]>>8&65535;es[Oa]=tl,tl>=cs&&(cs=tl+1)}}if(ms.h)break n;for(ea=0;5>ea;++ea){var Ca=Nl[ea];!ea&&0<Aa&&(Ca+=1<<Aa),Bs<Ca&&(Bs=Ca)}var Do=Ve(cs*co,pn),Qc=cs,w0=Ve(Qc,fn);if(w0==null)var uo=null;else r(65536>=Qc),uo=w0;var ho=Be(Bs);if(uo==null||ho==null||Do==null){_s.a=1;break n}var jl=Do;for(Oa=Ua=0;Oa<cs;++Oa){var fo=uo[Oa],nl=fo.G,Ul=fo.H,hc=0,Js=1,dc=0;for(ea=0;5>ea;++ea){Ca=Nl[ea],nl[ea]=jl,Ul[ea]=Ua,!ea&&0<Aa&&(Ca+=1<<Aa);r:{var vl,il=Ca,fc=_s,Bo=ho,j0=jl,v0=Ua,Ma=0,So=fc.m,S0=Ue(So,1);if(Fe(Bo,0,0,il),S0){var A0=Ue(So,1)+1,e0=Ue(So,1),t0=Ue(So,e0==0?1:8);Bo[t0]=1,A0==2&&(Bo[t0=Ue(So,8)]=1);var jo=1}else{var Da=Be(19),Ja=Ue(So,4)+4;if(19<Ja){fc.a=3;var Ga=0;break r}for(vl=0;vl<Ja;++vl)Da[du[vl]]=Ue(So,3);var pc=void 0,rl=void 0,gc=fc,bu=Da,ts=il,n0=Bo,Bc=0,Uo=gc.m,Ao=8,Zs=Ve(128,pn);i:for(;He(Zs,0,7,bu,19);){if(Ue(Uo,1)){var jc=2+2*Ue(Uo,3);if((pc=2+Ue(Uo,jc))>ts)break i}else pc=ts;for(rl=0;rl<ts&&pc--;){Ke(Uo);var i0=Zs[0+(127&on(Uo))];an(Uo,Uo.u+i0.g);var Sl=i0.value;if(16>Sl)n0[rl++]=Sl,Sl!=0&&(Ao=Sl);else{var U0=Sl==16,C0=Sl-16,$0=Yc[C0],k0=Ue(Uo,Nc[C0])+$0;if(rl+k0>ts)break i;for(var H0=U0?Ao:0;0<k0--;)n0[rl++]=H0}}Bc=1;break i}Bc||(gc.a=3),jo=Bc}(jo=jo&&!So.h)&&(Ma=He(j0,v0,8,Bo,il)),jo&&Ma!=0?Ga=Ma:(fc.a=3,Ga=0)}if(Ga==0)break n;if(Js&&O0[ea]==1&&(Js=jl[Ua].g==0),hc+=jl[Ua].g,Ua+=Ga,3>=ea){var mc,r0=ho[0];for(mc=1;mc<Ca;++mc)ho[mc]>r0&&(r0=ho[mc]);dc+=r0}}if(fo.nd=Js,fo.Qb=0,Js&&(fo.qb=(nl[3][Ul[3]+0].value<<24|nl[1][Ul[1]+0].value<<16|nl[2][Ul[2]+0].value)>>>0,hc==0&&256>nl[0][Ul[0]+0].value&&(fo.Qb=1,fo.qb+=nl[0][Ul[0]+0].value<<8)),fo.jc=!fo.Qb&&6>dc,fo.jc){var Uc,Qs=fo;for(Uc=0;Uc<qa;++Uc){var al=Uc,Co=Qs.pd[al],$l=Qs.G[0][Qs.H[0]+al];256<=$l.value?(Co.g=$l.g+256,Co.value=$l.value):(Co.g=0,Co.value=0,al>>=Gi($l,8,Co),al>>=Gi(Qs.G[1][Qs.H[1]+al],16,Co),al>>=Gi(Qs.G[2][Qs.H[2]+al],0,Co),Gi(Qs.G[3][Qs.H[3]+al],24,Co))}}}$a.vc=es,$a.Wb=cs,$a.Ya=uo,$a.yc=Do,Pa=1;break t}Pa=0}if(!(Jn=Pa)){Wn.a=3;break e}if(0<Pi){if(oi.ua=1<<Pi,!Nn(oi.Wa,Pi)){Wn.a=1,Jn=0;break e}}else oi.ua=0;var a0=Wn,s0=ei,z0=ni,o0=a0.s,l0=o0.xc;if(a0.c=s0,a0.i=z0,o0.md=Rn(s0,l0),o0.wc=l0==0?-1:(1<<l0)-1,Dn){Wn.xb=Mo;break e}if((xi=Be(ei*ni))==null){Wn.a=1,Jn=0;break e}Jn=(Jn=Ar(Wn,xi,0,ei,ni,ni,null))&&!ii.h;break e}return Jn?(Vn!=null?Vn[0]=xi:(r(xi==null),r(Dn)),Wn.$=0,Dn||Hr(oi)):Hr(oi),Jn}function da(xn,An){var Dn=xn.c*xn.i,Wn=Dn+An+16*An;return r(xn.c<=An),xn.V=Be(Wn),xn.V==null?(xn.Ta=null,xn.Ua=0,xn.a=1,0):(xn.Ta=xn.V,xn.Ua=xn.Ba+Dn+An,1)}function Mi(xn,An){var Dn=xn.C,Wn=An-Dn,Vn=xn.V,Jn=xn.Ba+xn.c*Dn;for(r(An<=xn.l.o);0<Wn;){var ei=16<Wn?16:Wn,ni=xn.l.ma,ii=xn.l.width,oi=ii*ei,xi=ni.ca,Pi=ni.tb+ii*Dn,Fi=xn.Ta,Ci=xn.Ua;Nr(xn,ei,Vn,Jn),Wa(Fi,Ci,xi,Pi,oi),xr(ni,Dn,Dn+ei,xi,Pi,ii),Wn-=ei,Vn+=ei*xn.c,Dn+=ei}r(Dn==An),xn.C=xn.Ma=An}function Ri(){this.ub=this.yd=this.td=this.Rb=0}function Ui(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Bi(){this.Fb=this.Bb=this.Cb=0,this.Zb=Be(4),this.Lb=Be(4)}function Ji(){this.Yb=function(){var xn=[];return function An(Dn,Wn,Vn){for(var Jn=Vn[Wn],ei=0;ei<Jn&&(Dn.push(Vn.length>Wn+1?[]:0),!(Vn.length<Wn+1));ei++)An(Dn[ei],Wn+1,Vn)}(xn,0,[3,11]),xn}()}function or(){this.jb=Be(3),this.Wc=_e([4,8],Ji),this.Xc=_e([4,17],Ji)}function ur(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new Be(4),this.od=new Be(4)}function Li(){this.ld=this.La=this.dd=this.tc=0}function Er(){this.Na=this.la=0}function br(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function $r(){this.ad=Be(384),this.Za=0,this.Ob=Be(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function _r(){this.uc=this.M=this.Nb=0,this.wa=Array(new Li),this.Y=0,this.ya=Array(new $r),this.aa=0,this.l=new cr}function Fr(){this.y=Be(16),this.f=Be(8),this.ea=Be(8)}function Ir(){this.cb=this.a=0,this.sc="",this.m=new We,this.Od=new Ri,this.Kc=new Ui,this.ed=new ur,this.Qa=new Bi,this.Ic=this.$c=this.Aa=0,this.D=new _r,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=Ve(8,We),this.ia=0,this.pb=Ve(4,br),this.Pa=new or,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Fr),this.Hd=0,this.rb=Array(new Er),this.sb=0,this.wa=Array(new Li),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new $r),this.L=this.aa=0,this.gd=_e([4,2],Li),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function cr(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function yr(){var xn=new Ir;return xn!=null&&(xn.a=0,xn.sc="OK",xn.cb=0,xn.Xb=0,Ll||(Ll=Ea)),xn}function er(xn,An,Dn){return xn.a==0&&(xn.a=An,xn.sc=Dn,xn.cb=0),0}function Dr(xn,An,Dn){return 3<=Dn&&xn[An+0]==157&&xn[An+1]==1&&xn[An+2]==42}function Gr(xn,An){if(xn==null)return 0;if(xn.a=0,xn.sc="OK",An==null)return er(xn,2,"null VP8Io passed to VP8GetHeaders()");var Dn=An.data,Wn=An.w,Vn=An.ha;if(4>Vn)return er(xn,7,"Truncated header.");var Jn=Dn[Wn+0]|Dn[Wn+1]<<8|Dn[Wn+2]<<16,ei=xn.Od;if(ei.Rb=!(1&Jn),ei.td=Jn>>1&7,ei.yd=Jn>>4&1,ei.ub=Jn>>5,3<ei.td)return er(xn,3,"Incorrect keyframe parameters.");if(!ei.yd)return er(xn,4,"Frame not displayable.");Wn+=3,Vn-=3;var ni=xn.Kc;if(ei.Rb){if(7>Vn)return er(xn,7,"cannot parse picture header");if(!Dr(Dn,Wn,Vn))return er(xn,3,"Bad code word");ni.c=16383&(Dn[Wn+4]<<8|Dn[Wn+3]),ni.Td=Dn[Wn+4]>>6,ni.i=16383&(Dn[Wn+6]<<8|Dn[Wn+5]),ni.Ud=Dn[Wn+6]>>6,Wn+=7,Vn-=7,xn.za=ni.c+15>>4,xn.Ub=ni.i+15>>4,An.width=ni.c,An.height=ni.i,An.Da=0,An.j=0,An.v=0,An.va=An.width,An.o=An.height,An.da=0,An.ib=An.width,An.hb=An.height,An.U=An.width,An.T=An.height,Fe((Jn=xn.Pa).jb,0,255,Jn.jb.length),r((Jn=xn.Qa)!=null),Jn.Cb=0,Jn.Bb=0,Jn.Fb=1,Fe(Jn.Zb,0,0,Jn.Zb.length),Fe(Jn.Lb,0,0,Jn.Lb)}if(ei.ub>Vn)return er(xn,7,"bad partition length");dn(Jn=xn.m,Dn,Wn,ei.ub),Wn+=ei.ub,Vn-=ei.ub,ei.Rb&&(ni.Ld=gn(Jn),ni.Kd=gn(Jn)),ni=xn.Qa;var ii,oi=xn.Pa;if(r(Jn!=null),r(ni!=null),ni.Cb=gn(Jn),ni.Cb){if(ni.Bb=gn(Jn),gn(Jn)){for(ni.Fb=gn(Jn),ii=0;4>ii;++ii)ni.Zb[ii]=gn(Jn)?tn(Jn,7):0;for(ii=0;4>ii;++ii)ni.Lb[ii]=gn(Jn)?tn(Jn,6):0}if(ni.Bb)for(ii=0;3>ii;++ii)oi.jb[ii]=gn(Jn)?qe(Jn,8):255}else ni.Bb=0;if(Jn.Ka)return er(xn,3,"cannot parse segment header");if((ni=xn.ed).zd=gn(Jn),ni.Tb=qe(Jn,6),ni.wb=qe(Jn,3),ni.Pc=gn(Jn),ni.Pc&&gn(Jn)){for(oi=0;4>oi;++oi)gn(Jn)&&(ni.vd[oi]=tn(Jn,6));for(oi=0;4>oi;++oi)gn(Jn)&&(ni.od[oi]=tn(Jn,6))}if(xn.L=ni.Tb==0?0:ni.zd?1:2,Jn.Ka)return er(xn,3,"cannot parse filter header");var xi=Vn;if(Vn=ii=Wn,Wn=ii+xi,ni=xi,xn.Xb=(1<<qe(xn.m,2))-1,xi<3*(oi=xn.Xb))Dn=7;else{for(ii+=3*oi,ni-=3*oi,xi=0;xi<oi;++xi){var Pi=Dn[Vn+0]|Dn[Vn+1]<<8|Dn[Vn+2]<<16;Pi>ni&&(Pi=ni),dn(xn.Jc[+xi],Dn,ii,Pi),ii+=Pi,ni-=Pi,Vn+=3}dn(xn.Jc[+oi],Dn,ii,ni),Dn=ii<Wn?0:5}if(Dn!=0)return er(xn,Dn,"cannot parse partitions");for(Dn=qe(ii=xn.m,7),Vn=gn(ii)?tn(ii,4):0,Wn=gn(ii)?tn(ii,4):0,ni=gn(ii)?tn(ii,4):0,oi=gn(ii)?tn(ii,4):0,ii=gn(ii)?tn(ii,4):0,xi=xn.Qa,Pi=0;4>Pi;++Pi){if(xi.Cb){var Fi=xi.Zb[Pi];xi.Fb||(Fi+=Dn)}else{if(0<Pi){xn.pb[Pi]=xn.pb[0];continue}Fi=Dn}var Ci=xn.pb[Pi];Ci.Sc[0]=sc[Gs(Fi+Vn,127)],Ci.Sc[1]=Lc[Gs(Fi+0,127)],Ci.Eb[0]=2*sc[Gs(Fi+Wn,127)],Ci.Eb[1]=101581*Lc[Gs(Fi+ni,127)]>>16,8>Ci.Eb[1]&&(Ci.Eb[1]=8),Ci.Qc[0]=sc[Gs(Fi+oi,117)],Ci.Qc[1]=Lc[Gs(Fi+ii,127)],Ci.lc=Fi+ii}if(!ei.Rb)return er(xn,4,"Not a key frame.");for(gn(Jn),ei=xn.Pa,Dn=0;4>Dn;++Dn){for(Vn=0;8>Vn;++Vn)for(Wn=0;3>Wn;++Wn)for(ni=0;11>ni;++ni)oi=mn(Jn,gu[Dn][Vn][Wn][ni])?qe(Jn,8):M0[Dn][Vn][Wn][ni],ei.Wc[Dn][Vn].Yb[Wn][ni]=oi;for(Vn=0;17>Vn;++Vn)ei.Xc[Dn][Vn]=ei.Wc[Dn][x0[Vn]]}return xn.kc=gn(Jn),xn.kc&&(xn.Bd=qe(Jn,8)),xn.cb=1}function Ea(xn,An,Dn,Wn,Vn,Jn,ei){var ni=An[Vn].Yb[Dn];for(Dn=0;16>Vn;++Vn){if(!mn(xn,ni[Dn+0]))return Vn;for(;!mn(xn,ni[Dn+1]);)if(ni=An[++Vn].Yb[0],Dn=0,Vn==16)return 16;var ii=An[Vn+1].Yb;if(mn(xn,ni[Dn+2])){var oi=xn,xi=0;if(mn(oi,(Fi=ni)[(Pi=Dn)+3]))if(mn(oi,Fi[Pi+6])){for(ni=0,Pi=2*(xi=mn(oi,Fi[Pi+8]))+(Fi=mn(oi,Fi[Pi+9+xi])),xi=0,Fi=g0[Pi];Fi[ni];++ni)xi+=xi+mn(oi,Fi[ni]);xi+=3+(8<<Pi)}else mn(oi,Fi[Pi+7])?(xi=7+2*mn(oi,165),xi+=mn(oi,145)):xi=5+mn(oi,159);else xi=mn(oi,Fi[Pi+4])?3+mn(oi,Fi[Pi+5]):2;ni=ii[2]}else xi=1,ni=ii[1];ii=ei+m0[Vn],0>(oi=xn).b&&sn(oi);var Pi,Fi=oi.b,Ci=(Pi=oi.Ca>>1)-(oi.I>>Fi)>>31;--oi.b,oi.Ca+=Ci,oi.Ca|=1,oi.I-=(Pi+1&Ci)<<Fi,Jn[ii]=((xi^Ci)-Ci)*Wn[(0<Vn)+0]}return 16}function Tr(xn){var An=xn.rb[xn.sb-1];An.la=0,An.Na=0,Fe(xn.zc,0,0,xn.zc.length),xn.ja=0}function Rr(xn,An){if(xn==null)return 0;if(An==null)return er(xn,2,"NULL VP8Io parameter in VP8Decode().");if(!xn.cb&&!Gr(xn,An))return 0;if(r(xn.cb),An.ac==null||An.ac(An)){An.ob&&(xn.L=0);var Dn=Bl[xn.L];if(xn.L==2?(xn.yb=0,xn.zb=0):(xn.yb=An.v-Dn>>4,xn.zb=An.j-Dn>>4,0>xn.yb&&(xn.yb=0),0>xn.zb&&(xn.zb=0)),xn.Va=An.o+15+Dn>>4,xn.Hb=An.va+15+Dn>>4,xn.Hb>xn.za&&(xn.Hb=xn.za),xn.Va>xn.Ub&&(xn.Va=xn.Ub),0<xn.L){var Wn=xn.ed;for(Dn=0;4>Dn;++Dn){var Vn;if(xn.Qa.Cb){var Jn=xn.Qa.Lb[Dn];xn.Qa.Fb||(Jn+=Wn.Tb)}else Jn=Wn.Tb;for(Vn=0;1>=Vn;++Vn){var ei=xn.gd[Dn][Vn],ni=Jn;if(Wn.Pc&&(ni+=Wn.vd[0],Vn&&(ni+=Wn.od[0])),0<(ni=0>ni?0:63<ni?63:ni)){var ii=ni;0<Wn.wb&&(ii=4<Wn.wb?ii>>2:ii>>1)>9-Wn.wb&&(ii=9-Wn.wb),1>ii&&(ii=1),ei.dd=ii,ei.tc=2*ni+ii,ei.ld=40<=ni?2:15<=ni?1:0}else ei.tc=0;ei.La=Vn}}}Dn=0}else er(xn,6,"Frame setup failed"),Dn=xn.a;if(Dn=Dn==0){if(Dn){xn.$c=0,0<xn.Aa||(xn.Ic=el);e:{Dn=xn.Ic,Wn=4*(ii=xn.za);var oi=32*ii,xi=ii+1,Pi=0<xn.L?ii*(0<xn.Aa?2:1):0,Fi=(xn.Aa==2?2:1)*ii;if((ei=Wn+832+(Vn=3*(16*Dn+Bl[xn.L])/2*oi)+(Jn=xn.Fa!=null&&0<xn.Fa.length?xn.Kc.c*xn.Kc.i:0))!=ei)Dn=0;else{if(ei>xn.Vb){if(xn.Vb=0,xn.Ec=Be(ei),xn.Fc=0,xn.Ec==null){Dn=er(xn,1,"no memory during frame initialization.");break e}xn.Vb=ei}ei=xn.Ec,ni=xn.Fc,xn.Ac=ei,xn.Bc=ni,ni+=Wn,xn.Gd=Ve(oi,Fr),xn.Hd=0,xn.rb=Ve(xi+1,Er),xn.sb=1,xn.wa=Pi?Ve(Pi,Li):null,xn.Y=0,xn.D.Nb=0,xn.D.wa=xn.wa,xn.D.Y=xn.Y,0<xn.Aa&&(xn.D.Y+=ii),r(!0),xn.oc=ei,xn.pc=ni,ni+=832,xn.ya=Ve(Fi,$r),xn.aa=0,xn.D.ya=xn.ya,xn.D.aa=xn.aa,xn.Aa==2&&(xn.D.aa+=ii),xn.R=16*ii,xn.B=8*ii,ii=(oi=Bl[xn.L])*xn.R,oi=oi/2*xn.B,xn.sa=ei,xn.ta=ni+ii,xn.qa=xn.sa,xn.ra=xn.ta+16*Dn*xn.R+oi,xn.Ha=xn.qa,xn.Ia=xn.ra+8*Dn*xn.B+oi,xn.$c=0,ni+=Vn,xn.mb=Jn?ei:null,xn.nb=Jn?ni:null,r(ni+Jn<=xn.Fc+xn.Vb),Tr(xn),Fe(xn.Ac,xn.Bc,0,Wn),Dn=1}}if(Dn){if(An.ka=0,An.y=xn.sa,An.O=xn.ta,An.f=xn.qa,An.N=xn.ra,An.ea=xn.Ha,An.Vd=xn.Ia,An.fa=xn.R,An.Rc=xn.B,An.F=null,An.J=0,!Tc){for(Dn=-255;255>=Dn;++Dn)Ka[255+Dn]=0>Dn?-Dn:Dn;for(Dn=-1020;1020>=Dn;++Dn)No[1020+Dn]=-128>Dn?-128:127<Dn?127:Dn;for(Dn=-112;112>=Dn;++Dn)ic[112+Dn]=-16>Dn?-16:15<Dn?15:Dn;for(Dn=-255;510>=Dn;++Dn)Rl[255+Dn]=0>Dn?0:255<Dn?255:Dn;Tc=1}nc=ca,Vo=Eo,Ko=no,fs=Cl,Vs=_o,wa=zo,Il=na,Ic=pa,Tl=is,Pl=Ba,Fl=Vr,Ks=ss,Yo=qs,Oo=Ws,Jo=ra,Zo=la,ml=oa,os=Kr,lo[0]=Rs,lo[1]=ul,lo[2]=bo,lo[3]=Fs,lo[4]=yo,lo[5]=Hs,lo[6]=ro,lo[7]=Fo,lo[8]=Ai,lo[9]=zs,Es[0]=$s,Es[1]=Po,Es[2]=Ps,Es[3]=xo,Es[4]=Fa,Es[5]=ws,Es[6]=vs,Ns[0]=_i,Ns[1]=To,Ns[2]=Ze,Ns[3]=Pn,Ns[4]=pr,Ns[5]=Hi,Ns[6]=gr,Dn=1}else Dn=0}Dn&&(Dn=function(Ci,Ki){for(Ci.M=0;Ci.M<Ci.Va;++Ci.M){var ji,yi=Ci.Jc[Ci.M&Ci.Xb],wi=Ci.m,Wi=Ci;for(ji=0;ji<Wi.za;++ji){var qi=wi,Vi=Wi,Cr=Vi.Ac,mr=Vi.Bc+4*ji,qr=Vi.zc,wr=Vi.ya[Vi.aa+ji];if(Vi.Qa.Bb?wr.$b=mn(qi,Vi.Pa.jb[0])?2+mn(qi,Vi.Pa.jb[2]):mn(qi,Vi.Pa.jb[1]):wr.$b=0,Vi.kc&&(wr.Ad=mn(qi,Vi.Bd)),wr.Za=!mn(qi,145)+0,wr.Za){var ba=wr.Ob,ya=0;for(Vi=0;4>Vi;++Vi){var ga,sa=qr[0+Vi];for(ga=0;4>ga;++ga){sa=pu[Cr[mr+ga]][sa];for(var Pa=L0[mn(qi,sa[0])];0<Pa;)Pa=L0[2*Pa+mn(qi,sa[Pa])];sa=-Pa,Cr[mr+ga]=sa}Ee(ba,ya,Cr,mr,4),ya+=4,qr[0+Vi]=sa}}else sa=mn(qi,156)?mn(qi,128)?1:3:mn(qi,163)?2:0,wr.Ob[0]=sa,Fe(Cr,mr,sa,4),Fe(qr,0,sa,4);wr.Dd=mn(qi,142)?mn(qi,114)?mn(qi,183)?1:3:2:0}if(Wi.m.Ka)return er(Ci,7,"Premature end-of-partition0 encountered.");for(;Ci.ja<Ci.za;++Ci.ja){if(Wi=yi,qi=(wi=Ci).rb[wi.sb-1],Cr=wi.rb[wi.sb+wi.ja],ji=wi.ya[wi.aa+wi.ja],mr=wi.kc?ji.Ad:0)qi.la=Cr.la=0,ji.Za||(qi.Na=Cr.Na=0),ji.Hc=0,ji.Gc=0,ji.ia=0;else{var Oa,ea;if(qi=Cr,Cr=Wi,mr=wi.Pa.Xc,qr=wi.ya[wi.aa+wi.ja],wr=wi.pb[qr.$b],Vi=qr.ad,ba=0,ya=wi.rb[wi.sb-1],sa=ga=0,Fe(Vi,ba,0,384),qr.Za)var Ua=0,_s=mr[3];else{Pa=Be(16);var Xa=qi.Na+ya.Na;if(Xa=Ll(Cr,mr[1],Xa,wr.Eb,0,Pa,0),qi.Na=ya.Na=(0<Xa)+0,1<Xa)nc(Pa,0,Vi,ba);else{var Qa=Pa[0]+3>>3;for(Pa=0;256>Pa;Pa+=16)Vi[ba+Pa]=Qa}Ua=1,_s=mr[0]}var Aa=15&qi.la,gs=15&ya.la;for(Pa=0;4>Pa;++Pa){var ms=1&gs;for(Qa=ea=0;4>Qa;++Qa)Aa=Aa>>1|(ms=(Xa=Ll(Cr,_s,Xa=ms+(1&Aa),wr.Sc,Ua,Vi,ba))>Ua)<<7,ea=ea<<2|(3<Xa?3:1<Xa?2:Vi[ba+0]!=0),ba+=16;Aa>>=4,gs=gs>>1|ms<<7,ga=(ga<<8|ea)>>>0}for(_s=Aa,Ua=gs>>4,Oa=0;4>Oa;Oa+=2){for(ea=0,Aa=qi.la>>4+Oa,gs=ya.la>>4+Oa,Pa=0;2>Pa;++Pa){for(ms=1&gs,Qa=0;2>Qa;++Qa)Xa=ms+(1&Aa),Aa=Aa>>1|(ms=0<(Xa=Ll(Cr,mr[2],Xa,wr.Qc,0,Vi,ba)))<<3,ea=ea<<2|(3<Xa?3:1<Xa?2:Vi[ba+0]!=0),ba+=16;Aa>>=2,gs=gs>>1|ms<<5}sa|=ea<<4*Oa,_s|=Aa<<4<<Oa,Ua|=(240&gs)<<Oa}qi.la=_s,ya.la=Ua,qr.Hc=ga,qr.Gc=sa,qr.ia=43690&sa?0:wr.ia,mr=!(ga|sa)}if(0<wi.L&&(wi.wa[wi.Y+wi.ja]=wi.gd[ji.$b][ji.Za],wi.wa[wi.Y+wi.ja].La|=!mr),Wi.Ka)return er(Ci,7,"Premature end-of-file encountered.")}if(Tr(Ci),wi=Ki,Wi=1,ji=(yi=Ci).D,qi=0<yi.L&&yi.M>=yi.zb&&yi.M<=yi.Va,yi.Aa==0)e:{if(ji.M=yi.M,ji.uc=qi,Xl(yi,ji),Wi=1,ji=(ea=yi.D).Nb,qi=(sa=Bl[yi.L])*yi.R,Cr=sa/2*yi.B,Pa=16*ji*yi.R,Qa=8*ji*yi.B,mr=yi.sa,qr=yi.ta-qi+Pa,wr=yi.qa,Vi=yi.ra-Cr+Qa,ba=yi.Ha,ya=yi.Ia-Cr+Qa,gs=(Aa=ea.M)==0,ga=Aa>=yi.Va-1,yi.Aa==2&&Xl(yi,ea),ea.uc)for(ms=(Xa=yi).D.M,r(Xa.D.uc),ea=Xa.yb;ea<Xa.Hb;++ea){Ua=ea,_s=ms;var $a=(es=(Ca=Xa).D).Nb;Oa=Ca.R;var es=es.wa[es.Y+Ua],cs=Ca.sa,Bs=Ca.ta+16*$a*Oa+16*Ua,co=es.dd,Ha=es.tc;if(Ha!=0)if(r(3<=Ha),Ca.L==1)0<Ua&&Zo(cs,Bs,Oa,Ha+4),es.La&&os(cs,Bs,Oa,Ha),0<_s&&Jo(cs,Bs,Oa,Ha+4),es.La&&ml(cs,Bs,Oa,Ha);else{var Ya=Ca.B,Ys=Ca.qa,wl=Ca.ra+8*$a*Ya+8*Ua,tl=Ca.Ha,Ca=Ca.Ia+8*$a*Ya+8*Ua;$a=es.ld,0<Ua&&(Ic(cs,Bs,Oa,Ha+4,co,$a),Pl(Ys,wl,tl,Ca,Ya,Ha+4,co,$a)),es.La&&(Ks(cs,Bs,Oa,Ha,co,$a),Oo(Ys,wl,tl,Ca,Ya,Ha,co,$a)),0<_s&&(Il(cs,Bs,Oa,Ha+4,co,$a),Tl(Ys,wl,tl,Ca,Ya,Ha+4,co,$a)),es.La&&(Fl(cs,Bs,Oa,Ha,co,$a),Yo(Ys,wl,tl,Ca,Ya,Ha,co,$a))}}if(yi.ia&&alert("todo:DitherRow"),wi.put!=null){if(ea=16*Aa,Aa=16*(Aa+1),gs?(wi.y=yi.sa,wi.O=yi.ta+Pa,wi.f=yi.qa,wi.N=yi.ra+Qa,wi.ea=yi.Ha,wi.W=yi.Ia+Qa):(ea-=sa,wi.y=mr,wi.O=qr,wi.f=wr,wi.N=Vi,wi.ea=ba,wi.W=ya),ga||(Aa-=sa),Aa>wi.o&&(Aa=wi.o),wi.F=null,wi.J=null,yi.Fa!=null&&0<yi.Fa.length&&ea<Aa&&(wi.J=kc(yi,wi,ea,Aa-ea),wi.F=yi.mb,wi.F==null&&wi.F.length==0)){Wi=er(yi,3,"Could not decode alpha data.");break e}ea<wi.j&&(sa=wi.j-ea,ea=wi.j,r(!(1&sa)),wi.O+=yi.R*sa,wi.N+=yi.B*(sa>>1),wi.W+=yi.B*(sa>>1),wi.F!=null&&(wi.J+=wi.width*sa)),ea<Aa&&(wi.O+=wi.v,wi.N+=wi.v>>1,wi.W+=wi.v>>1,wi.F!=null&&(wi.J+=wi.v),wi.ka=ea-wi.j,wi.U=wi.va-wi.v,wi.T=Aa-ea,Wi=wi.put(wi))}ji+1!=yi.Ic||ga||(Ee(yi.sa,yi.ta-qi,mr,qr+16*yi.R,qi),Ee(yi.qa,yi.ra-Cr,wr,Vi+8*yi.B,Cr),Ee(yi.Ha,yi.Ia-Cr,ba,ya+8*yi.B,Cr))}if(!Wi)return er(Ci,6,"Output aborted.")}return 1}(xn,An)),An.bc!=null&&An.bc(An),Dn&=1}return Dn?(xn.cb=0,Dn):0}function Zr(xn,An,Dn,Wn,Vn){Vn=xn[An+Dn+32*Wn]+(Vn>>3),xn[An+Dn+32*Wn]=-256&Vn?0>Vn?0:255:Vn}function ma(xn,An,Dn,Wn,Vn,Jn){Zr(xn,An,0,Dn,Wn+Vn),Zr(xn,An,1,Dn,Wn+Jn),Zr(xn,An,2,Dn,Wn-Jn),Zr(xn,An,3,Dn,Wn-Vn)}function Sa(xn){return(20091*xn>>16)+xn}function ys(xn,An,Dn,Wn){var Vn,Jn=0,ei=Be(16);for(Vn=0;4>Vn;++Vn){var ni=xn[An+0]+xn[An+8],ii=xn[An+0]-xn[An+8],oi=(35468*xn[An+4]>>16)-Sa(xn[An+12]),xi=Sa(xn[An+4])+(35468*xn[An+12]>>16);ei[Jn+0]=ni+xi,ei[Jn+1]=ii+oi,ei[Jn+2]=ii-oi,ei[Jn+3]=ni-xi,Jn+=4,An++}for(Vn=Jn=0;4>Vn;++Vn)ni=(xn=ei[Jn+0]+4)+ei[Jn+8],ii=xn-ei[Jn+8],oi=(35468*ei[Jn+4]>>16)-Sa(ei[Jn+12]),Zr(Dn,Wn,0,0,ni+(xi=Sa(ei[Jn+4])+(35468*ei[Jn+12]>>16))),Zr(Dn,Wn,1,0,ii+oi),Zr(Dn,Wn,2,0,ii-oi),Zr(Dn,Wn,3,0,ni-xi),Jn++,Wn+=32}function zo(xn,An,Dn,Wn){var Vn=xn[An+0]+4,Jn=35468*xn[An+4]>>16,ei=Sa(xn[An+4]),ni=35468*xn[An+1]>>16;ma(Dn,Wn,0,Vn+ei,xn=Sa(xn[An+1]),ni),ma(Dn,Wn,1,Vn+Jn,xn,ni),ma(Dn,Wn,2,Vn-Jn,xn,ni),ma(Dn,Wn,3,Vn-ei,xn,ni)}function Eo(xn,An,Dn,Wn,Vn){ys(xn,An,Dn,Wn),Vn&&ys(xn,An+16,Dn,Wn+4)}function no(xn,An,Dn,Wn){Vo(xn,An+0,Dn,Wn,1),Vo(xn,An+32,Dn,Wn+128,1)}function Cl(xn,An,Dn,Wn){var Vn;for(xn=xn[An+0]+4,Vn=0;4>Vn;++Vn)for(An=0;4>An;++An)Zr(Dn,Wn,An,Vn,xn)}function _o(xn,An,Dn,Wn){xn[An+0]&&fs(xn,An+0,Dn,Wn),xn[An+16]&&fs(xn,An+16,Dn,Wn+4),xn[An+32]&&fs(xn,An+32,Dn,Wn+128),xn[An+48]&&fs(xn,An+48,Dn,Wn+128+4)}function ca(xn,An,Dn,Wn){var Vn,Jn=Be(16);for(Vn=0;4>Vn;++Vn){var ei=xn[An+0+Vn]+xn[An+12+Vn],ni=xn[An+4+Vn]+xn[An+8+Vn],ii=xn[An+4+Vn]-xn[An+8+Vn],oi=xn[An+0+Vn]-xn[An+12+Vn];Jn[0+Vn]=ei+ni,Jn[8+Vn]=ei-ni,Jn[4+Vn]=oi+ii,Jn[12+Vn]=oi-ii}for(Vn=0;4>Vn;++Vn)ei=(xn=Jn[0+4*Vn]+3)+Jn[3+4*Vn],ni=Jn[1+4*Vn]+Jn[2+4*Vn],ii=Jn[1+4*Vn]-Jn[2+4*Vn],oi=xn-Jn[3+4*Vn],Dn[Wn+0]=ei+ni>>3,Dn[Wn+16]=oi+ii>>3,Dn[Wn+32]=ei-ni>>3,Dn[Wn+48]=oi-ii>>3,Wn+=64}function Io(xn,An,Dn){var Wn,Vn=An-32,Jn=ks,ei=255-xn[Vn-1];for(Wn=0;Wn<Dn;++Wn){var ni,ii=Jn,oi=ei+xn[An-1];for(ni=0;ni<Dn;++ni)xn[An+ni]=ii[oi+xn[Vn+ni]];An+=32}}function ul(xn,An){Io(xn,An,4)}function To(xn,An){Io(xn,An,8)}function Po(xn,An){Io(xn,An,16)}function Ps(xn,An){var Dn;for(Dn=0;16>Dn;++Dn)Ee(xn,An+32*Dn,xn,An-32,16)}function xo(xn,An){var Dn;for(Dn=16;0<Dn;--Dn)Fe(xn,An,xn[An-1],16),An+=32}function io(xn,An,Dn){var Wn;for(Wn=0;16>Wn;++Wn)Fe(An,Dn+32*Wn,xn,16)}function $s(xn,An){var Dn,Wn=16;for(Dn=0;16>Dn;++Dn)Wn+=xn[An-1+32*Dn]+xn[An+Dn-32];io(Wn>>5,xn,An)}function Fa(xn,An){var Dn,Wn=8;for(Dn=0;16>Dn;++Dn)Wn+=xn[An-1+32*Dn];io(Wn>>4,xn,An)}function ws(xn,An){var Dn,Wn=8;for(Dn=0;16>Dn;++Dn)Wn+=xn[An+Dn-32];io(Wn>>4,xn,An)}function vs(xn,An){io(128,xn,An)}function Wr(xn,An,Dn){return xn+2*An+Dn+2>>2}function bo(xn,An){var Dn,Wn=An-32;for(Wn=new Uint8Array([Wr(xn[Wn-1],xn[Wn+0],xn[Wn+1]),Wr(xn[Wn+0],xn[Wn+1],xn[Wn+2]),Wr(xn[Wn+1],xn[Wn+2],xn[Wn+3]),Wr(xn[Wn+2],xn[Wn+3],xn[Wn+4])]),Dn=0;4>Dn;++Dn)Ee(xn,An+32*Dn,Wn,0,Wn.length)}function Fs(xn,An){var Dn=xn[An-1],Wn=xn[An-1+32],Vn=xn[An-1+64],Jn=xn[An-1+96];yn(xn,An+0,16843009*Wr(xn[An-1-32],Dn,Wn)),yn(xn,An+32,16843009*Wr(Dn,Wn,Vn)),yn(xn,An+64,16843009*Wr(Wn,Vn,Jn)),yn(xn,An+96,16843009*Wr(Vn,Jn,Jn))}function Rs(xn,An){var Dn,Wn=4;for(Dn=0;4>Dn;++Dn)Wn+=xn[An+Dn-32]+xn[An-1+32*Dn];for(Wn>>=3,Dn=0;4>Dn;++Dn)Fe(xn,An+32*Dn,Wn,4)}function yo(xn,An){var Dn=xn[An-1+0],Wn=xn[An-1+32],Vn=xn[An-1+64],Jn=xn[An-1-32],ei=xn[An+0-32],ni=xn[An+1-32],ii=xn[An+2-32],oi=xn[An+3-32];xn[An+0+96]=Wr(Wn,Vn,xn[An-1+96]),xn[An+1+96]=xn[An+0+64]=Wr(Dn,Wn,Vn),xn[An+2+96]=xn[An+1+64]=xn[An+0+32]=Wr(Jn,Dn,Wn),xn[An+3+96]=xn[An+2+64]=xn[An+1+32]=xn[An+0+0]=Wr(ei,Jn,Dn),xn[An+3+64]=xn[An+2+32]=xn[An+1+0]=Wr(ni,ei,Jn),xn[An+3+32]=xn[An+2+0]=Wr(ii,ni,ei),xn[An+3+0]=Wr(oi,ii,ni)}function ro(xn,An){var Dn=xn[An+1-32],Wn=xn[An+2-32],Vn=xn[An+3-32],Jn=xn[An+4-32],ei=xn[An+5-32],ni=xn[An+6-32],ii=xn[An+7-32];xn[An+0+0]=Wr(xn[An+0-32],Dn,Wn),xn[An+1+0]=xn[An+0+32]=Wr(Dn,Wn,Vn),xn[An+2+0]=xn[An+1+32]=xn[An+0+64]=Wr(Wn,Vn,Jn),xn[An+3+0]=xn[An+2+32]=xn[An+1+64]=xn[An+0+96]=Wr(Vn,Jn,ei),xn[An+3+32]=xn[An+2+64]=xn[An+1+96]=Wr(Jn,ei,ni),xn[An+3+64]=xn[An+2+96]=Wr(ei,ni,ii),xn[An+3+96]=Wr(ni,ii,ii)}function Hs(xn,An){var Dn=xn[An-1+0],Wn=xn[An-1+32],Vn=xn[An-1+64],Jn=xn[An-1-32],ei=xn[An+0-32],ni=xn[An+1-32],ii=xn[An+2-32],oi=xn[An+3-32];xn[An+0+0]=xn[An+1+64]=Jn+ei+1>>1,xn[An+1+0]=xn[An+2+64]=ei+ni+1>>1,xn[An+2+0]=xn[An+3+64]=ni+ii+1>>1,xn[An+3+0]=ii+oi+1>>1,xn[An+0+96]=Wr(Vn,Wn,Dn),xn[An+0+64]=Wr(Wn,Dn,Jn),xn[An+0+32]=xn[An+1+96]=Wr(Dn,Jn,ei),xn[An+1+32]=xn[An+2+96]=Wr(Jn,ei,ni),xn[An+2+32]=xn[An+3+96]=Wr(ei,ni,ii),xn[An+3+32]=Wr(ni,ii,oi)}function Fo(xn,An){var Dn=xn[An+0-32],Wn=xn[An+1-32],Vn=xn[An+2-32],Jn=xn[An+3-32],ei=xn[An+4-32],ni=xn[An+5-32],ii=xn[An+6-32],oi=xn[An+7-32];xn[An+0+0]=Dn+Wn+1>>1,xn[An+1+0]=xn[An+0+64]=Wn+Vn+1>>1,xn[An+2+0]=xn[An+1+64]=Vn+Jn+1>>1,xn[An+3+0]=xn[An+2+64]=Jn+ei+1>>1,xn[An+0+32]=Wr(Dn,Wn,Vn),xn[An+1+32]=xn[An+0+96]=Wr(Wn,Vn,Jn),xn[An+2+32]=xn[An+1+96]=Wr(Vn,Jn,ei),xn[An+3+32]=xn[An+2+96]=Wr(Jn,ei,ni),xn[An+3+64]=Wr(ei,ni,ii),xn[An+3+96]=Wr(ni,ii,oi)}function zs(xn,An){var Dn=xn[An-1+0],Wn=xn[An-1+32],Vn=xn[An-1+64],Jn=xn[An-1+96];xn[An+0+0]=Dn+Wn+1>>1,xn[An+2+0]=xn[An+0+32]=Wn+Vn+1>>1,xn[An+2+32]=xn[An+0+64]=Vn+Jn+1>>1,xn[An+1+0]=Wr(Dn,Wn,Vn),xn[An+3+0]=xn[An+1+32]=Wr(Wn,Vn,Jn),xn[An+3+32]=xn[An+1+64]=Wr(Vn,Jn,Jn),xn[An+3+64]=xn[An+2+64]=xn[An+0+96]=xn[An+1+96]=xn[An+2+96]=xn[An+3+96]=Jn}function Ai(xn,An){var Dn=xn[An-1+0],Wn=xn[An-1+32],Vn=xn[An-1+64],Jn=xn[An-1+96],ei=xn[An-1-32],ni=xn[An+0-32],ii=xn[An+1-32],oi=xn[An+2-32];xn[An+0+0]=xn[An+2+32]=Dn+ei+1>>1,xn[An+0+32]=xn[An+2+64]=Wn+Dn+1>>1,xn[An+0+64]=xn[An+2+96]=Vn+Wn+1>>1,xn[An+0+96]=Jn+Vn+1>>1,xn[An+3+0]=Wr(ni,ii,oi),xn[An+2+0]=Wr(ei,ni,ii),xn[An+1+0]=xn[An+3+32]=Wr(Dn,ei,ni),xn[An+1+32]=xn[An+3+64]=Wr(Wn,Dn,ei),xn[An+1+64]=xn[An+3+96]=Wr(Vn,Wn,Dn),xn[An+1+96]=Wr(Jn,Vn,Wn)}function Ze(xn,An){var Dn;for(Dn=0;8>Dn;++Dn)Ee(xn,An+32*Dn,xn,An-32,8)}function Pn(xn,An){var Dn;for(Dn=0;8>Dn;++Dn)Fe(xn,An,xn[An-1],8),An+=32}function gi(xn,An,Dn){var Wn;for(Wn=0;8>Wn;++Wn)Fe(An,Dn+32*Wn,xn,8)}function _i(xn,An){var Dn,Wn=8;for(Dn=0;8>Dn;++Dn)Wn+=xn[An+Dn-32]+xn[An-1+32*Dn];gi(Wn>>4,xn,An)}function Hi(xn,An){var Dn,Wn=4;for(Dn=0;8>Dn;++Dn)Wn+=xn[An+Dn-32];gi(Wn>>3,xn,An)}function pr(xn,An){var Dn,Wn=4;for(Dn=0;8>Dn;++Dn)Wn+=xn[An-1+32*Dn];gi(Wn>>3,xn,An)}function gr(xn,An){gi(128,xn,An)}function vr(xn,An,Dn){var Wn=xn[An-Dn],Vn=xn[An+0],Jn=3*(Vn-Wn)+Lo[1020+xn[An-2*Dn]-xn[An+Dn]],ei=rc[112+(Jn+4>>3)];xn[An-Dn]=ks[255+Wn+rc[112+(Jn+3>>3)]],xn[An+0]=ks[255+Vn-ei]}function jr(xn,An,Dn,Wn){var Vn=xn[An+0],Jn=xn[An+Dn];return oo[255+xn[An-2*Dn]-xn[An-Dn]]>Wn||oo[255+Jn-Vn]>Wn}function Qr(xn,An,Dn,Wn){return 4*oo[255+xn[An-Dn]-xn[An+0]]+oo[255+xn[An-2*Dn]-xn[An+Dn]]<=Wn}function fa(xn,An,Dn,Wn,Vn){var Jn=xn[An-3*Dn],ei=xn[An-2*Dn],ni=xn[An-Dn],ii=xn[An+0],oi=xn[An+Dn],xi=xn[An+2*Dn],Pi=xn[An+3*Dn];return 4*oo[255+ni-ii]+oo[255+ei-oi]>Wn?0:oo[255+xn[An-4*Dn]-Jn]<=Vn&&oo[255+Jn-ei]<=Vn&&oo[255+ei-ni]<=Vn&&oo[255+Pi-xi]<=Vn&&oo[255+xi-oi]<=Vn&&oo[255+oi-ii]<=Vn}function ra(xn,An,Dn,Wn){var Vn=2*Wn+1;for(Wn=0;16>Wn;++Wn)Qr(xn,An+Wn,Dn,Vn)&&vr(xn,An+Wn,Dn)}function la(xn,An,Dn,Wn){var Vn=2*Wn+1;for(Wn=0;16>Wn;++Wn)Qr(xn,An+Wn*Dn,1,Vn)&&vr(xn,An+Wn*Dn,1)}function oa(xn,An,Dn,Wn){var Vn;for(Vn=3;0<Vn;--Vn)ra(xn,An+=4*Dn,Dn,Wn)}function Kr(xn,An,Dn,Wn){var Vn;for(Vn=3;0<Vn;--Vn)la(xn,An+=4,Dn,Wn)}function xa(xn,An,Dn,Wn,Vn,Jn,ei,ni){for(Jn=2*Jn+1;0<Vn--;){if(fa(xn,An,Dn,Jn,ei))if(jr(xn,An,Dn,ni))vr(xn,An,Dn);else{var ii=xn,oi=An,xi=Dn,Pi=ii[oi-2*xi],Fi=ii[oi-xi],Ci=ii[oi+0],Ki=ii[oi+xi],ji=ii[oi+2*xi],yi=27*(Wi=Lo[1020+3*(Ci-Fi)+Lo[1020+Pi-Ki]])+63>>7,wi=18*Wi+63>>7,Wi=9*Wi+63>>7;ii[oi-3*xi]=ks[255+ii[oi-3*xi]+Wi],ii[oi-2*xi]=ks[255+Pi+wi],ii[oi-xi]=ks[255+Fi+yi],ii[oi+0]=ks[255+Ci-yi],ii[oi+xi]=ks[255+Ki-wi],ii[oi+2*xi]=ks[255+ji-Wi]}An+=Wn}}function Lr(xn,An,Dn,Wn,Vn,Jn,ei,ni){for(Jn=2*Jn+1;0<Vn--;){if(fa(xn,An,Dn,Jn,ei))if(jr(xn,An,Dn,ni))vr(xn,An,Dn);else{var ii=xn,oi=An,xi=Dn,Pi=ii[oi-xi],Fi=ii[oi+0],Ci=ii[oi+xi],Ki=rc[112+((ji=3*(Fi-Pi))+4>>3)],ji=rc[112+(ji+3>>3)],yi=Ki+1>>1;ii[oi-2*xi]=ks[255+ii[oi-2*xi]+yi],ii[oi-xi]=ks[255+Pi+ji],ii[oi+0]=ks[255+Fi-Ki],ii[oi+xi]=ks[255+Ci-yi]}An+=Wn}}function na(xn,An,Dn,Wn,Vn,Jn){xa(xn,An,Dn,1,16,Wn,Vn,Jn)}function pa(xn,An,Dn,Wn,Vn,Jn){xa(xn,An,1,Dn,16,Wn,Vn,Jn)}function Vr(xn,An,Dn,Wn,Vn,Jn){var ei;for(ei=3;0<ei;--ei)Lr(xn,An+=4*Dn,Dn,1,16,Wn,Vn,Jn)}function ss(xn,An,Dn,Wn,Vn,Jn){var ei;for(ei=3;0<ei;--ei)Lr(xn,An+=4,1,Dn,16,Wn,Vn,Jn)}function is(xn,An,Dn,Wn,Vn,Jn,ei,ni){xa(xn,An,Vn,1,8,Jn,ei,ni),xa(Dn,Wn,Vn,1,8,Jn,ei,ni)}function Ba(xn,An,Dn,Wn,Vn,Jn,ei,ni){xa(xn,An,1,Vn,8,Jn,ei,ni),xa(Dn,Wn,1,Vn,8,Jn,ei,ni)}function qs(xn,An,Dn,Wn,Vn,Jn,ei,ni){Lr(xn,An+4*Vn,Vn,1,8,Jn,ei,ni),Lr(Dn,Wn+4*Vn,Vn,1,8,Jn,ei,ni)}function Ws(xn,An,Dn,Wn,Vn,Jn,ei,ni){Lr(xn,An+4,1,Vn,8,Jn,ei,ni),Lr(Dn,Wn+4,1,Vn,8,Jn,ei,ni)}function ao(){this.ba=new si,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new li,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Xs(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ql(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Xc(){this.ua=0,this.Wa=new Cn,this.vb=new Cn,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new fn,this.yc=new pn}function p0(){this.xb=this.a=0,this.l=new cr,this.ca=new si,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new $e,this.Pb=0,this.wd=new $e,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Xc,this.ab=0,this.gc=Ve(4,ql),this.Oc=0}function Wl(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new cr,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function qo(xn,An,Dn,Wn,Vn,Jn,ei){for(xn=xn==null?0:xn[An+0],An=0;An<ei;++An)Vn[Jn+An]=xn+Dn[Wn+An]&255,xn=Vn[Jn+An]}function Cc(xn,An,Dn,Wn,Vn,Jn,ei){var ni;if(xn==null)qo(null,null,Dn,Wn,Vn,Jn,ei);else for(ni=0;ni<ei;++ni)Vn[Jn+ni]=xn[An+ni]+Dn[Wn+ni]&255}function hl(xn,An,Dn,Wn,Vn,Jn,ei){if(xn==null)qo(null,null,Dn,Wn,Vn,Jn,ei);else{var ni,ii=xn[An+0],oi=ii,xi=ii;for(ni=0;ni<ei;++ni)oi=xi+(ii=xn[An+ni])-oi,xi=Dn[Wn+ni]+(-256&oi?0>oi?0:255:oi)&255,oi=ii,Vn[Jn+ni]=xi}}function kc(xn,An,Dn,Wn){var Vn=An.width,Jn=An.o;if(r(xn!=null&&An!=null),0>Dn||0>=Wn||Dn+Wn>Jn)return null;if(!xn.Cc){if(xn.ga==null){var ei;if(xn.ga=new Wl,(ei=xn.ga==null)||(ei=An.width*An.o,r(xn.Gb.length==0),xn.Gb=Be(ei),xn.Uc=0,xn.Gb==null?ei=0:(xn.mb=xn.Gb,xn.nb=xn.Uc,xn.rc=null,ei=1),ei=!ei),!ei){ei=xn.ga;var ni=xn.Fa,ii=xn.P,oi=xn.qc,xi=xn.mb,Pi=xn.nb,Fi=ii+1,Ci=oi-1,Ki=ei.l;if(r(ni!=null&&xi!=null&&An!=null),ps[0]=null,ps[1]=qo,ps[2]=Cc,ps[3]=hl,ei.ca=xi,ei.tb=Pi,ei.c=An.width,ei.i=An.height,r(0<ei.c&&0<ei.i),1>=oi)An=0;else if(ei.$a=ni[ii+0]>>0&3,ei.Z=ni[ii+0]>>2&3,ei.Lc=ni[ii+0]>>4&3,ii=ni[ii+0]>>6&3,0>ei.$a||1<ei.$a||4<=ei.Z||1<ei.Lc||ii)An=0;else if(Ki.put=ar,Ki.ac=fr,Ki.bc=Ii,Ki.ma=ei,Ki.width=An.width,Ki.height=An.height,Ki.Da=An.Da,Ki.v=An.v,Ki.va=An.va,Ki.j=An.j,Ki.o=An.o,ei.$a)e:{r(ei.$a==1),An=Xr();t:for(;;){if(An==null){An=0;break e}if(r(ei!=null),ei.mc=An,An.c=ei.c,An.i=ei.i,An.l=ei.l,An.l.ma=ei,An.l.width=ei.c,An.l.height=ei.i,An.a=0,Me(An.m,ni,Fi,Ci),!kr(ei.c,ei.i,1,An,null)||(An.ab==1&&An.gc[0].hc==3&&sr(An.s)?(ei.ic=1,ni=An.c*An.i,An.Ta=null,An.Ua=0,An.V=Be(ni),An.Ba=0,An.V==null?(An.a=1,An=0):An=1):(ei.ic=0,An=da(An,ei.c)),!An))break t;An=1;break e}ei.mc=null,An=0}else An=Ci>=ei.c*ei.i;ei=!An}if(ei)return null;xn.ga.Lc!=1?xn.Ga=0:Wn=Jn-Dn}r(xn.ga!=null),r(Dn+Wn<=Jn);e:{if(An=(ni=xn.ga).c,Jn=ni.l.o,ni.$a==0){if(Fi=xn.rc,Ci=xn.Vc,Ki=xn.Fa,ii=xn.P+1+Dn*An,oi=xn.mb,xi=xn.nb+Dn*An,r(ii<=xn.P+xn.qc),ni.Z!=0)for(r(ps[ni.Z]!=null),ei=0;ei<Wn;++ei)ps[ni.Z](Fi,Ci,Ki,ii,oi,xi,An),Fi=oi,Ci=xi,xi+=An,ii+=An;else for(ei=0;ei<Wn;++ei)Ee(oi,xi,Ki,ii,An),Fi=oi,Ci=xi,xi+=An,ii+=An;xn.rc=Fi,xn.Vc=Ci}else{if(r(ni.mc!=null),An=Dn+Wn,r((ei=ni.mc)!=null),r(An<=ei.i),ei.C>=An)An=1;else if(ni.ic||Ti(),ni.ic){ni=ei.V,Fi=ei.Ba,Ci=ei.c;var ji=ei.i,yi=(Ki=1,ii=ei.$/Ci,oi=ei.$%Ci,xi=ei.m,Pi=ei.s,ei.$),wi=Ci*ji,Wi=Ci*An,qi=Pi.wc,Vi=yi<Wi?Yi(Pi,oi,ii):null;r(yi<=wi),r(An<=ji),r(sr(Pi));t:for(;;){for(;!xi.h&&yi<Wi;){if(oi&qi||(Vi=Yi(Pi,oi,ii)),r(Vi!=null),Ke(xi),256>(ji=Xi(Vi.G[0],Vi.H[0],xi)))ni[Fi+yi]=ji,++yi,++oi>=Ci&&(oi=0,++ii<=An&&!(ii%16)&&Zi(ei,ii));else{if(!(280>ji)){Ki=0;break t}ji=rr(ji-256,xi);var Cr,mr=Xi(Vi.G[4],Vi.H[4],xi);if(Ke(xi),!(yi>=(mr=dr(Ci,mr=rr(mr,xi)))&&wi-yi>=ji)){Ki=0;break t}for(Cr=0;Cr<ji;++Cr)ni[Fi+yi+Cr]=ni[Fi+yi+Cr-mr];for(yi+=ji,oi+=ji;oi>=Ci;)oi-=Ci,++ii<=An&&!(ii%16)&&Zi(ei,ii);yi<Wi&&oi&qi&&(Vi=Yi(Pi,oi,ii))}r(xi.h==Je(xi))}Zi(ei,ii>An?An:ii);break t}!Ki||xi.h&&yi<wi?(Ki=0,ei.a=xi.h?5:3):ei.$=yi,An=Ki}else An=Ar(ei,ei.V,ei.Ba,ei.c,ei.i,An,Mi);if(!An){Wn=0;break e}}Dn+Wn>=Jn&&(xn.Cc=1),Wn=1}if(!Wn)return null;if(xn.Cc&&((Wn=xn.ga)!=null&&(Wn.mc=null),xn.ga=null,0<xn.Ga))return alert("todo:WebPDequantizeLevels"),null}return xn.nb+Dn*Vn}function Fn(xn,An,Dn,Wn,Vn,Jn){for(;0<Vn--;){var ei,ni=xn,ii=An+(Dn?1:0),oi=xn,xi=An+(Dn?0:3);for(ei=0;ei<Wn;++ei){var Pi=oi[xi+4*ei];Pi!=255&&(Pi*=32897,ni[ii+4*ei+0]=ni[ii+4*ei+0]*Pi>>23,ni[ii+4*ei+1]=ni[ii+4*ei+1]*Pi>>23,ni[ii+4*ei+2]=ni[ii+4*ei+2]*Pi>>23)}An+=Jn}}function Kn(xn,An,Dn,Wn,Vn){for(;0<Wn--;){var Jn;for(Jn=0;Jn<Dn;++Jn){var ei=xn[An+2*Jn+0],ni=15&(oi=xn[An+2*Jn+1]),ii=4369*ni,oi=(240&oi|oi>>4)*ii>>16;xn[An+2*Jn+0]=(240&ei|ei>>4)*ii>>16&240|(15&ei|ei<<4)*ii>>16>>4&15,xn[An+2*Jn+1]=240&oi|ni}An+=Vn}}function di(xn,An,Dn,Wn,Vn,Jn,ei,ni){var ii,oi,xi=255;for(oi=0;oi<Vn;++oi){for(ii=0;ii<Wn;++ii){var Pi=xn[An+ii];Jn[ei+4*ii]=Pi,xi&=Pi}An+=Dn,ei+=ni}return xi!=255}function mi(xn,An,Dn,Wn,Vn){var Jn;for(Jn=0;Jn<Vn;++Jn)Dn[Wn+Jn]=xn[An+Jn]>>8}function Ti(){Os=Fn,Na=Kn,Ia=di,Wa=mi}function zi(xn,An,Dn){un[xn]=function(Wn,Vn,Jn,ei,ni,ii,oi,xi,Pi,Fi,Ci,Ki,ji,yi,wi,Wi,qi){var Vi,Cr=qi-1>>1,mr=ni[ii+0]|oi[xi+0]<<16,qr=Pi[Fi+0]|Ci[Ki+0]<<16;r(Wn!=null);var wr=3*mr+qr+131074>>2;for(An(Wn[Vn+0],255&wr,wr>>16,ji,yi),Jn!=null&&(wr=3*qr+mr+131074>>2,An(Jn[ei+0],255&wr,wr>>16,wi,Wi)),Vi=1;Vi<=Cr;++Vi){var ba=ni[ii+Vi]|oi[xi+Vi]<<16,ya=Pi[Fi+Vi]|Ci[Ki+Vi]<<16,ga=mr+ba+qr+ya+524296,sa=ga+2*(ba+qr)>>3;wr=sa+mr>>1,mr=(ga=ga+2*(mr+ya)>>3)+ba>>1,An(Wn[Vn+2*Vi-1],255&wr,wr>>16,ji,yi+(2*Vi-1)*Dn),An(Wn[Vn+2*Vi-0],255&mr,mr>>16,ji,yi+(2*Vi-0)*Dn),Jn!=null&&(wr=ga+qr>>1,mr=sa+ya>>1,An(Jn[ei+2*Vi-1],255&wr,wr>>16,wi,Wi+(2*Vi-1)*Dn),An(Jn[ei+2*Vi+0],255&mr,mr>>16,wi,Wi+(2*Vi+0)*Dn)),mr=ba,qr=ya}1&qi||(wr=3*mr+qr+131074>>2,An(Wn[Vn+qi-1],255&wr,wr>>16,ji,yi+(qi-1)*Dn),Jn!=null&&(wr=3*qr+mr+131074>>2,An(Jn[ei+qi-1],255&wr,wr>>16,wi,Wi+(qi-1)*Dn)))}}function tr(){Ls[Vc]=mu,Ls[xl]=bl,Ls[R0]=xu,Ls[Pc]=cc,Ls[Fc]=Ml,Ls[La]=Mc,Ls[Kc]=b0,Ls[ac]=bl,Ls[Ol]=cc,Ls[Rc]=Ml,Ls[Oc]=Mc}function Sr(xn){return xn&-16384?0>xn?0:255:xn>>yl}function zr(xn,An){return Sr((19077*xn>>8)+(26149*An>>8)-14234)}function aa(xn,An,Dn){return Sr((19077*xn>>8)-(6419*An>>8)-(13320*Dn>>8)+8708)}function ia(xn,An){return Sr((19077*xn>>8)+(33050*An>>8)-17685)}function ua(xn,An,Dn,Wn,Vn){Wn[Vn+0]=zr(xn,Dn),Wn[Vn+1]=aa(xn,An,Dn),Wn[Vn+2]=ia(xn,An)}function ja(xn,An,Dn,Wn,Vn){Wn[Vn+0]=ia(xn,An),Wn[Vn+1]=aa(xn,An,Dn),Wn[Vn+2]=zr(xn,Dn)}function za(xn,An,Dn,Wn,Vn){var Jn=aa(xn,An,Dn);An=Jn<<3&224|ia(xn,An)>>3,Wn[Vn+0]=248&zr(xn,Dn)|Jn>>5,Wn[Vn+1]=An}function Va(xn,An,Dn,Wn,Vn){var Jn=240&ia(xn,An)|15;Wn[Vn+0]=240&zr(xn,Dn)|aa(xn,An,Dn)>>4,Wn[Vn+1]=Jn}function hs(xn,An,Dn,Wn,Vn){Wn[Vn+0]=255,ua(xn,An,Dn,Wn,Vn+1)}function rs(xn,An,Dn,Wn,Vn){ja(xn,An,Dn,Wn,Vn),Wn[Vn+3]=255}function wo(xn,An,Dn,Wn,Vn){ua(xn,An,Dn,Wn,Vn),Wn[Vn+3]=255}function Gs(xn,An){return 0>xn?0:xn>An?An:xn}function so(xn,An,Dn){un[xn]=function(Wn,Vn,Jn,ei,ni,ii,oi,xi,Pi){for(var Fi=xi+(-2&Pi)*Dn;xi!=Fi;)An(Wn[Vn+0],Jn[ei+0],ni[ii+0],oi,xi),An(Wn[Vn+1],Jn[ei+0],ni[ii+0],oi,xi+Dn),Vn+=2,++ei,++ii,xi+=2*Dn;1&Pi&&An(Wn[Vn+0],Jn[ei+0],ni[ii+0],oi,xi)}}function dl(xn,An,Dn){return Dn==0?xn==0?An==0?6:5:An==0?4:0:Dn}function Ec(xn,An,Dn,Wn,Vn){switch(xn>>>30){case 3:Vo(An,Dn,Wn,Vn,0);break;case 2:wa(An,Dn,Wn,Vn);break;case 1:fs(An,Dn,Wn,Vn)}}function Xl(xn,An){var Dn,Wn,Vn=An.M,Jn=An.Nb,ei=xn.oc,ni=xn.pc+40,ii=xn.oc,oi=xn.pc+584,xi=xn.oc,Pi=xn.pc+600;for(Dn=0;16>Dn;++Dn)ei[ni+32*Dn-1]=129;for(Dn=0;8>Dn;++Dn)ii[oi+32*Dn-1]=129,xi[Pi+32*Dn-1]=129;for(0<Vn?ei[ni-1-32]=ii[oi-1-32]=xi[Pi-1-32]=129:(Fe(ei,ni-32-1,127,21),Fe(ii,oi-32-1,127,9),Fe(xi,Pi-32-1,127,9)),Wn=0;Wn<xn.za;++Wn){var Fi=An.ya[An.aa+Wn];if(0<Wn){for(Dn=-1;16>Dn;++Dn)Ee(ei,ni+32*Dn-4,ei,ni+32*Dn+12,4);for(Dn=-1;8>Dn;++Dn)Ee(ii,oi+32*Dn-4,ii,oi+32*Dn+4,4),Ee(xi,Pi+32*Dn-4,xi,Pi+32*Dn+4,4)}var Ci=xn.Gd,Ki=xn.Hd+Wn,ji=Fi.ad,yi=Fi.Hc;if(0<Vn&&(Ee(ei,ni-32,Ci[Ki].y,0,16),Ee(ii,oi-32,Ci[Ki].f,0,8),Ee(xi,Pi-32,Ci[Ki].ea,0,8)),Fi.Za){var wi=ei,Wi=ni-32+16;for(0<Vn&&(Wn>=xn.za-1?Fe(wi,Wi,Ci[Ki].y[15],4):Ee(wi,Wi,Ci[Ki+1].y,0,4)),Dn=0;4>Dn;Dn++)wi[Wi+128+Dn]=wi[Wi+256+Dn]=wi[Wi+384+Dn]=wi[Wi+0+Dn];for(Dn=0;16>Dn;++Dn,yi<<=2)wi=ei,Wi=ni+y0[Dn],lo[Fi.Ob[Dn]](wi,Wi),Ec(yi,ji,16*+Dn,wi,Wi)}else if(wi=dl(Wn,Vn,Fi.Ob[0]),Es[wi](ei,ni),yi!=0)for(Dn=0;16>Dn;++Dn,yi<<=2)Ec(yi,ji,16*+Dn,ei,ni+y0[Dn]);for(Dn=Fi.Gc,wi=dl(Wn,Vn,Fi.Dd),Ns[wi](ii,oi),Ns[wi](xi,Pi),yi=ji,wi=ii,Wi=oi,255&(Fi=Dn>>0)&&(170&Fi?Ko(yi,256,wi,Wi):Vs(yi,256,wi,Wi)),Fi=xi,yi=Pi,255&(Dn>>=8)&&(170&Dn?Ko(ji,320,Fi,yi):Vs(ji,320,Fi,yi)),Vn<xn.Ub-1&&(Ee(Ci[Ki].y,0,ei,ni+480,16),Ee(Ci[Ki].f,0,ii,oi+224,8),Ee(Ci[Ki].ea,0,xi,Pi+224,8)),Dn=8*Jn*xn.B,Ci=xn.sa,Ki=xn.ta+16*Wn+16*Jn*xn.R,ji=xn.qa,Fi=xn.ra+8*Wn+Dn,yi=xn.Ha,wi=xn.Ia+8*Wn+Dn,Dn=0;16>Dn;++Dn)Ee(Ci,Ki+Dn*xn.R,ei,ni+32*Dn,16);for(Dn=0;8>Dn;++Dn)Ee(ji,Fi+Dn*xn.B,ii,oi+32*Dn,8),Ee(yi,wi+Dn*xn.B,xi,Pi+32*Dn,8)}}function kl(xn,An,Dn,Wn,Vn,Jn,ei,ni,ii){var oi=[0],xi=[0],Pi=0,Fi=ii!=null?ii.kd:0,Ci=ii??new Xs;if(xn==null||12>Dn)return 7;Ci.data=xn,Ci.w=An,Ci.ha=Dn,An=[An],Dn=[Dn],Ci.gb=[Ci.gb];e:{var Ki=An,ji=Dn,yi=Ci.gb;if(r(xn!=null),r(ji!=null),r(yi!=null),yi[0]=0,12<=ji[0]&&!Se(xn,Ki[0],"RIFF")){if(Se(xn,Ki[0]+8,"WEBP")){yi=3;break e}var wi=wn(xn,Ki[0]+4);if(12>wi||4294967286<wi){yi=3;break e}if(Fi&&wi>ji[0]-8){yi=7;break e}yi[0]=wi,Ki[0]+=12,ji[0]-=12}yi=0}if(yi!=0)return yi;for(wi=0<Ci.gb[0],Dn=Dn[0];;){e:{var Wi=xn;ji=An,yi=Dn;var qi=oi,Vi=xi,Cr=Ki=[0];if((wr=Pi=[Pi])[0]=0,8>yi[0])yi=7;else{if(!Se(Wi,ji[0],"VP8X")){if(wn(Wi,ji[0]+4)!=10){yi=3;break e}if(18>yi[0]){yi=7;break e}var mr=wn(Wi,ji[0]+8),qr=1+_n(Wi,ji[0]+12);if(2147483648<=qr*(Wi=1+_n(Wi,ji[0]+15))){yi=3;break e}Cr!=null&&(Cr[0]=mr),qi!=null&&(qi[0]=qr),Vi!=null&&(Vi[0]=Wi),ji[0]+=18,yi[0]-=18,wr[0]=1}yi=0}}if(Pi=Pi[0],Ki=Ki[0],yi!=0)return yi;if(ji=!!(2&Ki),!wi&&Pi)return 3;if(Jn!=null&&(Jn[0]=!!(16&Ki)),ei!=null&&(ei[0]=ji),ni!=null&&(ni[0]=0),ei=oi[0],Ki=xi[0],Pi&&ji&&ii==null){yi=0;break}if(4>Dn){yi=7;break}if(wi&&Pi||!wi&&!Pi&&!Se(xn,An[0],"ALPH")){Dn=[Dn],Ci.na=[Ci.na],Ci.P=[Ci.P],Ci.Sa=[Ci.Sa];e:{mr=xn,yi=An,wi=Dn;var wr=Ci.gb;qi=Ci.na,Vi=Ci.P,Cr=Ci.Sa,qr=22,r(mr!=null),r(wi!=null),Wi=yi[0];var ba=wi[0];for(r(qi!=null),r(Cr!=null),qi[0]=null,Vi[0]=null,Cr[0]=0;;){if(yi[0]=Wi,wi[0]=ba,8>ba){yi=7;break e}var ya=wn(mr,Wi+4);if(4294967286<ya){yi=3;break e}var ga=8+ya+1&-2;if(qr+=ga,0<wr&&qr>wr){yi=3;break e}if(!Se(mr,Wi,"VP8 ")||!Se(mr,Wi,"VP8L")){yi=0;break e}if(ba[0]<ga){yi=7;break e}Se(mr,Wi,"ALPH")||(qi[0]=mr,Vi[0]=Wi+8,Cr[0]=ya),Wi+=ga,ba-=ga}}if(Dn=Dn[0],Ci.na=Ci.na[0],Ci.P=Ci.P[0],Ci.Sa=Ci.Sa[0],yi!=0)break}Dn=[Dn],Ci.Ja=[Ci.Ja],Ci.xa=[Ci.xa];e:if(wr=xn,yi=An,wi=Dn,qi=Ci.gb[0],Vi=Ci.Ja,Cr=Ci.xa,mr=yi[0],Wi=!Se(wr,mr,"VP8 "),qr=!Se(wr,mr,"VP8L"),r(wr!=null),r(wi!=null),r(Vi!=null),r(Cr!=null),8>wi[0])yi=7;else{if(Wi||qr){if(wr=wn(wr,mr+4),12<=qi&&wr>qi-12){yi=3;break e}if(Fi&&wr>wi[0]-8){yi=7;break e}Vi[0]=wr,yi[0]+=8,wi[0]-=8,Cr[0]=qr}else Cr[0]=5<=wi[0]&&wr[mr+0]==47&&!(wr[mr+4]>>5),Vi[0]=wi[0];yi=0}if(Dn=Dn[0],Ci.Ja=Ci.Ja[0],Ci.xa=Ci.xa[0],An=An[0],yi!=0)break;if(4294967286<Ci.Ja)return 3;if(ni==null||ji||(ni[0]=Ci.xa?2:1),ei=[ei],Ki=[Ki],Ci.xa){if(5>Dn){yi=7;break}ni=ei,Fi=Ki,ji=Jn,xn==null||5>Dn?xn=0:5<=Dn&&xn[An+0]==47&&!(xn[An+4]>>5)?(wi=[0],wr=[0],qi=[0],Me(Vi=new $e,xn,An,Dn),vi(Vi,wi,wr,qi)?(ni!=null&&(ni[0]=wi[0]),Fi!=null&&(Fi[0]=wr[0]),ji!=null&&(ji[0]=qi[0]),xn=1):xn=0):xn=0}else{if(10>Dn){yi=7;break}ni=Ki,xn==null||10>Dn||!Dr(xn,An+3,Dn-3)?xn=0:(Fi=xn[An+0]|xn[An+1]<<8|xn[An+2]<<16,ji=16383&(xn[An+7]<<8|xn[An+6]),xn=16383&(xn[An+9]<<8|xn[An+8]),1&Fi||3<(Fi>>1&7)||!(Fi>>4&1)||Fi>>5>=Ci.Ja||!ji||!xn?xn=0:(ei&&(ei[0]=ji),ni&&(ni[0]=xn),xn=1))}if(!xn||(ei=ei[0],Ki=Ki[0],Pi&&(oi[0]!=ei||xi[0]!=Ki)))return 3;ii!=null&&(ii[0]=Ci,ii.offset=An-ii.w,r(4294967286>An-ii.w),r(ii.offset==ii.ha-Dn));break}return yi==0||yi==7&&Pi&&ii==null?(Jn!=null&&(Jn[0]|=Ci.na!=null&&0<Ci.na.length),Wn!=null&&(Wn[0]=ei),Vn!=null&&(Vn[0]=Ki),0):yi}function Gl(xn,An,Dn){var Wn=An.width,Vn=An.height,Jn=0,ei=0,ni=Wn,ii=Vn;if(An.Da=xn!=null&&0<xn.Da,An.Da&&(ni=xn.cd,ii=xn.bd,Jn=xn.v,ei=xn.j,11>Dn||(Jn&=-2,ei&=-2),0>Jn||0>ei||0>=ni||0>=ii||Jn+ni>Wn||ei+ii>Vn))return 0;if(An.v=Jn,An.j=ei,An.va=Jn+ni,An.o=ei+ii,An.U=ni,An.T=ii,An.da=xn!=null&&0<xn.da,An.da){if(!In(ni,ii,Dn=[xn.ib],Jn=[xn.hb]))return 0;An.ib=Dn[0],An.hb=Jn[0]}return An.ob=xn!=null&&xn.ob,An.Kb=xn==null||!xn.Sd,An.da&&(An.ob=An.ib<3*Wn/4&&An.hb<3*Vn/4,An.Kb=0),1}function Vl(xn){if(xn==null)return 2;if(11>xn.S){var An=xn.f.RGBA;An.fb+=(xn.height-1)*An.A,An.A=-An.A}else An=xn.f.kb,xn=xn.height,An.O+=(xn-1)*An.fa,An.fa=-An.fa,An.N+=(xn-1>>1)*An.Ab,An.Ab=-An.Ab,An.W+=(xn-1>>1)*An.Db,An.Db=-An.Db,An.F!=null&&(An.J+=(xn-1)*An.lb,An.lb=-An.lb);return 0}function El(xn,An,Dn,Wn){if(Wn==null||0>=xn||0>=An)return 2;if(Dn!=null){if(Dn.Da){var Vn=Dn.cd,Jn=Dn.bd,ei=-2&Dn.v,ni=-2&Dn.j;if(0>ei||0>ni||0>=Vn||0>=Jn||ei+Vn>xn||ni+Jn>An)return 2;xn=Vn,An=Jn}if(Dn.da){if(!In(xn,An,Vn=[Dn.ib],Jn=[Dn.hb]))return 2;xn=Vn[0],An=Jn[0]}}Wn.width=xn,Wn.height=An;e:{var ii=Wn.width,oi=Wn.height;if(xn=Wn.S,0>=ii||0>=oi||!(xn>=Vc&&13>xn))xn=2;else{if(0>=Wn.Rd&&Wn.sd==null){ei=Jn=Vn=An=0;var xi=(ni=ii*Dc[xn])*oi;if(11>xn||(Jn=(oi+1)/2*(An=(ii+1)/2),xn==12&&(ei=(Vn=ii)*oi)),(oi=Be(xi+2*Jn+ei))==null){xn=1;break e}Wn.sd=oi,11>xn?((ii=Wn.f.RGBA).eb=oi,ii.fb=0,ii.A=ni,ii.size=xi):((ii=Wn.f.kb).y=oi,ii.O=0,ii.fa=ni,ii.Fd=xi,ii.f=oi,ii.N=0+xi,ii.Ab=An,ii.Cd=Jn,ii.ea=oi,ii.W=0+xi+Jn,ii.Db=An,ii.Ed=Jn,xn==12&&(ii.F=oi,ii.J=0+xi+2*Jn),ii.Tc=ei,ii.lb=Vn)}if(An=1,Vn=Wn.S,Jn=Wn.width,ei=Wn.height,Vn>=Vc&&13>Vn)if(11>Vn)xn=Wn.f.RGBA,An&=(ni=Math.abs(xn.A))*(ei-1)+Jn<=xn.size,An&=ni>=Jn*Dc[Vn],An&=xn.eb!=null;else{xn=Wn.f.kb,ni=(Jn+1)/2,xi=(ei+1)/2,ii=Math.abs(xn.fa),oi=Math.abs(xn.Ab);var Pi=Math.abs(xn.Db),Fi=Math.abs(xn.lb),Ci=Fi*(ei-1)+Jn;An&=ii*(ei-1)+Jn<=xn.Fd,An&=oi*(xi-1)+ni<=xn.Cd,An=(An&=Pi*(xi-1)+ni<=xn.Ed)&ii>=Jn&oi>=ni&Pi>=ni,An&=xn.y!=null,An&=xn.f!=null,An&=xn.ea!=null,Vn==12&&(An&=Fi>=Jn,An&=Ci<=xn.Tc,An&=xn.F!=null)}else An=0;xn=An?0:2}}return xn!=0||Dn!=null&&Dn.fd&&(xn=Vl(Wn)),xn}var qa=64,Kl=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Yl=24,Jl=32,Zl=8,Ss=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];kn("Predictor0","PredictorAdd0"),un.Predictor0=function(){return 4278190080},un.Predictor1=function(xn){return xn},un.Predictor2=function(xn,An,Dn){return An[Dn+0]},un.Predictor3=function(xn,An,Dn){return An[Dn+1]},un.Predictor4=function(xn,An,Dn){return An[Dn-1]},un.Predictor5=function(xn,An,Dn){return On(On(xn,An[Dn+1]),An[Dn+0])},un.Predictor6=function(xn,An,Dn){return On(xn,An[Dn-1])},un.Predictor7=function(xn,An,Dn){return On(xn,An[Dn+0])},un.Predictor8=function(xn,An,Dn){return On(An[Dn-1],An[Dn+0])},un.Predictor9=function(xn,An,Dn){return On(An[Dn+0],An[Dn+1])},un.Predictor10=function(xn,An,Dn){return On(On(xn,An[Dn-1]),On(An[Dn+0],An[Dn+1]))},un.Predictor11=function(xn,An,Dn){var Wn=An[Dn+0];return 0>=Hn(Wn>>24&255,xn>>24&255,(An=An[Dn-1])>>24&255)+Hn(Wn>>16&255,xn>>16&255,An>>16&255)+Hn(Wn>>8&255,xn>>8&255,An>>8&255)+Hn(255&Wn,255&xn,255&An)?Wn:xn},un.Predictor12=function(xn,An,Dn){var Wn=An[Dn+0];return(Mn((xn>>24&255)+(Wn>>24&255)-((An=An[Dn-1])>>24&255))<<24|Mn((xn>>16&255)+(Wn>>16&255)-(An>>16&255))<<16|Mn((xn>>8&255)+(Wn>>8&255)-(An>>8&255))<<8|Mn((255&xn)+(255&Wn)-(255&An)))>>>0},un.Predictor13=function(xn,An,Dn){var Wn=An[Dn-1];return(Bn((xn=On(xn,An[Dn+0]))>>24&255,Wn>>24&255)<<24|Bn(xn>>16&255,Wn>>16&255)<<16|Bn(xn>>8&255,Wn>>8&255)<<8|Bn(xn>>0&255,Wn>>0&255))>>>0};var _l=un.PredictorAdd0;un.PredictorAdd1=$n,kn("Predictor2","PredictorAdd2"),kn("Predictor3","PredictorAdd3"),kn("Predictor4","PredictorAdd4"),kn("Predictor5","PredictorAdd5"),kn("Predictor6","PredictorAdd6"),kn("Predictor7","PredictorAdd7"),kn("Predictor8","PredictorAdd8"),kn("Predictor9","PredictorAdd9"),kn("Predictor10","PredictorAdd10"),kn("Predictor11","PredictorAdd11"),kn("Predictor12","PredictorAdd12"),kn("Predictor13","PredictorAdd13");var Wo=un.PredictorAdd2;Xn("ColorIndexInverseTransform","MapARGB","32b",function(xn){return xn>>8&255},function(xn){return xn}),Xn("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(xn){return xn},function(xn){return xn>>8&255});var Gc,As=un.ColorIndexInverseTransform,Ql=un.MapARGB,_c=un.VP8LColorIndexInverseTransformAlpha,tc=un.MapAlpha,Ro=un.VP8LPredictorsAdd=[];Ro.length=16,(un.VP8LPredictors=[]).length=16,(un.VP8LPredictorsAdd_C=[]).length=16,(un.VP8LPredictors_C=[]).length=16;var pl,Cs,ds,gl,Xo,Go,nc,Vo,wa,Ko,fs,Vs,Il,Ic,Tl,Pl,Fl,Ks,Yo,Oo,Jo,Zo,ml,os,Os,Na,Ia,Wa,Ka=Be(511),No=Be(2041),ic=Be(225),Rl=Be(767),Tc=0,Lo=No,rc=ic,ks=Rl,oo=Ka,Vc=0,xl=1,R0=2,Pc=3,Fc=4,La=5,Kc=6,ac=7,Ol=8,Rc=9,Oc=10,Nc=[2,3,7],Yc=[3,3,11],Nl=[280,256,256,256,40],O0=[0,1,1,1,0],du=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],fu=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],N0=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Jc=8,sc=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Lc=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ll=null,g0=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],m0=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],L0=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],M0=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],pu=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],gu=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],x0=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Es=[],lo=[],Ns=[],Mo=1,oc=2,ps=[],Ls=[];zi("UpsampleRgbLinePair",ua,3),zi("UpsampleBgrLinePair",ja,3),zi("UpsampleRgbaLinePair",wo,4),zi("UpsampleBgraLinePair",rs,4),zi("UpsampleArgbLinePair",hs,4),zi("UpsampleRgba4444LinePair",Va,2),zi("UpsampleRgb565LinePair",za,2);var mu=un.UpsampleRgbLinePair,xu=un.UpsampleBgrLinePair,bl=un.UpsampleRgbaLinePair,cc=un.UpsampleBgraLinePair,Ml=un.UpsampleArgbLinePair,Mc=un.UpsampleRgba4444LinePair,b0=un.UpsampleRgb565LinePair,Qo=16,vo=1<<Qo-1,Ta=-227,Ra=482,yl=6,ls=0,Ms=Be(256),Dl=Be(256),uc=Be(256),Ds=Be(256),Zc=Be(Ra-Ta),D0=Be(Ra-Ta);so("YuvToRgbRow",ua,3),so("YuvToBgrRow",ja,3),so("YuvToRgbaRow",wo,4),so("YuvToBgraRow",rs,4),so("YuvToArgbRow",hs,4),so("YuvToRgba4444Row",Va,2),so("YuvToRgb565Row",za,2);var y0=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Bl=[0,2,8],B0=[8,7,6,4,4,2,2,2,1,1,1,1],el=1;this.WebPDecodeRGBA=function(xn,An,Dn,Wn,Vn){var Jn=xl,ei=new ao,ni=new si;ei.ba=ni,ni.S=Jn,ni.width=[ni.width],ni.height=[ni.height];var ii=ni.width,oi=ni.height,xi=new ai;if(xi==null||xn==null)var Pi=2;else r(xi!=null),Pi=kl(xn,An,Dn,xi.width,xi.height,xi.Pd,xi.Qd,xi.format,null);if(Pi!=0?ii=0:(ii!=null&&(ii[0]=xi.width[0]),oi!=null&&(oi[0]=xi.height[0]),ii=1),ii){ni.width=ni.width[0],ni.height=ni.height[0],Wn!=null&&(Wn[0]=ni.width),Vn!=null&&(Vn[0]=ni.height);e:{if(Wn=new cr,(Vn=new Xs).data=xn,Vn.w=An,Vn.ha=Dn,Vn.kd=1,An=[0],r(Vn!=null),((xn=kl(Vn.data,Vn.w,Vn.ha,null,null,null,An,null,Vn))==0||xn==7)&&An[0]&&(xn=4),(An=xn)==0){if(r(ei!=null),Wn.data=Vn.data,Wn.w=Vn.w+Vn.offset,Wn.ha=Vn.ha-Vn.offset,Wn.put=ar,Wn.ac=fr,Wn.bc=Ii,Wn.ma=ei,Vn.xa){if((xn=Xr())==null){ei=1;break e}if(function(Fi,Ci){var Ki=[0],ji=[0],yi=[0];t:for(;;){if(Fi==null)return 0;if(Ci==null)return Fi.a=2,0;if(Fi.l=Ci,Fi.a=0,Me(Fi.m,Ci.data,Ci.w,Ci.ha),!vi(Fi.m,Ki,ji,yi)){Fi.a=3;break t}if(Fi.xb=oc,Ci.width=Ki[0],Ci.height=ji[0],!kr(Ki[0],ji[0],1,Fi,null))break t;return 1}return r(Fi.a!=0),0}(xn,Wn)){if(Wn=(An=El(Wn.width,Wn.height,ei.Oa,ei.ba))==0){t:{Wn=xn;n:for(;;){if(Wn==null){Wn=0;break t}if(r(Wn.s.yc!=null),r(Wn.s.Ya!=null),r(0<Wn.s.Wb),r((Dn=Wn.l)!=null),r((Vn=Dn.ma)!=null),Wn.xb!=0){if(Wn.ca=Vn.ba,Wn.tb=Vn.tb,r(Wn.ca!=null),!Gl(Vn.Oa,Dn,Pc)){Wn.a=2;break n}if(!da(Wn,Dn.width)||Dn.da)break n;if((Dn.da||pi(Wn.ca.S))&&Ti(),11>Wn.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),Wn.ca.f.kb.F!=null&&Ti()),Wn.Pb&&0<Wn.s.ua&&Wn.s.vb.X==null&&!Nn(Wn.s.vb,Wn.s.Wa.Xa)){Wn.a=1;break n}Wn.xb=0}if(!Ar(Wn,Wn.V,Wn.Ba,Wn.c,Wn.i,Dn.o,ha))break n;Vn.Dc=Wn.Ma,Wn=1;break t}r(Wn.a!=0),Wn=0}Wn=!Wn}Wn&&(An=xn.a)}else An=xn.a}else{if((xn=new yr)==null){ei=1;break e}if(xn.Fa=Vn.na,xn.P=Vn.P,xn.qc=Vn.Sa,Gr(xn,Wn)){if((An=El(Wn.width,Wn.height,ei.Oa,ei.ba))==0){if(xn.Aa=0,Dn=ei.Oa,r((Vn=xn)!=null),Dn!=null){if(0<(ii=0>(ii=Dn.Md)?0:100<ii?255:255*ii/100)){for(oi=xi=0;4>oi;++oi)12>(Pi=Vn.pb[oi]).lc&&(Pi.ia=ii*B0[0>Pi.lc?0:Pi.lc]>>3),xi|=Pi.ia;xi&&(alert("todo:VP8InitRandom"),Vn.ia=1)}Vn.Ga=Dn.Id,100<Vn.Ga?Vn.Ga=100:0>Vn.Ga&&(Vn.Ga=0)}Rr(xn,Wn)||(An=xn.a)}}else An=xn.a}An==0&&ei.Oa!=null&&ei.Oa.fd&&(An=Vl(ei.ba))}ei=An}Jn=ei!=0?null:11>Jn?ni.f.RGBA.eb:ni.f.kb.y}else Jn=null;return Jn};var Dc=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function xe(un,Qe){for(var hn="",He=0;He<4;He++)hn+=String.fromCharCode(un[Qe++]);return hn}function Ie(un,Qe){return(un[Qe+0]<<0|un[Qe+1]<<8|un[Qe+2]<<16)>>>0}function Re(un,Qe){return(un[Qe+0]<<0|un[Qe+1]<<8|un[Qe+2]<<16|un[Qe+3]<<24)>>>0}new ze;var e=[0],t=[0],Te=[],Ye=new ze,en=Ae,je=function(un,Qe){var hn={},He=0,pn=!1,Xe=0,fn=0;if(hn.frames=[],!function(on,Je,an,Ke){for(var sn=0;sn<Ke;sn++)if(on[Je+sn]!=an.charCodeAt(sn))return!0;return!1}(un,Qe,"RIFF",4)){for(Re(un,Qe+=4),Qe+=8;Qe<un.length;){var dn=xe(un,Qe),qe=Re(un,Qe+=4);Qe+=4;var tn=qe+(1&qe);switch(dn){case"VP8 ":case"VP8L":hn.frames[He]===void 0&&(hn.frames[He]={}),(Ue=hn.frames[He]).src_off=pn?fn:Qe-8,Ue.src_size=Xe+qe+8,He++,pn&&(pn=!1,Xe=0,fn=0);break;case"VP8X":(Ue=hn.header={}).feature_flags=un[Qe];var Me=Qe+4;Ue.canvas_width=1+Ie(un,Me),Me+=3,Ue.canvas_height=1+Ie(un,Me),Me+=3;break;case"ALPH":pn=!0,Xe=tn+8,fn=Qe-8;break;case"ANIM":(Ue=hn.header).bgcolor=Re(un,Qe),Me=Qe+4,Ue.loop_count=(We=un)[($e=Me)+0]<<0|We[$e+1]<<8,Me+=2;break;case"ANMF":var De,Ue;(Ue=hn.frames[He]={}).offset_x=2*Ie(un,Qe),Qe+=3,Ue.offset_y=2*Ie(un,Qe),Qe+=3,Ue.width=1+Ie(un,Qe),Qe+=3,Ue.height=1+Ie(un,Qe),Qe+=3,Ue.duration=Ie(un,Qe),Qe+=3,De=un[Qe++],Ue.dispose=1&De,Ue.blend=De>>1&1}dn!="ANMF"&&(Qe+=tn)}var We,$e;return hn}}(en,0);je.response=en,je.rgbaoutput=!0,je.dataurl=!1;var nn=je.header?je.header:null,Ge=je.frames?je.frames:null;if(nn){nn.loop_counter=nn.loop_count,e=[nn.canvas_height],t=[nn.canvas_width];for(var Oe=0;Oe<Ge.length&&Ge[Oe].blend!=0;Oe++);}var Ce=Ge[0],St=Ye.WebPDecodeRGBA(en,Ce.src_off,Ce.src_size,t,e);Ce.rgba=St,Ce.imgwidth=t[0],Ce.imgheight=e[0];for(var rn=0;rn<t[0]*e[0]*4;rn++)Te[rn]=St[rn];return this.width=t,this.height=e,this.data=Te,this}(function(Ae){var r=function(){return typeof zlibSync=="function"},Se=function(e,t,Te,Ye){var en=4,je=Ve;switch(Ye){case Ae.image_compression.FAST:en=1,je=Be;break;case Ae.image_compression.MEDIUM:en=6,je=_e;break;case Ae.image_compression.SLOW:en=9,je=ze}e=Ee(e,t,Te,je);var nn=zlibSync(e,{level:en});return Ae.__addimage__.arrayBufferToBinaryString(nn)},Ee=function(e,t,Te,Ye){for(var en,je,nn,Ge=e.length/t,Oe=new Uint8Array(e.length+Ge),Ce=Ie(),St=0;St<Ge;St+=1){if(nn=St*t,en=e.subarray(nn,nn+t),Ye)Oe.set(Ye(en,Te,je),nn+St);else{for(var rn,un=Ce.length,Qe=[];rn<un;rn+=1)Qe[rn]=Ce[rn](en,Te,je);var hn=Re(Qe.concat());Oe.set(Qe[hn],nn+St)}je=en}return Oe},Fe=function(e){var t=Array.apply([],e);return t.unshift(0),t},Be=function(e,t){var Te,Ye=[],en=e.length;Ye[0]=1;for(var je=0;je<en;je+=1)Te=e[je-t]||0,Ye[je+1]=e[je]-Te+256&255;return Ye},Ve=function(e,t,Te){var Ye,en=[],je=e.length;en[0]=2;for(var nn=0;nn<je;nn+=1)Ye=Te&&Te[nn]||0,en[nn+1]=e[nn]-Ye+256&255;return en},_e=function(e,t,Te){var Ye,en,je=[],nn=e.length;je[0]=3;for(var Ge=0;Ge<nn;Ge+=1)Ye=e[Ge-t]||0,en=Te&&Te[Ge]||0,je[Ge+1]=e[Ge]+256-(Ye+en>>>1)&255;return je},ze=function(e,t,Te){var Ye,en,je,nn,Ge=[],Oe=e.length;Ge[0]=4;for(var Ce=0;Ce<Oe;Ce+=1)Ye=e[Ce-t]||0,en=Te&&Te[Ce]||0,je=Te&&Te[Ce-t]||0,nn=xe(Ye,en,je),Ge[Ce+1]=e[Ce]-nn+256&255;return Ge},xe=function(e,t,Te){if(e===t&&t===Te)return e;var Ye=Math.abs(t-Te),en=Math.abs(e-Te),je=Math.abs(e+t-Te-Te);return Ye<=en&&Ye<=je?e:en<=je?t:Te},Ie=function(){return[Fe,Be,Ve,_e,ze]},Re=function(e){var t=e.map(function(Te){return Te.reduce(function(Ye,en){return Ye+Math.abs(en)},0)});return t.indexOf(Math.min.apply(null,t))};Ae.processPNG=function(e,t,Te,Ye){var en,je,nn,Ge,Oe,Ce,St,rn,un,Qe,hn,He,pn,Xe,fn,dn=this.decode.FLATE_DECODE,qe="";if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){if(e=(nn=new Kt(e)).imgData,je=nn.bits,en=nn.colorSpace,Oe=nn.colors,[4,6].indexOf(nn.colorType)!==-1){if(nn.bits===8){un=(rn=nn.pixelBitlength==32?new Uint32Array(nn.decodePixels().buffer):nn.pixelBitlength==16?new Uint16Array(nn.decodePixels().buffer):new Uint8Array(nn.decodePixels().buffer)).length,hn=new Uint8Array(un*nn.colors),Qe=new Uint8Array(un);var tn,Me=nn.pixelBitlength-nn.bits;for(Xe=0,fn=0;Xe<un;Xe++){for(pn=rn[Xe],tn=0;tn<Me;)hn[fn++]=pn>>>tn&255,tn+=nn.bits;Qe[Xe]=pn>>>tn&255}}if(nn.bits===16){un=(rn=new Uint32Array(nn.decodePixels().buffer)).length,hn=new Uint8Array(un*(32/nn.pixelBitlength)*nn.colors),Qe=new Uint8Array(un*(32/nn.pixelBitlength)),He=nn.colors>1,Xe=0,fn=0;for(var De=0;Xe<un;)pn=rn[Xe++],hn[fn++]=pn>>>0&255,He&&(hn[fn++]=pn>>>16&255,pn=rn[Xe++],hn[fn++]=pn>>>0&255),Qe[De++]=pn>>>16&255;je=8}Ye!==Ae.image_compression.NONE&&r()?(e=Se(hn,nn.width*nn.colors,nn.colors,Ye),St=Se(Qe,nn.width,1,Ye)):(e=hn,St=Qe,dn=void 0)}if(nn.colorType===3&&(en=this.color_spaces.INDEXED,Ce=nn.palette,nn.transparency.indexed)){var Ue=nn.transparency.indexed,We=0;for(Xe=0,un=Ue.length;Xe<un;++Xe)We+=Ue[Xe];if((We/=255)===un-1&&Ue.indexOf(0)!==-1)Ge=[Ue.indexOf(0)];else if(We!==un){for(rn=nn.decodePixels(),Qe=new Uint8Array(rn.length),Xe=0,un=rn.length;Xe<un;Xe++)Qe[Xe]=Ue[rn[Xe]];St=Se(Qe,nn.width,1)}}var $e=function(on){var Je;switch(on){case Ae.image_compression.FAST:Je=11;break;case Ae.image_compression.MEDIUM:Je=13;break;case Ae.image_compression.SLOW:Je=14;break;default:Je=12}return Je}(Ye);return dn===this.decode.FLATE_DECODE&&(qe="/Predictor "+$e+" "),qe+="/Colors "+Oe+" /BitsPerComponent "+je+" /Columns "+nn.width,(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(St&&this.__addimage__.isArrayBuffer(St)||this.__addimage__.isArrayBufferView(St))&&(St=this.__addimage__.arrayBufferToBinaryString(St)),{alias:Te,data:e,index:t,filter:dn,decodeParameters:qe,transparency:Ge,palette:Ce,sMask:St,predictor:$e,width:nn.width,height:nn.height,bitsPerComponent:je,colorSpace:en}}}})(E.API),function(Ae){Ae.processGIF89A=function(r,Se,Ee,Fe){var Be=new Zt(r),Ve=Be.width,_e=Be.height,ze=[];Be.decodeAndBlitFrameRGBA(0,ze);var xe={data:ze,width:Ve,height:_e},Ie=new Qt(100).encode(xe,100);return Ae.processJPEG.call(this,Ie,Se,Ee,Fe)},Ae.processGIF87A=Ae.processGIF89A}(E.API),te.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var Ae=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(Ae);for(var r=0;r<Ae;r++){var Se=this.datav.getUint8(this.pos++,!0),Ee=this.datav.getUint8(this.pos++,!0),Fe=this.datav.getUint8(this.pos++,!0),Be=this.datav.getUint8(this.pos++,!0);this.palette[r]={red:Fe,green:Ee,blue:Se,quad:Be}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},te.prototype.parseBGR=function(){this.pos=this.offset;try{var Ae="bit"+this.bitPP,r=this.width*this.height*4;this.data=new Uint8Array(r),this[Ae]()}catch(Se){a.log("bit decode error:"+Se)}},te.prototype.bit1=function(){var Ae,r=Math.ceil(this.width/8),Se=r%4;for(Ae=this.height-1;Ae>=0;Ae--){for(var Ee=this.bottom_up?Ae:this.height-1-Ae,Fe=0;Fe<r;Fe++)for(var Be=this.datav.getUint8(this.pos++,!0),Ve=Ee*this.width*4+8*Fe*4,_e=0;_e<8&&8*Fe+_e<this.width;_e++){var ze=this.palette[Be>>7-_e&1];this.data[Ve+4*_e]=ze.blue,this.data[Ve+4*_e+1]=ze.green,this.data[Ve+4*_e+2]=ze.red,this.data[Ve+4*_e+3]=255}Se!==0&&(this.pos+=4-Se)}},te.prototype.bit4=function(){for(var Ae=Math.ceil(this.width/2),r=Ae%4,Se=this.height-1;Se>=0;Se--){for(var Ee=this.bottom_up?Se:this.height-1-Se,Fe=0;Fe<Ae;Fe++){var Be=this.datav.getUint8(this.pos++,!0),Ve=Ee*this.width*4+2*Fe*4,_e=Be>>4,ze=15&Be,xe=this.palette[_e];if(this.data[Ve]=xe.blue,this.data[Ve+1]=xe.green,this.data[Ve+2]=xe.red,this.data[Ve+3]=255,2*Fe+1>=this.width)break;xe=this.palette[ze],this.data[Ve+4]=xe.blue,this.data[Ve+4+1]=xe.green,this.data[Ve+4+2]=xe.red,this.data[Ve+4+3]=255}r!==0&&(this.pos+=4-r)}},te.prototype.bit8=function(){for(var Ae=this.width%4,r=this.height-1;r>=0;r--){for(var Se=this.bottom_up?r:this.height-1-r,Ee=0;Ee<this.width;Ee++){var Fe=this.datav.getUint8(this.pos++,!0),Be=Se*this.width*4+4*Ee;if(Fe<this.palette.length){var Ve=this.palette[Fe];this.data[Be]=Ve.red,this.data[Be+1]=Ve.green,this.data[Be+2]=Ve.blue,this.data[Be+3]=255}else this.data[Be]=255,this.data[Be+1]=255,this.data[Be+2]=255,this.data[Be+3]=255}Ae!==0&&(this.pos+=4-Ae)}},te.prototype.bit15=function(){for(var Ae=this.width%3,r=parseInt("11111",2),Se=this.height-1;Se>=0;Se--){for(var Ee=this.bottom_up?Se:this.height-1-Se,Fe=0;Fe<this.width;Fe++){var Be=this.datav.getUint16(this.pos,!0);this.pos+=2;var Ve=(Be&r)/r*255|0,_e=(Be>>5&r)/r*255|0,ze=(Be>>10&r)/r*255|0,xe=Be>>15?255:0,Ie=Ee*this.width*4+4*Fe;this.data[Ie]=ze,this.data[Ie+1]=_e,this.data[Ie+2]=Ve,this.data[Ie+3]=xe}this.pos+=Ae}},te.prototype.bit16=function(){for(var Ae=this.width%3,r=parseInt("11111",2),Se=parseInt("111111",2),Ee=this.height-1;Ee>=0;Ee--){for(var Fe=this.bottom_up?Ee:this.height-1-Ee,Be=0;Be<this.width;Be++){var Ve=this.datav.getUint16(this.pos,!0);this.pos+=2;var _e=(Ve&r)/r*255|0,ze=(Ve>>5&Se)/Se*255|0,xe=(Ve>>11)/r*255|0,Ie=Fe*this.width*4+4*Be;this.data[Ie]=xe,this.data[Ie+1]=ze,this.data[Ie+2]=_e,this.data[Ie+3]=255}this.pos+=Ae}},te.prototype.bit24=function(){for(var Ae=this.height-1;Ae>=0;Ae--){for(var r=this.bottom_up?Ae:this.height-1-Ae,Se=0;Se<this.width;Se++){var Ee=this.datav.getUint8(this.pos++,!0),Fe=this.datav.getUint8(this.pos++,!0),Be=this.datav.getUint8(this.pos++,!0),Ve=r*this.width*4+4*Se;this.data[Ve]=Be,this.data[Ve+1]=Fe,this.data[Ve+2]=Ee,this.data[Ve+3]=255}this.pos+=this.width%4}},te.prototype.bit32=function(){for(var Ae=this.height-1;Ae>=0;Ae--)for(var r=this.bottom_up?Ae:this.height-1-Ae,Se=0;Se<this.width;Se++){var Ee=this.datav.getUint8(this.pos++,!0),Fe=this.datav.getUint8(this.pos++,!0),Be=this.datav.getUint8(this.pos++,!0),Ve=this.datav.getUint8(this.pos++,!0),_e=r*this.width*4+4*Se;this.data[_e]=Be,this.data[_e+1]=Fe,this.data[_e+2]=Ee,this.data[_e+3]=Ve}},te.prototype.getData=function(){return this.data},function(Ae){Ae.processBMP=function(r,Se,Ee,Fe){var Be=new te(r,!1),Ve=Be.width,_e=Be.height,ze={data:Be.getData(),width:Ve,height:_e},xe=new Qt(100).encode(ze,100);return Ae.processJPEG.call(this,xe,Se,Ee,Fe)}}(E.API),ee.prototype.getData=function(){return this.data},function(Ae){Ae.processWEBP=function(r,Se,Ee,Fe){var Be=new ee(r),Ve=Be.width,_e=Be.height,ze={data:Be.getData(),width:Ve,height:_e},xe=new Qt(100).encode(ze,100);return Ae.processJPEG.call(this,xe,Se,Ee,Fe)}}(E.API),E.API.processRGBA=function(Ae,r,Se){for(var Ee=Ae.data,Fe=Ee.length,Be=new Uint8Array(Fe/4*3),Ve=new Uint8Array(Fe/4),_e=0,ze=0,xe=0;xe<Fe;xe+=4){var Ie=Ee[xe],Re=Ee[xe+1],e=Ee[xe+2],t=Ee[xe+3];Be[_e++]=Ie,Be[_e++]=Re,Be[_e++]=e,Ve[ze++]=t}var Te=this.__addimage__.arrayBufferToBinaryString(Be);return{alpha:this.__addimage__.arrayBufferToBinaryString(Ve),data:Te,index:r,alias:Se,colorSpace:"DeviceRGB",bitsPerComponent:8,width:Ae.width,height:Ae.height}},E.API.setLanguage=function(Ae){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[Ae]!==void 0&&(this.internal.languageSettings.languageCode=Ae,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Vt=E.API,Gt=Vt.getCharWidthsArray=function(Ae,r){var Se,Ee,Fe=(r=r||{}).font||this.internal.getFont(),Be=r.fontSize||this.internal.getFontSize(),Ve=r.charSpace||this.internal.getCharSpace(),_e=r.widths?r.widths:Fe.metadata.Unicode.widths,ze=_e.fof?_e.fof:1,xe=r.kerning?r.kerning:Fe.metadata.Unicode.kerning,Ie=xe.fof?xe.fof:1,Re=r.doKerning!==!1,e=0,t=Ae.length,Te=0,Ye=_e[0]||ze,en=[];for(Se=0;Se<t;Se++)Ee=Ae.charCodeAt(Se),typeof Fe.metadata.widthOfString=="function"?en.push((Fe.metadata.widthOfGlyph(Fe.metadata.characterToGlyph(Ee))+Ve*(1e3/Be)||0)/1e3):(e=Re&&_typeof(xe[Ee])==="object"&&!isNaN(parseInt(xe[Ee][Te],10))?xe[Ee][Te]/Ie:0,en.push((_e[Ee]||Ye)/ze+e)),Te=Ee;return en},Yt=Vt.getStringUnitWidth=function(Ae,r){var Se=(r=r||{}).fontSize||this.internal.getFontSize(),Ee=r.font||this.internal.getFont(),Fe=r.charSpace||this.internal.getCharSpace();return Vt.processArabic&&(Ae=Vt.processArabic(Ae)),typeof Ee.metadata.widthOfString=="function"?Ee.metadata.widthOfString(Ae,Se,Fe)/Se:Gt.apply(this,arguments).reduce(function(Be,Ve){return Be+Ve},0)},Jt=function(Ae,r,Se,Ee){for(var Fe=[],Be=0,Ve=Ae.length,_e=0;Be!==Ve&&_e+r[Be]<Se;)_e+=r[Be],Be++;Fe.push(Ae.slice(0,Be));var ze=Be;for(_e=0;Be!==Ve;)_e+r[Be]>Ee&&(Fe.push(Ae.slice(ze,Be)),_e=0,ze=Be),_e+=r[Be],Be++;return ze!==Be&&Fe.push(Ae.slice(ze,Be)),Fe},Xt=function(Ae,r,Se){Se||(Se={});var Ee,Fe,Be,Ve,_e,ze,xe,Ie=[],Re=[Ie],e=Se.textIndent||0,t=0,Te=0,Ye=Ae.split(" "),en=Gt.apply(this,[" ",Se])[0];if(ze=Se.lineIndent===-1?Ye[0].length+2:Se.lineIndent||0){var je=Array(ze).join(" "),nn=[];Ye.map(function(Oe){(Oe=Oe.split(/\s*\n/)).length>1?nn=nn.concat(Oe.map(function(Ce,St){return(St&&Ce.length?`
`:"")+Ce})):nn.push(Oe[0])}),Ye=nn,ze=Yt.apply(this,[je,Se])}for(Be=0,Ve=Ye.length;Be<Ve;Be++){var Ge=0;if(Ee=Ye[Be],ze&&Ee[0]==`
`&&(Ee=Ee.substr(1),Ge=1),e+t+(Te=(Fe=Gt.apply(this,[Ee,Se])).reduce(function(Oe,Ce){return Oe+Ce},0))>r||Ge){if(Te>r){for(_e=Jt.apply(this,[Ee,Fe,r-(e+t),r]),Ie.push(_e.shift()),Ie=[_e.pop()];_e.length;)Re.push([_e.shift()]);Te=Fe.slice(Ee.length-(Ie[0]?Ie[0].length:0)).reduce(function(Oe,Ce){return Oe+Ce},0)}else Ie=[Ee];Re.push(Ie),e=Te+ze,t=en}else Ie.push(Ee),e+=t+Te,t=en}return xe=ze?function(Oe,Ce){return(Ce?je:"")+Oe.join(" ")}:function(Oe){return Oe.join(" ")},Re.map(xe)},Vt.splitTextToSize=function(Ae,r,Se){var Ee,Fe=(Se=Se||{}).fontSize||this.internal.getFontSize(),Be=(function(Ie){if(Ie.widths&&Ie.kerning)return{widths:Ie.widths,kerning:Ie.kerning};var Re=this.internal.getFont(Ie.fontName,Ie.fontStyle);return Re.metadata.Unicode?{widths:Re.metadata.Unicode.widths||{0:1},kerning:Re.metadata.Unicode.kerning||{}}:{font:Re.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,Se);Ee=Array.isArray(Ae)?Ae:String(Ae).split(/\r?\n/);var Ve=1*this.internal.scaleFactor*r/Fe;Be.textIndent=Se.textIndent?1*Se.textIndent*this.internal.scaleFactor/Fe:0,Be.lineIndent=Se.lineIndent;var _e,ze,xe=[];for(_e=0,ze=Ee.length;_e<ze;_e++)xe=xe.concat(Xt.apply(this,[Ee[_e],Ve,Be]));return xe},function(Ae){Ae.__fontmetrics__=Ae.__fontmetrics__||{};for(var r="klmnopqrstuvwxyz",Se={},Ee={},Fe=0;Fe<r.length;Fe++)Se[r[Fe]]="0123456789abcdef"[Fe],Ee["0123456789abcdef"[Fe]]=r[Fe];var Be=function(Re){return"0x"+parseInt(Re,10).toString(16)},Ve=Ae.__fontmetrics__.compress=function(Re){var e,t,Te,Ye,en=["{"];for(var je in Re){if(e=Re[je],isNaN(parseInt(je,10))?t="'"+je+"'":(je=parseInt(je,10),t=(t=Be(je).slice(2)).slice(0,-1)+Ee[t.slice(-1)]),typeof e=="number")e<0?(Te=Be(e).slice(3),Ye="-"):(Te=Be(e).slice(2),Ye=""),Te=Ye+Te.slice(0,-1)+Ee[Te.slice(-1)];else{if(_typeof(e)!=="object")throw new Error("Don't know what to do with value type "+_typeof(e)+".");Te=Ve(e)}en.push(t+Te)}return en.push("}"),en.join("")},_e=Ae.__fontmetrics__.uncompress=function(Re){if(typeof Re!="string")throw new Error("Invalid argument passed to uncompress.");for(var e,t,Te,Ye,en={},je=1,nn=en,Ge=[],Oe="",Ce="",St=Re.length-1,rn=1;rn<St;rn+=1)(Ye=Re[rn])=="'"?e?(Te=e.join(""),e=void 0):e=[]:e?e.push(Ye):Ye=="{"?(Ge.push([nn,Te]),nn={},Te=void 0):Ye=="}"?((t=Ge.pop())[0][t[1]]=nn,Te=void 0,nn=t[0]):Ye=="-"?je=-1:Te===void 0?Se.hasOwnProperty(Ye)?(Oe+=Se[Ye],Te=parseInt(Oe,16)*je,je=1,Oe=""):Oe+=Ye:Se.hasOwnProperty(Ye)?(Ce+=Se[Ye],nn[Te]=parseInt(Ce,16)*je,je=1,Te=void 0,Ce=""):Ce+=Ye;return en},ze={codePages:["WinAnsiEncoding"],WinAnsiEncoding:_e("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},xe={Unicode:{Courier:ze,"Courier-Bold":ze,"Courier-BoldOblique":ze,"Courier-Oblique":ze,Helvetica:ze,"Helvetica-Bold":ze,"Helvetica-BoldOblique":ze,"Helvetica-Oblique":ze,"Times-Roman":ze,"Times-Bold":ze,"Times-BoldItalic":ze,"Times-Italic":ze}},Ie={Unicode:{"Courier-Oblique":_e("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":_e("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":_e("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:_e("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":_e("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":_e("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:_e("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:_e("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":_e("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:_e("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":_e("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":_e("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":_e("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":_e("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};Ae.events.push(["addFont",function(Re){var e=Re.font,t=Ie.Unicode[e.postScriptName];t&&(e.metadata.Unicode={},e.metadata.Unicode.widths=t.widths,e.metadata.Unicode.kerning=t.kerning);var Te=xe.Unicode[e.postScriptName];Te&&(e.metadata.Unicode.encoding=Te,e.encoding=Te.codePages[0])}])}(E.API),function(Ae){var r=function(Se){for(var Ee=Se.length,Fe=new Uint8Array(Ee),Be=0;Be<Ee;Be++)Fe[Be]=Se.charCodeAt(Be);return Fe};Ae.API.events.push(["addFont",function(Se){var Ee=void 0,Fe=Se.font,Be=Se.instance;if(!Fe.isStandardFont){if(Be===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+Fe.postScriptName+"').");if(typeof(Ee=Be.existsFileInVFS(Fe.postScriptName)===!1?Be.loadFile(Fe.postScriptName):Be.getFileFromVFS(Fe.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+Fe.postScriptName+"').");(function(Ve,_e){_e=/^\x00\x01\x00\x00/.test(_e)?r(_e):r(u(_e)),Ve.metadata=Ae.API.TTFFont.open(_e),Ve.metadata.Unicode=Ve.metadata.Unicode||{encoding:{},kerning:{},widths:[]},Ve.metadata.glyIdsUsed=[0]})(Fe,Ee)}}])}(E),function(Ae){function r(){return(n.canvg?Promise.resolve(n.canvg):__vitePreload(()=>import("./index.es-CC2Xa6MI.js"),[])).catch(function(Se){return Promise.reject(new Error("Could not load canvg: "+Se))}).then(function(Se){return Se.default?Se.default:Se})}E.API.addSvgAsImage=function(Se,Ee,Fe,Be,Ve,_e,ze,xe){if(isNaN(Ee)||isNaN(Fe))throw a.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(Be)||isNaN(Ve))throw a.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var Ie=document.createElement("canvas");Ie.width=Be,Ie.height=Ve;var Re=Ie.getContext("2d");Re.fillStyle="#fff",Re.fillRect(0,0,Ie.width,Ie.height);var e={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},t=this;return r().then(function(Te){return Te.fromString(Re,Se,e)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(Te){return Te.render(e)}).then(function(){t.addImage(Ie.toDataURL("image/jpeg",1),Ee,Fe,Be,Ve,ze,xe)})}}(),E.API.putTotalPages=function(Ae){var r,Se=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(r=new RegExp(Ae,"g"),Se=this.internal.getNumberOfPages()):(r=new RegExp(this.pdfEscape16(Ae,this.internal.getFont()),"g"),Se=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var Ee=1;Ee<=this.internal.getNumberOfPages();Ee++)for(var Fe=0;Fe<this.internal.pages[Ee].length;Fe++)this.internal.pages[Ee][Fe]=this.internal.pages[Ee][Fe].replace(r,Se);return this},E.API.viewerPreferences=function(Ae,r){var Se;Ae=Ae||{},r=r||!1;var Ee,Fe,Be,Ve={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},_e=Object.keys(Ve),ze=[],xe=0,Ie=0,Re=0;function e(Te,Ye){var en,je=!1;for(en=0;en<Te.length;en+=1)Te[en]===Ye&&(je=!0);return je}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(Ve)),this.internal.viewerpreferences.isSubscribed=!1),Se=this.internal.viewerpreferences.configuration,Ae==="reset"||r===!0){var t=_e.length;for(Re=0;Re<t;Re+=1)Se[_e[Re]].value=Se[_e[Re]].defaultValue,Se[_e[Re]].explicitSet=!1}if(_typeof(Ae)==="object"){for(Fe in Ae)if(Be=Ae[Fe],e(_e,Fe)&&Be!==void 0){if(Se[Fe].type==="boolean"&&typeof Be=="boolean")Se[Fe].value=Be;else if(Se[Fe].type==="name"&&e(Se[Fe].valueSet,Be))Se[Fe].value=Be;else if(Se[Fe].type==="integer"&&Number.isInteger(Be))Se[Fe].value=Be;else if(Se[Fe].type==="array"){for(xe=0;xe<Be.length;xe+=1)if(Ee=!0,Be[xe].length===1&&typeof Be[xe][0]=="number")ze.push(String(Be[xe]-1));else if(Be[xe].length>1){for(Ie=0;Ie<Be[xe].length;Ie+=1)typeof Be[xe][Ie]!="number"&&(Ee=!1);Ee===!0&&ze.push([Be[xe][0]-1,Be[xe][1]-1].join(" "))}Se[Fe].value="["+ze.join(" ")+"]"}else Se[Fe].value=Se[Fe].defaultValue;Se[Fe].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var Te,Ye=[];for(Te in Se)Se[Te].explicitSet===!0&&(Se[Te].type==="name"?Ye.push("/"+Te+" /"+Se[Te].value):Ye.push("/"+Te+" "+Se[Te].value));Ye.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+Ye.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=Se,this},function(Ae){var r=function(){var Ee='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',Fe=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),Be=unescape(encodeURIComponent(Ee)),Ve=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),_e=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),ze=unescape(encodeURIComponent("</x:xmpmeta>")),xe=Be.length+Ve.length+_e.length+Fe.length+ze.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+xe+" >>"),this.internal.write("stream"),this.internal.write(Fe+Be+Ve+_e+ze),this.internal.write("endstream"),this.internal.write("endobj")},Se=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};Ae.addMetadata=function(Ee,Fe){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:Ee,namespaceuri:Fe||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",Se),this.internal.events.subscribe("postPutResources",r)),this}}(E.API),function(Ae){var r=Ae.API,Se=r.pdfEscape16=function(Be,Ve){for(var _e,ze=Ve.metadata.Unicode.widths,xe=["","0","00","000","0000"],Ie=[""],Re=0,e=Be.length;Re<e;++Re){if(_e=Ve.metadata.characterToGlyph(Be.charCodeAt(Re)),Ve.metadata.glyIdsUsed.push(_e),Ve.metadata.toUnicode[_e]=Be.charCodeAt(Re),ze.indexOf(_e)==-1&&(ze.push(_e),ze.push([parseInt(Ve.metadata.widthOfGlyph(_e),10)])),_e=="0")return Ie.join("");_e=_e.toString(16),Ie.push(xe[4-_e.length],_e)}return Ie.join("")},Ee=function(Be){var Ve,_e,ze,xe,Ie,Re,e;for(Ie=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,ze=[],Re=0,e=(_e=Object.keys(Be).sort(function(t,Te){return t-Te})).length;Re<e;Re++)Ve=_e[Re],ze.length>=100&&(Ie+=`
`+ze.length+` beginbfchar
`+ze.join(`
`)+`
endbfchar`,ze=[]),Be[Ve]!==void 0&&Be[Ve]!==null&&typeof Be[Ve].toString=="function"&&(xe=("0000"+Be[Ve].toString(16)).slice(-4),Ve=("0000"+(+Ve).toString(16)).slice(-4),ze.push("<"+Ve+"><"+xe+">"));return ze.length&&(Ie+=`
`+ze.length+` beginbfchar
`+ze.join(`
`)+`
endbfchar
`),Ie+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};r.events.push(["putFont",function(Be){(function(Ve){var _e=Ve.font,ze=Ve.out,xe=Ve.newObject,Ie=Ve.putStream;if(_e.metadata instanceof Ae.API.TTFFont&&_e.encoding==="Identity-H"){for(var Re=_e.metadata.Unicode.widths,e=_e.metadata.subset.encode(_e.metadata.glyIdsUsed,1),t="",Te=0;Te<e.length;Te++)t+=String.fromCharCode(e[Te]);var Ye=xe();Ie({data:t,addLength1:!0,objectId:Ye}),ze("endobj");var en=xe();Ie({data:Ee(_e.metadata.toUnicode),addLength1:!0,objectId:en}),ze("endobj");var je=xe();ze("<<"),ze("/Type /FontDescriptor"),ze("/FontName /"+F(_e.fontName)),ze("/FontFile2 "+Ye+" 0 R"),ze("/FontBBox "+Ae.API.PDFObject.convert(_e.metadata.bbox)),ze("/Flags "+_e.metadata.flags),ze("/StemV "+_e.metadata.stemV),ze("/ItalicAngle "+_e.metadata.italicAngle),ze("/Ascent "+_e.metadata.ascender),ze("/Descent "+_e.metadata.decender),ze("/CapHeight "+_e.metadata.capHeight),ze(">>"),ze("endobj");var nn=xe();ze("<<"),ze("/Type /Font"),ze("/BaseFont /"+F(_e.fontName)),ze("/FontDescriptor "+je+" 0 R"),ze("/W "+Ae.API.PDFObject.convert(Re)),ze("/CIDToGIDMap /Identity"),ze("/DW 1000"),ze("/Subtype /CIDFontType2"),ze("/CIDSystemInfo"),ze("<<"),ze("/Supplement 0"),ze("/Registry (Adobe)"),ze("/Ordering ("+_e.encoding+")"),ze(">>"),ze(">>"),ze("endobj"),_e.objectNumber=xe(),ze("<<"),ze("/Type /Font"),ze("/Subtype /Type0"),ze("/ToUnicode "+en+" 0 R"),ze("/BaseFont /"+F(_e.fontName)),ze("/Encoding /"+_e.encoding),ze("/DescendantFonts ["+nn+" 0 R]"),ze(">>"),ze("endobj"),_e.isAlreadyPutted=!0}})(Be)}]),r.events.push(["putFont",function(Be){(function(Ve){var _e=Ve.font,ze=Ve.out,xe=Ve.newObject,Ie=Ve.putStream;if(_e.metadata instanceof Ae.API.TTFFont&&_e.encoding==="WinAnsiEncoding"){for(var Re=_e.metadata.rawData,e="",t=0;t<Re.length;t++)e+=String.fromCharCode(Re[t]);var Te=xe();Ie({data:e,addLength1:!0,objectId:Te}),ze("endobj");var Ye=xe();Ie({data:Ee(_e.metadata.toUnicode),addLength1:!0,objectId:Ye}),ze("endobj");var en=xe();ze("<<"),ze("/Descent "+_e.metadata.decender),ze("/CapHeight "+_e.metadata.capHeight),ze("/StemV "+_e.metadata.stemV),ze("/Type /FontDescriptor"),ze("/FontFile2 "+Te+" 0 R"),ze("/Flags 96"),ze("/FontBBox "+Ae.API.PDFObject.convert(_e.metadata.bbox)),ze("/FontName /"+F(_e.fontName)),ze("/ItalicAngle "+_e.metadata.italicAngle),ze("/Ascent "+_e.metadata.ascender),ze(">>"),ze("endobj"),_e.objectNumber=xe();for(var je=0;je<_e.metadata.hmtx.widths.length;je++)_e.metadata.hmtx.widths[je]=parseInt(_e.metadata.hmtx.widths[je]*(1e3/_e.metadata.head.unitsPerEm));ze("<</Subtype/TrueType/Type/Font/ToUnicode "+Ye+" 0 R/BaseFont/"+F(_e.fontName)+"/FontDescriptor "+en+" 0 R/Encoding/"+_e.encoding+" /FirstChar 29 /LastChar 255 /Widths "+Ae.API.PDFObject.convert(_e.metadata.hmtx.widths)+">>"),ze("endobj"),_e.isAlreadyPutted=!0}})(Be)}]);var Fe=function(Be){var Ve,_e=Be.text||"",ze=Be.x,xe=Be.y,Ie=Be.options||{},Re=Be.mutex||{},e=Re.pdfEscape,t=Re.activeFontKey,Te=Re.fonts,Ye=t,en="",je=0,nn="",Ge=Te[Ye].encoding;if(Te[Ye].encoding!=="Identity-H")return{text:_e,x:ze,y:xe,options:Ie,mutex:Re};for(nn=_e,Ye=t,Array.isArray(_e)&&(nn=_e[0]),je=0;je<nn.length;je+=1)Te[Ye].metadata.hasOwnProperty("cmap")&&(Ve=Te[Ye].metadata.cmap.unicode.codeMap[nn[je].charCodeAt(0)]),Ve||nn[je].charCodeAt(0)<256&&Te[Ye].metadata.hasOwnProperty("Unicode")?en+=nn[je]:en+="";var Oe="";return parseInt(Ye.slice(1))<14||Ge==="WinAnsiEncoding"?Oe=e(en,Ye).split("").map(function(Ce){return Ce.charCodeAt(0).toString(16)}).join(""):Ge==="Identity-H"&&(Oe=Se(en,Te[Ye])),Re.isHex=!0,{text:Oe,x:ze,y:xe,options:Ie,mutex:Re}};r.events.push(["postProcessText",function(Be){var Ve=Be.text||"",_e=[],ze={text:Ve,x:Be.x,y:Be.y,options:Be.options,mutex:Be.mutex};if(Array.isArray(Ve)){var xe=0;for(xe=0;xe<Ve.length;xe+=1)Array.isArray(Ve[xe])&&Ve[xe].length===3?_e.push([Fe(Object.assign({},ze,{text:Ve[xe][0]})).text,Ve[xe][1],Ve[xe][2]]):_e.push(Fe(Object.assign({},ze,{text:Ve[xe]})).text);Be.text=_e}else Be.text=Fe(Object.assign({},ze,{text:Ve})).text}])}(E),function(Ae){var r=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};Ae.existsFileInVFS=function(Se){return r.call(this),this.internal.vFS[Se]!==void 0},Ae.addFileToVFS=function(Se,Ee){return r.call(this),this.internal.vFS[Se]=Ee,this},Ae.getFileFromVFS=function(Se){return r.call(this),this.internal.vFS[Se]!==void 0?this.internal.vFS[Se]:null}}(E.API),function(Ae){Ae.__bidiEngine__=Ae.prototype.__bidiEngine__=function(Ee){var Fe,Be,Ve,_e,ze,xe,Ie,Re=r,e=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],t=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],Te={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},Ye={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},en=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],je=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),nn=!1,Ge=0;this.__bidiEngine__={};var Oe=function(He){var pn=He.charCodeAt(),Xe=pn>>8,fn=Ye[Xe];return fn!==void 0?Re[256*fn+(255&pn)]:Xe===252||Xe===253?"AL":je.test(Xe)?"L":Xe===8?"R":"N"},Ce=function(He){for(var pn,Xe=0;Xe<He.length;Xe++){if((pn=Oe(He.charAt(Xe)))==="L")return!1;if(pn==="R")return!0}return!1},St=function(He,pn,Xe,fn){var dn,qe,tn,Me,De=pn[fn];switch(De){case"L":case"R":nn=!1;break;case"N":case"AN":break;case"EN":nn&&(De="AN");break;case"AL":nn=!0,De="R";break;case"WS":De="N";break;case"CS":fn<1||fn+1>=pn.length||(dn=Xe[fn-1])!=="EN"&&dn!=="AN"||(qe=pn[fn+1])!=="EN"&&qe!=="AN"?De="N":nn&&(qe="AN"),De=qe===dn?qe:"N";break;case"ES":De=(dn=fn>0?Xe[fn-1]:"B")==="EN"&&fn+1<pn.length&&pn[fn+1]==="EN"?"EN":"N";break;case"ET":if(fn>0&&Xe[fn-1]==="EN"){De="EN";break}if(nn){De="N";break}for(tn=fn+1,Me=pn.length;tn<Me&&pn[tn]==="ET";)tn++;De=tn<Me&&pn[tn]==="EN"?"EN":"N";break;case"NSM":if(Ve&&!_e){for(Me=pn.length,tn=fn+1;tn<Me&&pn[tn]==="NSM";)tn++;if(tn<Me){var Ue=He[fn],We=Ue>=1425&&Ue<=2303||Ue===64286;if(dn=pn[tn],We&&(dn==="R"||dn==="AL")){De="R";break}}}De=fn<1||(dn=pn[fn-1])==="B"?"N":Xe[fn-1];break;case"B":nn=!1,Fe=!0,De=Ge;break;case"S":Be=!0,De="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":nn=!1;break;case"BN":De="N"}return De},rn=function(He,pn,Xe){var fn=He.split("");return Xe&&un(fn,Xe,{hiLevel:Ge}),fn.reverse(),pn&&pn.reverse(),fn.join("")},un=function(He,pn,Xe){var fn,dn,qe,tn,Me,De=-1,Ue=He.length,We=0,$e=[],on=Ge?t:e,Je=[];for(nn=!1,Fe=!1,Be=!1,dn=0;dn<Ue;dn++)Je[dn]=Oe(He[dn]);for(qe=0;qe<Ue;qe++){if(Me=We,$e[qe]=St(He,Je,$e,qe),fn=240&(We=on[Me][Te[$e[qe]]]),We&=15,pn[qe]=tn=on[We][5],fn>0)if(fn===16){for(dn=De;dn<qe;dn++)pn[dn]=1;De=-1}else De=-1;if(on[We][6])De===-1&&(De=qe);else if(De>-1){for(dn=De;dn<qe;dn++)pn[dn]=tn;De=-1}Je[qe]==="B"&&(pn[qe]=0),Xe.hiLevel|=tn}Be&&function(an,Ke,sn){for(var gn=0;gn<sn;gn++)if(an[gn]==="S"){Ke[gn]=Ge;for(var mn=gn-1;mn>=0&&an[mn]==="WS";mn--)Ke[mn]=Ge}}(Je,pn,Ue)},Qe=function(He,pn,Xe,fn,dn){if(!(dn.hiLevel<He)){if(He===1&&Ge===1&&!Fe)return pn.reverse(),void(Xe&&Xe.reverse());for(var qe,tn,Me,De,Ue=pn.length,We=0;We<Ue;){if(fn[We]>=He){for(Me=We+1;Me<Ue&&fn[Me]>=He;)Me++;for(De=We,tn=Me-1;De<tn;De++,tn--)qe=pn[De],pn[De]=pn[tn],pn[tn]=qe,Xe&&(qe=Xe[De],Xe[De]=Xe[tn],Xe[tn]=qe);We=Me}We++}}},hn=function(He,pn,Xe){var fn=He.split(""),dn={hiLevel:Ge};return Xe||(Xe=[]),un(fn,Xe,dn),function(qe,tn,Me){if(Me.hiLevel!==0&&Ie)for(var De,Ue=0;Ue<qe.length;Ue++)tn[Ue]===1&&(De=en.indexOf(qe[Ue]))>=0&&(qe[Ue]=en[De+1])}(fn,Xe,dn),Qe(2,fn,pn,Xe,dn),Qe(1,fn,pn,Xe,dn),fn.join("")};return this.__bidiEngine__.doBidiReorder=function(He,pn,Xe){if(function(dn,qe){if(qe)for(var tn=0;tn<dn.length;tn++)qe[tn]=tn;_e===void 0&&(_e=Ce(dn)),xe===void 0&&(xe=Ce(dn))}(He,pn),Ve||!ze||xe)if(Ve&&ze&&_e^xe)Ge=_e?1:0,He=rn(He,pn,Xe);else if(!Ve&&ze&&xe)Ge=_e?1:0,He=hn(He,pn,Xe),He=rn(He,pn);else if(!Ve||_e||ze||xe){if(Ve&&!ze&&_e^xe)He=rn(He,pn),_e?(Ge=0,He=hn(He,pn,Xe)):(Ge=1,He=hn(He,pn,Xe),He=rn(He,pn));else if(Ve&&_e&&!ze&&xe)Ge=1,He=hn(He,pn,Xe),He=rn(He,pn);else if(!Ve&&!ze&&_e^xe){var fn=Ie;_e?(Ge=1,He=hn(He,pn,Xe),Ge=0,Ie=!1,He=hn(He,pn,Xe),Ie=fn):(Ge=0,He=hn(He,pn,Xe),He=rn(He,pn),Ge=1,Ie=!1,He=hn(He,pn,Xe),Ie=fn,He=rn(He,pn))}}else Ge=0,He=hn(He,pn,Xe);else Ge=_e?1:0,He=hn(He,pn,Xe);return He},this.__bidiEngine__.setOptions=function(He){He&&(Ve=He.isInputVisual,ze=He.isOutputVisual,_e=He.isInputRtl,xe=He.isOutputRtl,Ie=He.isSymmetricSwapping)},this.__bidiEngine__.setOptions(Ee),this.__bidiEngine__};var r=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],Se=new Ae.__bidiEngine__({isInputVisual:!0});Ae.API.events.push(["postProcessText",function(Ee){var Fe=Ee.text;Ee.x,Ee.y;var Be=Ee.options||{};Ee.mutex,Be.lang;var Ve=[];if(Be.isInputVisual=typeof Be.isInputVisual!="boolean"||Be.isInputVisual,Se.setOptions(Be),Object.prototype.toString.call(Fe)==="[object Array]"){var _e=0;for(Ve=[],_e=0;_e<Fe.length;_e+=1)Object.prototype.toString.call(Fe[_e])==="[object Array]"?Ve.push([Se.doBidiReorder(Fe[_e][0]),Fe[_e][1],Fe[_e][2]]):Ve.push([Se.doBidiReorder(Fe[_e])]);Ee.text=Ve}else Ee.text=Se.doBidiReorder(Fe);Se.setOptions({isInputVisual:!0})}])}(E),E.API.TTFFont=function(){function Ae(r){var Se;if(this.rawData=r,Se=this.contents=new ne(r),this.contents.pos=4,Se.readString(4)==="ttcf")throw new Error("TTCF not supported.");Se.pos=0,this.parse(),this.subset=new Le(this),this.registerTTF()}return Ae.open=function(r){return new Ae(r)},Ae.prototype.parse=function(){return this.directory=new ie(this.contents),this.head=new se(this),this.name=new pe(this),this.cmap=new ue(this),this.toUnicode={},this.hhea=new he(this),this.maxp=new ge(this),this.hmtx=new me(this),this.post=new fe(this),this.os2=new le(this),this.loca=new Ne(this),this.glyf=new be(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},Ae.prototype.registerTTF=function(){var r,Se,Ee,Fe,Be;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var Ve,_e,ze,xe;for(xe=[],Ve=0,_e=(ze=this.bbox).length;Ve<_e;Ve++)r=ze[Ve],xe.push(Math.round(r*this.scaleFactor));return xe}).call(this),this.stemV=0,this.post.exists?(Ee=255&(Fe=this.post.italic_angle),(32768&(Se=Fe>>16))!=0&&(Se=-(1+(65535^Se))),this.italicAngle=+(Se+"."+Ee)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(Be=this.familyClass)===1||Be===2||Be===3||Be===4||Be===5||Be===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},Ae.prototype.characterToGlyph=function(r){var Se;return((Se=this.cmap.unicode)!=null?Se.codeMap[r]:void 0)||0},Ae.prototype.widthOfGlyph=function(r){var Se;return Se=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(r).advance*Se},Ae.prototype.widthOfString=function(r,Se,Ee){var Fe,Be,Ve,_e;for(Ve=0,Be=0,_e=(r=""+r).length;0<=_e?Be<_e:Be>_e;Be=0<=_e?++Be:--Be)Fe=r.charCodeAt(Be),Ve+=this.widthOfGlyph(this.characterToGlyph(Fe))+Ee*(1e3/Se)||0;return Ve*(Se/1e3)},Ae.prototype.lineHeight=function(r,Se){var Ee;return Se==null&&(Se=!1),Ee=Se?this.lineGap:0,(this.ascender+Ee-this.decender)/1e3*r},Ae}();var re,ne=function(){function Ae(r){this.data=r??[],this.pos=0,this.length=this.data.length}return Ae.prototype.readByte=function(){return this.data[this.pos++]},Ae.prototype.writeByte=function(r){return this.data[this.pos++]=r},Ae.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},Ae.prototype.writeUInt32=function(r){return this.writeByte(r>>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},Ae.prototype.readInt32=function(){var r;return(r=this.readUInt32())>=2147483648?r-4294967296:r},Ae.prototype.writeInt32=function(r){return r<0&&(r+=4294967296),this.writeUInt32(r)},Ae.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},Ae.prototype.writeUInt16=function(r){return this.writeByte(r>>8&255),this.writeByte(255&r)},Ae.prototype.readInt16=function(){var r;return(r=this.readUInt16())>=32768?r-65536:r},Ae.prototype.writeInt16=function(r){return r<0&&(r+=65536),this.writeUInt16(r)},Ae.prototype.readString=function(r){var Se,Ee;for(Ee=[],Se=0;0<=r?Se<r:Se>r;Se=0<=r?++Se:--Se)Ee[Se]=String.fromCharCode(this.readByte());return Ee.join("")},Ae.prototype.writeString=function(r){var Se,Ee,Fe;for(Fe=[],Se=0,Ee=r.length;0<=Ee?Se<Ee:Se>Ee;Se=0<=Ee?++Se:--Se)Fe.push(this.writeByte(r.charCodeAt(Se)));return Fe},Ae.prototype.readShort=function(){return this.readInt16()},Ae.prototype.writeShort=function(r){return this.writeInt16(r)},Ae.prototype.readLongLong=function(){var r,Se,Ee,Fe,Be,Ve,_e,ze;return r=this.readByte(),Se=this.readByte(),Ee=this.readByte(),Fe=this.readByte(),Be=this.readByte(),Ve=this.readByte(),_e=this.readByte(),ze=this.readByte(),128&r?-1*(72057594037927940*(255^r)+281474976710656*(255^Se)+1099511627776*(255^Ee)+4294967296*(255^Fe)+16777216*(255^Be)+65536*(255^Ve)+256*(255^_e)+(255^ze)+1):72057594037927940*r+281474976710656*Se+1099511627776*Ee+4294967296*Fe+16777216*Be+65536*Ve+256*_e+ze},Ae.prototype.writeLongLong=function(r){var Se,Ee;return Se=Math.floor(r/4294967296),Ee=4294967295&r,this.writeByte(Se>>24&255),this.writeByte(Se>>16&255),this.writeByte(Se>>8&255),this.writeByte(255&Se),this.writeByte(Ee>>24&255),this.writeByte(Ee>>16&255),this.writeByte(Ee>>8&255),this.writeByte(255&Ee)},Ae.prototype.readInt=function(){return this.readInt32()},Ae.prototype.writeInt=function(r){return this.writeInt32(r)},Ae.prototype.read=function(r){var Se,Ee;for(Se=[],Ee=0;0<=r?Ee<r:Ee>r;Ee=0<=r?++Ee:--Ee)Se.push(this.readByte());return Se},Ae.prototype.write=function(r){var Se,Ee,Fe,Be;for(Be=[],Ee=0,Fe=r.length;Ee<Fe;Ee++)Se=r[Ee],Be.push(this.writeByte(Se));return Be},Ae}(),ie=function(){var Ae;function r(Se){var Ee,Fe,Be;for(this.scalarType=Se.readInt(),this.tableCount=Se.readShort(),this.searchRange=Se.readShort(),this.entrySelector=Se.readShort(),this.rangeShift=Se.readShort(),this.tables={},Fe=0,Be=this.tableCount;0<=Be?Fe<Be:Fe>Be;Fe=0<=Be?++Fe:--Fe)Ee={tag:Se.readString(4),checksum:Se.readInt(),offset:Se.readInt(),length:Se.readInt()},this.tables[Ee.tag]=Ee}return r.prototype.encode=function(Se){var Ee,Fe,Be,Ve,_e,ze,xe,Ie,Re,e,t,Te,Ye;for(Ye in t=Object.keys(Se).length,ze=Math.log(2),Re=16*Math.floor(Math.log(t)/ze),Ve=Math.floor(Re/ze),Ie=16*t-Re,(Fe=new ne).writeInt(this.scalarType),Fe.writeShort(t),Fe.writeShort(Re),Fe.writeShort(Ve),Fe.writeShort(Ie),Be=16*t,xe=Fe.pos+Be,_e=null,Te=[],Se)for(e=Se[Ye],Fe.writeString(Ye),Fe.writeInt(Ae(e)),Fe.writeInt(xe),Fe.writeInt(e.length),Te=Te.concat(e),Ye==="head"&&(_e=xe),xe+=e.length;xe%4;)Te.push(0),xe++;return Fe.write(Te),Ee=2981146554-Ae(Fe.data),Fe.pos=_e+8,Fe.writeUInt32(Ee),Fe.data},Ae=function(Se){var Ee,Fe,Be,Ve;for(Se=ve.call(Se);Se.length%4;)Se.push(0);for(Be=new ne(Se),Fe=0,Ee=0,Ve=Se.length;Ee<Ve;Ee=Ee+=4)Fe+=Be.readUInt32();return 4294967295&Fe},r}(),ae={}.hasOwnProperty,oe=function(Ae,r){for(var Se in r)ae.call(r,Se)&&(Ae[Se]=r[Se]);function Ee(){this.constructor=Ae}return Ee.prototype=r.prototype,Ae.prototype=new Ee,Ae.__super__=r.prototype,Ae};re=function(){function Ae(r){var Se;this.file=r,Se=this.file.directory.tables[this.tag],this.exists=!!Se,Se&&(this.offset=Se.offset,this.length=Se.length,this.parse(this.file.contents))}return Ae.prototype.parse=function(){},Ae.prototype.encode=function(){},Ae.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},Ae}();var se=function(Ae){function r(){return r.__super__.constructor.apply(this,arguments)}return oe(r,re),r.prototype.tag="head",r.prototype.parse=function(Se){return Se.pos=this.offset,this.version=Se.readInt(),this.revision=Se.readInt(),this.checkSumAdjustment=Se.readInt(),this.magicNumber=Se.readInt(),this.flags=Se.readShort(),this.unitsPerEm=Se.readShort(),this.created=Se.readLongLong(),this.modified=Se.readLongLong(),this.xMin=Se.readShort(),this.yMin=Se.readShort(),this.xMax=Se.readShort(),this.yMax=Se.readShort(),this.macStyle=Se.readShort(),this.lowestRecPPEM=Se.readShort(),this.fontDirectionHint=Se.readShort(),this.indexToLocFormat=Se.readShort(),this.glyphDataFormat=Se.readShort()},r.prototype.encode=function(Se){var Ee;return(Ee=new ne).writeInt(this.version),Ee.writeInt(this.revision),Ee.writeInt(this.checkSumAdjustment),Ee.writeInt(this.magicNumber),Ee.writeShort(this.flags),Ee.writeShort(this.unitsPerEm),Ee.writeLongLong(this.created),Ee.writeLongLong(this.modified),Ee.writeShort(this.xMin),Ee.writeShort(this.yMin),Ee.writeShort(this.xMax),Ee.writeShort(this.yMax),Ee.writeShort(this.macStyle),Ee.writeShort(this.lowestRecPPEM),Ee.writeShort(this.fontDirectionHint),Ee.writeShort(Se),Ee.writeShort(this.glyphDataFormat),Ee.data},r}(),ce=function(){function Ae(r,Se){var Ee,Fe,Be,Ve,_e,ze,xe,Ie,Re,e,t,Te,Ye,en,je,nn,Ge;switch(this.platformID=r.readUInt16(),this.encodingID=r.readShort(),this.offset=Se+r.readInt(),Re=r.pos,r.pos=this.offset,this.format=r.readUInt16(),this.length=r.readUInt16(),this.language=r.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(ze=0;ze<256;++ze)this.codeMap[ze]=r.readByte();break;case 4:for(t=r.readUInt16(),e=t/2,r.pos+=6,Be=function(){var Oe,Ce;for(Ce=[],ze=Oe=0;0<=e?Oe<e:Oe>e;ze=0<=e?++Oe:--Oe)Ce.push(r.readUInt16());return Ce}(),r.pos+=2,Ye=function(){var Oe,Ce;for(Ce=[],ze=Oe=0;0<=e?Oe<e:Oe>e;ze=0<=e?++Oe:--Oe)Ce.push(r.readUInt16());return Ce}(),xe=function(){var Oe,Ce;for(Ce=[],ze=Oe=0;0<=e?Oe<e:Oe>e;ze=0<=e?++Oe:--Oe)Ce.push(r.readUInt16());return Ce}(),Ie=function(){var Oe,Ce;for(Ce=[],ze=Oe=0;0<=e?Oe<e:Oe>e;ze=0<=e?++Oe:--Oe)Ce.push(r.readUInt16());return Ce}(),Fe=(this.length-r.pos+this.offset)/2,_e=function(){var Oe,Ce;for(Ce=[],ze=Oe=0;0<=Fe?Oe<Fe:Oe>Fe;ze=0<=Fe?++Oe:--Oe)Ce.push(r.readUInt16());return Ce}(),ze=je=0,Ge=Be.length;je<Ge;ze=++je)for(en=Be[ze],Ee=nn=Te=Ye[ze];Te<=en?nn<=en:nn>=en;Ee=Te<=en?++nn:--nn)Ie[ze]===0?Ve=Ee+xe[ze]:(Ve=_e[Ie[ze]/2+(Ee-Te)-(e-ze)]||0)!==0&&(Ve+=xe[ze]),this.codeMap[Ee]=65535&Ve}r.pos=Re}return Ae.encode=function(r,Se){var Ee,Fe,Be,Ve,_e,ze,xe,Ie,Re,e,t,Te,Ye,en,je,nn,Ge,Oe,Ce,St,rn,un,Qe,hn,He,pn,Xe,fn,dn,qe,tn,Me,De,Ue,We,$e,on,Je,an,Ke,sn,gn,mn,yn,Sn,_n;switch(fn=new ne,Ve=Object.keys(r).sort(function(wn,Nn){return wn-Nn}),Se){case"macroman":for(Ye=0,en=function(){var wn=[];for(Te=0;Te<256;++Te)wn.push(0);return wn}(),nn={0:0},Be={},dn=0,De=Ve.length;dn<De;dn++)nn[mn=r[Fe=Ve[dn]]]==null&&(nn[mn]=++Ye),Be[Fe]={old:r[Fe],new:nn[r[Fe]]},en[Fe]=nn[r[Fe]];return fn.writeUInt16(1),fn.writeUInt16(0),fn.writeUInt32(12),fn.writeUInt16(0),fn.writeUInt16(262),fn.writeUInt16(0),fn.write(en),{charMap:Be,subtable:fn.data,maxGlyphID:Ye+1};case"unicode":for(pn=[],Re=[],Ge=0,nn={},Ee={},je=xe=null,qe=0,Ue=Ve.length;qe<Ue;qe++)nn[Ce=r[Fe=Ve[qe]]]==null&&(nn[Ce]=++Ge),Ee[Fe]={old:Ce,new:nn[Ce]},_e=nn[Ce]-Fe,je!=null&&_e===xe||(je&&Re.push(je),pn.push(Fe),xe=_e),je=Fe;for(je&&Re.push(je),Re.push(65535),pn.push(65535),hn=2*(Qe=pn.length),un=2*Math.pow(Math.log(Qe)/Math.LN2,2),e=Math.log(un/2)/Math.LN2,rn=2*Qe-un,ze=[],St=[],t=[],Te=tn=0,We=pn.length;tn<We;Te=++tn){if(He=pn[Te],Ie=Re[Te],He===65535){ze.push(0),St.push(0);break}if(He-(Xe=Ee[He].new)>=32768)for(ze.push(0),St.push(2*(t.length+Qe-Te)),Fe=Me=He;He<=Ie?Me<=Ie:Me>=Ie;Fe=He<=Ie?++Me:--Me)t.push(Ee[Fe].new);else ze.push(Xe-He),St.push(0)}for(fn.writeUInt16(3),fn.writeUInt16(1),fn.writeUInt32(12),fn.writeUInt16(4),fn.writeUInt16(16+8*Qe+2*t.length),fn.writeUInt16(0),fn.writeUInt16(hn),fn.writeUInt16(un),fn.writeUInt16(e),fn.writeUInt16(rn),sn=0,$e=Re.length;sn<$e;sn++)Fe=Re[sn],fn.writeUInt16(Fe);for(fn.writeUInt16(0),gn=0,on=pn.length;gn<on;gn++)Fe=pn[gn],fn.writeUInt16(Fe);for(yn=0,Je=ze.length;yn<Je;yn++)_e=ze[yn],fn.writeUInt16(_e);for(Sn=0,an=St.length;Sn<an;Sn++)Oe=St[Sn],fn.writeUInt16(Oe);for(_n=0,Ke=t.length;_n<Ke;_n++)Ye=t[_n],fn.writeUInt16(Ye);return{charMap:Ee,subtable:fn.data,maxGlyphID:Ge+1}}},Ae}(),ue=function(Ae){function r(){return r.__super__.constructor.apply(this,arguments)}return oe(r,re),r.prototype.tag="cmap",r.prototype.parse=function(Se){var Ee,Fe,Be;for(Se.pos=this.offset,this.version=Se.readUInt16(),Be=Se.readUInt16(),this.tables=[],this.unicode=null,Fe=0;0<=Be?Fe<Be:Fe>Be;Fe=0<=Be?++Fe:--Fe)Ee=new ce(Se,this.offset),this.tables.push(Ee),Ee.isUnicode&&this.unicode==null&&(this.unicode=Ee);return!0},r.encode=function(Se,Ee){var Fe,Be;return Ee==null&&(Ee="macroman"),Fe=ce.encode(Se,Ee),(Be=new ne).writeUInt16(0),Be.writeUInt16(1),Fe.table=Be.data.concat(Fe.subtable),Fe},r}(),he=function(Ae){function r(){return r.__super__.constructor.apply(this,arguments)}return oe(r,re),r.prototype.tag="hhea",r.prototype.parse=function(Se){return Se.pos=this.offset,this.version=Se.readInt(),this.ascender=Se.readShort(),this.decender=Se.readShort(),this.lineGap=Se.readShort(),this.advanceWidthMax=Se.readShort(),this.minLeftSideBearing=Se.readShort(),this.minRightSideBearing=Se.readShort(),this.xMaxExtent=Se.readShort(),this.caretSlopeRise=Se.readShort(),this.caretSlopeRun=Se.readShort(),this.caretOffset=Se.readShort(),Se.pos+=8,this.metricDataFormat=Se.readShort(),this.numberOfMetrics=Se.readUInt16()},r}(),le=function(Ae){function r(){return r.__super__.constructor.apply(this,arguments)}return oe(r,re),r.prototype.tag="OS/2",r.prototype.parse=function(Se){if(Se.pos=this.offset,this.version=Se.readUInt16(),this.averageCharWidth=Se.readShort(),this.weightClass=Se.readUInt16(),this.widthClass=Se.readUInt16(),this.type=Se.readShort(),this.ySubscriptXSize=Se.readShort(),this.ySubscriptYSize=Se.readShort(),this.ySubscriptXOffset=Se.readShort(),this.ySubscriptYOffset=Se.readShort(),this.ySuperscriptXSize=Se.readShort(),this.ySuperscriptYSize=Se.readShort(),this.ySuperscriptXOffset=Se.readShort(),this.ySuperscriptYOffset=Se.readShort(),this.yStrikeoutSize=Se.readShort(),this.yStrikeoutPosition=Se.readShort(),this.familyClass=Se.readShort(),this.panose=function(){var Ee,Fe;for(Fe=[],Ee=0;Ee<10;++Ee)Fe.push(Se.readByte());return Fe}(),this.charRange=function(){var Ee,Fe;for(Fe=[],Ee=0;Ee<4;++Ee)Fe.push(Se.readInt());return Fe}(),this.vendorID=Se.readString(4),this.selection=Se.readShort(),this.firstCharIndex=Se.readShort(),this.lastCharIndex=Se.readShort(),this.version>0&&(this.ascent=Se.readShort(),this.descent=Se.readShort(),this.lineGap=Se.readShort(),this.winAscent=Se.readShort(),this.winDescent=Se.readShort(),this.codePageRange=function(){var Ee,Fe;for(Fe=[],Ee=0;Ee<2;Ee=++Ee)Fe.push(Se.readInt());return Fe}(),this.version>1))return this.xHeight=Se.readShort(),this.capHeight=Se.readShort(),this.defaultChar=Se.readShort(),this.breakChar=Se.readShort(),this.maxContext=Se.readShort()},r}(),fe=function(Ae){function r(){return r.__super__.constructor.apply(this,arguments)}return oe(r,re),r.prototype.tag="post",r.prototype.parse=function(Se){var Ee,Fe,Be;switch(Se.pos=this.offset,this.format=Se.readInt(),this.italicAngle=Se.readInt(),this.underlinePosition=Se.readShort(),this.underlineThickness=Se.readShort(),this.isFixedPitch=Se.readInt(),this.minMemType42=Se.readInt(),this.maxMemType42=Se.readInt(),this.minMemType1=Se.readInt(),this.maxMemType1=Se.readInt(),this.format){case 65536:break;case 131072:var Ve;for(Fe=Se.readUInt16(),this.glyphNameIndex=[],Ve=0;0<=Fe?Ve<Fe:Ve>Fe;Ve=0<=Fe?++Ve:--Ve)this.glyphNameIndex.push(Se.readUInt16());for(this.names=[],Be=[];Se.pos<this.offset+this.length;)Ee=Se.readByte(),Be.push(this.names.push(Se.readString(Ee)));return Be;case 151552:return Fe=Se.readUInt16(),this.offsets=Se.read(Fe);case 196608:break;case 262144:return this.map=(function(){var _e,ze,xe;for(xe=[],Ve=_e=0,ze=this.file.maxp.numGlyphs;0<=ze?_e<ze:_e>ze;Ve=0<=ze?++_e:--_e)xe.push(Se.readUInt32());return xe}).call(this)}},r}(),de=function(Ae,r){this.raw=Ae,this.length=Ae.length,this.platformID=r.platformID,this.encodingID=r.encodingID,this.languageID=r.languageID},pe=function(Ae){function r(){return r.__super__.constructor.apply(this,arguments)}return oe(r,re),r.prototype.tag="name",r.prototype.parse=function(Se){var Ee,Fe,Be,Ve,_e,ze,xe,Ie,Re,e,t;for(Se.pos=this.offset,Se.readShort(),Ee=Se.readShort(),ze=Se.readShort(),Fe=[],Ve=0;0<=Ee?Ve<Ee:Ve>Ee;Ve=0<=Ee?++Ve:--Ve)Fe.push({platformID:Se.readShort(),encodingID:Se.readShort(),languageID:Se.readShort(),nameID:Se.readShort(),length:Se.readShort(),offset:this.offset+ze+Se.readShort()});for(xe={},Ve=Re=0,e=Fe.length;Re<e;Ve=++Re)Be=Fe[Ve],Se.pos=Be.offset,Ie=Se.readString(Be.length),_e=new de(Ie,Be),xe[t=Be.nameID]==null&&(xe[t]=[]),xe[Be.nameID].push(_e);this.strings=xe,this.copyright=xe[0],this.fontFamily=xe[1],this.fontSubfamily=xe[2],this.uniqueSubfamily=xe[3],this.fontName=xe[4],this.version=xe[5];try{this.postscriptName=xe[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=xe[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=xe[7],this.manufacturer=xe[8],this.designer=xe[9],this.description=xe[10],this.vendorUrl=xe[11],this.designerUrl=xe[12],this.license=xe[13],this.licenseUrl=xe[14],this.preferredFamily=xe[15],this.preferredSubfamily=xe[17],this.compatibleFull=xe[18],this.sampleText=xe[19]},r}(),ge=function(Ae){function r(){return r.__super__.constructor.apply(this,arguments)}return oe(r,re),r.prototype.tag="maxp",r.prototype.parse=function(Se){return Se.pos=this.offset,this.version=Se.readInt(),this.numGlyphs=Se.readUInt16(),this.maxPoints=Se.readUInt16(),this.maxContours=Se.readUInt16(),this.maxCompositePoints=Se.readUInt16(),this.maxComponentContours=Se.readUInt16(),this.maxZones=Se.readUInt16(),this.maxTwilightPoints=Se.readUInt16(),this.maxStorage=Se.readUInt16(),this.maxFunctionDefs=Se.readUInt16(),this.maxInstructionDefs=Se.readUInt16(),this.maxStackElements=Se.readUInt16(),this.maxSizeOfInstructions=Se.readUInt16(),this.maxComponentElements=Se.readUInt16(),this.maxComponentDepth=Se.readUInt16()},r}(),me=function(Ae){function r(){return r.__super__.constructor.apply(this,arguments)}return oe(r,re),r.prototype.tag="hmtx",r.prototype.parse=function(Se){var Ee,Fe,Be,Ve,_e,ze,xe;for(Se.pos=this.offset,this.metrics=[],Ee=0,ze=this.file.hhea.numberOfMetrics;0<=ze?Ee<ze:Ee>ze;Ee=0<=ze?++Ee:--Ee)this.metrics.push({advance:Se.readUInt16(),lsb:Se.readInt16()});for(Be=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var Ie,Re;for(Re=[],Ee=Ie=0;0<=Be?Ie<Be:Ie>Be;Ee=0<=Be?++Ie:--Ie)Re.push(Se.readInt16());return Re}(),this.widths=(function(){var Ie,Re,e,t;for(t=[],Ie=0,Re=(e=this.metrics).length;Ie<Re;Ie++)Ve=e[Ie],t.push(Ve.advance);return t}).call(this),Fe=this.widths[this.widths.length-1],xe=[],Ee=_e=0;0<=Be?_e<Be:_e>Be;Ee=0<=Be?++_e:--_e)xe.push(this.widths.push(Fe));return xe},r.prototype.forGlyph=function(Se){return Se in this.metrics?this.metrics[Se]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[Se-this.metrics.length]}},r}(),ve=[].slice,be=function(Ae){function r(){return r.__super__.constructor.apply(this,arguments)}return oe(r,re),r.prototype.tag="glyf",r.prototype.parse=function(){return this.cache={}},r.prototype.glyphFor=function(Se){var Ee,Fe,Be,Ve,_e,ze,xe,Ie,Re,e;return Se in this.cache?this.cache[Se]:(Ve=this.file.loca,Ee=this.file.contents,Fe=Ve.indexOf(Se),(Be=Ve.lengthOf(Se))===0?this.cache[Se]=null:(Ee.pos=this.offset+Fe,_e=(ze=new ne(Ee.read(Be))).readShort(),Ie=ze.readShort(),e=ze.readShort(),xe=ze.readShort(),Re=ze.readShort(),this.cache[Se]=_e===-1?new we(ze,Ie,e,xe,Re):new ye(ze,_e,Ie,e,xe,Re),this.cache[Se]))},r.prototype.encode=function(Se,Ee,Fe){var Be,Ve,_e,ze,xe;for(_e=[],Ve=[],ze=0,xe=Ee.length;ze<xe;ze++)Be=Se[Ee[ze]],Ve.push(_e.length),Be&&(_e=_e.concat(Be.encode(Fe)));return Ve.push(_e.length),{table:_e,offsets:Ve}},r}(),ye=function(){function Ae(r,Se,Ee,Fe,Be,Ve){this.raw=r,this.numberOfContours=Se,this.xMin=Ee,this.yMin=Fe,this.xMax=Be,this.yMax=Ve,this.compound=!1}return Ae.prototype.encode=function(){return this.raw.data},Ae}(),we=function(){function Ae(r,Se,Ee,Fe,Be){var Ve,_e;for(this.raw=r,this.xMin=Se,this.yMin=Ee,this.xMax=Fe,this.yMax=Be,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],Ve=this.raw;_e=Ve.readShort(),this.glyphOffsets.push(Ve.pos),this.glyphIDs.push(Ve.readUInt16()),32&_e;)Ve.pos+=1&_e?4:2,128&_e?Ve.pos+=8:64&_e?Ve.pos+=4:8&_e&&(Ve.pos+=2)}return Ae.prototype.encode=function(){var r,Se,Ee;for(Se=new ne(ve.call(this.raw.data)),r=0,Ee=this.glyphIDs.length;r<Ee;++r)Se.pos=this.glyphOffsets[r];return Se.data},Ae}(),Ne=function(Ae){function r(){return r.__super__.constructor.apply(this,arguments)}return oe(r,re),r.prototype.tag="loca",r.prototype.parse=function(Se){var Ee,Fe;return Se.pos=this.offset,Ee=this.file.head.indexToLocFormat,this.offsets=Ee===0?(function(){var Be,Ve;for(Ve=[],Fe=0,Be=this.length;Fe<Be;Fe+=2)Ve.push(2*Se.readUInt16());return Ve}).call(this):(function(){var Be,Ve;for(Ve=[],Fe=0,Be=this.length;Fe<Be;Fe+=4)Ve.push(Se.readUInt32());return Ve}).call(this)},r.prototype.indexOf=function(Se){return this.offsets[Se]},r.prototype.lengthOf=function(Se){return this.offsets[Se+1]-this.offsets[Se]},r.prototype.encode=function(Se,Ee){for(var Fe=new Uint32Array(this.offsets.length),Be=0,Ve=0,_e=0;_e<Fe.length;++_e)if(Fe[_e]=Be,Ve<Ee.length&&Ee[Ve]==_e){++Ve,Fe[_e]=Be;var ze=this.offsets[_e],xe=this.offsets[_e+1]-ze;xe>0&&(Be+=xe)}for(var Ie=new Array(4*Fe.length),Re=0;Re<Fe.length;++Re)Ie[4*Re+3]=255&Fe[Re],Ie[4*Re+2]=(65280&Fe[Re])>>8,Ie[4*Re+1]=(16711680&Fe[Re])>>16,Ie[4*Re]=(4278190080&Fe[Re])>>24;return Ie},r}(),Le=function(){function Ae(r){this.font=r,this.subset={},this.unicodes={},this.next=33}return Ae.prototype.generateCmap=function(){var r,Se,Ee,Fe,Be;for(Se in Fe=this.font.cmap.tables[0].codeMap,r={},Be=this.subset)Ee=Be[Se],r[Se]=Fe[Ee];return r},Ae.prototype.glyphsFor=function(r){var Se,Ee,Fe,Be,Ve,_e,ze;for(Fe={},Ve=0,_e=r.length;Ve<_e;Ve++)Fe[Be=r[Ve]]=this.font.glyf.glyphFor(Be);for(Be in Se=[],Fe)(Ee=Fe[Be])!=null&&Ee.compound&&Se.push.apply(Se,Ee.glyphIDs);if(Se.length>0)for(Be in ze=this.glyphsFor(Se))Ee=ze[Be],Fe[Be]=Ee;return Fe},Ae.prototype.encode=function(r,Se){var Ee,Fe,Be,Ve,_e,ze,xe,Ie,Re,e,t,Te,Ye,en,je;for(Fe in Ee=ue.encode(this.generateCmap(),"unicode"),Ve=this.glyphsFor(r),t={0:0},je=Ee.charMap)t[(ze=je[Fe]).old]=ze.new;for(Te in e=Ee.maxGlyphID,Ve)Te in t||(t[Te]=e++);return Ie=function(nn){var Ge,Oe;for(Ge in Oe={},nn)Oe[nn[Ge]]=Ge;return Oe}(t),Re=Object.keys(Ie).sort(function(nn,Ge){return nn-Ge}),Ye=function(){var nn,Ge,Oe;for(Oe=[],nn=0,Ge=Re.length;nn<Ge;nn++)_e=Re[nn],Oe.push(Ie[_e]);return Oe}(),Be=this.font.glyf.encode(Ve,Ye,t),xe=this.font.loca.encode(Be.offsets,Ye),en={cmap:this.font.cmap.raw(),glyf:Be.table,loca:xe,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(Se)},this.font.os2.exists&&(en["OS/2"]=this.font.os2.raw()),this.font.directory.encode(en)},Ae}();E.API.PDFObject=function(){var Ae;function r(){}return Ae=function(Se,Ee){return(Array(Ee+1).join("0")+Se).slice(-Ee)},r.convert=function(Se){var Ee,Fe,Be,Ve;if(Array.isArray(Se))return"["+function(){var _e,ze,xe;for(xe=[],_e=0,ze=Se.length;_e<ze;_e++)Ee=Se[_e],xe.push(r.convert(Ee));return xe}().join(" ")+"]";if(typeof Se=="string")return"/"+Se;if(Se?.isString)return"("+Se+")";if(Se instanceof Date)return"(D:"+Ae(Se.getUTCFullYear(),4)+Ae(Se.getUTCMonth(),2)+Ae(Se.getUTCDate(),2)+Ae(Se.getUTCHours(),2)+Ae(Se.getUTCMinutes(),2)+Ae(Se.getUTCSeconds(),2)+"Z)";if({}.toString.call(Se)==="[object Object]"){for(Fe in Be=["<<"],Se)Ve=Se[Fe],Be.push("/"+Fe+" "+r.convert(Ve));return Be.push(">>"),Be.join(`
`)}return""+Se},r}();function autoTableText(Ae,r,Se,Ee,Fe){Ee=Ee||{};var Be=1.15,Ve=Fe.internal.scaleFactor,_e=Fe.internal.getFontSize()/Ve,ze=Fe.getLineHeightFactor?Fe.getLineHeightFactor():Be,xe=_e*ze,Ie=/\r\n|\r|\n/g,Re="",e=1;if((Ee.valign==="middle"||Ee.valign==="bottom"||Ee.halign==="center"||Ee.halign==="right")&&(Re=typeof Ae=="string"?Ae.split(Ie):Ae,e=Re.length||1),Se+=_e*(2-Be),Ee.valign==="middle"?Se-=e/2*xe:Ee.valign==="bottom"&&(Se-=e*xe),Ee.halign==="center"||Ee.halign==="right"){var t=_e;if(Ee.halign==="center"&&(t*=.5),Re&&e>=1){for(var Te=0;Te<Re.length;Te++)Fe.text(Re[Te],r-Fe.getStringUnitWidth(Re[Te])*t,Se),Se+=xe;return Fe}r-=Fe.getStringUnitWidth(Ae)*t}return Ee.halign==="justify"?Fe.text(Ae,r,Se,{maxWidth:Ee.maxWidth||100,align:"justify"}):Fe.text(Ae,r,Se),Fe}var globalDefaults={},DocHandler=function(){function Ae(r){this.jsPDFDocument=r,this.userStyles={textColor:r.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:r.internal.getFontSize(),fontStyle:r.internal.getFont().fontStyle,font:r.internal.getFont().fontName,lineWidth:r.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:r.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return Ae.setDefaults=function(r,Se){Se===void 0&&(Se=null),Se?Se.__autoTableDocumentDefaults=r:globalDefaults=r},Ae.unifyColor=function(r){return Array.isArray(r)?r:typeof r=="number"?[r,r,r]:typeof r=="string"?[r]:null},Ae.prototype.applyStyles=function(r,Se){var Ee,Fe,Be;Se===void 0&&(Se=!1),r.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(r.fontStyle);var Ve=this.jsPDFDocument.internal.getFont(),_e=Ve.fontStyle,ze=Ve.fontName;if(r.font&&(ze=r.font),r.fontStyle){_e=r.fontStyle;var xe=this.getFontList()[ze];xe&&xe.indexOf(_e)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(xe[0]),_e=xe[0])}if(this.jsPDFDocument.setFont(ze,_e),r.fontSize&&this.jsPDFDocument.setFontSize(r.fontSize),!Se){var Ie=Ae.unifyColor(r.fillColor);Ie&&(Ee=this.jsPDFDocument).setFillColor.apply(Ee,Ie),Ie=Ae.unifyColor(r.textColor),Ie&&(Fe=this.jsPDFDocument).setTextColor.apply(Fe,Ie),Ie=Ae.unifyColor(r.lineColor),Ie&&(Be=this.jsPDFDocument).setDrawColor.apply(Be,Ie),typeof r.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(r.lineWidth)}},Ae.prototype.splitTextToSize=function(r,Se,Ee){return this.jsPDFDocument.splitTextToSize(r,Se,Ee)},Ae.prototype.rect=function(r,Se,Ee,Fe,Be){return this.jsPDFDocument.rect(r,Se,Ee,Fe,Be)},Ae.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},Ae.prototype.getTextWidth=function(r){return this.jsPDFDocument.getTextWidth(r)},Ae.prototype.getDocument=function(){return this.jsPDFDocument},Ae.prototype.setPage=function(r){this.jsPDFDocument.setPage(r)},Ae.prototype.addPage=function(){return this.jsPDFDocument.addPage()},Ae.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},Ae.prototype.getGlobalOptions=function(){return globalDefaults||{}},Ae.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},Ae.prototype.pageSize=function(){var r=this.jsPDFDocument.internal.pageSize;return r.width==null&&(r={width:r.getWidth(),height:r.getHeight()}),r},Ae.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},Ae.prototype.getLineHeightFactor=function(){var r=this.jsPDFDocument;return r.getLineHeightFactor?r.getLineHeightFactor():1.15},Ae.prototype.getLineHeight=function(r){return r/this.scaleFactor()*this.getLineHeightFactor()},Ae.prototype.pageNumber=function(){var r=this.jsPDFDocument.internal.getCurrentPageInfo();return r?r.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},Ae}(),extendStatics=function(Ae,r){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Se,Ee){Se.__proto__=Ee}||function(Se,Ee){for(var Fe in Ee)Object.prototype.hasOwnProperty.call(Ee,Fe)&&(Se[Fe]=Ee[Fe])},extendStatics(Ae,r)};function __extends(Ae,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");extendStatics(Ae,r);function Se(){this.constructor=Ae}Ae.prototype=r===null?Object.create(r):(Se.prototype=r.prototype,new Se)}typeof SuppressedError=="function"&&SuppressedError;var HtmlRowInput=function(Ae){__extends(r,Ae);function r(Se){var Ee=Ae.call(this)||this;return Ee._element=Se,Ee}return r}(Array);function defaultStyles(Ae){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/Ae,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function getTheme(Ae){var r={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return r[Ae]}function getStringWidth(Ae,r,Se){Se.applyStyles(r,!0);var Ee=Array.isArray(Ae)?Ae:[Ae],Fe=Ee.map(function(Be){return Se.getTextWidth(Be)}).reduce(function(Be,Ve){return Math.max(Be,Ve)},0);return Fe}function addTableBorder(Ae,r,Se,Ee){var Fe=r.settings.tableLineWidth,Be=r.settings.tableLineColor;Ae.applyStyles({lineWidth:Fe,lineColor:Be});var Ve=getFillStyle(Fe,!1);Ve&&Ae.rect(Se.x,Se.y,r.getWidth(Ae.pageSize().width),Ee.y-Se.y,Ve)}function getFillStyle(Ae,r){var Se=Ae>0,Ee=r||r===0;return Se&&Ee?"DF":Se?"S":Ee?"F":null}function parseSpacing(Ae,r){var Se,Ee,Fe,Be;if(Ae=Ae||r,Array.isArray(Ae)){if(Ae.length>=4)return{top:Ae[0],right:Ae[1],bottom:Ae[2],left:Ae[3]};if(Ae.length===3)return{top:Ae[0],right:Ae[1],bottom:Ae[2],left:Ae[1]};if(Ae.length===2)return{top:Ae[0],right:Ae[1],bottom:Ae[0],left:Ae[1]};Ae.length===1?Ae=Ae[0]:Ae=r}return typeof Ae=="object"?(typeof Ae.vertical=="number"&&(Ae.top=Ae.vertical,Ae.bottom=Ae.vertical),typeof Ae.horizontal=="number"&&(Ae.right=Ae.horizontal,Ae.left=Ae.horizontal),{left:(Se=Ae.left)!==null&&Se!==void 0?Se:r,top:(Ee=Ae.top)!==null&&Ee!==void 0?Ee:r,right:(Fe=Ae.right)!==null&&Fe!==void 0?Fe:r,bottom:(Be=Ae.bottom)!==null&&Be!==void 0?Be:r}):(typeof Ae!="number"&&(Ae=r),{top:Ae,right:Ae,bottom:Ae,left:Ae})}function getPageAvailableWidth(Ae,r){var Se=parseSpacing(r.settings.margin,0);return Ae.pageSize().width-(Se.left+Se.right)}function parseCss(Ae,r,Se,Ee,Fe){var Be={},Ve=1.3333333333333333,_e=parseColor(r,function(Ge){return Fe.getComputedStyle(Ge).backgroundColor});_e!=null&&(Be.fillColor=_e);var ze=parseColor(r,function(Ge){return Fe.getComputedStyle(Ge).color});ze!=null&&(Be.textColor=ze);var xe=parsePadding(Ee,Se);xe&&(Be.cellPadding=xe);var Ie="borderTopColor",Re=Ve*Se,e=Ee.borderTopWidth;if(Ee.borderBottomWidth===e&&Ee.borderRightWidth===e&&Ee.borderLeftWidth===e){var t=(parseFloat(e)||0)/Re;t&&(Be.lineWidth=t)}else Be.lineWidth={top:(parseFloat(Ee.borderTopWidth)||0)/Re,right:(parseFloat(Ee.borderRightWidth)||0)/Re,bottom:(parseFloat(Ee.borderBottomWidth)||0)/Re,left:(parseFloat(Ee.borderLeftWidth)||0)/Re},Be.lineWidth.top||(Be.lineWidth.right?Ie="borderRightColor":Be.lineWidth.bottom?Ie="borderBottomColor":Be.lineWidth.left&&(Ie="borderLeftColor"));var Te=parseColor(r,function(Ge){return Fe.getComputedStyle(Ge)[Ie]});Te!=null&&(Be.lineColor=Te);var Ye=["left","right","center","justify"];Ye.indexOf(Ee.textAlign)!==-1&&(Be.halign=Ee.textAlign),Ye=["middle","bottom","top"],Ye.indexOf(Ee.verticalAlign)!==-1&&(Be.valign=Ee.verticalAlign);var en=parseInt(Ee.fontSize||"");isNaN(en)||(Be.fontSize=en/Ve);var je=parseFontStyle(Ee);je&&(Be.fontStyle=je);var nn=(Ee.fontFamily||"").toLowerCase();return Ae.indexOf(nn)!==-1&&(Be.font=nn),Be}function parseFontStyle(Ae){var r="";return(Ae.fontWeight==="bold"||Ae.fontWeight==="bolder"||parseInt(Ae.fontWeight)>=700)&&(r="bold"),(Ae.fontStyle==="italic"||Ae.fontStyle==="oblique")&&(r+="italic"),r}function parseColor(Ae,r){var Se=realColor(Ae,r);if(!Se)return null;var Ee=Se.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!Ee||!Array.isArray(Ee))return null;var Fe=[parseInt(Ee[1]),parseInt(Ee[2]),parseInt(Ee[3])],Be=parseInt(Ee[4]);return Be===0||isNaN(Fe[0])||isNaN(Fe[1])||isNaN(Fe[2])?null:Fe}function realColor(Ae,r){var Se=r(Ae);return Se==="rgba(0, 0, 0, 0)"||Se==="transparent"||Se==="initial"||Se==="inherit"?Ae.parentElement==null?null:realColor(Ae.parentElement,r):Se}function parsePadding(Ae,r){var Se=[Ae.paddingTop,Ae.paddingRight,Ae.paddingBottom,Ae.paddingLeft],Ee=96/(72/r),Fe=(parseInt(Ae.lineHeight)-parseInt(Ae.fontSize))/r/2,Be=Se.map(function(_e){return parseInt(_e||"0")/Ee}),Ve=parseSpacing(Be,0);return Fe>Ve.top&&(Ve.top=Fe),Fe>Ve.bottom&&(Ve.bottom=Fe),Ve}function parseHtml(Ae,r,Se,Ee,Fe){var Be,Ve;Ee===void 0&&(Ee=!1),Fe===void 0&&(Fe=!1);var _e;typeof r=="string"?_e=Se.document.querySelector(r):_e=r;var ze=Object.keys(Ae.getFontList()),xe=Ae.scaleFactor(),Ie=[],Re=[],e=[];if(!_e)return console.error("Html table could not be found with input: ",r),{head:Ie,body:Re,foot:e};for(var t=0;t<_e.rows.length;t++){var Te=_e.rows[t],Ye=(Ve=(Be=Te?.parentElement)===null||Be===void 0?void 0:Be.tagName)===null||Ve===void 0?void 0:Ve.toLowerCase(),en=parseRowContent(ze,xe,Se,Te,Ee,Fe);en&&(Ye==="thead"?Ie.push(en):Ye==="tfoot"?e.push(en):Re.push(en))}return{head:Ie,body:Re,foot:e}}function parseRowContent(Ae,r,Se,Ee,Fe,Be){for(var Ve=new HtmlRowInput(Ee),_e=0;_e<Ee.cells.length;_e++){var ze=Ee.cells[_e],xe=Se.getComputedStyle(ze);if(Fe||xe.display!=="none"){var Ie=void 0;Be&&(Ie=parseCss(Ae,ze,r,xe,Se)),Ve.push({rowSpan:ze.rowSpan,colSpan:ze.colSpan,styles:Ie,_element:ze,content:parseCellContent(ze)})}}var Re=Se.getComputedStyle(Ee);if(Ve.length>0&&(Fe||Re.display!=="none"))return Ve}function parseCellContent(Ae){var r=Ae.cloneNode(!0);return r.innerHTML=r.innerHTML.replace(/\n/g,"").replace(/ +/g," "),r.innerHTML=r.innerHTML.split(/<br.*?>/).map(function(Se){return Se.trim()}).join(`
`),r.innerText||r.textContent||""}function validateInput(Ae,r,Se){for(var Ee=0,Fe=[Ae,r,Se];Ee<Fe.length;Ee++){var Be=Fe[Ee];Be&&typeof Be!="object"&&console.error("The options parameter should be of type object, is: "+typeof Be),Be.startY&&typeof Be.startY!="number"&&(console.error("Invalid value for startY option",Be.startY),delete Be.startY)}}function assign(Ae,r,Se,Ee,Fe){if(Ae==null)throw new TypeError("Cannot convert undefined or null to object");for(var Be=Object(Ae),Ve=1;Ve<arguments.length;Ve++){var _e=arguments[Ve];if(_e!=null)for(var ze in _e)Object.prototype.hasOwnProperty.call(_e,ze)&&(Be[ze]=_e[ze])}return Be}function parseInput(Ae,r){var Se=new DocHandler(Ae),Ee=Se.getDocumentOptions(),Fe=Se.getGlobalOptions();validateInput(Fe,Ee,r);var Be=assign({},Fe,Ee,r),Ve;typeof window<"u"&&(Ve=window);var _e=parseStyles(Fe,Ee,r),ze=parseHooks(Fe,Ee,r),xe=parseSettings(Se,Be),Ie=parseContent$1(Se,Be,Ve);return{id:r.tableId,content:Ie,hooks:ze,styles:_e,settings:xe}}function parseStyles(Ae,r,Se){for(var Ee={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},Fe=function(ze){if(ze==="columnStyles"){var xe=Ae[ze],Ie=r[ze],Re=Se[ze];Ee.columnStyles=assign({},xe,Ie,Re)}else{var e=[Ae,r,Se],t=e.map(function(Te){return Te[ze]||{}});Ee[ze]=assign({},t[0],t[1],t[2])}},Be=0,Ve=Object.keys(Ee);Be<Ve.length;Be++){var _e=Ve[Be];Fe(_e)}return Ee}function parseHooks(Ae,r,Se){for(var Ee=[Ae,r,Se],Fe={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},Be=0,Ve=Ee;Be<Ve.length;Be++){var _e=Ve[Be];_e.didParseCell&&Fe.didParseCell.push(_e.didParseCell),_e.willDrawCell&&Fe.willDrawCell.push(_e.willDrawCell),_e.didDrawCell&&Fe.didDrawCell.push(_e.didDrawCell),_e.willDrawPage&&Fe.willDrawPage.push(_e.willDrawPage),_e.didDrawPage&&Fe.didDrawPage.push(_e.didDrawPage)}return Fe}function parseSettings(Ae,r){var Se,Ee,Fe,Be,Ve,_e,ze,xe,Ie,Re,e,t,Te=parseSpacing(r.margin,40/Ae.scaleFactor()),Ye=(Se=getStartY(Ae,r.startY))!==null&&Se!==void 0?Se:Te.top,en;r.showFoot===!0?en="everyPage":r.showFoot===!1?en="never":en=(Ee=r.showFoot)!==null&&Ee!==void 0?Ee:"everyPage";var je;r.showHead===!0?je="everyPage":r.showHead===!1?je="never":je=(Fe=r.showHead)!==null&&Fe!==void 0?Fe:"everyPage";var nn=(Be=r.useCss)!==null&&Be!==void 0?Be:!1,Ge=r.theme||(nn?"plain":"striped"),Oe=!!r.horizontalPageBreak,Ce=(Ve=r.horizontalPageBreakRepeat)!==null&&Ve!==void 0?Ve:null;return{includeHiddenHtml:(_e=r.includeHiddenHtml)!==null&&_e!==void 0?_e:!1,useCss:nn,theme:Ge,startY:Ye,margin:Te,pageBreak:(ze=r.pageBreak)!==null&&ze!==void 0?ze:"auto",rowPageBreak:(xe=r.rowPageBreak)!==null&&xe!==void 0?xe:"auto",tableWidth:(Ie=r.tableWidth)!==null&&Ie!==void 0?Ie:"auto",showHead:je,showFoot:en,tableLineWidth:(Re=r.tableLineWidth)!==null&&Re!==void 0?Re:0,tableLineColor:(e=r.tableLineColor)!==null&&e!==void 0?e:200,horizontalPageBreak:Oe,horizontalPageBreakRepeat:Ce,horizontalPageBreakBehaviour:(t=r.horizontalPageBreakBehaviour)!==null&&t!==void 0?t:"afterAllRows"}}function getStartY(Ae,r){var Se=Ae.getLastAutoTable(),Ee=Ae.scaleFactor(),Fe=Ae.pageNumber(),Be=!1;if(Se&&Se.startPageNumber){var Ve=Se.startPageNumber+Se.pageNumber-1;Be=Ve===Fe}return typeof r=="number"?r:(r==null||r===!1)&&Be&&Se?.finalY!=null?Se.finalY+20/Ee:null}function parseContent$1(Ae,r,Se){var Ee=r.head||[],Fe=r.body||[],Be=r.foot||[];if(r.html){var Ve=r.includeHiddenHtml;if(Se){var _e=parseHtml(Ae,r.html,Se,Ve,r.useCss)||{};Ee=_e.head||Ee,Fe=_e.body||Ee,Be=_e.foot||Ee}else console.error("Cannot parse html in non browser environment")}var ze=r.columns||parseColumns(Ee,Fe,Be);return{columns:ze,head:Ee,body:Fe,foot:Be}}function parseColumns(Ae,r,Se){var Ee=Ae[0]||r[0]||Se[0]||[],Fe=[];return Object.keys(Ee).filter(function(Be){return Be!=="_element"}).forEach(function(Be){var Ve=1,_e;Array.isArray(Ee)?_e=Ee[parseInt(Be)]:_e=Ee[Be],typeof _e=="object"&&!Array.isArray(_e)&&(Ve=_e?.colSpan||1);for(var ze=0;ze<Ve;ze++){var xe=void 0;Array.isArray(Ee)?xe=Fe.length:xe=Be+(ze>0?"_".concat(ze):"");var Ie={dataKey:xe};Fe.push(Ie)}}),Fe}var HookData=function(){function Ae(r,Se,Ee){this.table=Se,this.pageNumber=Se.pageNumber,this.settings=Se.settings,this.cursor=Ee,this.doc=r.getDocument()}return Ae}(),CellHookData=function(Ae){__extends(r,Ae);function r(Se,Ee,Fe,Be,Ve,_e){var ze=Ae.call(this,Se,Ee,_e)||this;return ze.cell=Fe,ze.row=Be,ze.column=Ve,ze.section=Be.section,ze}return r}(HookData),Table=function(){function Ae(r,Se){this.pageNumber=1,this.id=r.id,this.settings=r.settings,this.styles=r.styles,this.hooks=r.hooks,this.columns=Se.columns,this.head=Se.head,this.body=Se.body,this.foot=Se.foot}return Ae.prototype.getHeadHeight=function(r){return this.head.reduce(function(Se,Ee){return Se+Ee.getMaxCellHeight(r)},0)},Ae.prototype.getFootHeight=function(r){return this.foot.reduce(function(Se,Ee){return Se+Ee.getMaxCellHeight(r)},0)},Ae.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},Ae.prototype.callCellHooks=function(r,Se,Ee,Fe,Be,Ve){for(var _e=0,ze=Se;_e<ze.length;_e++){var xe=ze[_e],Ie=new CellHookData(r,this,Ee,Fe,Be,Ve),Re=xe(Ie)===!1;if(Ee.text=Array.isArray(Ee.text)?Ee.text:[Ee.text],Re)return!1}return!0},Ae.prototype.callEndPageHooks=function(r,Se){r.applyStyles(r.userStyles);for(var Ee=0,Fe=this.hooks.didDrawPage;Ee<Fe.length;Ee++){var Be=Fe[Ee];Be(new HookData(r,this,Se))}},Ae.prototype.callWillDrawPageHooks=function(r,Se){for(var Ee=0,Fe=this.hooks.willDrawPage;Ee<Fe.length;Ee++){var Be=Fe[Ee];Be(new HookData(r,this,Se))}},Ae.prototype.getWidth=function(r){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var Se=this.columns.reduce(function(Fe,Be){return Fe+Be.wrappedWidth},0);return Se}else{var Ee=this.settings.margin;return r-Ee.left-Ee.right}},Ae}(),Row=function(){function Ae(r,Se,Ee,Fe,Be){Be===void 0&&(Be=!1),this.height=0,this.raw=r,r instanceof HtmlRowInput&&(this.raw=r._element,this.element=r._element),this.index=Se,this.section=Ee,this.cells=Fe,this.spansMultiplePages=Be}return Ae.prototype.getMaxCellHeight=function(r){var Se=this;return r.reduce(function(Ee,Fe){var Be;return Math.max(Ee,((Be=Se.cells[Fe.index])===null||Be===void 0?void 0:Be.height)||0)},0)},Ae.prototype.hasRowSpan=function(r){var Se=this;return r.filter(function(Ee){var Fe=Se.cells[Ee.index];return Fe?Fe.rowSpan>1:!1}).length>0},Ae.prototype.canEntireRowFit=function(r,Se){return this.getMaxCellHeight(Se)<=r},Ae.prototype.getMinimumRowHeight=function(r,Se){var Ee=this;return r.reduce(function(Fe,Be){var Ve=Ee.cells[Be.index];if(!Ve)return 0;var _e=Se.getLineHeight(Ve.styles.fontSize),ze=Ve.padding("vertical"),xe=ze+_e;return xe>Fe?xe:Fe},0)},Ae}(),Cell=function(){function Ae(r,Se,Ee){var Fe;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=Se,this.section=Ee,this.raw=r;var Be=r;r!=null&&typeof r=="object"&&!Array.isArray(r)?(this.rowSpan=r.rowSpan||1,this.colSpan=r.colSpan||1,Be=(Fe=r.content)!==null&&Fe!==void 0?Fe:r,r._element&&(this.raw=r._element)):(this.rowSpan=1,this.colSpan=1);var Ve=Be!=null?""+Be:"",_e=/\r\n|\r|\n/g;this.text=Ve.split(_e)}return Ae.prototype.getTextPos=function(){var r;if(this.styles.valign==="top")r=this.y+this.padding("top");else if(this.styles.valign==="bottom")r=this.y+this.height-this.padding("bottom");else{var Se=this.height-this.padding("vertical");r=this.y+Se/2+this.padding("top")}var Ee;if(this.styles.halign==="right")Ee=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var Fe=this.width-this.padding("horizontal");Ee=this.x+Fe/2+this.padding("left")}else Ee=this.x+this.padding("left");return{x:Ee,y:r}},Ae.prototype.getContentHeight=function(r,Se){Se===void 0&&(Se=1.15);var Ee=Array.isArray(this.text)?this.text.length:1,Fe=this.styles.fontSize/r*Se,Be=Ee*Fe+this.padding("vertical");return Math.max(Be,this.styles.minCellHeight)},Ae.prototype.padding=function(r){var Se=parseSpacing(this.styles.cellPadding,0);return r==="vertical"?Se.top+Se.bottom:r==="horizontal"?Se.left+Se.right:Se[r]},Ae}(),Column=function(){function Ae(r,Se,Ee){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=r,this.raw=Se,this.index=Ee}return Ae.prototype.getMaxCustomCellWidth=function(r){for(var Se=0,Ee=0,Fe=r.allRows();Ee<Fe.length;Ee++){var Be=Fe[Ee],Ve=Be.cells[this.index];Ve&&typeof Ve.styles.cellWidth=="number"&&(Se=Math.max(Se,Ve.styles.cellWidth))}return Se},Ae}();function calculateWidths(Ae,r){calculate(Ae,r);var Se=[],Ee=0;r.columns.forEach(function(Be){var Ve=Be.getMaxCustomCellWidth(r);Ve?Be.width=Ve:(Be.width=Be.wrappedWidth,Se.push(Be)),Ee+=Be.width});var Fe=r.getWidth(Ae.pageSize().width)-Ee;Fe&&(Fe=resizeColumns(Se,Fe,function(Be){return Math.max(Be.minReadableWidth,Be.minWidth)})),Fe&&(Fe=resizeColumns(Se,Fe,function(Be){return Be.minWidth})),Fe=Math.abs(Fe),!r.settings.horizontalPageBreak&&Fe>.1/Ae.scaleFactor()&&(Fe=Fe<1?Fe:Math.round(Fe),console.warn("Of the table content, ".concat(Fe," units width could not fit page"))),applyColSpans(r),fitContent(r,Ae),applyRowSpans(r)}function calculate(Ae,r){var Se=Ae.scaleFactor(),Ee=r.settings.horizontalPageBreak,Fe=getPageAvailableWidth(Ae,r);r.allRows().forEach(function(Be){for(var Ve=0,_e=r.columns;Ve<_e.length;Ve++){var ze=_e[Ve],xe=Be.cells[ze.index];if(xe){var Ie=r.hooks.didParseCell;r.callCellHooks(Ae,Ie,xe,Be,ze,null);var Re=xe.padding("horizontal");xe.contentWidth=getStringWidth(xe.text,xe.styles,Ae)+Re;var e=getStringWidth(xe.text.join(" ").split(/[^\S\u00A0]+/),xe.styles,Ae);if(xe.minReadableWidth=e+xe.padding("horizontal"),typeof xe.styles.cellWidth=="number")xe.minWidth=xe.styles.cellWidth,xe.wrappedWidth=xe.styles.cellWidth;else if(xe.styles.cellWidth==="wrap"||Ee===!0)xe.contentWidth>Fe?(xe.minWidth=Fe,xe.wrappedWidth=Fe):(xe.minWidth=xe.contentWidth,xe.wrappedWidth=xe.contentWidth);else{var t=10/Se;xe.minWidth=xe.styles.minCellWidth||t,xe.wrappedWidth=xe.contentWidth,xe.minWidth>xe.wrappedWidth&&(xe.wrappedWidth=xe.minWidth)}}}}),r.allRows().forEach(function(Be){for(var Ve=0,_e=r.columns;Ve<_e.length;Ve++){var ze=_e[Ve],xe=Be.cells[ze.index];if(xe&&xe.colSpan===1)ze.wrappedWidth=Math.max(ze.wrappedWidth,xe.wrappedWidth),ze.minWidth=Math.max(ze.minWidth,xe.minWidth),ze.minReadableWidth=Math.max(ze.minReadableWidth,xe.minReadableWidth);else{var Ie=r.styles.columnStyles[ze.dataKey]||r.styles.columnStyles[ze.index]||{},Re=Ie.cellWidth||Ie.minCellWidth;Re&&typeof Re=="number"&&(ze.minWidth=Re,ze.wrappedWidth=Re)}xe&&(xe.colSpan>1&&!ze.minWidth&&(ze.minWidth=xe.minWidth),xe.colSpan>1&&!ze.wrappedWidth&&(ze.wrappedWidth=xe.minWidth))}})}function resizeColumns(Ae,r,Se){for(var Ee=r,Fe=Ae.reduce(function(t,Te){return t+Te.wrappedWidth},0),Be=0;Be<Ae.length;Be++){var Ve=Ae[Be],_e=Ve.wrappedWidth/Fe,ze=Ee*_e,xe=Ve.width+ze,Ie=Se(Ve),Re=xe<Ie?Ie:xe;r-=Re-Ve.width,Ve.width=Re}if(r=Math.round(r*1e10)/1e10,r){var e=Ae.filter(function(t){return r<0?t.width>Se(t):!0});e.length&&(r=resizeColumns(e,r,Se))}return r}function applyRowSpans(Ae){for(var r={},Se=1,Ee=Ae.allRows(),Fe=0;Fe<Ee.length;Fe++)for(var Be=Ee[Fe],Ve=0,_e=Ae.columns;Ve<_e.length;Ve++){var ze=_e[Ve],xe=r[ze.index];if(Se>1)Se--,delete Be.cells[ze.index];else if(xe)xe.cell.height+=Be.height,Se=xe.cell.colSpan,delete Be.cells[ze.index],xe.left--,xe.left<=1&&delete r[ze.index];else{var Ie=Be.cells[ze.index];if(!Ie)continue;if(Ie.height=Be.height,Ie.rowSpan>1){var Re=Ee.length-Fe,e=Ie.rowSpan>Re?Re:Ie.rowSpan;r[ze.index]={cell:Ie,left:e,row:Be}}}}}function applyColSpans(Ae){for(var r=Ae.allRows(),Se=0;Se<r.length;Se++)for(var Ee=r[Se],Fe=null,Be=0,Ve=0,_e=0;_e<Ae.columns.length;_e++){var ze=Ae.columns[_e];if(Ve-=1,Ve>1&&Ae.columns[_e+1])Be+=ze.width,delete Ee.cells[ze.index];else if(Fe){var xe=Fe;delete Ee.cells[ze.index],Fe=null,xe.width=ze.width+Be}else{var xe=Ee.cells[ze.index];if(!xe)continue;if(Ve=xe.colSpan,Be=0,xe.colSpan>1){Fe=xe,Be+=ze.width;continue}xe.width=ze.width+Be}}}function fitContent(Ae,r){for(var Se={count:0,height:0},Ee=0,Fe=Ae.allRows();Ee<Fe.length;Ee++){for(var Be=Fe[Ee],Ve=0,_e=Ae.columns;Ve<_e.length;Ve++){var ze=_e[Ve],xe=Be.cells[ze.index];if(xe){r.applyStyles(xe.styles,!0);var Ie=xe.width-xe.padding("horizontal");if(xe.styles.overflow==="linebreak")xe.text=r.splitTextToSize(xe.text,Ie+1/r.scaleFactor(),{fontSize:xe.styles.fontSize});else if(xe.styles.overflow==="ellipsize")xe.text=ellipsize(xe.text,Ie,xe.styles,r,"...");else if(xe.styles.overflow==="hidden")xe.text=ellipsize(xe.text,Ie,xe.styles,r,"");else if(typeof xe.styles.overflow=="function"){var Re=xe.styles.overflow(xe.text,Ie);typeof Re=="string"?xe.text=[Re]:xe.text=Re}xe.contentHeight=xe.getContentHeight(r.scaleFactor(),r.getLineHeightFactor());var e=xe.contentHeight/xe.rowSpan;xe.rowSpan>1&&Se.count*Se.height<e*xe.rowSpan?Se={height:e,count:xe.rowSpan}:Se&&Se.count>0&&Se.height>e&&(e=Se.height),e>Be.height&&(Be.height=e)}}Se.count--}}function ellipsize(Ae,r,Se,Ee,Fe){return Ae.map(function(Be){return ellipsizeStr(Be,r,Se,Ee,Fe)})}function ellipsizeStr(Ae,r,Se,Ee,Fe){var Be=1e4*Ee.scaleFactor();if(r=Math.ceil(r*Be)/Be,r>=getStringWidth(Ae,Se,Ee))return Ae;for(;r<getStringWidth(Ae+Fe,Se,Ee)&&!(Ae.length<=1);)Ae=Ae.substring(0,Ae.length-1);return Ae.trim()+Fe}function createTable(Ae,r){var Se=new DocHandler(Ae),Ee=parseContent(r,Se.scaleFactor()),Fe=new Table(r,Ee);return calculateWidths(Se,Fe),Se.applyStyles(Se.userStyles),Fe}function parseContent(Ae,r){var Se=Ae.content,Ee=createColumns(Se.columns);if(Se.head.length===0){var Fe=generateSectionRow(Ee,"head");Fe&&Se.head.push(Fe)}if(Se.foot.length===0){var Fe=generateSectionRow(Ee,"foot");Fe&&Se.foot.push(Fe)}var Be=Ae.settings.theme,Ve=Ae.styles;return{columns:Ee,head:parseSection("head",Se.head,Ee,Ve,Be,r),body:parseSection("body",Se.body,Ee,Ve,Be,r),foot:parseSection("foot",Se.foot,Ee,Ve,Be,r)}}function parseSection(Ae,r,Se,Ee,Fe,Be){var Ve={},_e=r.map(function(ze,xe){for(var Ie=0,Re={},e=0,t=0,Te=0,Ye=Se;Te<Ye.length;Te++){var en=Ye[Te];if(Ve[en.index]==null||Ve[en.index].left===0)if(t===0){var je=void 0;Array.isArray(ze)?je=ze[en.index-e-Ie]:je=ze[en.dataKey];var nn={};typeof je=="object"&&!Array.isArray(je)&&(nn=je?.styles||{});var Ge=cellStyles(Ae,en,xe,Fe,Ee,Be,nn),Oe=new Cell(je,Ge,Ae);Re[en.dataKey]=Oe,Re[en.index]=Oe,t=Oe.colSpan-1,Ve[en.index]={left:Oe.rowSpan-1,times:t}}else t--,e++;else Ve[en.index].left--,t=Ve[en.index].times,Ie++}return new Row(ze,xe,Ae,Re)});return _e}function generateSectionRow(Ae,r){var Se={};return Ae.forEach(function(Ee){if(Ee.raw!=null){var Fe=getSectionTitle(r,Ee.raw);Fe!=null&&(Se[Ee.dataKey]=Fe)}}),Object.keys(Se).length>0?Se:null}function getSectionTitle(Ae,r){if(Ae==="head"){if(typeof r=="object")return r.header||null;if(typeof r=="string"||typeof r=="number")return r}else if(Ae==="foot"&&typeof r=="object")return r.footer;return null}function createColumns(Ae){return Ae.map(function(r,Se){var Ee,Fe;return typeof r=="object"?Fe=(Ee=r.dataKey)!==null&&Ee!==void 0?Ee:Se:Fe=Se,new Column(Fe,r,Se)})}function cellStyles(Ae,r,Se,Ee,Fe,Be,Ve){var _e=getTheme(Ee),ze;Ae==="head"?ze=Fe.headStyles:Ae==="body"?ze=Fe.bodyStyles:Ae==="foot"&&(ze=Fe.footStyles);var xe=assign({},_e.table,_e[Ae],Fe.styles,ze),Ie=Fe.columnStyles[r.dataKey]||Fe.columnStyles[r.index]||{},Re=Ae==="body"?Ie:{},e=Ae==="body"&&Se%2===0?assign({},_e.alternateRow,Fe.alternateRowStyles):{},t=defaultStyles(Be),Te=assign({},t,xe,e,Re);return assign(Te,Ve)}function getColumnsCanFitInPage(Ae,r,Se){var Ee;Se===void 0&&(Se={});var Fe=getPageAvailableWidth(Ae,r),Be=new Map,Ve=[],_e=[],ze=[];Array.isArray(r.settings.horizontalPageBreakRepeat)?ze=r.settings.horizontalPageBreakRepeat:(typeof r.settings.horizontalPageBreakRepeat=="string"||typeof r.settings.horizontalPageBreakRepeat=="number")&&(ze=[r.settings.horizontalPageBreakRepeat]),ze.forEach(function(e){var t=r.columns.find(function(Te){return Te.dataKey===e||Te.index===e});t&&!Be.has(t.index)&&(Be.set(t.index,!0),Ve.push(t.index),_e.push(r.columns[t.index]),Fe-=t.wrappedWidth)});for(var xe=!0,Ie=(Ee=Se?.start)!==null&&Ee!==void 0?Ee:0;Ie<r.columns.length;){if(Be.has(Ie)){Ie++;continue}var Re=r.columns[Ie].wrappedWidth;if(xe||Fe>=Re)xe=!1,Ve.push(Ie),_e.push(r.columns[Ie]),Fe-=Re;else break;Ie++}return{colIndexes:Ve,columns:_e,lastIndex:Ie-1}}function calculateAllColumnsCanFitInPage(Ae,r){for(var Se=[],Ee=0;Ee<r.columns.length;Ee++){var Fe=getColumnsCanFitInPage(Ae,r,{start:Ee});Fe.columns.length&&(Se.push(Fe),Ee=Fe.lastIndex)}return Se}function drawTable(Ae,r){var Se=r.settings,Ee=Se.startY,Fe=Se.margin,Be={x:Fe.left,y:Ee},Ve=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns),_e=Ee+Fe.bottom+Ve;if(Se.pageBreak==="avoid"){var ze=r.body,xe=ze.reduce(function(e,t){return e+t.height},0);_e+=xe}var Ie=new DocHandler(Ae);(Se.pageBreak==="always"||Se.startY!=null&&_e>Ie.pageSize().height)&&(nextPage(Ie),Be.y=Fe.top),r.callWillDrawPageHooks(Ie,Be);var Re=assign({},Be);r.startPageNumber=Ie.pageNumber(),Se.horizontalPageBreak?printTableWithHorizontalPageBreak(Ie,r,Re,Be):(Ie.applyStyles(Ie.userStyles),(Se.showHead==="firstPage"||Se.showHead==="everyPage")&&r.head.forEach(function(e){return printRow(Ie,r,e,Be,r.columns)}),Ie.applyStyles(Ie.userStyles),r.body.forEach(function(e,t){var Te=t===r.body.length-1;printFullRow(Ie,r,e,Te,Re,Be,r.columns)}),Ie.applyStyles(Ie.userStyles),(Se.showFoot==="lastPage"||Se.showFoot==="everyPage")&&r.foot.forEach(function(e){return printRow(Ie,r,e,Be,r.columns)})),addTableBorder(Ie,r,Re,Be),r.callEndPageHooks(Ie,Be),r.finalY=Be.y,Ae.lastAutoTable=r,Ie.applyStyles(Ie.userStyles)}function printTableWithHorizontalPageBreak(Ae,r,Se,Ee){var Fe=calculateAllColumnsCanFitInPage(Ae,r),Be=r.settings;if(Be.horizontalPageBreakBehaviour==="afterAllRows")Fe.forEach(function(xe,Ie){Ae.applyStyles(Ae.userStyles),Ie>0?addPage(Ae,r,Se,Ee,xe.columns,!0):printHead(Ae,r,Ee,xe.columns),printBody(Ae,r,Se,Ee,xe.columns),printFoot(Ae,r,Ee,xe.columns)});else for(var Ve=-1,_e=Fe[0],ze=function(){var xe=Ve;if(_e){Ae.applyStyles(Ae.userStyles);var Ie=_e.columns;Ve>=0?addPage(Ae,r,Se,Ee,Ie,!0):printHead(Ae,r,Ee,Ie),xe=printBodyWithoutPageBreaks(Ae,r,Ve+1,Ee,Ie),printFoot(Ae,r,Ee,Ie)}var Re=xe-Ve;Fe.slice(1).forEach(function(e){Ae.applyStyles(Ae.userStyles),addPage(Ae,r,Se,Ee,e.columns,!0),printBodyWithoutPageBreaks(Ae,r,Ve+1,Ee,e.columns,Re),printFoot(Ae,r,Ee,e.columns)}),Ve=xe};Ve<r.body.length-1;)ze()}function printHead(Ae,r,Se,Ee){var Fe=r.settings;Ae.applyStyles(Ae.userStyles),(Fe.showHead==="firstPage"||Fe.showHead==="everyPage")&&r.head.forEach(function(Be){return printRow(Ae,r,Be,Se,Ee)})}function printBody(Ae,r,Se,Ee,Fe){Ae.applyStyles(Ae.userStyles),r.body.forEach(function(Be,Ve){var _e=Ve===r.body.length-1;printFullRow(Ae,r,Be,_e,Se,Ee,Fe)})}function printBodyWithoutPageBreaks(Ae,r,Se,Ee,Fe,Be){Ae.applyStyles(Ae.userStyles),Be=Be??r.body.length;var Ve=Math.min(Se+Be,r.body.length),_e=-1;return r.body.slice(Se,Ve).forEach(function(ze,xe){var Ie=Se+xe===r.body.length-1,Re=getRemainingPageSpace(Ae,r,Ie,Ee);ze.canEntireRowFit(Re,Fe)&&(printRow(Ae,r,ze,Ee,Fe),_e=Se+xe)}),_e}function printFoot(Ae,r,Se,Ee){var Fe=r.settings;Ae.applyStyles(Ae.userStyles),(Fe.showFoot==="lastPage"||Fe.showFoot==="everyPage")&&r.foot.forEach(function(Be){return printRow(Ae,r,Be,Se,Ee)})}function getRemainingLineCount(Ae,r,Se){var Ee=Se.getLineHeight(Ae.styles.fontSize),Fe=Ae.padding("vertical"),Be=Math.floor((r-Fe)/Ee);return Math.max(0,Be)}function modifyRowToFit(Ae,r,Se,Ee){var Fe={};Ae.spansMultiplePages=!0,Ae.height=0;for(var Be=0,Ve=0,_e=Se.columns;Ve<_e.length;Ve++){var ze=_e[Ve],xe=Ae.cells[ze.index];if(xe){Array.isArray(xe.text)||(xe.text=[xe.text]);var Ie=new Cell(xe.raw,xe.styles,xe.section);Ie=assign(Ie,xe),Ie.text=[];var Re=getRemainingLineCount(xe,r,Ee);xe.text.length>Re&&(Ie.text=xe.text.splice(Re,xe.text.length));var e=Ee.scaleFactor(),t=Ee.getLineHeightFactor();xe.contentHeight=xe.getContentHeight(e,t),xe.contentHeight>=r&&(xe.contentHeight=r,Ie.styles.minCellHeight-=r),xe.contentHeight>Ae.height&&(Ae.height=xe.contentHeight),Ie.contentHeight=Ie.getContentHeight(e,t),Ie.contentHeight>Be&&(Be=Ie.contentHeight),Fe[ze.index]=Ie}}var Te=new Row(Ae.raw,-1,Ae.section,Fe,!0);Te.height=Be;for(var Ye=0,en=Se.columns;Ye<en.length;Ye++){var ze=en[Ye],Ie=Te.cells[ze.index];Ie&&(Ie.height=Te.height);var xe=Ae.cells[ze.index];xe&&(xe.height=Ae.height)}return Te}function shouldPrintOnCurrentPage(Ae,r,Se,Ee){var Fe=Ae.pageSize().height,Be=Ee.settings.margin,Ve=Be.top+Be.bottom,_e=Fe-Ve;r.section==="body"&&(_e-=Ee.getHeadHeight(Ee.columns)+Ee.getFootHeight(Ee.columns));var ze=r.getMinimumRowHeight(Ee.columns,Ae),xe=ze<Se;if(ze>_e)return console.error("Will not be able to print row ".concat(r.index," correctly since it's minimum height is larger than page height")),!0;if(!xe)return!1;var Ie=r.hasRowSpan(Ee.columns),Re=r.getMaxCellHeight(Ee.columns)>_e;return Re?(Ie&&console.error("The content of row ".concat(r.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(Ie||Ee.settings.rowPageBreak==="avoid")}function printFullRow(Ae,r,Se,Ee,Fe,Be,Ve){var _e=getRemainingPageSpace(Ae,r,Ee,Be);if(Se.canEntireRowFit(_e,Ve))printRow(Ae,r,Se,Be,Ve);else if(shouldPrintOnCurrentPage(Ae,Se,_e,r)){var ze=modifyRowToFit(Se,_e,r,Ae);printRow(Ae,r,Se,Be,Ve),addPage(Ae,r,Fe,Be,Ve),printFullRow(Ae,r,ze,Ee,Fe,Be,Ve)}else addPage(Ae,r,Fe,Be,Ve),printFullRow(Ae,r,Se,Ee,Fe,Be,Ve)}function printRow(Ae,r,Se,Ee,Fe){Ee.x=r.settings.margin.left;for(var Be=0,Ve=Fe;Be<Ve.length;Be++){var _e=Ve[Be],ze=Se.cells[_e.index];if(!ze){Ee.x+=_e.width;continue}Ae.applyStyles(ze.styles),ze.x=Ee.x,ze.y=Ee.y;var xe=r.callCellHooks(Ae,r.hooks.willDrawCell,ze,Se,_e,Ee);if(xe===!1){Ee.x+=_e.width;continue}drawCellRect(Ae,ze,Ee);var Ie=ze.getTextPos();autoTableText(ze.text,Ie.x,Ie.y,{halign:ze.styles.halign,valign:ze.styles.valign,maxWidth:Math.ceil(ze.width-ze.padding("left")-ze.padding("right"))},Ae.getDocument()),r.callCellHooks(Ae,r.hooks.didDrawCell,ze,Se,_e,Ee),Ee.x+=_e.width}Ee.y+=Se.height}function drawCellRect(Ae,r,Se){var Ee=r.styles;if(Ae.getDocument().setFillColor(Ae.getDocument().getFillColor()),typeof Ee.lineWidth=="number"){var Fe=getFillStyle(Ee.lineWidth,Ee.fillColor);Fe&&Ae.rect(r.x,Se.y,r.width,r.height,Fe)}else typeof Ee.lineWidth=="object"&&(Ee.fillColor&&Ae.rect(r.x,Se.y,r.width,r.height,"F"),drawCellBorders(Ae,r,Se,Ee.lineWidth))}function drawCellBorders(Ae,r,Se,Ee){var Fe,Be,Ve,_e;Ee.top&&(Fe=Se.x,Be=Se.y,Ve=Se.x+r.width,_e=Se.y,Ee.right&&(Ve+=.5*Ee.right),Ee.left&&(Fe-=.5*Ee.left),ze(Ee.top,Fe,Be,Ve,_e)),Ee.bottom&&(Fe=Se.x,Be=Se.y+r.height,Ve=Se.x+r.width,_e=Se.y+r.height,Ee.right&&(Ve+=.5*Ee.right),Ee.left&&(Fe-=.5*Ee.left),ze(Ee.bottom,Fe,Be,Ve,_e)),Ee.left&&(Fe=Se.x,Be=Se.y,Ve=Se.x,_e=Se.y+r.height,Ee.top&&(Be-=.5*Ee.top),Ee.bottom&&(_e+=.5*Ee.bottom),ze(Ee.left,Fe,Be,Ve,_e)),Ee.right&&(Fe=Se.x+r.width,Be=Se.y,Ve=Se.x+r.width,_e=Se.y+r.height,Ee.top&&(Be-=.5*Ee.top),Ee.bottom&&(_e+=.5*Ee.bottom),ze(Ee.right,Fe,Be,Ve,_e));function ze(xe,Ie,Re,e,t){Ae.getDocument().setLineWidth(xe),Ae.getDocument().line(Ie,Re,e,t,"S")}}function getRemainingPageSpace(Ae,r,Se,Ee){var Fe=r.settings.margin.bottom,Be=r.settings.showFoot;return(Be==="everyPage"||Be==="lastPage"&&Se)&&(Fe+=r.getFootHeight(r.columns)),Ae.pageSize().height-Ee.y-Fe}function addPage(Ae,r,Se,Ee,Fe,Be){Fe===void 0&&(Fe=[]),Be===void 0&&(Be=!1),Ae.applyStyles(Ae.userStyles),r.settings.showFoot==="everyPage"&&!Be&&r.foot.forEach(function(_e){return printRow(Ae,r,_e,Ee,Fe)}),r.callEndPageHooks(Ae,Ee);var Ve=r.settings.margin;addTableBorder(Ae,r,Se,Ee),nextPage(Ae),r.pageNumber++,Ee.x=Ve.left,Ee.y=Ve.top,Se.y=Ve.top,r.callWillDrawPageHooks(Ae,Ee),r.settings.showHead==="everyPage"&&(r.head.forEach(function(_e){return printRow(Ae,r,_e,Ee,Fe)}),Ae.applyStyles(Ae.userStyles))}function nextPage(Ae){var r=Ae.pageNumber();Ae.setPage(r+1);var Se=Ae.pageNumber();return Se===r?(Ae.addPage(),!0):!1}function applyPlugin(Ae){Ae.API.autoTable=function(){for(var r=[],Se=0;Se<arguments.length;Se++)r[Se]=arguments[Se];var Ee=r[0],Fe=parseInput(this,Ee),Be=createTable(this,Fe);return drawTable(this,Be),this},Ae.API.lastAutoTable=!1,Ae.API.autoTableText=function(r,Se,Ee,Fe){autoTableText(r,Se,Ee,Fe,this)},Ae.API.autoTableSetDefaults=function(r){return DocHandler.setDefaults(r,this),this},Ae.autoTableSetDefaults=function(r,Se){DocHandler.setDefaults(r,Se)},Ae.API.autoTableHtmlToJson=function(r,Se){var Ee;if(Se===void 0&&(Se=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var Fe=new DocHandler(this),Be=parseHtml(Fe,r,window,Se,!1),Ve=Be.head,_e=Be.body,ze=((Ee=Ve[0])===null||Ee===void 0?void 0:Ee.map(function(xe){return xe.content}))||[];return{columns:ze,rows:_e,data:_e}}}var _a;function autoTable(Ae,r){var Se=parseInput(Ae,r),Ee=createTable(Ae,Se);drawTable(Ae,Ee)}try{if(typeof window<"u"&&window){var anyWindow=window,jsPDF=anyWindow.jsPDF||((_a=anyWindow.jspdf)===null||_a===void 0?void 0:_a.jsPDF);jsPDF&&applyPlugin(jsPDF)}}catch(Ae){console.error("Could not apply autoTable plugin",Ae)}const CheckoutForm=()=>{const[Ae,r]=reactExports.useState({nombre:"",correo:"",telefono:"",country:"",ciudad:"",direccion:"",metodopago:""}),Se=["Venezuela","Argentina","Chile","Colombia","México","Estados Unidos","España","Perú","Ecuador","Bolivia","Uruguay","Paraguay","Panamá","Costa Rica","Honduras","El Salvador","Guatemala","Nicaragua","Brasil","Canadá"],Ee=Ve=>{r({...Ae,[Ve.target.name]:Ve.target.value})},Fe=Ve=>{const _e=new E,ze=new Date().toLocaleDateString(),xe=Math.floor(Math.random()*1e6);_e.setFontSize(18),_e.text("Factura de Compra",14,22),_e.setFontSize(12),_e.text(`Factura N°: ${xe}`,14,30),_e.text(`Fecha: ${ze}`,14,36),_e.text(`Nombre: ${Ve.nombre}`,14,44),_e.text(`Email: ${Ve.correo}`,14,52),_e.text(`País: ${Ve.country}`,14,60),_e.text("Producto: Guía de Vocalización",14,68),_e.text("Precio: $7.99",14,76),autoTable(_e,{startY:84,head:[["Producto","Cantidad","Precio"]],body:[["Guía de Vocalización","1","$19.99"]]}),_e.save("factura.pdf")},Be=Ve=>{if(Ve.preventDefault(),!Ae.nombre||!Ae.correo||!Ae.country||!Ae.metodoPago){alert("Por favor completa todos los campos obligatorios.");return}Fe(Ae),alert("¡Compra confirmada! Se generó la factura.")};return jsxRuntimeExports.jsxs("div",{className:"max-w-2xl mx-auto p-4 bg-white shadow-md rounded-xl mt-6",children:[jsxRuntimeExports.jsx("ul",{className:"text-white list-disc list-inside",children:"....."}),jsxRuntimeExports.jsx("ul",{className:" text-white list-disc list-inside",children:"....."}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-semibold mb-4 text-center",children:"Formulario de Compra"}),jsxRuntimeExports.jsxs("form",{onSubmit:Be,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block font-medium",children:"Nombre completo"}),jsxRuntimeExports.jsx("input",{type:"text",name:"nombre",value:Ae.nombre,onChange:Ee,required:!0,className:"w-full border border-gray-300 rounded-lg p-2 mt-1"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block font-medium",children:"Correo electrónico"}),jsxRuntimeExports.jsx("input",{type:"email",name:"correo",value:Ae.correo,onChange:Ee,required:!0,className:"w-full border border-gray-300 rounded-lg p-2 mt-1"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"País"}),jsxRuntimeExports.jsxs("select",{name:"country",value:Ae.country,onChange:Ee,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring focus:border-pink-500",required:!0,children:[jsxRuntimeExports.jsx("option",{value:"",children:"Selecciona un país"}),Se.map(Ve=>jsxRuntimeExports.jsx("option",{value:Ve,children:Ve},Ve))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block font-medium",children:"Método de pago"}),jsxRuntimeExports.jsxs("select",{name:"metodoPago",value:Ae.metodoPago,onChange:Ee,required:!0,className:"w-full border border-gray-300 rounded-lg p-2 mt-1",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Selecciona una opción"}),jsxRuntimeExports.jsx("option",{value:"paypal",children:"PayPal"}),jsxRuntimeExports.jsx("option",{value:"binance",children:"Binance Pay"}),jsxRuntimeExports.jsx("option",{value:"pagoMovil",children:"Pago Móvil"}),jsxRuntimeExports.jsx("option",{value:"transferencia",children:"Transferencia"})]})]}),jsxRuntimeExports.jsx("button",{type:"submit",className:"className= px-6 py-2 bg-pink-500 text-white rounded-md shadow-md hover:bg-pink-600  duration-300 text-center block w-fit mx-auto overflow-hidden transition-transform hover:scale-105",children:"Confirmar compra"})]})]})};function App(){return jsxRuntimeExports.jsx(BrowserRouter,{children:jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-100 to-gray-400",children:[jsxRuntimeExports.jsx(Navbar,{}),jsxRuntimeExports.jsx("div",{className:"p-4",children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(Home,{})}),jsxRuntimeExports.jsx(Route,{path:"/exercises",element:jsxRuntimeExports.jsx(Exercises,{})}),jsxRuntimeExports.jsx(Route,{path:"/comments",element:jsxRuntimeExports.jsx(Comments,{})}),jsxRuntimeExports.jsx(Route,{path:"/shop",element:jsxRuntimeExports.jsx(Shop,{})}),jsxRuntimeExports.jsx(Route,{path:"/register",element:jsxRuntimeExports.jsx(Register,{})}),jsxRuntimeExports.jsx(Route,{path:"/login",element:jsxRuntimeExports.jsx(Login,{})})," ",jsxRuntimeExports.jsx(Route,{path:"/tienda",element:jsxRuntimeExports.jsx(Store,{})}),jsxRuntimeExports.jsx(Route,{path:"/comentarios",element:jsxRuntimeExports.jsx(Comentarios,{})}),jsxRuntimeExports.jsx(Route,{path:"/checkout",element:jsxRuntimeExports.jsx(CheckoutForm,{})})]})}),jsxRuntimeExports.jsxs("footer",{className:"mt-10 py-6 text-white text-center bg-gradient-to-r from-gray-800 via-gray-600 to-gray-400",children:[jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"mb-8 md:mb-0 md:w-1/3",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-pink-900 mb-4",children:"Contacto"}),jsxRuntimeExports.jsx("p",{children:"📍 Dirección: Unare Center, Puerto Ordaz, Venezuela"}),jsxRuntimeExports.jsx("p",{children:"📞 Teléfono: +58 0412-4998538"}),jsxRuntimeExports.jsx("p",{children:"✉️ Email: gmarissabel@gmail.com"})]}),jsxRuntimeExports.jsxs("div",{className:"mb-8 md:mb-0 md:w-1/3",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-pink-900 mb-4",children:"Redes Sociales"}),jsxRuntimeExports.jsxs("ul",{className:"space-y-3",children:[jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer",className:"hover:text-pink-900 transition",children:"Facebook"})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("a",{href:"https://instagram.com",target:"_blank",rel:"noopener noreferrer",className:"hover:text-pink-900 transition",children:"Instagram"})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("a",{href:"https://youtube.com",target:"_blank",rel:"noopener noreferrer",className:"hover:text-pink-900 transition",children:"YouTube"})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("a",{href:"https://twitter.com",target:"_blank",rel:"noopener noreferrer",className:"hover:text-pink-500 transition",children:"X"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"md:w-1/3",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-pink-900 mb-4",children:"Horario de Atención"}),jsxRuntimeExports.jsx("p",{children:"Lunes a Viernes: 9:00 AM - 6:00 PM"}),jsxRuntimeExports.jsx("p",{children:"Sábados: 10:00 AM - 2:00 PM"}),jsxRuntimeExports.jsx("p",{children:"Domingos: Cerrado"})]})]}),jsxRuntimeExports.jsxs("p",{className:"text-sm mt-10",children:["© ",new Date().getFullYear()," Vocal Guide. Todos los derechos reservados."]})]})]})})}ReactDOM.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));export{_typeof as _,commonjsGlobal as c,getDefaultExportFromCjs as g};
